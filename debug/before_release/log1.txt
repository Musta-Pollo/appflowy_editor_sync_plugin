    Pushing h5g-Ge onto stack
  Adding block h5g-Ge to sorted list
    Pushing sof0Bh onto stack
  Adding block sof0Bh to sorted list
    Pushing bRdTay onto stack
  Adding block bRdTay to sorted list
  No next blocks for bRdTay
No remaining blocks for device 3a00f73e-0356-4c61-a6e1-cb439d9dbf33

Processing device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Sorted roots for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a: ["Mk_Gts"]
Starting chain from root: Mk_Gts
  Adding block Mk_Gts to sorted list
  No next blocks for Mk_Gts
No remaining blocks for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
No globally remaining blocks
Final sorted order for parent m8OEVv: ["GJY6xH", "h5g-Ge", "sof0Bh", "bRdTay", "Mk_Gts"]

----- Sorting children of parent: Mk_Gts -----
Parent has 1 children to sort
Mapped 1 valid blocks by ID
Block W7lMPh assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Grouped blocks into 1 devices
  - Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 1 blocks
Block W7lMPh has no prev_id
Built prev->next map with 0 entries
Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 1 root blocks: ["W7lMPh"]
Processing devices in order: ["4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"]

Processing device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Sorted roots for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a: ["W7lMPh"]
Starting chain from root: W7lMPh
  Adding block W7lMPh to sorted list
  No next blocks for W7lMPh
No remaining blocks for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
No globally remaining blocks
Final sorted order for parent Mk_Gts: ["W7lMPh"]

----- Sorting children of parent: bRdTay -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent bRdTay: []

----- Sorting children of parent: GJY6xH -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent GJY6xH: []

----- Sorting children of parent: sof0Bh -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent sof0Bh: []

----- Sorting children of parent: h5g-Ge -----
Parent has 1 children to sort
Mapped 1 valid blocks by ID
Block Mk_Gts assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Grouped blocks into 1 devices
  - Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 1 blocks
Block Mk_Gts has no prev_id
Built prev->next map with 0 entries
Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 1 root blocks: ["Mk_Gts"]
Processing devices in order: ["4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"]

Processing device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Sorted roots for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a: ["Mk_Gts"]
Starting chain from root: Mk_Gts
  Adding block Mk_Gts to sorted list
  No next blocks for Mk_Gts
No remaining blocks for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
No globally remaining blocks
Final sorted order for parent h5g-Ge: ["Mk_Gts"]
====== COMPLETED BLOCK SORTING ======
Final sorted children map has 8 parents
extract_document_state: Extracted 8 blocks and 8 parent-child relationships
get_document_state: Finished for doc_id: xxxx
flutter: onDragStarted
flutter: the drag offset is inside the block, dragOffset(Offset(157.5, 131.4)), globalBlockRect(Rect.fromLTRB(120.0, 94.0, 680.0, 208.0))
flutter: the drag offset is inside the block, dragOffset(Offset(158.1, 129.0)), globalBlockRect(Rect.fromLTRB(120.0, 94.0, 680.0, 208.0))
flutter: the drag offset is inside the block, dragOffset(Offset(160.3, 121.8)), globalBlockRect(Rect.fromLTRB(120.0, 94.0, 680.0, 208.0))
flutter: the drag offset is inside the block, dragOffset(Offset(161.9, 115.9)), globalBlockRect(Rect.fromLTRB(120.0, 94.0, 680.0, 208.0))
flutter: the drag offset is inside the block, dragOffset(Offset(163.3, 111.7)), globalBlockRect(Rect.fromLTRB(120.0, 94.0, 680.0, 208.0))
flutter: the drag offset is inside the block, dragOffset(Offset(163.3, 108.2)), globalBlockRect(Rect.fromLTRB(120.0, 94.0, 680.0, 208.0))
flutter: the drag offset is inside the block, dragOffset(Offset(163.3, 108.0)), globalBlockRect(Rect.fromLTRB(120.0, 94.0, 680.0, 208.0))
flutter: the drag offset is inside the block, dragOffset(Offset(163.3, 106.3)), globalBlockRect(Rect.fromLTRB(120.0, 94.0, 680.0, 208.0))
flutter: the drag offset is inside the block, dragOffset(Offset(163.3, 105.0)), globalBlockRect(Rect.fromLTRB(120.0, 94.0, 680.0, 208.0))
flutter: the drag offset is inside the block, dragOffset(Offset(163.3, 104.5)), globalBlockRect(Rect.fromLTRB(120.0, 94.0, 680.0, 208.0))
flutter: onDragEnd, acceptedPath([1])
flutter: the drag offset is inside the block, dragOffset(Offset(163.3, 104.5)), globalBlockRect(Rect.fromLTRB(120.0, 94.0, 680.0, 208.0))
flutter: Moving node(Node(id: Mk_Gts, type: todo_list, attributes: {delta: [{insert: New Task 4}], checked: false, device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a, timestamp: 2025-04-24T17:04:05.077214}, children: [Node(id: W7lMPh, type: todo_list, attributes: {delta: [{insert: arstarts}], checked: false, timestamp: 2025-04-24T17:04:12.828783, device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a}, children: [])]), [1, 0]) to path([1])
flutter: Transaction done
apply_action: Starting with 1 actions for doc_id: xxxx
move_block: Moving block_id: Mk_Gts from parent: h5g-Ge to parent: m8OEVv
remove_block_from_prev_id_chain: Removing block Mk_Gts from chain
  Finding blocks that reference Mk_Gts as their prev_id
find_block_referencing_prev_id: Searching for blocks with prev_id = Mk_Gts
  Found 8 total blocks to check
  Checking block: h5g-Ge
    Block has prev_id: GJY6xH, matches target: false
  Checking block: m8OEVv
    Block does not have prev_id
  Checking block: Mk_Gts
    Block does not have prev_id
  Checking block: sof0Bh
    Block has prev_id: h5g-Ge, matches target: false
  Checking block: bRdTay
    Block has prev_id: sof0Bh, matches target: false
  Checking block: W7lMPh
    Block does not have prev_id
  Checking block: zhA_gK
    Block has prev_id: bRdTay, matches target: false
  Checking block: GJY6xH
    Block does not have prev_id
find_block_referencing_prev_id: Found 0 blocks with prev_id = Mk_Gts: []
  Found 0 next blocks: []
remove_block_from_prev_id_chain: Completed
handle_following_connection: block_id=Mk_Gts, next_id=Some("h5g-Ge"), prev_id=Some("GJY6xH")
  Using prev_id strategy (prev_id=GJY6xH)
find_block_referencing_prev_id: Searching for blocks with prev_id = GJY6xH
  Found 8 total blocks to check
  Checking block: h5g-Ge
    Block has prev_id: GJY6xH, matches target: true
  Checking block: m8OEVv
    Block does not have prev_id
  Checking block: Mk_Gts
    Block does not have prev_id
  Checking block: sof0Bh
    Block has prev_id: h5g-Ge, matches target: false
  Checking block: bRdTay
    Block has prev_id: sof0Bh, matches target: false
  Checking block: W7lMPh
    Block does not have prev_id
  Checking block: zhA_gK
    Block has prev_id: bRdTay, matches target: false
  Checking block: GJY6xH
    Block does not have prev_id
find_block_referencing_prev_id: Found 1 blocks with prev_id = GJY6xH: ["h5g-Ge"]
  Found 1 nodes that reference prev_id GJY6xH: ["h5g-Ge"]
  Updating block h5g-Ge to point to Mk_Gts
  Finished prev_id strategy
move_block: Moved block between parents
apply_action: Encoding state for doc_id: xxxx
apply_updates: Starting with 22 updates for doc_id: xxxx
apply_updates: Starting with 22 updates for doc_id: xxxx
apply_updates: Applying update for doc_id: xxxx
apply_updates: Finished for doc_id: xxxx
apply_updates: Successfully applied updates for doc_id: xxxx
get_document_state: Starting for doc_id: xxxx
extract_document_state: Starting for doc_id: xxxx
extract_document_state: Processing 8 blocks
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 0 deltas
deltas_to_json: Converting 0 deltas
====== STARTING BLOCK SORTING ======
Input children_map has 8 parent nodes

----- Sorting children of parent: bRdTay -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent bRdTay: []

----- Sorting children of parent: W7lMPh -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent W7lMPh: []

----- Sorting children of parent: zhA_gK -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent zhA_gK: []

----- Sorting children of parent: sof0Bh -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent sof0Bh: []

----- Sorting children of parent: m8OEVv -----
Parent has 6 children to sort
Mapped 5 valid blocks by ID
Block Mk_Gts assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block sof0Bh assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block GJY6xH assigned to device 3a00f73e-0356-4c61-a6e1-cb439d9dbf33
Block h5g-Ge assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block bRdTay assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Grouped blocks into 2 devices
  - Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 4 blocks
  - Device 3a00f73e-0356-4c61-a6e1-cb439d9dbf33 has 1 blocks
Block Mk_Gts has prev_id GJY6xH
Block sof0Bh has prev_id h5g-Ge
Block GJY6xH has no prev_id
Block h5g-Ge has prev_id Mk_Gts
Block bRdTay has prev_id sof0Bh
Built prev->next map with 4 entries
  - Mk_Gts has 1 next blocks: ["h5g-Ge"]
  - sof0Bh has 1 next blocks: ["bRdTay"]
  - GJY6xH has 1 next blocks: ["Mk_Gts"]
  - h5g-Ge has 1 next blocks: ["sof0Bh"]
Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has no root blocks
Device 3a00f73e-0356-4c61-a6e1-cb439d9dbf33 has 1 root blocks: ["GJY6xH"]
Processing devices in order: ["3a00f73e-0356-4c61-a6e1-cb439d9dbf33", "4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"]

Processing device: 3a00f73e-0356-4c61-a6e1-cb439d9dbf33
Sorted roots for device 3a00f73e-0356-4c61-a6e1-cb439d9dbf33: ["GJY6xH"]
Starting chain from root: GJY6xH
  Adding block GJY6xH to sorted list
    Pushing Mk_Gts onto stack
  Adding block Mk_Gts to sorted list
    Pushing h5g-Ge onto stack
  Adding block h5g-Ge to sorted list
    Pushing sof0Bh onto stack
  Adding block sof0Bh to sorted list
    Pushing bRdTay onto stack
  Adding block bRdTay to sorted list
  No next blocks for bRdTay
No remaining blocks for device 3a00f73e-0356-4c61-a6e1-cb439d9dbf33

Processing device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
No roots for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a, skipping
No globally remaining blocks
Final sorted order for parent m8OEVv: ["GJY6xH", "Mk_Gts", "h5g-Ge", "sof0Bh", "bRdTay"]

----- Sorting children of parent: GJY6xH -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent GJY6xH: []

----- Sorting children of parent: h5g-Ge -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent h5g-Ge: []

----- Sorting children of parent: Mk_Gts -----
Parent has 1 children to sort
Mapped 1 valid blocks by ID
Block W7lMPh assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Grouped blocks into 1 devices
  - Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 1 blocks
Block W7lMPh has no prev_id
Built prev->next map with 0 entries
Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 1 root blocks: ["W7lMPh"]
Processing devices in order: ["4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"]

Processing device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Sorted roots for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a: ["W7lMPh"]
Starting chain from root: W7lMPh
  Adding block W7lMPh to sorted list
  No next blocks for W7lMPh
No remaining blocks for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
No globally remaining blocks
Final sorted order for parent Mk_Gts: ["W7lMPh"]
====== COMPLETED BLOCK SORTING ======
Final sorted children map has 8 parents
extract_document_state: Extracted 8 blocks and 8 parent-child relationships
get_document_state: Finished for doc_id: xxxx
flutter: {
flutter:   "docId": "xxxx",
flutter:   "blocks": {
flutter:     "bRdTay": {
flutter:       "id": "bRdTay",
flutter:       "ty": "paragraph",
flutter:       "attributes": {
flutter:         "device": "4cb3899a-3fe4-4bb1-bbf4-edd464b0977a",
flutter:         "delta": "[]",
flutter:         "timestamp": "2025-04-24T17:03:55.612881"
flutter:       },
flutter:       "delta": "[]",
flutter:       "parentId": "m8OEVv",
flutter:       "prevId": "sof0Bh",
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "m8OEVv": {
flutter:       "id": "m8OEVv",
flutter:       "ty": "page",
flutter:       "attributes": {
flutter:         "device": "3a00f73e-0356-4c61-a6e1-cb439d9dbf33",
flutter:         "timestamp": "2025-04-24T17:01:59.905543"
flutter:       },
flutter:       "delta": null,
flutter:       "parentId": null,
flutter:       "prevId": null,
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "sof0Bh": {
flutter:       "id": "sof0Bh",
flutter:       "ty": "paragraph",
flutter:       "attributes": {
flutter:         "delta": "[]",
flutter:         "device": "4cb3899a-3fe4-4bb1-bbf4-edd464b0977a",
flutter:         "timestamp": "2025-04-24T17:03:55.467041"
flutter:       },
flutter:       "delta": "[]",
flutter:       "parentId": "m8OEVv",
flutter:       "prevId": "h5g-Ge",
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "GJY6xH": {
flutter:       "id": "GJY6xH",
flutter:       "ty": "paragraph",
flutter:       "attributes": {
flutter:         "device": "3a00f73e-0356-4c61-a6e1-cb439d9dbf33",
flutter:         "delta": "[]",
flutter:         "timestamp": "2025-04-24T17:01:59.907118"
flutter:       },
flutter:       "delta": "[{\"insert\":\"New Document\"}]",
flutter:       "parentId": "m8OEVv",
flutter:       "prevId": null,
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "h5g-Ge": {
flutter:       "id": "h5g-Ge",
flutter:       "ty": "paragraph",
flutter:       "attributes": {
flutter:         "timestamp": "2025-04-24T17:03:48.137357",
flutter:         "device": "4cb3899a-3fe4-4bb1-bbf4-edd464b0977a",
flutter:         "delta": "[]"
flutter:       },
flutter:       "delta": "[{\"insert\":\"Here we go\"}]",
flutter:       "parentId": "m8OEVv",
flutter:       "prevId": "Mk_Gts",
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "zhA_gK": {
flutter:       "id": "zhA_gK",
flutter:       "ty": "todo_list",
flutter:       "attributes": {
flutter:         "device": "4cb3899a-3fe4-4bb1-bbf4-edd464b0977a",
flutter:         "delta": "[]",
flutter:         "timestamp": "2025-04-24T17:04:02.277720",
flutter:         "checked": "false"
flutter:       },
flutter:       "delta": "[{\"insert\":\"Task is mine\"}]",
flutter:       "parentId": "m8OEVv",
flutter:       "prevId": "bRdTay",
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "Mk_Gts": {
flutter:       "id": "Mk_Gts",
flutter:       "ty": "todo_list",
flutter:       "attributes": {
flutter:         "device": "4cb3899a-3fe4-4bb1-bbf4-edd464b0977a",
flutter:         "timestamp": "2025-04-24T17:04:05.077214",
flutter:         "checked": "false",
flutter:         "delta": "[]"
flutter:       },
flutter:       "delta": "[{\"insert\":\"New Task 4\"}]",
flutter:       "parentId": "m8OEVv",
flutter:       "prevId": "GJY6xH",
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "W7lMPh": {
flutter:       "id": "W7lMPh",
flutter:       "ty": "todo_list",
flutter:       "attributes": {
flutter:         "checked": "false",
flutter:         "device": "4cb3899a-3fe4-4bb1-bbf4-edd464b0977a",
flutter:         "timestamp": "2025-04-24T17:04:12.828783",
flutter:         "delta": "[]"
flutter:       },
flutter:       "delta": "[{\"insert\":\"arstarts\"}]",
flutter:       "parentId": "Mk_Gts",
flutter:       "prevId": null,
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     }
flutter:   },
flutter:   "childrenMap": {
flutter:     "GJY6xH": [],
flutter:     "h5g-Ge": [],
flutter:     "W7lMPh": [],
flutter:     "Mk_Gts": [
flutter:       "W7lMPh"
flutter:     ],
flutter:     "zhA_gK": [],
flutter:     "sof0Bh": [],
flutter:     "m8OEVv": [
flutter:       "GJY6xH",
flutter:       "Mk_Gts",
flutter:       "h5g-Ge",
flutter:       "sof0Bh",
flutter:       "bRdTay"
flutter:     ],
flutter:     "bRdTay": []
flutter:   },
flutter:   "rootId": "m8OEVv"
flutter: }
merge_updates: Merging 1 updates
merge_updates: Successfully merged updates
apply_updates: Starting with 23 updates for doc_id: xxxx
apply_updates: Starting with 23 updates for doc_id: xxxx
apply_updates: Applying update for doc_id: xxxx
apply_updates: Finished for doc_id: xxxx
apply_updates: Successfully applied updates for doc_id: xxxx
get_document_state: Starting for doc_id: xxxx
extract_document_state: Starting for doc_id: xxxx
extract_document_state: Processing 8 blocks
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 0 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 0 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
====== STARTING BLOCK SORTING ======
Input children_map has 8 parent nodes

----- Sorting children of parent: GJY6xH -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent GJY6xH: []

----- Sorting children of parent: zhA_gK -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent zhA_gK: []

----- Sorting children of parent: h5g-Ge -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent h5g-Ge: []

----- Sorting children of parent: W7lMPh -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent W7lMPh: []

----- Sorting children of parent: Mk_Gts -----
Parent has 1 children to sort
Mapped 1 valid blocks by ID
Block W7lMPh assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Grouped blocks into 1 devices
  - Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 1 blocks
Block W7lMPh has no prev_id
Built prev->next map with 0 entries
Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 1 root blocks: ["W7lMPh"]
Processing devices in order: ["4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"]

Processing device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Sorted roots for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a: ["W7lMPh"]
Starting chain from root: W7lMPh
  Adding block W7lMPh to sorted list
  No next blocks for W7lMPh
No remaining blocks for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
No globally remaining blocks
Final sorted order for parent Mk_Gts: ["W7lMPh"]

----- Sorting children of parent: bRdTay -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent bRdTay: []

----- Sorting children of parent: sof0Bh -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent sof0Bh: []

----- Sorting children of parent: m8OEVv -----
Parent has 6 children to sort
Mapped 5 valid blocks by ID
Block sof0Bh assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block h5g-Ge assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block GJY6xH assigned to device 3a00f73e-0356-4c61-a6e1-cb439d9dbf33
Block Mk_Gts assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block bRdTay assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Grouped blocks into 2 devices
  - Device 3a00f73e-0356-4c61-a6e1-cb439d9dbf33 has 1 blocks
  - Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 4 blocks
Block sof0Bh has prev_id h5g-Ge
Block h5g-Ge has prev_id Mk_Gts
Block GJY6xH has no prev_id
Block Mk_Gts has prev_id GJY6xH
Block bRdTay has prev_id sof0Bh
Built prev->next map with 4 entries
  - Mk_Gts has 1 next blocks: ["h5g-Ge"]
  - GJY6xH has 1 next blocks: ["Mk_Gts"]
  - sof0Bh has 1 next blocks: ["bRdTay"]
  - h5g-Ge has 1 next blocks: ["sof0Bh"]
Device 3a00f73e-0356-4c61-a6e1-cb439d9dbf33 has 1 root blocks: ["GJY6xH"]
Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has no root blocks
Processing devices in order: ["3a00f73e-0356-4c61-a6e1-cb439d9dbf33", "4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"]

Processing device: 3a00f73e-0356-4c61-a6e1-cb439d9dbf33
Sorted roots for device 3a00f73e-0356-4c61-a6e1-cb439d9dbf33: ["GJY6xH"]
Starting chain from root: GJY6xH
  Adding block GJY6xH to sorted list
    Pushing Mk_Gts onto stack
  Adding block Mk_Gts to sorted list
    Pushing h5g-Ge onto stack
  Adding block h5g-Ge to sorted list
    Pushing sof0Bh onto stack
  Adding block sof0Bh to sorted list
    Pushing bRdTay onto stack
  Adding block bRdTay to sorted list
  No next blocks for bRdTay
No remaining blocks for device 3a00f73e-0356-4c61-a6e1-cb439d9dbf33

Processing device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
No roots for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a, skipping
No globally remaining blocks
Final sorted order for parent m8OEVv: ["GJY6xH", "Mk_Gts", "h5g-Ge", "sof0Bh", "bRdTay"]
====== COMPLETED BLOCK SORTING ======
Final sorted children map has 8 parents
extract_document_state: Extracted 8 blocks and 8 parent-child relationships
get_document_state: Finished for doc_id: xxxx
flutter: {
flutter:   "docId": "xxxx",
flutter:   "blocks": {
flutter:     "sof0Bh": {
flutter:       "id": "sof0Bh",
flutter:       "ty": "paragraph",
flutter:       "attributes": {
flutter:         "timestamp": "2025-04-24T17:03:55.467041",
flutter:         "delta": "[]",
flutter:         "device": "4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"
flutter:       },
flutter:       "delta": "[]",
flutter:       "parentId": "m8OEVv",
flutter:       "prevId": "h5g-Ge",
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "Mk_Gts": {
flutter:       "id": "Mk_Gts",
flutter:       "ty": "todo_list",
flutter:       "attributes": {
flutter:         "device": "4cb3899a-3fe4-4bb1-bbf4-edd464b0977a",
flutter:         "delta": "[]",
flutter:         "checked": "false",
flutter:         "timestamp": "2025-04-24T17:04:05.077214"
flutter:       },
flutter:       "delta": "[{\"insert\":\"New Task 4\"}]",
flutter:       "parentId": "m8OEVv",
flutter:       "prevId": "GJY6xH",
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "GJY6xH": {
flutter:       "id": "GJY6xH",
flutter:       "ty": "paragraph",
flutter:       "attributes": {
flutter:         "delta": "[]",
flutter:         "timestamp": "2025-04-24T17:01:59.907118",
flutter:         "device": "3a00f73e-0356-4c61-a6e1-cb439d9dbf33"
flutter:       },
flutter:       "delta": "[{\"insert\":\"New Document\"}]",
flutter:       "parentId": "m8OEVv",
flutter:       "prevId": null,
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "h5g-Ge": {
flutter:       "id": "h5g-Ge",
flutter:       "ty": "paragraph",
flutter:       "attributes": {
flutter:         "delta": "[]",
flutter:         "timestamp": "2025-04-24T17:03:48.137357",
flutter:         "device": "4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"
flutter:       },
flutter:       "delta": "[{\"insert\":\"Here we go\"}]",
flutter:       "parentId": "m8OEVv",
flutter:       "prevId": "Mk_Gts",
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "zhA_gK": {
flutter:       "id": "zhA_gK",
flutter:       "ty": "todo_list",
flutter:       "attributes": {
flutter:         "device": "4cb3899a-3fe4-4bb1-bbf4-edd464b0977a",
flutter:         "delta": "[]",
flutter:         "timestamp": "2025-04-24T17:04:02.277720",
flutter:         "checked": "false"
flutter:       },
flutter:       "delta": "[{\"insert\":\"Task is mine\"}]",
flutter:       "parentId": "m8OEVv",
flutter:       "prevId": "bRdTay",
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "W7lMPh": {
flutter:       "id": "W7lMPh",
flutter:       "ty": "todo_list",
flutter:       "attributes": {
flutter:         "device": "4cb3899a-3fe4-4bb1-bbf4-edd464b0977a",
flutter:         "checked": "false",
flutter:         "timestamp": "2025-04-24T17:04:12.828783",
flutter:         "delta": "[]"
flutter:       },
flutter:       "delta": "[{\"insert\":\"arstarts\"}]",
flutter:       "parentId": "Mk_Gts",
flutter:       "prevId": null,
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "bRdTay": {
flutter:       "id": "bRdTay",
flutter:       "ty": "paragraph",
flutter:       "attributes": {
flutter:         "device": "4cb3899a-3fe4-4bb1-bbf4-edd464b0977a",
flutter:         "timestamp": "2025-04-24T17:03:55.612881",
flutter:         "delta": "[]"
flutter:       },
flutter:       "delta": "[]",
flutter:       "parentId": "m8OEVv",
flutter:       "prevId": "sof0Bh",
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "m8OEVv": {
flutter:       "id": "m8OEVv",
flutter:       "ty": "page",
flutter:       "attributes": {
flutter:         "timestamp": "2025-04-24T17:01:59.905543",
flutter:         "device": "3a00f73e-0356-4c61-a6e1-cb439d9dbf33"
flutter:       },
flutter:       "delta": null,
flutter:       "parentId": null,
flutter:       "prevId": null,
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     }
flutter:   },
flutter:   "childrenMap": {
flutter:     "zhA_gK": [],
flutter:     "W7lMPh": [],
flutter:     "Mk_Gts": [
flutter:       "W7lMPh"
flutter:     ],
flutter:     "m8OEVv": [
flutter:       "GJY6xH",
flutter:       "Mk_Gts",
flutter:       "h5g-Ge",
flutter:       "sof0Bh",
flutter:       "bRdTay"
flutter:     ],
flutter:     "h5g-Ge": [],
flutter:     "bRdTay": [],
flutter:     "sof0Bh": [],
flutter:     "GJY6xH": []
flutter:   },
flutter:   "rootId": "m8OEVv"
flutter: }
flutter: onDragStarted
flutter: the drag offset is inside the block, dragOffset(Offset(135.8, 89.4)), globalBlockRect(Rect.fromLTRB(120.0, 56.0, 680.0, 94.0))
flutter: the drag offset is inside the block, dragOffset(Offset(134.4, 80.9)), globalBlockRect(Rect.fromLTRB(120.0, 56.0, 680.0, 94.0))
flutter: the drag offset is inside the block, dragOffset(Offset(134.4, 74.9)), globalBlockRect(Rect.fromLTRB(120.0, 56.0, 680.0, 94.0))
flutter: the drag offset is inside the block, dragOffset(Offset(134.4, 73.8)), globalBlockRect(Rect.fromLTRB(120.0, 56.0, 680.0, 94.0))
flutter: the drag offset is inside the block, dragOffset(Offset(134.4, 72.4)), globalBlockRect(Rect.fromLTRB(120.0, 56.0, 680.0, 94.0))
flutter: the drag offset is inside the block, dragOffset(Offset(134.4, 71.9)), globalBlockRect(Rect.fromLTRB(120.0, 56.0, 680.0, 94.0))
flutter: the drag offset is inside the block, dragOffset(Offset(134.1, 71.4)), globalBlockRect(Rect.fromLTRB(120.0, 56.0, 680.0, 94.0))
flutter: the drag offset is inside the block, dragOffset(Offset(133.9, 71.4)), globalBlockRect(Rect.fromLTRB(120.0, 56.0, 680.0, 94.0))
flutter: the drag offset is inside the block, dragOffset(Offset(133.6, 71.1)), globalBlockRect(Rect.fromLTRB(120.0, 56.0, 680.0, 94.0))
flutter: onDragEnd, acceptedPath([0])
flutter: the drag offset is inside the block, dragOffset(Offset(133.6, 71.1)), globalBlockRect(Rect.fromLTRB(120.0, 56.0, 680.0, 94.0))
flutter: Moving node(Node(id: Mk_Gts, type: todo_list, attributes: {device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a, delta: [{insert: New Task 4}], checked: false, timestamp: 2025-04-24T17:04:05.077214}, children: [Node(id: W7lMPh, type: todo_list, attributes: {device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a, checked: false, timestamp: 2025-04-24T17:04:12.828783, delta: [{insert: arstarts}]}, children: [])]), [1]) to path([0])
flutter: Transaction done
apply_action: Starting with 1 actions for doc_id: xxxx
move_block: Moving block_id: Mk_Gts from parent: m8OEVv to parent: m8OEVv
remove_block_from_prev_id_chain: Removing block Mk_Gts from chain
  Block Mk_Gts has prev_id: GJY6xH
  Finding blocks that reference Mk_Gts as their prev_id
find_block_referencing_prev_id: Searching for blocks with prev_id = Mk_Gts
  Found 8 total blocks to check
  Checking block: zhA_gK
    Block has prev_id: bRdTay, matches target: false
  Checking block: bRdTay
    Block has prev_id: sof0Bh, matches target: false
  Checking block: m8OEVv
    Block does not have prev_id
  Checking block: Mk_Gts
    Block has prev_id: GJY6xH, matches target: false
  Checking block: GJY6xH
    Block does not have prev_id
  Checking block: sof0Bh
    Block has prev_id: h5g-Ge, matches target: false
  Checking block: W7lMPh
    Block does not have prev_id
  Checking block: h5g-Ge
    Block has prev_id: Mk_Gts, matches target: true
find_block_referencing_prev_id: Found 1 blocks with prev_id = Mk_Gts: ["h5g-Ge"]
  Found 1 next blocks: ["h5g-Ge"]
  Updating next block h5g-Ge to point to GJY6xH (was pointing to Mk_Gts)
remove_block_from_prev_id_chain: Completed
handle_following_connection: block_id=Mk_Gts, next_id=Some("GJY6xH"), prev_id=None
  Using next_id strategy (next_id=GJY6xH)
  Setting prev_id of next block GJY6xH to Mk_Gts
  Attempting to copy device and timestamp from next block GJY6xH to Mk_Gts
  WARNING: Next block has no device attribute
  WARNING: Next block has no timestamp attribute
  Finished next_id strategy
handle_following_connection: Completed
move_block: Moved block within same parent
apply_action: Encoding state for doc_id: xxxx
apply_updates: Starting with 24 updates for doc_id: xxxx
apply_updates: Starting with 24 updates for doc_id: xxxx
apply_updates: Applying update for doc_id: xxxx
apply_updates: Finished for doc_id: xxxx
apply_updates: Successfully applied updates for doc_id: xxxx
get_document_state: Starting for doc_id: xxxx
extract_document_state: Starting for doc_id: xxxx
extract_document_state: Processing 8 blocks
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 0 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 0 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
====== STARTING BLOCK SORTING ======
Input children_map has 8 parent nodes

----- Sorting children of parent: W7lMPh -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent W7lMPh: []

----- Sorting children of parent: bRdTay -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent bRdTay: []

----- Sorting children of parent: GJY6xH -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent GJY6xH: []

----- Sorting children of parent: h5g-Ge -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent h5g-Ge: []

----- Sorting children of parent: zhA_gK -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent zhA_gK: []

----- Sorting children of parent: Mk_Gts -----
Parent has 1 children to sort
Mapped 1 valid blocks by ID
Block W7lMPh assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Grouped blocks into 1 devices
  - Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 1 blocks
Block W7lMPh has no prev_id
Built prev->next map with 0 entries
Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 1 root blocks: ["W7lMPh"]
Processing devices in order: ["4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"]

Processing device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Sorted roots for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a: ["W7lMPh"]
Starting chain from root: W7lMPh
  Adding block W7lMPh to sorted list
  No next blocks for W7lMPh
No remaining blocks for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
No globally remaining blocks
Final sorted order for parent Mk_Gts: ["W7lMPh"]

----- Sorting children of parent: m8OEVv -----
Parent has 6 children to sort
Mapped 5 valid blocks by ID
Block Mk_Gts assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block h5g-Ge assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block bRdTay assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block sof0Bh assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block GJY6xH assigned to device 3a00f73e-0356-4c61-a6e1-cb439d9dbf33
Grouped blocks into 2 devices
  - Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 4 blocks
  - Device 3a00f73e-0356-4c61-a6e1-cb439d9dbf33 has 1 blocks
Block Mk_Gts has no prev_id
Block h5g-Ge has prev_id GJY6xH
Block bRdTay has prev_id sof0Bh
Block sof0Bh has prev_id h5g-Ge
Block GJY6xH has prev_id Mk_Gts
Built prev->next map with 4 entries
  - Mk_Gts has 1 next blocks: ["GJY6xH"]
  - sof0Bh has 1 next blocks: ["bRdTay"]
  - h5g-Ge has 1 next blocks: ["sof0Bh"]
  - GJY6xH has 1 next blocks: ["h5g-Ge"]
Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 1 root blocks: ["Mk_Gts"]
Device 3a00f73e-0356-4c61-a6e1-cb439d9dbf33 has no root blocks
Processing devices in order: ["3a00f73e-0356-4c61-a6e1-cb439d9dbf33", "4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"]

Processing device: 3a00f73e-0356-4c61-a6e1-cb439d9dbf33
No roots for device 3a00f73e-0356-4c61-a6e1-cb439d9dbf33, skipping

Processing device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Sorted roots for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a: ["Mk_Gts"]
Starting chain from root: Mk_Gts
  Adding block Mk_Gts to sorted list
    Pushing GJY6xH onto stack
  Adding block GJY6xH to sorted list
    Pushing h5g-Ge onto stack
  Adding block h5g-Ge to sorted list
    Pushing sof0Bh onto stack
  Adding block sof0Bh to sorted list
    Pushing bRdTay onto stack
  Adding block bRdTay to sorted list
  No next blocks for bRdTay
No remaining blocks for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
No globally remaining blocks
Final sorted order for parent m8OEVv: ["Mk_Gts", "GJY6xH", "h5g-Ge", "sof0Bh", "bRdTay"]

----- Sorting children of parent: sof0Bh -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent sof0Bh: []
====== COMPLETED BLOCK SORTING ======
Final sorted children map has 8 parents
extract_document_state: Extracted 8 blocks and 8 parent-child relationships
get_document_state: Finished for doc_id: xxxx
flutter: {
flutter:   "docId": "xxxx",
flutter:   "blocks": {
flutter:     "bRdTay": {
flutter:       "id": "bRdTay",
flutter:       "ty": "paragraph",
flutter:       "attributes": {
flutter:         "device": "4cb3899a-3fe4-4bb1-bbf4-edd464b0977a",
flutter:         "timestamp": "2025-04-24T17:03:55.612881",
flutter:         "delta": "[]"
flutter:       },
flutter:       "delta": "[]",
flutter:       "parentId": "m8OEVv",
flutter:       "prevId": "sof0Bh",
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "Mk_Gts": {
flutter:       "id": "Mk_Gts",
flutter:       "ty": "todo_list",
flutter:       "attributes": {
flutter:         "checked": "false",
flutter:         "delta": "[]",
flutter:         "device": "4cb3899a-3fe4-4bb1-bbf4-edd464b0977a",
flutter:         "timestamp": "2025-04-24T17:04:05.077214"
flutter:       },
flutter:       "delta": "[{\"insert\":\"New Task 4\"}]",
flutter:       "parentId": "m8OEVv",
flutter:       "prevId": null,
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "zhA_gK": {
flutter:       "id": "zhA_gK",
flutter:       "ty": "todo_list",
flutter:       "attributes": {
flutter:         "delta": "[]",
flutter:         "timestamp": "2025-04-24T17:04:02.277720",
flutter:         "checked": "false",
flutter:         "device": "4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"
flutter:       },
flutter:       "delta": "[{\"insert\":\"Task is mine\"}]",
flutter:       "parentId": "m8OEVv",
flutter:       "prevId": "bRdTay",
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "W7lMPh": {
flutter:       "id": "W7lMPh",
flutter:       "ty": "todo_list",
flutter:       "attributes": {
flutter:         "device": "4cb3899a-3fe4-4bb1-bbf4-edd464b0977a",
flutter:         "timestamp": "2025-04-24T17:04:12.828783",
flutter:         "checked": "false",
flutter:         "delta": "[]"
flutter:       },
flutter:       "delta": "[{\"insert\":\"arstarts\"}]",
flutter:       "parentId": "Mk_Gts",
flutter:       "prevId": null,
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "sof0Bh": {
flutter:       "id": "sof0Bh",
flutter:       "ty": "paragraph",
flutter:       "attributes": {
flutter:         "device": "4cb3899a-3fe4-4bb1-bbf4-edd464b0977a",
flutter:         "timestamp": "2025-04-24T17:03:55.467041",
flutter:         "delta": "[]"
flutter:       },
flutter:       "delta": "[]",
flutter:       "parentId": "m8OEVv",
flutter:       "prevId": "h5g-Ge",
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "GJY6xH": {
flutter:       "id": "GJY6xH",
flutter:       "ty": "paragraph",
flutter:       "attributes": {
flutter:         "delta": "[]",
flutter:         "device": "3a00f73e-0356-4c61-a6e1-cb439d9dbf33",
flutter:         "timestamp": "2025-04-24T17:01:59.907118"
flutter:       },
flutter:       "delta": "[{\"insert\":\"New Document\"}]",
flutter:       "parentId": "m8OEVv",
flutter:       "prevId": "Mk_Gts",
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "m8OEVv": {
flutter:       "id": "m8OEVv",
flutter:       "ty": "page",
flutter:       "attributes": {
flutter:         "timestamp": "2025-04-24T17:01:59.905543",
flutter:         "device": "3a00f73e-0356-4c61-a6e1-cb439d9dbf33"
flutter:       },
flutter:       "delta": null,
flutter:       "parentId": null,
flutter:       "prevId": null,
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "h5g-Ge": {
flutter:       "id": "h5g-Ge",
flutter:       "ty": "paragraph",
flutter:       "attributes": {
flutter:         "timestamp": "2025-04-24T17:03:48.137357",
flutter:         "delta": "[]",
flutter:         "device": "4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"
flutter:       },
flutter:       "delta": "[{\"insert\":\"Here we go\"}]",
flutter:       "parentId": "m8OEVv",
flutter:       "prevId": "GJY6xH",
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     }
flutter:   },
flutter:   "childrenMap": {
flutter:     "W7lMPh": [],
flutter:     "Mk_Gts": [
flutter:       "W7lMPh"
flutter:     ],
flutter:     "bRdTay": [],
flutter:     "zhA_gK": [],
flutter:     "sof0Bh": [],
flutter:     "h5g-Ge": [],
flutter:     "GJY6xH": [],
flutter:     "m8OEVv": [
flutter:       "Mk_Gts",
flutter:       "GJY6xH",
flutter:       "h5g-Ge",
flutter:       "sof0Bh",
flutter:       "bRdTay"
flutter:     ]
flutter:   },
flutter:   "rootId": "m8OEVv"
flutter: }
merge_updates: Merging 1 updates
merge_updates: Successfully merged updates
apply_updates: Starting with 25 updates for doc_id: xxxx
apply_updates: Starting with 25 updates for doc_id: xxxx
apply_updates: Applying update for doc_id: xxxx
apply_updates: Finished for doc_id: xxxx
apply_updates: Successfully applied updates for doc_id: xxxx
get_document_state: Starting for doc_id: xxxx
extract_document_state: Starting for doc_id: xxxx
extract_document_state: Processing 8 blocks
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 0 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 0 deltas
====== STARTING BLOCK SORTING ======
Input children_map has 8 parent nodes

----- Sorting children of parent: GJY6xH -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent GJY6xH: []

----- Sorting children of parent: h5g-Ge -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent h5g-Ge: []

----- Sorting children of parent: bRdTay -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent bRdTay: []

----- Sorting children of parent: W7lMPh -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent W7lMPh: []

----- Sorting children of parent: zhA_gK -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent zhA_gK: []

----- Sorting children of parent: m8OEVv -----
Parent has 6 children to sort
Mapped 5 valid blocks by ID
Block Mk_Gts assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block bRdTay assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block sof0Bh assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block GJY6xH assigned to device 3a00f73e-0356-4c61-a6e1-cb439d9dbf33
Block h5g-Ge assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Grouped blocks into 2 devices
  - Device 3a00f73e-0356-4c61-a6e1-cb439d9dbf33 has 1 blocks
  - Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 4 blocks
Block Mk_Gts has no prev_id
Block bRdTay has prev_id sof0Bh
Block sof0Bh has prev_id h5g-Ge
Block GJY6xH has prev_id Mk_Gts
Block h5g-Ge has prev_id GJY6xH
Built prev->next map with 4 entries
  - sof0Bh has 1 next blocks: ["bRdTay"]
  - GJY6xH has 1 next blocks: ["h5g-Ge"]
  - h5g-Ge has 1 next blocks: ["sof0Bh"]
  - Mk_Gts has 1 next blocks: ["GJY6xH"]
Device 3a00f73e-0356-4c61-a6e1-cb439d9dbf33 has no root blocks
Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 1 root blocks: ["Mk_Gts"]
Processing devices in order: ["3a00f73e-0356-4c61-a6e1-cb439d9dbf33", "4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"]

Processing device: 3a00f73e-0356-4c61-a6e1-cb439d9dbf33
No roots for device 3a00f73e-0356-4c61-a6e1-cb439d9dbf33, skipping

Processing device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Sorted roots for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a: ["Mk_Gts"]
Starting chain from root: Mk_Gts
  Adding block Mk_Gts to sorted list
    Pushing GJY6xH onto stack
  Adding block GJY6xH to sorted list
    Pushing h5g-Ge onto stack
  Adding block h5g-Ge to sorted list
    Pushing sof0Bh onto stack
  Adding block sof0Bh to sorted list
    Pushing bRdTay onto stack
  Adding block bRdTay to sorted list
  No next blocks for bRdTay
No remaining blocks for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
No globally remaining blocks
Final sorted order for parent m8OEVv: ["Mk_Gts", "GJY6xH", "h5g-Ge", "sof0Bh", "bRdTay"]

----- Sorting children of parent: sof0Bh -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent sof0Bh: []

----- Sorting children of parent: Mk_Gts -----
Parent has 1 children to sort
Mapped 1 valid blocks by ID
Block W7lMPh assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Grouped blocks into 1 devices
  - Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 1 blocks
Block W7lMPh has no prev_id
Built prev->next map with 0 entries
Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 1 root blocks: ["W7lMPh"]
Processing devices in order: ["4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"]

Processing device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Sorted roots for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a: ["W7lMPh"]
Starting chain from root: W7lMPh
  Adding block W7lMPh to sorted list
  No next blocks for W7lMPh
No remaining blocks for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
No globally remaining blocks
Final sorted order for parent Mk_Gts: ["W7lMPh"]
====== COMPLETED BLOCK SORTING ======
Final sorted children map has 8 parents
extract_document_state: Extracted 8 blocks and 8 parent-child relationships
get_document_state: Finished for doc_id: xxxx
flutter: {
flutter:   "docId": "xxxx",
flutter:   "blocks": {
flutter:     "Mk_Gts": {
flutter:       "id": "Mk_Gts",
flutter:       "ty": "todo_list",
flutter:       "attributes": {
flutter:         "device": "4cb3899a-3fe4-4bb1-bbf4-edd464b0977a",
flutter:         "timestamp": "2025-04-24T17:04:05.077214",
flutter:         "checked": "false",
flutter:         "delta": "[]"
flutter:       },
flutter:       "delta": "[{\"insert\":\"New Task 4\"}]",
flutter:       "parentId": "m8OEVv",
flutter:       "prevId": null,
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "W7lMPh": {
flutter:       "id": "W7lMPh",
flutter:       "ty": "todo_list",
flutter:       "attributes": {
flutter:         "delta": "[]",
flutter:         "device": "4cb3899a-3fe4-4bb1-bbf4-edd464b0977a",
flutter:         "timestamp": "2025-04-24T17:04:12.828783",
flutter:         "checked": "false"
flutter:       },
flutter:       "delta": "[{\"insert\":\"arstarts\"}]",
flutter:       "parentId": "Mk_Gts",
flutter:       "prevId": null,
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "sof0Bh": {
flutter:       "id": "sof0Bh",
flutter:       "ty": "paragraph",
flutter:       "attributes": {
flutter:         "device": "4cb3899a-3fe4-4bb1-bbf4-edd464b0977a",
flutter:         "timestamp": "2025-04-24T17:03:55.467041",
flutter:         "delta": "[]"
flutter:       },
flutter:       "delta": "[]",
flutter:       "parentId": "m8OEVv",
flutter:       "prevId": "h5g-Ge",
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "h5g-Ge": {
flutter:       "id": "h5g-Ge",
flutter:       "ty": "paragraph",
flutter:       "attributes": {
flutter:         "device": "4cb3899a-3fe4-4bb1-bbf4-edd464b0977a",
flutter:         "delta": "[]",
flutter:         "timestamp": "2025-04-24T17:03:48.137357"
flutter:       },
flutter:       "delta": "[{\"insert\":\"Here we go\"}]",
flutter:       "parentId": "m8OEVv",
flutter:       "prevId": "GJY6xH",
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "GJY6xH": {
flutter:       "id": "GJY6xH",
flutter:       "ty": "paragraph",
flutter:       "attributes": {
flutter:         "delta": "[]",
flutter:         "timestamp": "2025-04-24T17:01:59.907118",
flutter:         "device": "3a00f73e-0356-4c61-a6e1-cb439d9dbf33"
flutter:       },
flutter:       "delta": "[{\"insert\":\"New Document\"}]",
flutter:       "parentId": "m8OEVv",
flutter:       "prevId": "Mk_Gts",
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "zhA_gK": {
flutter:       "id": "zhA_gK",
flutter:       "ty": "todo_list",
flutter:       "attributes": {
flutter:         "device": "4cb3899a-3fe4-4bb1-bbf4-edd464b0977a",
flutter:         "delta": "[]",
flutter:         "timestamp": "2025-04-24T17:04:02.277720",
flutter:         "checked": "false"
flutter:       },
flutter:       "delta": "[{\"insert\":\"Task is mine\"}]",
flutter:       "parentId": "m8OEVv",
flutter:       "prevId": "bRdTay",
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "bRdTay": {
flutter:       "id": "bRdTay",
flutter:       "ty": "paragraph",
flutter:       "attributes": {
flutter:         "device": "4cb3899a-3fe4-4bb1-bbf4-edd464b0977a",
flutter:         "delta": "[]",
flutter:         "timestamp": "2025-04-24T17:03:55.612881"
flutter:       },
flutter:       "delta": "[]",
flutter:       "parentId": "m8OEVv",
flutter:       "prevId": "sof0Bh",
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "m8OEVv": {
flutter:       "id": "m8OEVv",
flutter:       "ty": "page",
flutter:       "attributes": {
flutter:         "device": "3a00f73e-0356-4c61-a6e1-cb439d9dbf33",
flutter:         "timestamp": "2025-04-24T17:01:59.905543"
flutter:       },
flutter:       "delta": null,
flutter:       "parentId": null,
flutter:       "prevId": null,
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     }
flutter:   },
flutter:   "childrenMap": {
flutter:     "m8OEVv": [
flutter:       "Mk_Gts",
flutter:       "GJY6xH",
flutter:       "h5g-Ge",
flutter:       "sof0Bh",
flutter:       "bRdTay"
flutter:     ],
flutter:     "bRdTay": [],
flutter:     "Mk_Gts": [
flutter:       "W7lMPh"
flutter:     ],
flutter:     "sof0Bh": [],
flutter:     "zhA_gK": [],
flutter:     "W7lMPh": [],
flutter:     "GJY6xH": [],
flutter:     "h5g-Ge": []
flutter:   },
flutter:   "rootId": "m8OEVv"
flutter: }
flutter: onDragStarted
flutter: the drag offset is inside the block, dragOffset(Offset(133.8, 268.2)), globalBlockRect(Rect.fromLTRB(120.0, 246.0, 680.0, 284.0))
flutter: the drag offset is inside the block, dragOffset(Offset(134.7, 250.9)), globalBlockRect(Rect.fromLTRB(120.0, 246.0, 680.0, 284.0))
flutter: the drag offset is inside the block, dragOffset(Offset(136.5, 244.8)), globalBlockRect(Rect.fromLTRB(120.0, 208.0, 680.0, 246.0))
flutter: the drag offset is inside the block, dragOffset(Offset(137.3, 232.5)), globalBlockRect(Rect.fromLTRB(120.0, 208.0, 680.0, 246.0))
flutter: the drag offset is inside the block, dragOffset(Offset(137.3, 221.5)), globalBlockRect(Rect.fromLTRB(120.0, 208.0, 680.0, 246.0))
flutter: the drag offset is inside the block, dragOffset(Offset(139.0, 216.7)), globalBlockRect(Rect.fromLTRB(120.0, 208.0, 680.0, 246.0))
flutter: the drag offset is inside the block, dragOffset(Offset(139.5, 210.7)), globalBlockRect(Rect.fromLTRB(120.0, 208.0, 680.0, 246.0))
flutter: the drag offset is inside the block, dragOffset(Offset(140.3, 205.9)), globalBlockRect(Rect.fromLTRB(120.0, 170.0, 680.0, 208.0))
flutter: the drag offset is inside the block, dragOffset(Offset(140.3, 205.7)), globalBlockRect(Rect.fromLTRB(120.0, 170.0, 680.0, 208.0))
flutter: the drag offset is inside the block, dragOffset(Offset(140.3, 205.1)), globalBlockRect(Rect.fromLTRB(120.0, 170.0, 680.0, 208.0))
flutter: onDragEnd, acceptedPath([3])
flutter: the drag offset is inside the block, dragOffset(Offset(140.3, 205.1)), globalBlockRect(Rect.fromLTRB(120.0, 170.0, 680.0, 208.0))
flutter: Moving node(Node(id: Mk_Gts, type: todo_list, attributes: {checked: false, delta: [{insert: New Task 4}], device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a, timestamp: 2025-04-24T17:04:05.077214}, children: [Node(id: W7lMPh, type: todo_list, attributes: {device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a, timestamp: 2025-04-24T17:04:12.828783, checked: false, delta: [{insert: arstarts}]}, children: [])]), [5]) to path([2])
flutter: Transaction done
apply_action: Starting with 1 actions for doc_id: xxxx
move_block: Moving block_id: Mk_Gts from parent: m8OEVv to parent: m8OEVv
remove_block_from_prev_id_chain: Removing block Mk_Gts from chain
  Finding blocks that reference Mk_Gts as their prev_id
find_block_referencing_prev_id: Searching for blocks with prev_id = Mk_Gts
  Found 8 total blocks to check
  Checking block: Mk_Gts
    Block does not have prev_id
  Checking block: sof0Bh
    Block has prev_id: h5g-Ge, matches target: false
  Checking block: m8OEVv
    Block does not have prev_id
  Checking block: W7lMPh
    Block does not have prev_id
  Checking block: zhA_gK
    Block has prev_id: bRdTay, matches target: false
  Checking block: GJY6xH
    Block has prev_id: Mk_Gts, matches target: true
  Checking block: h5g-Ge
    Block has prev_id: GJY6xH, matches target: false
  Checking block: bRdTay
    Block has prev_id: sof0Bh, matches target: false
find_block_referencing_prev_id: Found 1 blocks with prev_id = Mk_Gts: ["GJY6xH"]
  Found 1 next blocks: ["GJY6xH"]
  Removing prev_id from next block GJY6xH (was pointing to Mk_Gts)
remove_block_from_prev_id_chain: Completed
handle_following_connection: block_id=Mk_Gts, next_id=Some("sof0Bh"), prev_id=Some("h5g-Ge")
  Using prev_id strategy (prev_id=h5g-Ge)
find_block_referencing_prev_id: Searching for blocks with prev_id = h5g-Ge
  Found 8 total blocks to check
  Checking block: Mk_Gts
    Block does not have prev_id
  Checking block: sof0Bh
    Block has prev_id: h5g-Ge, matches target: true
  Checking block: m8OEVv
    Block does not have prev_id
  Checking block: W7lMPh
    Block does not have prev_id
  Checking block: zhA_gK
    Block has prev_id: bRdTay, matches target: false
  Checking block: GJY6xH
    Block does not have prev_id
  Checking block: h5g-Ge
    Block has prev_id: GJY6xH, matches target: false
  Checking block: bRdTay
    Block has prev_id: sof0Bh, matches target: false
find_block_referencing_prev_id: Found 1 blocks with prev_id = h5g-Ge: ["sof0Bh"]
  Found 1 nodes that reference prev_id h5g-Ge: ["sof0Bh"]
  Updating block sof0Bh to point to Mk_Gts
  Finished prev_id strategy
move_block: Moved block within same parent
apply_action: Encoding state for doc_id: xxxx
apply_updates: Starting with 25 updates for doc_id: xxxx
apply_updates: Starting with 25 updates for doc_id: xxxx
apply_updates: Applying update for doc_id: xxxx
apply_updates: Finished for doc_id: xxxx
apply_updates: Successfully applied updates for doc_id: xxxx
get_document_state: Starting for doc_id: xxxx
extract_document_state: Starting for doc_id: xxxx
extract_document_state: Processing 8 blocks
deltas_to_json: Converting 0 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 0 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
====== STARTING BLOCK SORTING ======
Input children_map has 8 parent nodes

----- Sorting children of parent: sof0Bh -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent sof0Bh: []

----- Sorting children of parent: W7lMPh -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent W7lMPh: []

----- Sorting children of parent: zhA_gK -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent zhA_gK: []

----- Sorting children of parent: h5g-Ge -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent h5g-Ge: []

----- Sorting children of parent: m8OEVv -----
Parent has 6 children to sort
Mapped 5 valid blocks by ID
Block sof0Bh assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block Mk_Gts assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block GJY6xH assigned to device 3a00f73e-0356-4c61-a6e1-cb439d9dbf33
Block h5g-Ge assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block bRdTay assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Grouped blocks into 2 devices
  - Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 4 blocks
  - Device 3a00f73e-0356-4c61-a6e1-cb439d9dbf33 has 1 blocks
Block sof0Bh has prev_id Mk_Gts
Block Mk_Gts has prev_id h5g-Ge
Block GJY6xH has no prev_id
Block h5g-Ge has prev_id GJY6xH
Block bRdTay has prev_id sof0Bh
Built prev->next map with 4 entries
  - sof0Bh has 1 next blocks: ["bRdTay"]
  - h5g-Ge has 1 next blocks: ["Mk_Gts"]
  - GJY6xH has 1 next blocks: ["h5g-Ge"]
  - Mk_Gts has 1 next blocks: ["sof0Bh"]
Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has no root blocks
Device 3a00f73e-0356-4c61-a6e1-cb439d9dbf33 has 1 root blocks: ["GJY6xH"]
Processing devices in order: ["3a00f73e-0356-4c61-a6e1-cb439d9dbf33", "4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"]

Processing device: 3a00f73e-0356-4c61-a6e1-cb439d9dbf33
Sorted roots for device 3a00f73e-0356-4c61-a6e1-cb439d9dbf33: ["GJY6xH"]
Starting chain from root: GJY6xH
  Adding block GJY6xH to sorted list
    Pushing h5g-Ge onto stack
  Adding block h5g-Ge to sorted list
    Pushing Mk_Gts onto stack
  Adding block Mk_Gts to sorted list
    Pushing sof0Bh onto stack
  Adding block sof0Bh to sorted list
    Pushing bRdTay onto stack
  Adding block bRdTay to sorted list
  No next blocks for bRdTay
No remaining blocks for device 3a00f73e-0356-4c61-a6e1-cb439d9dbf33

Processing device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
No roots for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a, skipping
No globally remaining blocks
Final sorted order for parent m8OEVv: ["GJY6xH", "h5g-Ge", "Mk_Gts", "sof0Bh", "bRdTay"]

----- Sorting children of parent: Mk_Gts -----
Parent has 1 children to sort
Mapped 1 valid blocks by ID
Block W7lMPh assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Grouped blocks into 1 devices
  - Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 1 blocks
Block W7lMPh has no prev_id
Built prev->next map with 0 entries
Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 1 root blocks: ["W7lMPh"]
Processing devices in order: ["4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"]

Processing device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Sorted roots for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a: ["W7lMPh"]
Starting chain from root: W7lMPh
  Adding block W7lMPh to sorted list
  No next blocks for W7lMPh
No remaining blocks for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
No globally remaining blocks
Final sorted order for parent Mk_Gts: ["W7lMPh"]

----- Sorting children of parent: GJY6xH -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent GJY6xH: []

----- Sorting children of parent: bRdTay -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent bRdTay: []
====== COMPLETED BLOCK SORTING ======
Final sorted children map has 8 parents
extract_document_state: Extracted 8 blocks and 8 parent-child relationships
get_document_state: Finished for doc_id: xxxx
flutter: {
flutter:   "docId": "xxxx",
flutter:   "blocks": {
flutter:     "zhA_gK": {
flutter:       "id": "zhA_gK",
flutter:       "ty": "todo_list",
flutter:       "attributes": {
flutter:         "device": "4cb3899a-3fe4-4bb1-bbf4-edd464b0977a",
flutter:         "checked": "false",
flutter:         "timestamp": "2025-04-24T17:04:02.277720",
flutter:         "delta": "[]"
flutter:       },
flutter:       "delta": "[{\"insert\":\"Task is mine\"}]",
flutter:       "parentId": "m8OEVv",
flutter:       "prevId": "bRdTay",
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "bRdTay": {
flutter:       "id": "bRdTay",
flutter:       "ty": "paragraph",
flutter:       "attributes": {
flutter:         "device": "4cb3899a-3fe4-4bb1-bbf4-edd464b0977a",
flutter:         "timestamp": "2025-04-24T17:03:55.612881",
flutter:         "delta": "[]"
flutter:       },
flutter:       "delta": "[]",
flutter:       "parentId": "m8OEVv",
flutter:       "prevId": "sof0Bh",
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "Mk_Gts": {
flutter:       "id": "Mk_Gts",
flutter:       "ty": "todo_list",
flutter:       "attributes": {
flutter:         "delta": "[]",
flutter:         "timestamp": "2025-04-24T17:04:05.077214",
flutter:         "device": "4cb3899a-3fe4-4bb1-bbf4-edd464b0977a",
flutter:         "checked": "false"
flutter:       },
flutter:       "delta": "[{\"insert\":\"New Task 4\"}]",
flutter:       "parentId": "m8OEVv",
flutter:       "prevId": "h5g-Ge",
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "sof0Bh": {
flutter:       "id": "sof0Bh",
flutter:       "ty": "paragraph",
flutter:       "attributes": {
flutter:         "device": "4cb3899a-3fe4-4bb1-bbf4-edd464b0977a",
flutter:         "delta": "[]",
flutter:         "timestamp": "2025-04-24T17:03:55.467041"
flutter:       },
flutter:       "delta": "[]",
flutter:       "parentId": "m8OEVv",
flutter:       "prevId": "Mk_Gts",
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "m8OEVv": {
flutter:       "id": "m8OEVv",
flutter:       "ty": "page",
flutter:       "attributes": {
flutter:         "timestamp": "2025-04-24T17:01:59.905543",
flutter:         "device": "3a00f73e-0356-4c61-a6e1-cb439d9dbf33"
flutter:       },
flutter:       "delta": null,
flutter:       "parentId": null,
flutter:       "prevId": null,
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "h5g-Ge": {
flutter:       "id": "h5g-Ge",
flutter:       "ty": "paragraph",
flutter:       "attributes": {
flutter:         "timestamp": "2025-04-24T17:03:48.137357",
flutter:         "delta": "[]",
flutter:         "device": "4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"
flutter:       },
flutter:       "delta": "[{\"insert\":\"Here we go\"}]",
flutter:       "parentId": "m8OEVv",
flutter:       "prevId": "GJY6xH",
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "GJY6xH": {
flutter:       "id": "GJY6xH",
flutter:       "ty": "paragraph",
flutter:       "attributes": {
flutter:         "delta": "[]",
flutter:         "device": "3a00f73e-0356-4c61-a6e1-cb439d9dbf33",
flutter:         "timestamp": "2025-04-24T17:01:59.907118"
flutter:       },
flutter:       "delta": "[{\"insert\":\"New Document\"}]",
flutter:       "parentId": "m8OEVv",
flutter:       "prevId": null,
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "W7lMPh": {
flutter:       "id": "W7lMPh",
flutter:       "ty": "todo_list",
flutter:       "attributes": {
flutter:         "checked": "false",
flutter:         "delta": "[]",
flutter:         "timestamp": "2025-04-24T17:04:12.828783",
flutter:         "device": "4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"
flutter:       },
flutter:       "delta": "[{\"insert\":\"arstarts\"}]",
flutter:       "parentId": "Mk_Gts",
flutter:       "prevId": null,
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     }
flutter:   },
flutter:   "childrenMap": {
flutter:     "h5g-Ge": [],
flutter:     "m8OEVv": [
flutter:       "GJY6xH",
flutter:       "h5g-Ge",
flutter:       "Mk_Gts",
flutter:       "sof0Bh",
flutter:       "bRdTay"
flutter:     ],
flutter:     "bRdTay": [],
flutter:     "Mk_Gts": [
flutter:       "W7lMPh"
flutter:     ],
flutter:     "W7lMPh": [],
flutter:     "GJY6xH": [],
flutter:     "sof0Bh": [],
flutter:     "zhA_gK": []
flutter:   },
flutter:   "rootId": "m8OEVv"
flutter: }
merge_updates: Merging 1 updates
merge_updates: Successfully merged updates
apply_updates: Starting with 26 updates for doc_id: xxxx
apply_updates: Starting with 26 updates for doc_id: xxxx
apply_updates: Applying update for doc_id: xxxx
apply_updates: Finished for doc_id: xxxx
apply_updates: Successfully applied updates for doc_id: xxxx
get_document_state: Starting for doc_id: xxxx
extract_document_state: Starting for doc_id: xxxx
extract_document_state: Processing 8 blocks
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 0 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 0 deltas
deltas_to_json: Converting 1 deltas
====== STARTING BLOCK SORTING ======
Input children_map has 8 parent nodes

----- Sorting children of parent: h5g-Ge -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent h5g-Ge: []

----- Sorting children of parent: sof0Bh -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent sof0Bh: []

----- Sorting children of parent: W7lMPh -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent W7lMPh: []

----- Sorting children of parent: zhA_gK -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent zhA_gK: []

----- Sorting children of parent: GJY6xH -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent GJY6xH: []

----- Sorting children of parent: bRdTay -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent bRdTay: []

----- Sorting children of parent: Mk_Gts -----
Parent has 1 children to sort
Mapped 1 valid blocks by ID
Block W7lMPh assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Grouped blocks into 1 devices
  - Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 1 blocks
Block W7lMPh has no prev_id
Built prev->next map with 0 entries
Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 1 root blocks: ["W7lMPh"]
Processing devices in order: ["4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"]

Processing device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Sorted roots for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a: ["W7lMPh"]
Starting chain from root: W7lMPh
  Adding block W7lMPh to sorted list
  No next blocks for W7lMPh
No remaining blocks for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
No globally remaining blocks
Final sorted order for parent Mk_Gts: ["W7lMPh"]

----- Sorting children of parent: m8OEVv -----
Parent has 6 children to sort
Mapped 5 valid blocks by ID
Block h5g-Ge assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block GJY6xH assigned to device 3a00f73e-0356-4c61-a6e1-cb439d9dbf33
Block Mk_Gts assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block sof0Bh assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block bRdTay assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Grouped blocks into 2 devices
  - Device 3a00f73e-0356-4c61-a6e1-cb439d9dbf33 has 1 blocks
  - Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 4 blocks
Block h5g-Ge has prev_id GJY6xH
Block GJY6xH has no prev_id
Block Mk_Gts has prev_id h5g-Ge
Block sof0Bh has prev_id Mk_Gts
Block bRdTay has prev_id sof0Bh
Built prev->next map with 4 entries
  - Mk_Gts has 1 next blocks: ["sof0Bh"]
  - h5g-Ge has 1 next blocks: ["Mk_Gts"]
  - sof0Bh has 1 next blocks: ["bRdTay"]
  - GJY6xH has 1 next blocks: ["h5g-Ge"]
Device 3a00f73e-0356-4c61-a6e1-cb439d9dbf33 has 1 root blocks: ["GJY6xH"]
Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has no root blocks
Processing devices in order: ["3a00f73e-0356-4c61-a6e1-cb439d9dbf33", "4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"]

Processing device: 3a00f73e-0356-4c61-a6e1-cb439d9dbf33
Sorted roots for device 3a00f73e-0356-4c61-a6e1-cb439d9dbf33: ["GJY6xH"]
Starting chain from root: GJY6xH
  Adding block GJY6xH to sorted list
    Pushing h5g-Ge onto stack
  Adding block h5g-Ge to sorted list
    Pushing Mk_Gts onto stack
  Adding block Mk_Gts to sorted list
    Pushing sof0Bh onto stack
  Adding block sof0Bh to sorted list
    Pushing bRdTay onto stack
  Adding block bRdTay to sorted list
  No next blocks for bRdTay
No remaining blocks for device 3a00f73e-0356-4c61-a6e1-cb439d9dbf33

Processing device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
No roots for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a, skipping
No globally remaining blocks
Final sorted order for parent m8OEVv: ["GJY6xH", "h5g-Ge", "Mk_Gts", "sof0Bh", "bRdTay"]
====== COMPLETED BLOCK SORTING ======
Final sorted children map has 8 parents
extract_document_state: Extracted 8 blocks and 8 parent-child relationships
get_document_state: Finished for doc_id: xxxx
flutter: {
flutter:   "docId": "xxxx",
flutter:   "blocks": {
flutter:     "Mk_Gts": {
flutter:       "id": "Mk_Gts",
flutter:       "ty": "todo_list",
flutter:       "attributes": {
flutter:         "delta": "[]",
flutter:         "device": "4cb3899a-3fe4-4bb1-bbf4-edd464b0977a",
flutter:         "timestamp": "2025-04-24T17:04:05.077214",
flutter:         "checked": "false"
flutter:       },
flutter:       "delta": "[{\"insert\":\"New Task 4\"}]",
flutter:       "parentId": "m8OEVv",
flutter:       "prevId": "h5g-Ge",
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "sof0Bh": {
flutter:       "id": "sof0Bh",
flutter:       "ty": "paragraph",
flutter:       "attributes": {
flutter:         "timestamp": "2025-04-24T17:03:55.467041",
flutter:         "delta": "[]",
flutter:         "device": "4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"
flutter:       },
flutter:       "delta": "[]",
flutter:       "parentId": "m8OEVv",
flutter:       "prevId": "Mk_Gts",
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "GJY6xH": {
flutter:       "id": "GJY6xH",
flutter:       "ty": "paragraph",
flutter:       "attributes": {
flutter:         "delta": "[]",
flutter:         "device": "3a00f73e-0356-4c61-a6e1-cb439d9dbf33",
flutter:         "timestamp": "2025-04-24T17:01:59.907118"
flutter:       },
flutter:       "delta": "[{\"insert\":\"New Document\"}]",
flutter:       "parentId": "m8OEVv",
flutter:       "prevId": null,
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "h5g-Ge": {
flutter:       "id": "h5g-Ge",
flutter:       "ty": "paragraph",
flutter:       "attributes": {
flutter:         "timestamp": "2025-04-24T17:03:48.137357",
flutter:         "device": "4cb3899a-3fe4-4bb1-bbf4-edd464b0977a",
flutter:         "delta": "[]"
flutter:       },
flutter:       "delta": "[{\"insert\":\"Here we go\"}]",
flutter:       "parentId": "m8OEVv",
flutter:       "prevId": "GJY6xH",
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "bRdTay": {
flutter:       "id": "bRdTay",
flutter:       "ty": "paragraph",
flutter:       "attributes": {
flutter:         "timestamp": "2025-04-24T17:03:55.612881",
flutter:         "device": "4cb3899a-3fe4-4bb1-bbf4-edd464b0977a",
flutter:         "delta": "[]"
flutter:       },
flutter:       "delta": "[]",
flutter:       "parentId": "m8OEVv",
flutter:       "prevId": "sof0Bh",
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "W7lMPh": {
flutter:       "id": "W7lMPh",
flutter:       "ty": "todo_list",
flutter:       "attributes": {
flutter:         "checked": "false",
flutter:         "delta": "[]",
flutter:         "timestamp": "2025-04-24T17:04:12.828783",
flutter:         "device": "4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"
flutter:       },
flutter:       "delta": "[{\"insert\":\"arstarts\"}]",
flutter:       "parentId": "Mk_Gts",
flutter:       "prevId": null,
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "zhA_gK": {
flutter:       "id": "zhA_gK",
flutter:       "ty": "todo_list",
flutter:       "attributes": {
flutter:         "device": "4cb3899a-3fe4-4bb1-bbf4-edd464b0977a",
flutter:         "checked": "false",
flutter:         "delta": "[]",
flutter:         "timestamp": "2025-04-24T17:04:02.277720"
flutter:       },
flutter:       "delta": "[{\"insert\":\"Task is mine\"}]",
flutter:       "parentId": "m8OEVv",
flutter:       "prevId": "bRdTay",
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "m8OEVv": {
flutter:       "id": "m8OEVv",
flutter:       "ty": "page",
flutter:       "attributes": {
flutter:         "device": "3a00f73e-0356-4c61-a6e1-cb439d9dbf33",
flutter:         "timestamp": "2025-04-24T17:01:59.905543"
flutter:       },
flutter:       "delta": null,
flutter:       "parentId": null,
flutter:       "prevId": null,
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     }
flutter:   },
flutter:   "childrenMap": {
flutter:     "bRdTay": [],
flutter:     "h5g-Ge": [],
flutter:     "zhA_gK": [],
flutter:     "sof0Bh": [],
flutter:     "W7lMPh": [],
flutter:     "Mk_Gts": [
flutter:       "W7lMPh"
flutter:     ],
flutter:     "m8OEVv": [
flutter:       "GJY6xH",
flutter:       "h5g-Ge",
flutter:       "Mk_Gts",
flutter:       "sof0Bh",
flutter:       "bRdTay"
flutter:     ],
flutter:     "GJY6xH": []
flutter:   },
flutter:   "rootId": "m8OEVv"
flutter: }
flutter: onDragStarted
flutter: the drag offset is not inside the block, dragOffset(Offset(131.7, 207.7)), globalBlockRect(Rect.fromLTRB(144.0, 170.0, 680.0, 208.0))
flutter: the drag offset is not inside the block, dragOffset(Offset(131.5, 207.0)), globalBlockRect(Rect.fromLTRB(144.0, 170.0, 680.0, 208.0))
flutter: the drag offset is not inside the block, dragOffset(Offset(131.5, 206.7)), globalBlockRect(Rect.fromLTRB(144.0, 170.0, 680.0, 208.0))
flutter: the drag offset is not inside the block, dragOffset(Offset(131.5, 205.9)), globalBlockRect(Rect.fromLTRB(144.0, 170.0, 680.0, 208.0))
flutter: the drag offset is not inside the block, dragOffset(Offset(131.5, 205.4)), globalBlockRect(Rect.fromLTRB(144.0, 170.0, 680.0, 208.0))
flutter: the drag offset is not inside the block, dragOffset(Offset(131.5, 204.3)), globalBlockRect(Rect.fromLTRB(144.0, 170.0, 680.0, 208.0))
flutter: the drag offset is not inside the block, dragOffset(Offset(131.5, 203.5)), globalBlockRect(Rect.fromLTRB(144.0, 170.0, 680.0, 208.0))
flutter: the drag offset is not inside the block, dragOffset(Offset(131.5, 202.2)), globalBlockRect(Rect.fromLTRB(144.0, 170.0, 680.0, 208.0))
flutter: the drag offset is not inside the block, dragOffset(Offset(131.5, 201.6)), globalBlockRect(Rect.fromLTRB(144.0, 170.0, 680.0, 208.0))
flutter: the drag offset is not inside the block, dragOffset(Offset(131.5, 201.4)), globalBlockRect(Rect.fromLTRB(144.0, 170.0, 680.0, 208.0))
flutter: the drag offset is not inside the block, dragOffset(Offset(131.5, 200.9)), globalBlockRect(Rect.fromLTRB(144.0, 170.0, 680.0, 208.0))
flutter: the drag offset is not inside the block, dragOffset(Offset(131.5, 200.6)), globalBlockRect(Rect.fromLTRB(144.0, 170.0, 680.0, 208.0))
flutter: the drag offset is not inside the block, dragOffset(Offset(131.5, 200.1)), globalBlockRect(Rect.fromLTRB(144.0, 170.0, 680.0, 208.0))
flutter: the drag offset is not inside the block, dragOffset(Offset(131.8, 199.0)), globalBlockRect(Rect.fromLTRB(144.0, 170.0, 680.0, 208.0))
flutter: the drag offset is not inside the block, dragOffset(Offset(132.2, 196.7)), globalBlockRect(Rect.fromLTRB(144.0, 170.0, 680.0, 208.0))
flutter: the drag offset is not inside the block, dragOffset(Offset(133.0, 194.5)), globalBlockRect(Rect.fromLTRB(144.0, 170.0, 680.0, 208.0))
flutter: the drag offset is not inside the block, dragOffset(Offset(135.0, 188.5)), globalBlockRect(Rect.fromLTRB(144.0, 170.0, 680.0, 208.0))
flutter: the drag offset is not inside the block, dragOffset(Offset(135.0, 184.9)), globalBlockRect(Rect.fromLTRB(144.0, 170.0, 680.0, 208.0))
flutter: the drag offset is not inside the block, dragOffset(Offset(137.9, 177.6)), globalBlockRect(Rect.fromLTRB(144.0, 170.0, 680.0, 208.0))
flutter: the drag offset is not inside the block, dragOffset(Offset(137.9, 175.2)), globalBlockRect(Rect.fromLTRB(144.0, 170.0, 680.0, 208.0))
flutter: the drag offset is not inside the block, dragOffset(Offset(139.4, 170.5)), globalBlockRect(Rect.fromLTRB(144.0, 170.0, 680.0, 208.0))
flutter: the drag offset is inside the block, dragOffset(Offset(140.1, 167.0)), globalBlockRect(Rect.fromLTRB(120.0, 132.0, 680.0, 208.0))
flutter: the drag offset is inside the block, dragOffset(Offset(140.1, 165.9)), globalBlockRect(Rect.fromLTRB(120.0, 132.0, 680.0, 208.0))
flutter: the drag offset is inside the block, dragOffset(Offset(140.5, 163.6)), globalBlockRect(Rect.fromLTRB(120.0, 132.0, 680.0, 208.0))
flutter: the drag offset is inside the block, dragOffset(Offset(140.5, 162.8)), globalBlockRect(Rect.fromLTRB(120.0, 132.0, 680.0, 208.0))
flutter: the drag offset is inside the block, dragOffset(Offset(140.5, 162.3)), globalBlockRect(Rect.fromLTRB(120.0, 132.0, 680.0, 208.0))
flutter: the drag offset is inside the block, dragOffset(Offset(140.5, 161.6)), globalBlockRect(Rect.fromLTRB(120.0, 132.0, 680.0, 208.0))
flutter: the drag offset is inside the block, dragOffset(Offset(140.5, 161.3)), globalBlockRect(Rect.fromLTRB(120.0, 132.0, 680.0, 208.0))
flutter: the drag offset is inside the block, dragOffset(Offset(140.5, 160.8)), globalBlockRect(Rect.fromLTRB(120.0, 132.0, 680.0, 208.0))
flutter: the drag offset is inside the block, dragOffset(Offset(140.5, 160.0)), globalBlockRect(Rect.fromLTRB(120.0, 132.0, 680.0, 208.0))
flutter: the drag offset is inside the block, dragOffset(Offset(140.5, 159.8)), globalBlockRect(Rect.fromLTRB(120.0, 132.0, 680.0, 208.0))
flutter: the drag offset is inside the block, dragOffset(Offset(141.7, 156.9)), globalBlockRect(Rect.fromLTRB(120.0, 132.0, 680.0, 208.0))
flutter: the drag offset is inside the block, dragOffset(Offset(142.0, 155.2)), globalBlockRect(Rect.fromLTRB(120.0, 132.0, 680.0, 208.0))
flutter: the drag offset is inside the block, dragOffset(Offset(142.0, 155.0)), globalBlockRect(Rect.fromLTRB(120.0, 132.0, 680.0, 208.0))
flutter: the drag offset is inside the block, dragOffset(Offset(142.0, 153.3)), globalBlockRect(Rect.fromLTRB(120.0, 132.0, 680.0, 208.0))
flutter: the drag offset is inside the block, dragOffset(Offset(142.0, 152.6)), globalBlockRect(Rect.fromLTRB(120.0, 132.0, 680.0, 208.0))
flutter: onDragEnd, acceptedPath([2])
flutter: the drag offset is inside the block, dragOffset(Offset(142.0, 152.6)), globalBlockRect(Rect.fromLTRB(120.0, 132.0, 680.0, 208.0))
flutter: Moving node(Node(id: Mk_Gts, type: todo_list, attributes: {delta: [{insert: New Task 4}], timestamp: 2025-04-24T17:04:05.077214, device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a, checked: false}, children: [Node(id: W7lMPh, type: todo_list, attributes: {checked: false, delta: [{insert: arstarts}], timestamp: 2025-04-24T17:04:12.828783, device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a}, children: [])]), [3]) to path([2])
flutter: Transaction done
apply_action: Starting with 1 actions for doc_id: xxxx
move_block: Moving block_id: Mk_Gts from parent: m8OEVv to parent: m8OEVv
remove_block_from_prev_id_chain: Removing block Mk_Gts from chain
  Block Mk_Gts has prev_id: h5g-Ge
  Finding blocks that reference Mk_Gts as their prev_id
find_block_referencing_prev_id: Searching for blocks with prev_id = Mk_Gts
  Found 8 total blocks to check
  Checking block: Mk_Gts
    Block has prev_id: h5g-Ge, matches target: false
  Checking block: zhA_gK
    Block has prev_id: bRdTay, matches target: false
  Checking block: sof0Bh
    Block has prev_id: Mk_Gts, matches target: true
  Checking block: GJY6xH
    Block does not have prev_id
  Checking block: W7lMPh
    Block does not have prev_id
  Checking block: m8OEVv
    Block does not have prev_id
  Checking block: bRdTay
    Block has prev_id: sof0Bh, matches target: false
  Checking block: h5g-Ge
    Block has prev_id: GJY6xH, matches target: false
find_block_referencing_prev_id: Found 1 blocks with prev_id = Mk_Gts: ["sof0Bh"]
  Found 1 next blocks: ["sof0Bh"]
  Updating next block sof0Bh to point to h5g-Ge (was pointing to Mk_Gts)
remove_block_from_prev_id_chain: Completed
handle_following_connection: block_id=Mk_Gts, next_id=Some("Mk_Gts"), prev_id=Some("h5g-Ge")
  Using prev_id strategy (prev_id=h5g-Ge)
find_block_referencing_prev_id: Searching for blocks with prev_id = h5g-Ge
  Found 8 total blocks to check
  Checking block: Mk_Gts
    Block has prev_id: h5g-Ge, matches target: true
  Checking block: zhA_gK
    Block has prev_id: bRdTay, matches target: false
  Checking block: sof0Bh
    Block has prev_id: h5g-Ge, matches target: true
  Checking block: GJY6xH
    Block does not have prev_id
  Checking block: W7lMPh
    Block does not have prev_id
  Checking block: m8OEVv
    Block does not have prev_id
  Checking block: bRdTay
    Block has prev_id: sof0Bh, matches target: false
  Checking block: h5g-Ge
    Block has prev_id: GJY6xH, matches target: false
find_block_referencing_prev_id: Found 2 blocks with prev_id = h5g-Ge: ["Mk_Gts", "sof0Bh"]
  Found 2 nodes that reference prev_id h5g-Ge: ["Mk_Gts", "sof0Bh"]
  Updating block Mk_Gts to point to Mk_Gts
  Updating block sof0Bh to point to Mk_Gts
  Finished prev_id strategy
move_block: Moved block within same parent
apply_action: Encoding state for doc_id: xxxx
apply_updates: Starting with 23 updates for doc_id: xxxx
apply_updates: Starting with 23 updates for doc_id: xxxx
apply_updates: Applying update for doc_id: xxxx
apply_updates: Finished for doc_id: xxxx
apply_updates: Successfully applied updates for doc_id: xxxx
get_document_state: Starting for doc_id: xxxx
extract_document_state: Starting for doc_id: xxxx
extract_document_state: Processing 8 blocks
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 0 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 0 deltas
deltas_to_json: Converting 1 deltas
====== STARTING BLOCK SORTING ======
Input children_map has 8 parent nodes

----- Sorting children of parent: GJY6xH -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent GJY6xH: []

----- Sorting children of parent: sof0Bh -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent sof0Bh: []

----- Sorting children of parent: Mk_Gts -----
Parent has 1 children to sort
Mapped 1 valid blocks by ID
Block W7lMPh assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Grouped blocks into 1 devices
  - Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 1 blocks
Block W7lMPh has no prev_id
Built prev->next map with 0 entries
Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 1 root blocks: ["W7lMPh"]
Processing devices in order: ["4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"]

Processing device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Sorted roots for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a: ["W7lMPh"]
Starting chain from root: W7lMPh
  Adding block W7lMPh to sorted list
  No next blocks for W7lMPh
No remaining blocks for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
No globally remaining blocks
Final sorted order for parent Mk_Gts: ["W7lMPh"]

----- Sorting children of parent: m8OEVv -----
Parent has 6 children to sort
Mapped 5 valid blocks by ID
Block bRdTay assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block GJY6xH assigned to device 3a00f73e-0356-4c61-a6e1-cb439d9dbf33
Block Mk_Gts assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block sof0Bh assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block h5g-Ge assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Grouped blocks into 2 devices
  - Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 4 blocks
  - Device 3a00f73e-0356-4c61-a6e1-cb439d9dbf33 has 1 blocks
Block bRdTay has prev_id sof0Bh
Block GJY6xH has no prev_id
Block Mk_Gts has prev_id h5g-Ge
Block sof0Bh has prev_id Mk_Gts
Block h5g-Ge has prev_id GJY6xH
Built prev->next map with 4 entries
  - GJY6xH has 1 next blocks: ["h5g-Ge"]
  - Mk_Gts has 1 next blocks: ["sof0Bh"]
  - h5g-Ge has 1 next blocks: ["Mk_Gts"]
  - sof0Bh has 1 next blocks: ["bRdTay"]
Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has no root blocks
Device 3a00f73e-0356-4c61-a6e1-cb439d9dbf33 has 1 root blocks: ["GJY6xH"]
Processing devices in order: ["3a00f73e-0356-4c61-a6e1-cb439d9dbf33", "4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"]

Processing device: 3a00f73e-0356-4c61-a6e1-cb439d9dbf33
Sorted roots for device 3a00f73e-0356-4c61-a6e1-cb439d9dbf33: ["GJY6xH"]
Starting chain from root: GJY6xH
  Adding block GJY6xH to sorted list
    Pushing h5g-Ge onto stack
  Adding block h5g-Ge to sorted list
    Pushing Mk_Gts onto stack
  Adding block Mk_Gts to sorted list
    Pushing sof0Bh onto stack
  Adding block sof0Bh to sorted list
    Pushing bRdTay onto stack
  Adding block bRdTay to sorted list
  No next blocks for bRdTay
No remaining blocks for device 3a00f73e-0356-4c61-a6e1-cb439d9dbf33

Processing device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
No roots for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a, skipping
No globally remaining blocks
Final sorted order for parent m8OEVv: ["GJY6xH", "h5g-Ge", "Mk_Gts", "sof0Bh", "bRdTay"]

----- Sorting children of parent: zhA_gK -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent zhA_gK: []

----- Sorting children of parent: h5g-Ge -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent h5g-Ge: []

----- Sorting children of parent: bRdTay -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent bRdTay: []

----- Sorting children of parent: W7lMPh -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent W7lMPh: []
====== COMPLETED BLOCK SORTING ======
Final sorted children map has 8 parents
extract_document_state: Extracted 8 blocks and 8 parent-child relationships
get_document_state: Finished for doc_id: xxxx
flutter: {
flutter:   "docId": "xxxx",
flutter:   "blocks": {
flutter:     "h5g-Ge": {
flutter:       "id": "h5g-Ge",
flutter:       "ty": "paragraph",
flutter:       "attributes": {
flutter:         "delta": "[]",
flutter:         "timestamp": "2025-04-24T17:03:48.137357",
flutter:         "device": "4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"
flutter:       },
flutter:       "delta": "[{\"insert\":\"Here we go\"}]",
flutter:       "parentId": "m8OEVv",
flutter:       "prevId": "GJY6xH",
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "W7lMPh": {
flutter:       "id": "W7lMPh",
flutter:       "ty": "todo_list",
flutter:       "attributes": {
flutter:         "checked": "false",
flutter:         "device": "4cb3899a-3fe4-4bb1-bbf4-edd464b0977a",
flutter:         "delta": "[]",
flutter:         "timestamp": "2025-04-24T17:04:12.828783"
flutter:       },
flutter:       "delta": "[{\"insert\":\"arstarts\"}]",
flutter:       "parentId": "Mk_Gts",
flutter:       "prevId": null,
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "m8OEVv": {
flutter:       "id": "m8OEVv",
flutter:       "ty": "page",
flutter:       "attributes": {
flutter:         "timestamp": "2025-04-24T17:01:59.905543",
flutter:         "device": "3a00f73e-0356-4c61-a6e1-cb439d9dbf33"
flutter:       },
flutter:       "delta": null,
flutter:       "parentId": null,
flutter:       "prevId": null,
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "Mk_Gts": {
flutter:       "id": "Mk_Gts",
flutter:       "ty": "todo_list",
flutter:       "attributes": {
flutter:         "checked": "false",
flutter:         "delta": "[]",
flutter:         "timestamp": "2025-04-24T17:04:05.077214",
flutter:         "device": "4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"
flutter:       },
flutter:       "delta": "[{\"insert\":\"New Task 4\"}]",
flutter:       "parentId": "m8OEVv",
flutter:       "prevId": "h5g-Ge",
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "sof0Bh": {
flutter:       "id": "sof0Bh",
flutter:       "ty": "paragraph",
flutter:       "attributes": {
flutter:         "device": "4cb3899a-3fe4-4bb1-bbf4-edd464b0977a",
flutter:         "delta": "[]",
flutter:         "timestamp": "2025-04-24T17:03:55.467041"
flutter:       },
flutter:       "delta": "[]",
flutter:       "parentId": "m8OEVv",
flutter:       "prevId": "Mk_Gts",
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "bRdTay": {
flutter:       "id": "bRdTay",
flutter:       "ty": "paragraph",
flutter:       "attributes": {
flutter:         "delta": "[]",
flutter:         "device": "4cb3899a-3fe4-4bb1-bbf4-edd464b0977a",
flutter:         "timestamp": "2025-04-24T17:03:55.612881"
flutter:       },
flutter:       "delta": "[]",
flutter:       "parentId": "m8OEVv",
flutter:       "prevId": "sof0Bh",
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "zhA_gK": {
flutter:       "id": "zhA_gK",
flutter:       "ty": "todo_list",
flutter:       "attributes": {
flutter:         "checked": "false",
flutter:         "delta": "[]",
flutter:         "timestamp": "2025-04-24T17:04:02.277720",
flutter:         "device": "4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"
flutter:       },
flutter:       "delta": "[{\"insert\":\"Task is mine\"}]",
flutter:       "parentId": "m8OEVv",
flutter:       "prevId": "bRdTay",
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "GJY6xH": {
flutter:       "id": "GJY6xH",
flutter:       "ty": "paragraph",
flutter:       "attributes": {
flutter:         "timestamp": "2025-04-24T17:01:59.907118",
flutter:         "delta": "[]",
flutter:         "device": "3a00f73e-0356-4c61-a6e1-cb439d9dbf33"
flutter:       },
flutter:       "delta": "[{\"insert\":\"New Document\"}]",
flutter:       "parentId": "m8OEVv",
flutter:       "prevId": null,
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     }
flutter:   },
flutter:   "childrenMap": {
flutter:     "h5g-Ge": [],
flutter:     "GJY6xH": [],
flutter:     "bRdTay": [],
flutter:     "m8OEVv": [
flutter:       "GJY6xH",
flutter:       "h5g-Ge",
flutter:       "Mk_Gts",
flutter:       "sof0Bh",
flutter:       "bRdTay"
flutter:     ],
flutter:     "W7lMPh": [],
flutter:     "sof0Bh": [],
flutter:     "Mk_Gts": [
flutter:       "W7lMPh"
flutter:     ],
flutter:     "zhA_gK": []
flutter:   },
flutter:   "rootId": "m8OEVv"
flutter: }
merge_updates: Merging 1 updates
merge_updates: Successfully merged updates
apply_updates: Starting with 24 updates for doc_id: xxxx
apply_updates: Starting with 24 updates for doc_id: xxxx
apply_updates: Applying update for doc_id: xxxx
apply_updates: Finished for doc_id: xxxx
apply_updates: Successfully applied updates for doc_id: xxxx
get_document_state: Starting for doc_id: xxxx
extract_document_state: Starting for doc_id: xxxx
extract_document_state: Processing 8 blocks
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 0 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 0 deltas
====== STARTING BLOCK SORTING ======
Input children_map has 8 parent nodes

----- Sorting children of parent: zhA_gK -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent zhA_gK: []

----- Sorting children of parent: GJY6xH -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent GJY6xH: []

----- Sorting children of parent: Mk_Gts -----
Parent has 1 children to sort
Mapped 1 valid blocks by ID
Block W7lMPh assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Grouped blocks into 1 devices
  - Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 1 blocks
Block W7lMPh has no prev_id
Built prev->next map with 0 entries
Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 1 root blocks: ["W7lMPh"]
Processing devices in order: ["4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"]

Processing device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Sorted roots for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a: ["W7lMPh"]
Starting chain from root: W7lMPh
  Adding block W7lMPh to sorted list
  No next blocks for W7lMPh
No remaining blocks for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
No globally remaining blocks
Final sorted order for parent Mk_Gts: ["W7lMPh"]

----- Sorting children of parent: sof0Bh -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent sof0Bh: []

----- Sorting children of parent: W7lMPh -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent W7lMPh: []

----- Sorting children of parent: bRdTay -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent bRdTay: []

----- Sorting children of parent: h5g-Ge -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent h5g-Ge: []

----- Sorting children of parent: m8OEVv -----
Parent has 6 children to sort
Mapped 5 valid blocks by ID
Block sof0Bh assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block h5g-Ge assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block GJY6xH assigned to device 3a00f73e-0356-4c61-a6e1-cb439d9dbf33
Block bRdTay assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block Mk_Gts assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Grouped blocks into 2 devices
  - Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 4 blocks
  - Device 3a00f73e-0356-4c61-a6e1-cb439d9dbf33 has 1 blocks
Block sof0Bh has prev_id Mk_Gts
Block h5g-Ge has prev_id GJY6xH
Block GJY6xH has no prev_id
Block bRdTay has prev_id sof0Bh
Block Mk_Gts has prev_id h5g-Ge
Built prev->next map with 4 entries
  - h5g-Ge has 1 next blocks: ["Mk_Gts"]
  - Mk_Gts has 1 next blocks: ["sof0Bh"]
  - GJY6xH has 1 next blocks: ["h5g-Ge"]
  - sof0Bh has 1 next blocks: ["bRdTay"]
Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has no root blocks
Device 3a00f73e-0356-4c61-a6e1-cb439d9dbf33 has 1 root blocks: ["GJY6xH"]
Processing devices in order: ["3a00f73e-0356-4c61-a6e1-cb439d9dbf33", "4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"]

Processing device: 3a00f73e-0356-4c61-a6e1-cb439d9dbf33
Sorted roots for device 3a00f73e-0356-4c61-a6e1-cb439d9dbf33: ["GJY6xH"]
Starting chain from root: GJY6xH
  Adding block GJY6xH to sorted list
    Pushing h5g-Ge onto stack
  Adding block h5g-Ge to sorted list
    Pushing Mk_Gts onto stack
  Adding block Mk_Gts to sorted list
    Pushing sof0Bh onto stack
  Adding block sof0Bh to sorted list
    Pushing bRdTay onto stack
  Adding block bRdTay to sorted list
  No next blocks for bRdTay
No remaining blocks for device 3a00f73e-0356-4c61-a6e1-cb439d9dbf33

Processing device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
No roots for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a, skipping
No globally remaining blocks
Final sorted order for parent m8OEVv: ["GJY6xH", "h5g-Ge", "Mk_Gts", "sof0Bh", "bRdTay"]
====== COMPLETED BLOCK SORTING ======
Final sorted children map has 8 parents
extract_document_state: Extracted 8 blocks and 8 parent-child relationships
get_document_state: Finished for doc_id: xxxx
flutter: {
flutter:   "docId": "xxxx",
flutter:   "blocks": {
flutter:     "bRdTay": {
flutter:       "id": "bRdTay",
flutter:       "ty": "paragraph",
flutter:       "attributes": {
flutter:         "delta": "[]",
flutter:         "device": "4cb3899a-3fe4-4bb1-bbf4-edd464b0977a",
flutter:         "timestamp": "2025-04-24T17:03:55.612881"
flutter:       },
flutter:       "delta": "[]",
flutter:       "parentId": "m8OEVv",
flutter:       "prevId": "sof0Bh",
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "Mk_Gts": {
flutter:       "id": "Mk_Gts",
flutter:       "ty": "todo_list",
flutter:       "attributes": {
flutter:         "timestamp": "2025-04-24T17:04:05.077214",
flutter:         "delta": "[]",
flutter:         "device": "4cb3899a-3fe4-4bb1-bbf4-edd464b0977a",
flutter:         "checked": "false"
flutter:       },
flutter:       "delta": "[{\"insert\":\"New Task 4\"}]",
flutter:       "parentId": "m8OEVv",
flutter:       "prevId": "h5g-Ge",
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "h5g-Ge": {
flutter:       "id": "h5g-Ge",
flutter:       "ty": "paragraph",
flutter:       "attributes": {
flutter:         "delta": "[]",
flutter:         "device": "4cb3899a-3fe4-4bb1-bbf4-edd464b0977a",
flutter:         "timestamp": "2025-04-24T17:03:48.137357"
flutter:       },
flutter:       "delta": "[{\"insert\":\"Here we go\"}]",
flutter:       "parentId": "m8OEVv",
flutter:       "prevId": "GJY6xH",
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "zhA_gK": {
flutter:       "id": "zhA_gK",
flutter:       "ty": "todo_list",
flutter:       "attributes": {
flutter:         "timestamp": "2025-04-24T17:04:02.277720",
flutter:         "device": "4cb3899a-3fe4-4bb1-bbf4-edd464b0977a",
flutter:         "checked": "false",
flutter:         "delta": "[]"
flutter:       },
flutter:       "delta": "[{\"insert\":\"Task is mine\"}]",
flutter:       "parentId": "m8OEVv",
flutter:       "prevId": "bRdTay",
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "m8OEVv": {
flutter:       "id": "m8OEVv",
flutter:       "ty": "page",
flutter:       "attributes": {
flutter:         "device": "3a00f73e-0356-4c61-a6e1-cb439d9dbf33",
flutter:         "timestamp": "2025-04-24T17:01:59.905543"
flutter:       },
flutter:       "delta": null,
flutter:       "parentId": null,
flutter:       "prevId": null,
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "GJY6xH": {
flutter:       "id": "GJY6xH",
flutter:       "ty": "paragraph",
flutter:       "attributes": {
flutter:         "device": "3a00f73e-0356-4c61-a6e1-cb439d9dbf33",
flutter:         "timestamp": "2025-04-24T17:01:59.907118",
flutter:         "delta": "[]"
flutter:       },
flutter:       "delta": "[{\"insert\":\"New Document\"}]",
flutter:       "parentId": "m8OEVv",
flutter:       "prevId": null,
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "W7lMPh": {
flutter:       "id": "W7lMPh",
flutter:       "ty": "todo_list",
flutter:       "attributes": {
flutter:         "delta": "[]",
flutter:         "timestamp": "2025-04-24T17:04:12.828783",
flutter:         "checked": "false",
flutter:         "device": "4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"
flutter:       },
flutter:       "delta": "[{\"insert\":\"arstarts\"}]",
flutter:       "parentId": "Mk_Gts",
flutter:       "prevId": null,
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "sof0Bh": {
flutter:       "id": "sof0Bh",
flutter:       "ty": "paragraph",
flutter:       "attributes": {
flutter:         "device": "4cb3899a-3fe4-4bb1-bbf4-edd464b0977a",
flutter:         "timestamp": "2025-04-24T17:03:55.467041",
flutter:         "delta": "[]"
flutter:       },
flutter:       "delta": "[]",
flutter:       "parentId": "m8OEVv",
flutter:       "prevId": "Mk_Gts",
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     }
flutter:   },
flutter:   "childrenMap": {
flutter:     "Mk_Gts": [
flutter:       "W7lMPh"
flutter:     ],
flutter:     "sof0Bh": [],
flutter:     "zhA_gK": [],
flutter:     "GJY6xH": [],
flutter:     "h5g-Ge": [],
flutter:     "bRdTay": [],
flutter:     "W7lMPh": [],
flutter:     "m8OEVv": [
flutter:       "GJY6xH",
flutter:       "h5g-Ge",
flutter:       "Mk_Gts",
flutter:       "sof0Bh",
flutter:       "bRdTay"
flutter:     ]
flutter:   },
flutter:   "rootId": "m8OEVv"
flutter: }
flutter: onDragStarted
flutter: the drag offset is inside the block, dragOffset(Offset(130.6, 127.2)), globalBlockRect(Rect.fromLTRB(120.0, 94.0, 680.0, 132.0))
flutter: the drag offset is inside the block, dragOffset(Offset(130.6, 123.5)), globalBlockRect(Rect.fromLTRB(120.0, 94.0, 680.0, 132.0))
flutter: the drag offset is inside the block, dragOffset(Offset(130.6, 120.0)), globalBlockRect(Rect.fromLTRB(120.0, 94.0, 680.0, 132.0))
flutter: the drag offset is inside the block, dragOffset(Offset(130.6, 118.1)), globalBlockRect(Rect.fromLTRB(120.0, 94.0, 680.0, 132.0))
flutter: the drag offset is inside the block, dragOffset(Offset(130.6, 117.4)), globalBlockRect(Rect.fromLTRB(120.0, 94.0, 680.0, 132.0))
flutter: the drag offset is inside the block, dragOffset(Offset(130.6, 116.9)), globalBlockRect(Rect.fromLTRB(120.0, 94.0, 680.0, 132.0))
flutter: the drag offset is inside the block, dragOffset(Offset(130.6, 116.6)), globalBlockRect(Rect.fromLTRB(120.0, 94.0, 680.0, 132.0))
flutter: the drag offset is inside the block, dragOffset(Offset(130.6, 114.4)), globalBlockRect(Rect.fromLTRB(120.0, 94.0, 680.0, 132.0))
flutter: the drag offset is inside the block, dragOffset(Offset(130.6, 112.7)), globalBlockRect(Rect.fromLTRB(120.0, 94.0, 680.0, 132.0))
flutter: the drag offset is inside the block, dragOffset(Offset(130.6, 109.2)), globalBlockRect(Rect.fromLTRB(120.0, 94.0, 680.0, 132.0))
flutter: the drag offset is inside the block, dragOffset(Offset(130.6, 108.7)), globalBlockRect(Rect.fromLTRB(120.0, 94.0, 680.0, 132.0))
flutter: the drag offset is inside the block, dragOffset(Offset(130.9, 107.1)), globalBlockRect(Rect.fromLTRB(120.0, 94.0, 680.0, 132.0))
flutter: the drag offset is inside the block, dragOffset(Offset(130.9, 106.8)), globalBlockRect(Rect.fromLTRB(120.0, 94.0, 680.0, 132.0))
flutter: the drag offset is inside the block, dragOffset(Offset(130.9, 106.0)), globalBlockRect(Rect.fromLTRB(120.0, 94.0, 680.0, 132.0))
flutter: the drag offset is inside the block, dragOffset(Offset(130.9, 105.8)), globalBlockRect(Rect.fromLTRB(120.0, 94.0, 680.0, 132.0))
flutter: onDragEnd, acceptedPath([1])
flutter: the drag offset is inside the block, dragOffset(Offset(130.9, 105.8)), globalBlockRect(Rect.fromLTRB(120.0, 94.0, 680.0, 132.0))
flutter: Moving node(Node(id: Mk_Gts, type: todo_list, attributes: {timestamp: 2025-04-24T17:04:05.077214, delta: [{insert: New Task 4}], device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a, checked: false}, children: [Node(id: W7lMPh, type: todo_list, attributes: {delta: [{insert: arstarts}], timestamp: 2025-04-24T17:04:12.828783, checked: false, device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a}, children: [])]), [2]) to path([1])
flutter: Transaction done
apply_action: Starting with 1 actions for doc_id: xxxx
move_block: Moving block_id: Mk_Gts from parent: m8OEVv to parent: m8OEVv
remove_block_from_prev_id_chain: Removing block Mk_Gts from chain
  Block Mk_Gts has prev_id: h5g-Ge
  Finding blocks that reference Mk_Gts as their prev_id
find_block_referencing_prev_id: Searching for blocks with prev_id = Mk_Gts
  Found 8 total blocks to check
  Checking block: h5g-Ge
    Block has prev_id: GJY6xH, matches target: false
  Checking block: Mk_Gts
    Block has prev_id: h5g-Ge, matches target: false
  Checking block: sof0Bh
    Block has prev_id: Mk_Gts, matches target: true
  Checking block: GJY6xH
    Block does not have prev_id
  Checking block: W7lMPh
    Block does not have prev_id
  Checking block: zhA_gK
    Block has prev_id: bRdTay, matches target: false
  Checking block: m8OEVv
    Block does not have prev_id
  Checking block: bRdTay
    Block has prev_id: sof0Bh, matches target: false
find_block_referencing_prev_id: Found 1 blocks with prev_id = Mk_Gts: ["sof0Bh"]
  Found 1 next blocks: ["sof0Bh"]
  Updating next block sof0Bh to point to h5g-Ge (was pointing to Mk_Gts)
remove_block_from_prev_id_chain: Completed
handle_following_connection: block_id=Mk_Gts, next_id=Some("h5g-Ge"), prev_id=Some("GJY6xH")
  Using prev_id strategy (prev_id=GJY6xH)
find_block_referencing_prev_id: Searching for blocks with prev_id = GJY6xH
  Found 8 total blocks to check
  Checking block: h5g-Ge
    Block has prev_id: GJY6xH, matches target: true
  Checking block: Mk_Gts
    Block has prev_id: h5g-Ge, matches target: false
  Checking block: sof0Bh
    Block has prev_id: h5g-Ge, matches target: false
  Checking block: GJY6xH
    Block does not have prev_id
  Checking block: W7lMPh
    Block does not have prev_id
  Checking block: zhA_gK
    Block has prev_id: bRdTay, matches target: false
  Checking block: m8OEVv
    Block does not have prev_id
  Checking block: bRdTay
    Block has prev_id: sof0Bh, matches target: false
find_block_referencing_prev_id: Found 1 blocks with prev_id = GJY6xH: ["h5g-Ge"]
  Found 1 nodes that reference prev_id GJY6xH: ["h5g-Ge"]
  Updating block h5g-Ge to point to Mk_Gts
  Finished prev_id strategy
move_block: Moved block within same parent
apply_action: Encoding state for doc_id: xxxx
apply_updates: Starting with 25 updates for doc_id: xxxx
apply_updates: Starting with 25 updates for doc_id: xxxx
apply_updates: Applying update for doc_id: xxxx
apply_updates: Finished for doc_id: xxxx
apply_updates: Successfully applied updates for doc_id: xxxx
get_document_state: Starting for doc_id: xxxx
extract_document_state: Starting for doc_id: xxxx
extract_document_state: Processing 8 blocks
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 0 deltas
deltas_to_json: Converting 0 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
====== STARTING BLOCK SORTING ======
Input children_map has 8 parent nodes

----- Sorting children of parent: bRdTay -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent bRdTay: []

----- Sorting children of parent: W7lMPh -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent W7lMPh: []

----- Sorting children of parent: h5g-Ge -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent h5g-Ge: []

----- Sorting children of parent: GJY6xH -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent GJY6xH: []

----- Sorting children of parent: zhA_gK -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent zhA_gK: []

----- Sorting children of parent: Mk_Gts -----
Parent has 1 children to sort
Mapped 1 valid blocks by ID
Block W7lMPh assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Grouped blocks into 1 devices
  - Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 1 blocks
Block W7lMPh has no prev_id
Built prev->next map with 0 entries
Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 1 root blocks: ["W7lMPh"]
Processing devices in order: ["4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"]

Processing device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Sorted roots for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a: ["W7lMPh"]
Starting chain from root: W7lMPh
  Adding block W7lMPh to sorted list
  No next blocks for W7lMPh
No remaining blocks for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
No globally remaining blocks
Final sorted order for parent Mk_Gts: ["W7lMPh"]

----- Sorting children of parent: sof0Bh -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent sof0Bh: []

----- Sorting children of parent: m8OEVv -----
Parent has 6 children to sort
Mapped 5 valid blocks by ID
Block h5g-Ge assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block bRdTay assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block GJY6xH assigned to device 3a00f73e-0356-4c61-a6e1-cb439d9dbf33
Block sof0Bh assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block Mk_Gts assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Grouped blocks into 2 devices
  - Device 3a00f73e-0356-4c61-a6e1-cb439d9dbf33 has 1 blocks
  - Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 4 blocks
Block h5g-Ge has prev_id Mk_Gts
Block bRdTay has prev_id sof0Bh
Block GJY6xH has no prev_id
Block sof0Bh has prev_id h5g-Ge
Block Mk_Gts has prev_id GJY6xH
Built prev->next map with 4 entries
  - Mk_Gts has 1 next blocks: ["h5g-Ge"]
  - h5g-Ge has 1 next blocks: ["sof0Bh"]
  - GJY6xH has 1 next blocks: ["Mk_Gts"]
  - sof0Bh has 1 next blocks: ["bRdTay"]
Device 3a00f73e-0356-4c61-a6e1-cb439d9dbf33 has 1 root blocks: ["GJY6xH"]
Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has no root blocks
Processing devices in order: ["3a00f73e-0356-4c61-a6e1-cb439d9dbf33", "4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"]

Processing device: 3a00f73e-0356-4c61-a6e1-cb439d9dbf33
Sorted roots for device 3a00f73e-0356-4c61-a6e1-cb439d9dbf33: ["GJY6xH"]
Starting chain from root: GJY6xH
  Adding block GJY6xH to sorted list
    Pushing Mk_Gts onto stack
  Adding block Mk_Gts to sorted list
    Pushing h5g-Ge onto stack
  Adding block h5g-Ge to sorted list
    Pushing sof0Bh onto stack
  Adding block sof0Bh to sorted list
    Pushing bRdTay onto stack
  Adding block bRdTay to sorted list
  No next blocks for bRdTay
No remaining blocks for device 3a00f73e-0356-4c61-a6e1-cb439d9dbf33

Processing device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
No roots for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a, skipping
No globally remaining blocks
Final sorted order for parent m8OEVv: ["GJY6xH", "Mk_Gts", "h5g-Ge", "sof0Bh", "bRdTay"]
====== COMPLETED BLOCK SORTING ======
Final sorted children map has 8 parents
extract_document_state: Extracted 8 blocks and 8 parent-child relationships
get_document_state: Finished for doc_id: xxxx
flutter: {
flutter:   "docId": "xxxx",
flutter:   "blocks": {
flutter:     "sof0Bh": {
flutter:       "id": "sof0Bh",
flutter:       "ty": "paragraph",
flutter:       "attributes": {
flutter:         "delta": "[]",
flutter:         "timestamp": "2025-04-24T17:03:55.467041",
flutter:         "device": "4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"
flutter:       },
flutter:       "delta": "[]",
flutter:       "parentId": "m8OEVv",
flutter:       "prevId": "h5g-Ge",
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "Mk_Gts": {
flutter:       "id": "Mk_Gts",
flutter:       "ty": "todo_list",
flutter:       "attributes": {
flutter:         "timestamp": "2025-04-24T17:04:05.077214",
flutter:         "device": "4cb3899a-3fe4-4bb1-bbf4-edd464b0977a",
flutter:         "delta": "[]",
flutter:         "checked": "false"
flutter:       },
flutter:       "delta": "[{\"insert\":\"New Task 4\"}]",
flutter:       "parentId": "m8OEVv",
flutter:       "prevId": "GJY6xH",
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "h5g-Ge": {
flutter:       "id": "h5g-Ge",
flutter:       "ty": "paragraph",
flutter:       "attributes": {
flutter:         "delta": "[]",
flutter:         "timestamp": "2025-04-24T17:03:48.137357",
flutter:         "device": "4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"
flutter:       },
flutter:       "delta": "[{\"insert\":\"Here we go\"}]",
flutter:       "parentId": "m8OEVv",
flutter:       "prevId": "Mk_Gts",
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "W7lMPh": {
flutter:       "id": "W7lMPh",
flutter:       "ty": "todo_list",
flutter:       "attributes": {
flutter:         "timestamp": "2025-04-24T17:04:12.828783",
flutter:         "checked": "false",
flutter:         "delta": "[]",
flutter:         "device": "4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"
flutter:       },
flutter:       "delta": "[{\"insert\":\"arstarts\"}]",
flutter:       "parentId": "Mk_Gts",
flutter:       "prevId": null,
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "GJY6xH": {
flutter:       "id": "GJY6xH",
flutter:       "ty": "paragraph",
flutter:       "attributes": {
flutter:         "delta": "[]",
flutter:         "timestamp": "2025-04-24T17:01:59.907118",
flutter:         "device": "3a00f73e-0356-4c61-a6e1-cb439d9dbf33"
flutter:       },
flutter:       "delta": "[{\"insert\":\"New Document\"}]",
flutter:       "parentId": "m8OEVv",
flutter:       "prevId": null,
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "zhA_gK": {
flutter:       "id": "zhA_gK",
flutter:       "ty": "todo_list",
flutter:       "attributes": {
flutter:         "delta": "[]",
flutter:         "timestamp": "2025-04-24T17:04:02.277720",
flutter:         "device": "4cb3899a-3fe4-4bb1-bbf4-edd464b0977a",
flutter:         "checked": "false"
flutter:       },
flutter:       "delta": "[{\"insert\":\"Task is mine\"}]",
flutter:       "parentId": "m8OEVv",
flutter:       "prevId": "bRdTay",
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "bRdTay": {
flutter:       "id": "bRdTay",
flutter:       "ty": "paragraph",
flutter:       "attributes": {
flutter:         "delta": "[]",
flutter:         "timestamp": "2025-04-24T17:03:55.612881",
flutter:         "device": "4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"
flutter:       },
flutter:       "delta": "[]",
flutter:       "parentId": "m8OEVv",
flutter:       "prevId": "sof0Bh",
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "m8OEVv": {
flutter:       "id": "m8OEVv",
flutter:       "ty": "page",
flutter:       "attributes": {
flutter:         "device": "3a00f73e-0356-4c61-a6e1-cb439d9dbf33",
flutter:         "timestamp": "2025-04-24T17:01:59.905543"
flutter:       },
flutter:       "delta": null,
flutter:       "parentId": null,
flutter:       "prevId": null,
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     }
flutter:   },
flutter:   "childrenMap": {
flutter:     "zhA_gK": [],
flutter:     "GJY6xH": [],
flutter:     "W7lMPh": [],
flutter:     "h5g-Ge": [],
flutter:     "Mk_Gts": [
flutter:       "W7lMPh"
flutter:     ],
flutter:     "sof0Bh": [],
flutter:     "bRdTay": [],
flutter:     "m8OEVv": [
flutter:       "GJY6xH",
flutter:       "Mk_Gts",
flutter:       "h5g-Ge",
flutter:       "sof0Bh",
flutter:       "bRdTay"
flutter:     ]
flutter:   },
flutter:   "rootId": "m8OEVv"
flutter: }
merge_updates: Merging 1 updates
merge_updates: Successfully merged updates
apply_updates: Starting with 26 updates for doc_id: xxxx
apply_updates: Starting with 26 updates for doc_id: xxxx
apply_updates: Applying update for doc_id: xxxx
apply_updates: Finished for doc_id: xxxx
apply_updates: Successfully applied updates for doc_id: xxxx
get_document_state: Starting for doc_id: xxxx
extract_document_state: Starting for doc_id: xxxx
extract_document_state: Processing 8 blocks
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 0 deltas
deltas_to_json: Converting 0 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
====== STARTING BLOCK SORTING ======
Input children_map has 8 parent nodes

----- Sorting children of parent: bRdTay -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent bRdTay: []

----- Sorting children of parent: Mk_Gts -----
Parent has 1 children to sort
Mapped 1 valid blocks by ID
Block W7lMPh assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Grouped blocks into 1 devices
  - Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 1 blocks
Block W7lMPh has no prev_id
Built prev->next map with 0 entries
Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 1 root blocks: ["W7lMPh"]
Processing devices in order: ["4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"]

Processing device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Sorted roots for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a: ["W7lMPh"]
Starting chain from root: W7lMPh
  Adding block W7lMPh to sorted list
  No next blocks for W7lMPh
No remaining blocks for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
No globally remaining blocks
Final sorted order for parent Mk_Gts: ["W7lMPh"]

----- Sorting children of parent: zhA_gK -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent zhA_gK: []

----- Sorting children of parent: GJY6xH -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent GJY6xH: []

----- Sorting children of parent: W7lMPh -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent W7lMPh: []

----- Sorting children of parent: sof0Bh -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent sof0Bh: []

----- Sorting children of parent: h5g-Ge -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent h5g-Ge: []

----- Sorting children of parent: m8OEVv -----
Parent has 6 children to sort
Mapped 5 valid blocks by ID
Block bRdTay assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block Mk_Gts assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block h5g-Ge assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block GJY6xH assigned to device 3a00f73e-0356-4c61-a6e1-cb439d9dbf33
Block sof0Bh assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Grouped blocks into 2 devices
  - Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 4 blocks
  - Device 3a00f73e-0356-4c61-a6e1-cb439d9dbf33 has 1 blocks
Block bRdTay has prev_id sof0Bh
Block Mk_Gts has prev_id GJY6xH
Block h5g-Ge has prev_id Mk_Gts
Block GJY6xH has no prev_id
Block sof0Bh has prev_id h5g-Ge
Built prev->next map with 4 entries
  - sof0Bh has 1 next blocks: ["bRdTay"]
  - h5g-Ge has 1 next blocks: ["sof0Bh"]
  - Mk_Gts has 1 next blocks: ["h5g-Ge"]
  - GJY6xH has 1 next blocks: ["Mk_Gts"]
Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has no root blocks
Device 3a00f73e-0356-4c61-a6e1-cb439d9dbf33 has 1 root blocks: ["GJY6xH"]
Processing devices in order: ["3a00f73e-0356-4c61-a6e1-cb439d9dbf33", "4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"]

Processing device: 3a00f73e-0356-4c61-a6e1-cb439d9dbf33
Sorted roots for device 3a00f73e-0356-4c61-a6e1-cb439d9dbf33: ["GJY6xH"]
Starting chain from root: GJY6xH
  Adding block GJY6xH to sorted list
    Pushing Mk_Gts onto stack
  Adding block Mk_Gts to sorted list
    Pushing h5g-Ge onto stack
  Adding block h5g-Ge to sorted list
    Pushing sof0Bh onto stack
  Adding block sof0Bh to sorted list
    Pushing bRdTay onto stack
  Adding block bRdTay to sorted list
  No next blocks for bRdTay
No remaining blocks for device 3a00f73e-0356-4c61-a6e1-cb439d9dbf33

Processing device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
No roots for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a, skipping
No globally remaining blocks
Final sorted order for parent m8OEVv: ["GJY6xH", "Mk_Gts", "h5g-Ge", "sof0Bh", "bRdTay"]
====== COMPLETED BLOCK SORTING ======
Final sorted children map has 8 parents
extract_document_state: Extracted 8 blocks and 8 parent-child relationships
get_document_state: Finished for doc_id: xxxx
flutter: {
flutter:   "docId": "xxxx",
flutter:   "blocks": {
flutter:     "GJY6xH": {
flutter:       "id": "GJY6xH",
flutter:       "ty": "paragraph",
flutter:       "attributes": {
flutter:         "delta": "[]",
flutter:         "device": "3a00f73e-0356-4c61-a6e1-cb439d9dbf33",
flutter:         "timestamp": "2025-04-24T17:01:59.907118"
flutter:       },
flutter:       "delta": "[{\"insert\":\"New Document\"}]",
flutter:       "parentId": "m8OEVv",
flutter:       "prevId": null,
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "sof0Bh": {
flutter:       "id": "sof0Bh",
flutter:       "ty": "paragraph",
flutter:       "attributes": {
flutter:         "device": "4cb3899a-3fe4-4bb1-bbf4-edd464b0977a",
flutter:         "delta": "[]",
flutter:         "timestamp": "2025-04-24T17:03:55.467041"
flutter:       },
flutter:       "delta": "[]",
flutter:       "parentId": "m8OEVv",
flutter:       "prevId": "h5g-Ge",
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "W7lMPh": {
flutter:       "id": "W7lMPh",
flutter:       "ty": "todo_list",
flutter:       "attributes": {
flutter:         "checked": "false",
flutter:         "device": "4cb3899a-3fe4-4bb1-bbf4-edd464b0977a",
flutter:         "delta": "[]",
flutter:         "timestamp": "2025-04-24T17:04:12.828783"
flutter:       },
flutter:       "delta": "[{\"insert\":\"arstarts\"}]",
flutter:       "parentId": "Mk_Gts",
flutter:       "prevId": null,
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "Mk_Gts": {
flutter:       "id": "Mk_Gts",
flutter:       "ty": "todo_list",
flutter:       "attributes": {
flutter:         "delta": "[]",
flutter:         "checked": "false",
flutter:         "timestamp": "2025-04-24T17:04:05.077214",
flutter:         "device": "4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"
flutter:       },
flutter:       "delta": "[{\"insert\":\"New Task 4\"}]",
flutter:       "parentId": "m8OEVv",
flutter:       "prevId": "GJY6xH",
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "bRdTay": {
flutter:       "id": "bRdTay",
flutter:       "ty": "paragraph",
flutter:       "attributes": {
flutter:         "delta": "[]",
flutter:         "device": "4cb3899a-3fe4-4bb1-bbf4-edd464b0977a",
flutter:         "timestamp": "2025-04-24T17:03:55.612881"
flutter:       },
flutter:       "delta": "[]",
flutter:       "parentId": "m8OEVv",
flutter:       "prevId": "sof0Bh",
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "zhA_gK": {
flutter:       "id": "zhA_gK",
flutter:       "ty": "todo_list",
flutter:       "attributes": {
flutter:         "checked": "false",
flutter:         "timestamp": "2025-04-24T17:04:02.277720",
flutter:         "delta": "[]",
flutter:         "device": "4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"
flutter:       },
flutter:       "delta": "[{\"insert\":\"Task is mine\"}]",
flutter:       "parentId": "m8OEVv",
flutter:       "prevId": "bRdTay",
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "m8OEVv": {
flutter:       "id": "m8OEVv",
flutter:       "ty": "page",
flutter:       "attributes": {
flutter:         "timestamp": "2025-04-24T17:01:59.905543",
flutter:         "device": "3a00f73e-0356-4c61-a6e1-cb439d9dbf33"
flutter:       },
flutter:       "delta": null,
flutter:       "parentId": null,
flutter:       "prevId": null,
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "h5g-Ge": {
flutter:       "id": "h5g-Ge",
flutter:       "ty": "paragraph",
flutter:       "attributes": {
flutter:         "delta": "[]",
flutter:         "timestamp": "2025-04-24T17:03:48.137357",
flutter:         "device": "4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"
flutter:       },
flutter:       "delta": "[{\"insert\":\"Here we go\"}]",
flutter:       "parentId": "m8OEVv",
flutter:       "prevId": "Mk_Gts",
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     }
flutter:   },
flutter:   "childrenMap": {
flutter:     "W7lMPh": [],
flutter:     "m8OEVv": [
flutter:       "GJY6xH",
flutter:       "Mk_Gts",
flutter:       "h5g-Ge",
flutter:       "sof0Bh",
flutter:       "bRdTay"
flutter:     ],
flutter:     "Mk_Gts": [
flutter:       "W7lMPh"
flutter:     ],
flutter:     "h5g-Ge": [],
flutter:     "bRdTay": [],
flutter:     "sof0Bh": [],
flutter:     "zhA_gK": [],
flutter:     "GJY6xH": []
flutter:   },
flutter:   "rootId": "m8OEVv"
flutter: }
flutter: onDragStarted
flutter: the drag offset is inside the block, dragOffset(Offset(128.6, 93.8)), globalBlockRect(Rect.fromLTRB(120.0, 56.0, 680.0, 94.0))
flutter: the drag offset is inside the block, dragOffset(Offset(128.6, 87.8)), globalBlockRect(Rect.fromLTRB(120.0, 56.0, 680.0, 94.0))
flutter: the drag offset is inside the block, dragOffset(Offset(128.6, 79.3)), globalBlockRect(Rect.fromLTRB(120.0, 56.0, 680.0, 94.0))
flutter: the drag offset is inside the block, dragOffset(Offset(128.6, 75.9)), globalBlockRect(Rect.fromLTRB(120.0, 56.0, 680.0, 94.0))
flutter: the drag offset is inside the block, dragOffset(Offset(128.3, 75.2)), globalBlockRect(Rect.fromLTRB(120.0, 56.0, 680.0, 94.0))
flutter: the drag offset is inside the block, dragOffset(Offset(128.3, 74.9)), globalBlockRect(Rect.fromLTRB(120.0, 56.0, 680.0, 94.0))
flutter: the drag offset is inside the block, dragOffset(Offset(127.9, 73.8)), globalBlockRect(Rect.fromLTRB(120.0, 56.0, 680.0, 94.0))
flutter: the drag offset is inside the block, dragOffset(Offset(127.9, 73.3)), globalBlockRect(Rect.fromLTRB(120.0, 56.0, 680.0, 94.0))
flutter: the drag offset is inside the block, dragOffset(Offset(127.9, 72.1)), globalBlockRect(Rect.fromLTRB(120.0, 56.0, 680.0, 94.0))
flutter: the drag offset is inside the block, dragOffset(Offset(127.3, 69.5)), globalBlockRect(Rect.fromLTRB(120.0, 56.0, 680.0, 94.0))
flutter: the drag offset is inside the block, dragOffset(Offset(127.1, 68.5)), globalBlockRect(Rect.fromLTRB(120.0, 56.0, 680.0, 94.0))
flutter: the drag offset is inside the block, dragOffset(Offset(127.1, 67.4)), globalBlockRect(Rect.fromLTRB(120.0, 56.0, 680.0, 94.0))
flutter: the drag offset is inside the block, dragOffset(Offset(126.8, 66.6)), globalBlockRect(Rect.fromLTRB(120.0, 56.0, 680.0, 94.0))
flutter: onDragEnd, acceptedPath([0])
flutter: the drag offset is inside the block, dragOffset(Offset(126.8, 66.3)), globalBlockRect(Rect.fromLTRB(120.0, 56.0, 680.0, 94.0))
flutter: Moving node(Node(id: Mk_Gts, type: todo_list, attributes: {delta: [{insert: New Task 4}], checked: false, timestamp: 2025-04-24T17:04:05.077214, device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a}, children: [Node(id: W7lMPh, type: todo_list, attributes: {checked: false, device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a, delta: [{insert: arstarts}], timestamp: 2025-04-24T17:04:12.828783}, children: [])]), [1]) to path([0])
flutter: Transaction done
apply_action: Starting with 1 actions for doc_id: xxxx
move_block: Moving block_id: Mk_Gts from parent: m8OEVv to parent: m8OEVv
remove_block_from_prev_id_chain: Removing block Mk_Gts from chain
  Block Mk_Gts has prev_id: GJY6xH
  Finding blocks that reference Mk_Gts as their prev_id
find_block_referencing_prev_id: Searching for blocks with prev_id = Mk_Gts
  Found 8 total blocks to check
  Checking block: m8OEVv
    Block does not have prev_id
  Checking block: W7lMPh
    Block does not have prev_id
  Checking block: GJY6xH
    Block does not have prev_id
  Checking block: h5g-Ge
    Block has prev_id: Mk_Gts, matches target: true
  Checking block: sof0Bh
    Block has prev_id: h5g-Ge, matches target: false
  Checking block: bRdTay
    Block has prev_id: sof0Bh, matches target: false
  Checking block: Mk_Gts
    Block has prev_id: GJY6xH, matches target: false
  Checking block: zhA_gK
    Block has prev_id: bRdTay, matches target: false
find_block_referencing_prev_id: Found 1 blocks with prev_id = Mk_Gts: ["h5g-Ge"]
  Found 1 next blocks: ["h5g-Ge"]
  Updating next block h5g-Ge to point to GJY6xH (was pointing to Mk_Gts)
remove_block_from_prev_id_chain: Completed
handle_following_connection: block_id=Mk_Gts, next_id=Some("GJY6xH"), prev_id=None
  Using next_id strategy (next_id=GJY6xH)
  Setting prev_id of next block GJY6xH to Mk_Gts
  Attempting to copy device and timestamp from next block GJY6xH to Mk_Gts
  WARNING: Next block has no device attribute
  WARNING: Next block has no timestamp attribute
  Finished next_id strategy
handle_following_connection: Completed
move_block: Moved block within same parent
apply_action: Encoding state for doc_id: xxxx
apply_updates: Starting with 26 updates for doc_id: xxxx
apply_updates: Starting with 26 updates for doc_id: xxxx
apply_updates: Applying update for doc_id: xxxx
apply_updates: Finished for doc_id: xxxx
apply_updates: Successfully applied updates for doc_id: xxxx
get_document_state: Starting for doc_id: xxxx
extract_document_state: Starting for doc_id: xxxx
extract_document_state: Processing 8 blocks
deltas_to_json: Converting 0 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 0 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
====== STARTING BLOCK SORTING ======
Input children_map has 8 parent nodes

----- Sorting children of parent: bRdTay -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent bRdTay: []

----- Sorting children of parent: h5g-Ge -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent h5g-Ge: []

----- Sorting children of parent: m8OEVv -----
Parent has 6 children to sort
Mapped 5 valid blocks by ID
Block sof0Bh assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block Mk_Gts assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block GJY6xH assigned to device 3a00f73e-0356-4c61-a6e1-cb439d9dbf33
Block h5g-Ge assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block bRdTay assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Grouped blocks into 2 devices
  - Device 3a00f73e-0356-4c61-a6e1-cb439d9dbf33 has 1 blocks
  - Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 4 blocks
Block sof0Bh has prev_id h5g-Ge
Block Mk_Gts has no prev_id
Block GJY6xH has prev_id Mk_Gts
Block h5g-Ge has prev_id GJY6xH
Block bRdTay has prev_id sof0Bh
Built prev->next map with 4 entries
  - h5g-Ge has 1 next blocks: ["sof0Bh"]
  - GJY6xH has 1 next blocks: ["h5g-Ge"]
  - Mk_Gts has 1 next blocks: ["GJY6xH"]
  - sof0Bh has 1 next blocks: ["bRdTay"]
Device 3a00f73e-0356-4c61-a6e1-cb439d9dbf33 has no root blocks
Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 1 root blocks: ["Mk_Gts"]
Processing devices in order: ["3a00f73e-0356-4c61-a6e1-cb439d9dbf33", "4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"]

Processing device: 3a00f73e-0356-4c61-a6e1-cb439d9dbf33
No roots for device 3a00f73e-0356-4c61-a6e1-cb439d9dbf33, skipping

Processing device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Sorted roots for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a: ["Mk_Gts"]
Starting chain from root: Mk_Gts
  Adding block Mk_Gts to sorted list
    Pushing GJY6xH onto stack
  Adding block GJY6xH to sorted list
    Pushing h5g-Ge onto stack
  Adding block h5g-Ge to sorted list
    Pushing sof0Bh onto stack
  Adding block sof0Bh to sorted list
    Pushing bRdTay onto stack
  Adding block bRdTay to sorted list
  No next blocks for bRdTay
No remaining blocks for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
No globally remaining blocks
Final sorted order for parent m8OEVv: ["Mk_Gts", "GJY6xH", "h5g-Ge", "sof0Bh", "bRdTay"]

----- Sorting children of parent: Mk_Gts -----
Parent has 1 children to sort
Mapped 1 valid blocks by ID
Block W7lMPh assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Grouped blocks into 1 devices
  - Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 1 blocks
Block W7lMPh has no prev_id
Built prev->next map with 0 entries
Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 1 root blocks: ["W7lMPh"]
Processing devices in order: ["4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"]

Processing device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Sorted roots for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a: ["W7lMPh"]
Starting chain from root: W7lMPh
  Adding block W7lMPh to sorted list
  No next blocks for W7lMPh
No remaining blocks for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
No globally remaining blocks
Final sorted order for parent Mk_Gts: ["W7lMPh"]

----- Sorting children of parent: zhA_gK -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent zhA_gK: []

----- Sorting children of parent: sof0Bh -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent sof0Bh: []

----- Sorting children of parent: GJY6xH -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent GJY6xH: []

----- Sorting children of parent: W7lMPh -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent W7lMPh: []
====== COMPLETED BLOCK SORTING ======
Final sorted children map has 8 parents
extract_document_state: Extracted 8 blocks and 8 parent-child relationships
get_document_state: Finished for doc_id: xxxx
flutter: {
flutter:   "docId": "xxxx",
flutter:   "blocks": {
flutter:     "Mk_Gts": {
flutter:       "id": "Mk_Gts",
flutter:       "ty": "todo_list",
flutter:       "attributes": {
flutter:         "timestamp": "2025-04-24T17:04:05.077214",
flutter:         "checked": "false",
flutter:         "delta": "[]",
flutter:         "device": "4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"
flutter:       },
flutter:       "delta": "[{\"insert\":\"New Task 4\"}]",
flutter:       "parentId": "m8OEVv",
flutter:       "prevId": null,
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "zhA_gK": {
flutter:       "id": "zhA_gK",
flutter:       "ty": "todo_list",
flutter:       "attributes": {
flutter:         "checked": "false",
flutter:         "delta": "[]",
flutter:         "timestamp": "2025-04-24T17:04:02.277720",
flutter:         "device": "4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"
flutter:       },
flutter:       "delta": "[{\"insert\":\"Task is mine\"}]",
flutter:       "parentId": "m8OEVv",
flutter:       "prevId": "bRdTay",
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "bRdTay": {
flutter:       "id": "bRdTay",
flutter:       "ty": "paragraph",
flutter:       "attributes": {
flutter:         "timestamp": "2025-04-24T17:03:55.612881",
flutter:         "device": "4cb3899a-3fe4-4bb1-bbf4-edd464b0977a",
flutter:         "delta": "[]"
flutter:       },
flutter:       "delta": "[]",
flutter:       "parentId": "m8OEVv",
flutter:       "prevId": "sof0Bh",
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "m8OEVv": {
flutter:       "id": "m8OEVv",
flutter:       "ty": "page",
flutter:       "attributes": {
flutter:         "device": "3a00f73e-0356-4c61-a6e1-cb439d9dbf33",
flutter:         "timestamp": "2025-04-24T17:01:59.905543"
flutter:       },
flutter:       "delta": null,
flutter:       "parentId": null,
flutter:       "prevId": null,
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "h5g-Ge": {
flutter:       "id": "h5g-Ge",
flutter:       "ty": "paragraph",
flutter:       "attributes": {
flutter:         "timestamp": "2025-04-24T17:03:48.137357",
flutter:         "delta": "[]",
flutter:         "device": "4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"
flutter:       },
flutter:       "delta": "[{\"insert\":\"Here we go\"}]",
flutter:       "parentId": "m8OEVv",
flutter:       "prevId": "GJY6xH",
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "sof0Bh": {
flutter:       "id": "sof0Bh",
flutter:       "ty": "paragraph",
flutter:       "attributes": {
flutter:         "delta": "[]",
flutter:         "timestamp": "2025-04-24T17:03:55.467041",
flutter:         "device": "4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"
flutter:       },
flutter:       "delta": "[]",
flutter:       "parentId": "m8OEVv",
flutter:       "prevId": "h5g-Ge",
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "GJY6xH": {
flutter:       "id": "GJY6xH",
flutter:       "ty": "paragraph",
flutter:       "attributes": {
flutter:         "delta": "[]",
flutter:         "device": "3a00f73e-0356-4c61-a6e1-cb439d9dbf33",
flutter:         "timestamp": "2025-04-24T17:01:59.907118"
flutter:       },
flutter:       "delta": "[{\"insert\":\"New Document\"}]",
flutter:       "parentId": "m8OEVv",
flutter:       "prevId": "Mk_Gts",
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "W7lMPh": {
flutter:       "id": "W7lMPh",
flutter:       "ty": "todo_list",
flutter:       "attributes": {
flutter:         "timestamp": "2025-04-24T17:04:12.828783",
flutter:         "device": "4cb3899a-3fe4-4bb1-bbf4-edd464b0977a",
flutter:         "checked": "false",
flutter:         "delta": "[]"
flutter:       },
flutter:       "delta": "[{\"insert\":\"arstarts\"}]",
flutter:       "parentId": "Mk_Gts",
flutter:       "prevId": null,
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     }
flutter:   },
flutter:   "childrenMap": {
flutter:     "m8OEVv": [
flutter:       "Mk_Gts",
flutter:       "GJY6xH",
flutter:       "h5g-Ge",
flutter:       "sof0Bh",
flutter:       "bRdTay"
flutter:     ],
flutter:     "Mk_Gts": [
flutter:       "W7lMPh"
flutter:     ],
flutter:     "W7lMPh": [],
flutter:     "bRdTay": [],
flutter:     "h5g-Ge": [],
flutter:     "zhA_gK": [],
flutter:     "GJY6xH": [],
flutter:     "sof0Bh": []
flutter:   },
flutter:   "rootId": "m8OEVv"
flutter: }
merge_updates: Merging 1 updates
merge_updates: Successfully merged updates
apply_updates: Starting with 27 updates for doc_id: xxxx
apply_updates: Starting with 27 updates for doc_id: xxxx
apply_updates: Applying update for doc_id: xxxx
apply_updates: Finished for doc_id: xxxx
apply_updates: Successfully applied updates for doc_id: xxxx
get_document_state: Starting for doc_id: xxxx
extract_document_state: Starting for doc_id: xxxx
extract_document_state: Processing 8 blocks
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 0 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 0 deltas
====== STARTING BLOCK SORTING ======
Input children_map has 8 parent nodes

----- Sorting children of parent: sof0Bh -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent sof0Bh: []

----- Sorting children of parent: GJY6xH -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent GJY6xH: []

----- Sorting children of parent: h5g-Ge -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent h5g-Ge: []

----- Sorting children of parent: Mk_Gts -----
Parent has 1 children to sort
Mapped 1 valid blocks by ID
Block W7lMPh assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Grouped blocks into 1 devices
  - Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 1 blocks
Block W7lMPh has no prev_id
Built prev->next map with 0 entries
Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 1 root blocks: ["W7lMPh"]
Processing devices in order: ["4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"]

Processing device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Sorted roots for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a: ["W7lMPh"]
Starting chain from root: W7lMPh
  Adding block W7lMPh to sorted list
  No next blocks for W7lMPh
No remaining blocks for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
No globally remaining blocks
Final sorted order for parent Mk_Gts: ["W7lMPh"]

----- Sorting children of parent: bRdTay -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent bRdTay: []

----- Sorting children of parent: m8OEVv -----
Parent has 6 children to sort
Mapped 5 valid blocks by ID
Block GJY6xH assigned to device 3a00f73e-0356-4c61-a6e1-cb439d9dbf33
Block h5g-Ge assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block Mk_Gts assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block sof0Bh assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block bRdTay assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Grouped blocks into 2 devices
  - Device 3a00f73e-0356-4c61-a6e1-cb439d9dbf33 has 1 blocks
  - Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 4 blocks
Block GJY6xH has prev_id Mk_Gts
Block h5g-Ge has prev_id GJY6xH
Block Mk_Gts has no prev_id
Block sof0Bh has prev_id h5g-Ge
Block bRdTay has prev_id sof0Bh
Built prev->next map with 4 entries
  - h5g-Ge has 1 next blocks: ["sof0Bh"]
  - GJY6xH has 1 next blocks: ["h5g-Ge"]
  - Mk_Gts has 1 next blocks: ["GJY6xH"]
  - sof0Bh has 1 next blocks: ["bRdTay"]
Device 3a00f73e-0356-4c61-a6e1-cb439d9dbf33 has no root blocks
Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 1 root blocks: ["Mk_Gts"]
Processing devices in order: ["3a00f73e-0356-4c61-a6e1-cb439d9dbf33", "4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"]

Processing device: 3a00f73e-0356-4c61-a6e1-cb439d9dbf33
No roots for device 3a00f73e-0356-4c61-a6e1-cb439d9dbf33, skipping

Processing device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Sorted roots for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a: ["Mk_Gts"]
Starting chain from root: Mk_Gts
  Adding block Mk_Gts to sorted list
    Pushing GJY6xH onto stack
  Adding block GJY6xH to sorted list
    Pushing h5g-Ge onto stack
  Adding block h5g-Ge to sorted list
    Pushing sof0Bh onto stack
  Adding block sof0Bh to sorted list
    Pushing bRdTay onto stack
  Adding block bRdTay to sorted list
  No next blocks for bRdTay
No remaining blocks for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
No globally remaining blocks
Final sorted order for parent m8OEVv: ["Mk_Gts", "GJY6xH", "h5g-Ge", "sof0Bh", "bRdTay"]

----- Sorting children of parent: W7lMPh -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent W7lMPh: []

----- Sorting children of parent: zhA_gK -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent zhA_gK: []
====== COMPLETED BLOCK SORTING ======
Final sorted children map has 8 parents
extract_document_state: Extracted 8 blocks and 8 parent-child relationships
get_document_state: Finished for doc_id: xxxx
flutter: {
flutter:   "docId": "xxxx",
flutter:   "blocks": {
flutter:     "Mk_Gts": {
flutter:       "id": "Mk_Gts",
flutter:       "ty": "todo_list",
flutter:       "attributes": {
flutter:         "delta": "[]",
flutter:         "checked": "false",
flutter:         "timestamp": "2025-04-24T17:04:05.077214",
flutter:         "device": "4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"
flutter:       },
flutter:       "delta": "[{\"insert\":\"New Task 4\"}]",
flutter:       "parentId": "m8OEVv",
flutter:       "prevId": null,
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "sof0Bh": {
flutter:       "id": "sof0Bh",
flutter:       "ty": "paragraph",
flutter:       "attributes": {
flutter:         "timestamp": "2025-04-24T17:03:55.467041",
flutter:         "delta": "[]",
flutter:         "device": "4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"
flutter:       },
flutter:       "delta": "[]",
flutter:       "parentId": "m8OEVv",
flutter:       "prevId": "h5g-Ge",
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "zhA_gK": {
flutter:       "id": "zhA_gK",
flutter:       "ty": "todo_list",
flutter:       "attributes": {
flutter:         "device": "4cb3899a-3fe4-4bb1-bbf4-edd464b0977a",
flutter:         "timestamp": "2025-04-24T17:04:02.277720",
flutter:         "checked": "false",
flutter:         "delta": "[]"
flutter:       },
flutter:       "delta": "[{\"insert\":\"Task is mine\"}]",
flutter:       "parentId": "m8OEVv",
flutter:       "prevId": "bRdTay",
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "GJY6xH": {
flutter:       "id": "GJY6xH",
flutter:       "ty": "paragraph",
flutter:       "attributes": {
flutter:         "timestamp": "2025-04-24T17:01:59.907118",
flutter:         "delta": "[]",
flutter:         "device": "3a00f73e-0356-4c61-a6e1-cb439d9dbf33"
flutter:       },
flutter:       "delta": "[{\"insert\":\"New Document\"}]",
flutter:       "parentId": "m8OEVv",
flutter:       "prevId": "Mk_Gts",
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "h5g-Ge": {
flutter:       "id": "h5g-Ge",
flutter:       "ty": "paragraph",
flutter:       "attributes": {
flutter:         "delta": "[]",
flutter:         "timestamp": "2025-04-24T17:03:48.137357",
flutter:         "device": "4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"
flutter:       },
flutter:       "delta": "[{\"insert\":\"Here we go\"}]",
flutter:       "parentId": "m8OEVv",
flutter:       "prevId": "GJY6xH",
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "m8OEVv": {
flutter:       "id": "m8OEVv",
flutter:       "ty": "page",
flutter:       "attributes": {
flutter:         "device": "3a00f73e-0356-4c61-a6e1-cb439d9dbf33",
flutter:         "timestamp": "2025-04-24T17:01:59.905543"
flutter:       },
flutter:       "delta": null,
flutter:       "parentId": null,
flutter:       "prevId": null,
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "bRdTay": {
flutter:       "id": "bRdTay",
flutter:       "ty": "paragraph",
flutter:       "attributes": {
flutter:         "device": "4cb3899a-3fe4-4bb1-bbf4-edd464b0977a",
flutter:         "timestamp": "2025-04-24T17:03:55.612881",
flutter:         "delta": "[]"
flutter:       },
flutter:       "delta": "[]",
flutter:       "parentId": "m8OEVv",
flutter:       "prevId": "sof0Bh",
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "W7lMPh": {
flutter:       "id": "W7lMPh",
flutter:       "ty": "todo_list",
flutter:       "attributes": {
flutter:         "timestamp": "2025-04-24T17:04:12.828783",
flutter:         "delta": "[]",
flutter:         "checked": "false",
flutter:         "device": "4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"
flutter:       },
flutter:       "delta": "[{\"insert\":\"arstarts\"}]",
flutter:       "parentId": "Mk_Gts",
flutter:       "prevId": null,
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     }
flutter:   },
flutter:   "childrenMap": {
flutter:     "m8OEVv": [
flutter:       "Mk_Gts",
flutter:       "GJY6xH",
flutter:       "h5g-Ge",
flutter:       "sof0Bh",
flutter:       "bRdTay"
flutter:     ],
flutter:     "sof0Bh": [],
flutter:     "W7lMPh": [],
flutter:     "bRdTay": [],
flutter:     "h5g-Ge": [],
flutter:     "GJY6xH": [],
flutter:     "Mk_Gts": [
flutter:       "W7lMPh"
flutter:     ],
flutter:     "zhA_gK": []
flutter:   },
flutter:   "rootId": "m8OEVv"
flutter: }
flutter: Transaction done
apply_action: Starting with 6 actions for doc_id: xxxx
delete_node: Starting for block_id: W7lMPh
remove_block_from_prev_id_chain: Removing block W7lMPh from chain
  Finding blocks that reference W7lMPh as their prev_id
find_block_referencing_prev_id: Searching for blocks with prev_id = W7lMPh
  Found 8 total blocks to check
  Checking block: Mk_Gts
    Block does not have prev_id
  Checking block: sof0Bh
    Block has prev_id: h5g-Ge, matches target: false
  Checking block: h5g-Ge
    Block has prev_id: GJY6xH, matches target: false
  Checking block: W7lMPh
    Block does not have prev_id
  Checking block: zhA_gK
    Block has prev_id: bRdTay, matches target: false
  Checking block: GJY6xH
    Block has prev_id: Mk_Gts, matches target: false
  Checking block: m8OEVv
    Block does not have prev_id
  Checking block: bRdTay
    Block has prev_id: sof0Bh, matches target: false
find_block_referencing_prev_id: Found 0 blocks with prev_id = W7lMPh: []
  Found 0 next blocks: []
remove_block_from_prev_id_chain: Completed
delete_node: Successfully deleted block_id: W7lMPh
delete_node: Starting for block_id: GJY6xH
remove_block_from_prev_id_chain: Removing block GJY6xH from chain
  Block GJY6xH has prev_id: Mk_Gts
  Finding blocks that reference GJY6xH as their prev_id
find_block_referencing_prev_id: Searching for blocks with prev_id = GJY6xH
  Found 7 total blocks to check
  Checking block: Mk_Gts
    Block does not have prev_id
  Checking block: sof0Bh
    Block has prev_id: h5g-Ge, matches target: false
  Checking block: h5g-Ge
    Block has prev_id: GJY6xH, matches target: true
  Checking block: zhA_gK
    Block has prev_id: bRdTay, matches target: false
  Checking block: GJY6xH
    Block has prev_id: Mk_Gts, matches target: false
  Checking block: m8OEVv
    Block does not have prev_id
  Checking block: bRdTay
    Block has prev_id: sof0Bh, matches target: false
find_block_referencing_prev_id: Found 1 blocks with prev_id = GJY6xH: ["h5g-Ge"]
  Found 1 next blocks: ["h5g-Ge"]
  Updating next block h5g-Ge to point to Mk_Gts (was pointing to GJY6xH)
remove_block_from_prev_id_chain: Completed
delete_node: Successfully deleted block_id: GJY6xH
delete_node: Starting for block_id: h5g-Ge
remove_block_from_prev_id_chain: Removing block h5g-Ge from chain
  Block h5g-Ge has prev_id: Mk_Gts
  Finding blocks that reference h5g-Ge as their prev_id
find_block_referencing_prev_id: Searching for blocks with prev_id = h5g-Ge
  Found 6 total blocks to check
  Checking block: Mk_Gts
    Block does not have prev_id
  Checking block: sof0Bh
    Block has prev_id: h5g-Ge, matches target: true
  Checking block: h5g-Ge
    Block has prev_id: Mk_Gts, matches target: false
  Checking block: zhA_gK
    Block has prev_id: bRdTay, matches target: false
  Checking block: m8OEVv
    Block does not have prev_id
  Checking block: bRdTay
    Block has prev_id: sof0Bh, matches target: false
find_block_referencing_prev_id: Found 1 blocks with prev_id = h5g-Ge: ["sof0Bh"]
  Found 1 next blocks: ["sof0Bh"]
  Updating next block sof0Bh to point to Mk_Gts (was pointing to h5g-Ge)
remove_block_from_prev_id_chain: Completed
delete_node: Successfully deleted block_id: h5g-Ge
delete_node: Starting for block_id: Mk_Gts
remove_block_from_prev_id_chain: Removing block Mk_Gts from chain
  Finding blocks that reference Mk_Gts as their prev_id
find_block_referencing_prev_id: Searching for blocks with prev_id = Mk_Gts
  Found 5 total blocks to check
  Checking block: Mk_Gts
    Block does not have prev_id
  Checking block: sof0Bh
    Block has prev_id: Mk_Gts, matches target: true
  Checking block: zhA_gK
    Block has prev_id: bRdTay, matches target: false
  Checking block: m8OEVv
    Block does not have prev_id
  Checking block: bRdTay
    Block has prev_id: sof0Bh, matches target: false
find_block_referencing_prev_id: Found 1 blocks with prev_id = Mk_Gts: ["sof0Bh"]
  Found 1 next blocks: ["sof0Bh"]
  Removing prev_id from next block sof0Bh (was pointing to Mk_Gts)
remove_block_from_prev_id_chain: Completed
delete_node: Successfully deleted block_id: Mk_Gts
delete_node: Starting for block_id: sof0Bh
remove_block_from_prev_id_chain: Removing block sof0Bh from chain
  Finding blocks that reference sof0Bh as their prev_id
find_block_referencing_prev_id: Searching for blocks with prev_id = sof0Bh
  Found 4 total blocks to check
  Checking block: sof0Bh
    Block does not have prev_id
  Checking block: zhA_gK
    Block has prev_id: bRdTay, matches target: false
  Checking block: m8OEVv
    Block does not have prev_id
  Checking block: bRdTay
    Block has prev_id: sof0Bh, matches target: true
find_block_referencing_prev_id: Found 1 blocks with prev_id = sof0Bh: ["bRdTay"]
  Found 1 next blocks: ["bRdTay"]
  Removing prev_id from next block bRdTay (was pointing to sof0Bh)
remove_block_from_prev_id_chain: Completed
delete_node: Successfully deleted block_id: sof0Bh
update_node: Updating block_id: Mk_Gts
deltas_to_json: Converting 0 deltas
apply_delta_to_text: Computing delta diff
apply_delta_to_text: Parsing delta diff from JSON
apply_delta_to_text: No changes to apply
update_node: Updated block_id: Mk_Gts
apply_action: Encoding state for doc_id: xxxx
apply_updates: Starting with 27 updates for doc_id: xxxx
apply_updates: Starting with 27 updates for doc_id: xxxx
apply_updates: Applying update for doc_id: xxxx
apply_updates: Finished for doc_id: xxxx
apply_updates: Successfully applied updates for doc_id: xxxx
get_document_state: Starting for doc_id: xxxx
extract_document_state: Starting for doc_id: xxxx
extract_document_state: Processing 4 blocks
deltas_to_json: Converting 0 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 0 deltas
====== STARTING BLOCK SORTING ======
Input children_map has 3 parent nodes

----- Sorting children of parent: zhA_gK -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent zhA_gK: []

----- Sorting children of parent: bRdTay -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent bRdTay: []

----- Sorting children of parent: m8OEVv -----
Parent has 2 children to sort
Mapped 2 valid blocks by ID
Block Mk_Gts assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block bRdTay assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Grouped blocks into 1 devices
  - Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 2 blocks
Block Mk_Gts has no prev_id
Block bRdTay has no prev_id
Built prev->next map with 0 entries
Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 2 root blocks: ["Mk_Gts", "bRdTay"]
Processing devices in order: ["4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"]

Processing device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Comparing root blocks: bRdTay (time: 2025-04-24T17:03:55.612881) vs Mk_Gts (time: 2025-04-24T17:04:05.077214)
Sorted roots for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a: ["bRdTay", "Mk_Gts"]
Starting chain from root: bRdTay
  Adding block bRdTay to sorted list
  No next blocks for bRdTay
Starting chain from root: Mk_Gts
  Adding block Mk_Gts to sorted list
  No next blocks for Mk_Gts
No remaining blocks for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
No globally remaining blocks
Final sorted order for parent m8OEVv: ["bRdTay", "Mk_Gts"]
====== COMPLETED BLOCK SORTING ======
Final sorted children map has 3 parents
extract_document_state: Extracted 4 blocks and 3 parent-child relationships
get_document_state: Finished for doc_id: xxxx
flutter: {
flutter:   "docId": "xxxx",
flutter:   "blocks": {
flutter:     "m8OEVv": {
flutter:       "id": "m8OEVv",
flutter:       "ty": "page",
flutter:       "attributes": {
flutter:         "device": "3a00f73e-0356-4c61-a6e1-cb439d9dbf33",
flutter:         "timestamp": "2025-04-24T17:01:59.905543"
flutter:       },
flutter:       "delta": null,
flutter:       "parentId": null,
flutter:       "prevId": null,
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "bRdTay": {
flutter:       "id": "bRdTay",
flutter:       "ty": "paragraph",
flutter:       "attributes": {
flutter:         "device": "4cb3899a-3fe4-4bb1-bbf4-edd464b0977a",
flutter:         "timestamp": "2025-04-24T17:03:55.612881",
flutter:         "delta": "[]"
flutter:       },
flutter:       "delta": "[]",
flutter:       "parentId": "m8OEVv",
flutter:       "prevId": null,
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "Mk_Gts": {
flutter:       "id": "Mk_Gts",
flutter:       "ty": "",
flutter:       "attributes": {
flutter:         "device": "4cb3899a-3fe4-4bb1-bbf4-edd464b0977a",
flutter:         "timestamp": "2025-04-24T17:04:05.077214",
flutter:         "checked": "false"
flutter:       },
flutter:       "delta": "[]",
flutter:       "parentId": null,
flutter:       "prevId": null,
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "zhA_gK": {
flutter:       "id": "zhA_gK",
flutter:       "ty": "todo_list",
flutter:       "attributes": {
flutter:         "timestamp": "2025-04-24T17:04:02.277720",
flutter:         "device": "4cb3899a-3fe4-4bb1-bbf4-edd464b0977a",
flutter:         "checked": "false",
flutter:         "delta": "[]"
flutter:       },
flutter:       "delta": "[{\"insert\":\"Task is mine\"}]",
flutter:       "parentId": "m8OEVv",
flutter:       "prevId": "bRdTay",
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     }
flutter:   },
flutter:   "childrenMap": {
flutter:     "bRdTay": [],
flutter:     "zhA_gK": [],
flutter:     "m8OEVv": [
flutter:       "bRdTay",
flutter:       "Mk_Gts"
flutter:     ]
flutter:   },
flutter:   "rootId": "m8OEVv"
flutter: }
merge_updates: Merging 1 updates
merge_updates: Successfully merged updates
apply_updates: Starting with 28 updates for doc_id: xxxx
apply_updates: Starting with 28 updates for doc_id: xxxx
apply_updates: Applying update for doc_id: xxxx
apply_updates: Finished for doc_id: xxxx
apply_updates: Successfully applied updates for doc_id: xxxx
get_document_state: Starting for doc_id: xxxx
extract_document_state: Starting for doc_id: xxxx
extract_document_state: Processing 4 blocks
deltas_to_json: Converting 0 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 0 deltas
====== STARTING BLOCK SORTING ======
Input children_map has 3 parent nodes

----- Sorting children of parent: bRdTay -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent bRdTay: []

----- Sorting children of parent: m8OEVv -----
Parent has 2 children to sort
Mapped 2 valid blocks by ID
Block Mk_Gts assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block bRdTay assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Grouped blocks into 1 devices
  - Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 2 blocks
Block Mk_Gts has no prev_id
Block bRdTay has no prev_id
Built prev->next map with 0 entries
Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 2 root blocks: ["Mk_Gts", "bRdTay"]
Processing devices in order: ["4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"]

Processing device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Comparing root blocks: bRdTay (time: 2025-04-24T17:03:55.612881) vs Mk_Gts (time: 2025-04-24T17:04:05.077214)
Sorted roots for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a: ["bRdTay", "Mk_Gts"]
Starting chain from root: bRdTay
  Adding block bRdTay to sorted list
  No next blocks for bRdTay
Starting chain from root: Mk_Gts
  Adding block Mk_Gts to sorted list
  No next blocks for Mk_Gts
No remaining blocks for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
No globally remaining blocks
Final sorted order for parent m8OEVv: ["bRdTay", "Mk_Gts"]

----- Sorting children of parent: zhA_gK -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent zhA_gK: []
====== COMPLETED BLOCK SORTING ======
Final sorted children map has 3 parents
extract_document_state: Extracted 4 blocks and 3 parent-child relationships
get_document_state: Finished for doc_id: xxxx
flutter: Transaction done
apply_action: Starting with 1 actions for doc_id: xxxx
update_node: Updating block_id: bRdTay
deltas_to_json: Converting 0 deltas
apply_delta_to_text: Computing delta diff
apply_delta_to_text: Parsing delta diff from JSON
apply_delta_diff_to_text: Starting with 1 operations
update_node: Updated block_id: bRdTay
apply_action: Encoding state for doc_id: xxxx
apply_updates: Starting with 28 updates for doc_id: xxxx
apply_updates: Starting with 28 updates for doc_id: xxxx
apply_updates: Applying update for doc_id: xxxx
apply_updates: Finished for doc_id: xxxx
apply_updates: Successfully applied updates for doc_id: xxxx
get_document_state: Starting for doc_id: xxxx
extract_document_state: Starting for doc_id: xxxx
extract_document_state: Processing 4 blocks
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 0 deltas
====== STARTING BLOCK SORTING ======
Input children_map has 3 parent nodes

----- Sorting children of parent: zhA_gK -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent zhA_gK: []

----- Sorting children of parent: bRdTay -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent bRdTay: []

----- Sorting children of parent: m8OEVv -----
Parent has 2 children to sort
Mapped 2 valid blocks by ID
Block bRdTay assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block Mk_Gts assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Grouped blocks into 1 devices
  - Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 2 blocks
Block bRdTay has no prev_id
Block Mk_Gts has no prev_id
Built prev->next map with 0 entries
Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 2 root blocks: ["bRdTay", "Mk_Gts"]
Processing devices in order: ["4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"]

Processing device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Comparing root blocks: Mk_Gts (time: 2025-04-24T17:04:05.077214) vs bRdTay (time: 2025-04-24T17:03:55.612881)
Sorted roots for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a: ["bRdTay", "Mk_Gts"]
Starting chain from root: bRdTay
  Adding block bRdTay to sorted list
  No next blocks for bRdTay
Starting chain from root: Mk_Gts
  Adding block Mk_Gts to sorted list
  No next blocks for Mk_Gts
No remaining blocks for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
No globally remaining blocks
Final sorted order for parent m8OEVv: ["bRdTay", "Mk_Gts"]
====== COMPLETED BLOCK SORTING ======
Final sorted children map has 3 parents
extract_document_state: Extracted 4 blocks and 3 parent-child relationships
get_document_state: Finished for doc_id: xxxx
flutter: Transaction done
apply_action: Starting with 1 actions for doc_id: xxxx
update_node: Updating block_id: bRdTay
deltas_to_json: Converting 1 deltas
apply_delta_to_text: Computing delta diff
apply_delta_to_text: Parsing delta diff from JSON
apply_delta_diff_to_text: Starting with 2 operations
update_node: Updated block_id: bRdTay
apply_action: Encoding state for doc_id: xxxx
apply_updates: Starting with 29 updates for doc_id: xxxx
apply_updates: Starting with 29 updates for doc_id: xxxx
apply_updates: Applying update for doc_id: xxxx
apply_updates: Finished for doc_id: xxxx
apply_updates: Successfully applied updates for doc_id: xxxx
get_document_state: Starting for doc_id: xxxx
extract_document_state: Starting for doc_id: xxxx
extract_document_state: Processing 4 blocks
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 0 deltas
====== STARTING BLOCK SORTING ======
Input children_map has 3 parent nodes

----- Sorting children of parent: m8OEVv -----
Parent has 2 children to sort
Mapped 2 valid blocks by ID
Block bRdTay assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block Mk_Gts assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Grouped blocks into 1 devices
  - Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 2 blocks
Block bRdTay has no prev_id
Block Mk_Gts has no prev_id
Built prev->next map with 0 entries
Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 2 root blocks: ["bRdTay", "Mk_Gts"]
Processing devices in order: ["4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"]

Processing device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Comparing root blocks: Mk_Gts (time: 2025-04-24T17:04:05.077214) vs bRdTay (time: 2025-04-24T17:03:55.612881)
Sorted roots for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a: ["bRdTay", "Mk_Gts"]
Starting chain from root: bRdTay
  Adding block bRdTay to sorted list
  No next blocks for bRdTay
Starting chain from root: Mk_Gts
  Adding block Mk_Gts to sorted list
  No next blocks for Mk_Gts
No remaining blocks for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
No globally remaining blocks
Final sorted order for parent m8OEVv: ["bRdTay", "Mk_Gts"]

----- Sorting children of parent: zhA_gK -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent zhA_gK: []

----- Sorting children of parent: bRdTay -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent bRdTay: []
====== COMPLETED BLOCK SORTING ======
Final sorted children map has 3 parents
extract_document_state: Extracted 4 blocks and 3 parent-child relationships
get_document_state: Finished for doc_id: xxxx
flutter: Transaction done
apply_action: Starting with 1 actions for doc_id: xxxx
update_node: Updating block_id: bRdTay
deltas_to_json: Converting 1 deltas
apply_delta_to_text: Computing delta diff
apply_delta_to_text: Parsing delta diff from JSON
apply_delta_diff_to_text: Starting with 2 operations
update_node: Updated block_id: bRdTay
apply_action: Encoding state for doc_id: xxxx
apply_updates: Starting with 30 updates for doc_id: xxxx
apply_updates: Starting with 30 updates for doc_id: xxxx
apply_updates: Applying update for doc_id: xxxx
apply_updates: Finished for doc_id: xxxx
apply_updates: Successfully applied updates for doc_id: xxxx
get_document_state: Starting for doc_id: xxxx
extract_document_state: Starting for doc_id: xxxx
extract_document_state: Processing 4 blocks
deltas_to_json: Converting 0 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
====== STARTING BLOCK SORTING ======
Input children_map has 3 parent nodes

----- Sorting children of parent: bRdTay -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent bRdTay: []

----- Sorting children of parent: m8OEVv -----
Parent has 2 children to sort
Mapped 2 valid blocks by ID
Block Mk_Gts assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block bRdTay assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Grouped blocks into 1 devices
  - Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 2 blocks
Block Mk_Gts has no prev_id
Block bRdTay has no prev_id
Built prev->next map with 0 entries
Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 2 root blocks: ["Mk_Gts", "bRdTay"]
Processing devices in order: ["4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"]

Processing device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Comparing root blocks: bRdTay (time: 2025-04-24T17:03:55.612881) vs Mk_Gts (time: 2025-04-24T17:04:05.077214)
Sorted roots for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a: ["bRdTay", "Mk_Gts"]
Starting chain from root: bRdTay
  Adding block bRdTay to sorted list
  No next blocks for bRdTay
Starting chain from root: Mk_Gts
  Adding block Mk_Gts to sorted list
  No next blocks for Mk_Gts
No remaining blocks for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
No globally remaining blocks
Final sorted order for parent m8OEVv: ["bRdTay", "Mk_Gts"]

----- Sorting children of parent: zhA_gK -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent zhA_gK: []
====== COMPLETED BLOCK SORTING ======
Final sorted children map has 3 parents
extract_document_state: Extracted 4 blocks and 3 parent-child relationships
get_document_state: Finished for doc_id: xxxx
flutter: Transaction done
apply_action: Starting with 1 actions for doc_id: xxxx
update_node: Updating block_id: bRdTay
deltas_to_json: Converting 1 deltas
apply_delta_to_text: Computing delta diff
apply_delta_to_text: Parsing delta diff from JSON
apply_delta_diff_to_text: Starting with 2 operations
update_node: Updated block_id: bRdTay
apply_action: Encoding state for doc_id: xxxx
apply_updates: Starting with 31 updates for doc_id: xxxx
apply_updates: Starting with 31 updates for doc_id: xxxx
apply_updates: Applying update for doc_id: xxxx
apply_updates: Finished for doc_id: xxxx
apply_updates: Successfully applied updates for doc_id: xxxx
get_document_state: Starting for doc_id: xxxx
extract_document_state: Starting for doc_id: xxxx
extract_document_state: Processing 4 blocks
deltas_to_json: Converting 0 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
====== STARTING BLOCK SORTING ======
Input children_map has 3 parent nodes

----- Sorting children of parent: bRdTay -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent bRdTay: []

----- Sorting children of parent: zhA_gK -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent zhA_gK: []

----- Sorting children of parent: m8OEVv -----
Parent has 2 children to sort
Mapped 2 valid blocks by ID
Block Mk_Gts assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block bRdTay assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Grouped blocks into 1 devices
  - Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 2 blocks
Block Mk_Gts has no prev_id
Block bRdTay has no prev_id
Built prev->next map with 0 entries
Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 2 root blocks: ["Mk_Gts", "bRdTay"]
Processing devices in order: ["4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"]

Processing device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Comparing root blocks: bRdTay (time: 2025-04-24T17:03:55.612881) vs Mk_Gts (time: 2025-04-24T17:04:05.077214)
Sorted roots for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a: ["bRdTay", "Mk_Gts"]
Starting chain from root: bRdTay
  Adding block bRdTay to sorted list
  No next blocks for bRdTay
Starting chain from root: Mk_Gts
  Adding block Mk_Gts to sorted list
  No next blocks for Mk_Gts
No remaining blocks for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
No globally remaining blocks
Final sorted order for parent m8OEVv: ["bRdTay", "Mk_Gts"]
====== COMPLETED BLOCK SORTING ======
Final sorted children map has 3 parents
extract_document_state: Extracted 4 blocks and 3 parent-child relationships
get_document_state: Finished for doc_id: xxxx
flutter: Transaction done
apply_action: Starting with 1 actions for doc_id: xxxx
update_node: Updating block_id: bRdTay
deltas_to_json: Converting 1 deltas
apply_delta_to_text: Computing delta diff
apply_delta_to_text: Parsing delta diff from JSON
apply_delta_diff_to_text: Starting with 2 operations
update_node: Updated block_id: bRdTay
apply_action: Encoding state for doc_id: xxxx
apply_updates: Starting with 32 updates for doc_id: xxxx
apply_updates: Starting with 32 updates for doc_id: xxxx
apply_updates: Applying update for doc_id: xxxx
apply_updates: Finished for doc_id: xxxx
apply_updates: Successfully applied updates for doc_id: xxxx
get_document_state: Starting for doc_id: xxxx
extract_document_state: Starting for doc_id: xxxx
extract_document_state: Processing 4 blocks
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 0 deltas
deltas_to_json: Converting 1 deltas
====== STARTING BLOCK SORTING ======
Input children_map has 3 parent nodes

----- Sorting children of parent: zhA_gK -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent zhA_gK: []

----- Sorting children of parent: bRdTay -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent bRdTay: []

----- Sorting children of parent: m8OEVv -----
Parent has 2 children to sort
Mapped 2 valid blocks by ID
Block Mk_Gts assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block bRdTay assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Grouped blocks into 1 devices
  - Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 2 blocks
Block Mk_Gts has no prev_id
Block bRdTay has no prev_id
Built prev->next map with 0 entries
Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 2 root blocks: ["Mk_Gts", "bRdTay"]
Processing devices in order: ["4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"]

Processing device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Comparing root blocks: bRdTay (time: 2025-04-24T17:03:55.612881) vs Mk_Gts (time: 2025-04-24T17:04:05.077214)
Sorted roots for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a: ["bRdTay", "Mk_Gts"]
Starting chain from root: bRdTay
  Adding block bRdTay to sorted list
  No next blocks for bRdTay
Starting chain from root: Mk_Gts
  Adding block Mk_Gts to sorted list
  No next blocks for Mk_Gts
No remaining blocks for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
No globally remaining blocks
Final sorted order for parent m8OEVv: ["bRdTay", "Mk_Gts"]
====== COMPLETED BLOCK SORTING ======
Final sorted children map has 3 parents
extract_document_state: Extracted 4 blocks and 3 parent-child relationships
get_document_state: Finished for doc_id: xxxx
flutter: Transaction done
apply_action: Starting with 1 actions for doc_id: xxxx
update_node: Updating block_id: bRdTay
deltas_to_json: Converting 1 deltas
apply_delta_to_text: Computing delta diff
apply_delta_to_text: Parsing delta diff from JSON
apply_delta_diff_to_text: Starting with 2 operations
update_node: Updated block_id: bRdTay
apply_action: Encoding state for doc_id: xxxx
apply_updates: Starting with 33 updates for doc_id: xxxx
apply_updates: Starting with 33 updates for doc_id: xxxx
apply_updates: Applying update for doc_id: xxxx
apply_updates: Finished for doc_id: xxxx
apply_updates: Successfully applied updates for doc_id: xxxx
get_document_state: Starting for doc_id: xxxx
extract_document_state: Starting for doc_id: xxxx
extract_document_state: Processing 4 blocks
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 0 deltas
deltas_to_json: Converting 1 deltas
====== STARTING BLOCK SORTING ======
Input children_map has 3 parent nodes

----- Sorting children of parent: bRdTay -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent bRdTay: []

----- Sorting children of parent: m8OEVv -----
Parent has 2 children to sort
Mapped 2 valid blocks by ID
Block Mk_Gts assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block bRdTay assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Grouped blocks into 1 devices
  - Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 2 blocks
Block Mk_Gts has no prev_id
Block bRdTay has no prev_id
Built prev->next map with 0 entries
Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 2 root blocks: ["Mk_Gts", "bRdTay"]
Processing devices in order: ["4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"]

Processing device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Comparing root blocks: bRdTay (time: 2025-04-24T17:03:55.612881) vs Mk_Gts (time: 2025-04-24T17:04:05.077214)
Sorted roots for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a: ["bRdTay", "Mk_Gts"]
Starting chain from root: bRdTay
  Adding block bRdTay to sorted list
  No next blocks for bRdTay
Starting chain from root: Mk_Gts
  Adding block Mk_Gts to sorted list
  No next blocks for Mk_Gts
No remaining blocks for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
No globally remaining blocks
Final sorted order for parent m8OEVv: ["bRdTay", "Mk_Gts"]

----- Sorting children of parent: zhA_gK -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent zhA_gK: []
====== COMPLETED BLOCK SORTING ======
Final sorted children map has 3 parents
extract_document_state: Extracted 4 blocks and 3 parent-child relationships
get_document_state: Finished for doc_id: xxxx
flutter: Transaction done
apply_action: Starting with 1 actions for doc_id: xxxx
update_node: Updating block_id: bRdTay
deltas_to_json: Converting 1 deltas
apply_delta_to_text: Computing delta diff
apply_delta_to_text: Parsing delta diff from JSON
apply_delta_diff_to_text: Starting with 2 operations
update_node: Updated block_id: bRdTay
apply_action: Encoding state for doc_id: xxxx
apply_updates: Starting with 34 updates for doc_id: xxxx
apply_updates: Starting with 34 updates for doc_id: xxxx
apply_updates: Applying update for doc_id: xxxx
apply_updates: Finished for doc_id: xxxx
apply_updates: Successfully applied updates for doc_id: xxxx
get_document_state: Starting for doc_id: xxxx
extract_document_state: Starting for doc_id: xxxx
extract_document_state: Processing 4 blocks
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 0 deltas
====== STARTING BLOCK SORTING ======
Input children_map has 3 parent nodes

----- Sorting children of parent: m8OEVv -----
Parent has 2 children to sort
Mapped 2 valid blocks by ID
Block Mk_Gts assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block bRdTay assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Grouped blocks into 1 devices
  - Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 2 blocks
Block Mk_Gts has no prev_id
Block bRdTay has no prev_id
Built prev->next map with 0 entries
Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 2 root blocks: ["Mk_Gts", "bRdTay"]
Processing devices in order: ["4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"]

Processing device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Comparing root blocks: bRdTay (time: 2025-04-24T17:03:55.612881) vs Mk_Gts (time: 2025-04-24T17:04:05.077214)
Sorted roots for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a: ["bRdTay", "Mk_Gts"]
Starting chain from root: bRdTay
  Adding block bRdTay to sorted list
  No next blocks for bRdTay
Starting chain from root: Mk_Gts
  Adding block Mk_Gts to sorted list
  No next blocks for Mk_Gts
No remaining blocks for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
No globally remaining blocks
Final sorted order for parent m8OEVv: ["bRdTay", "Mk_Gts"]

----- Sorting children of parent: zhA_gK -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent zhA_gK: []

----- Sorting children of parent: bRdTay -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent bRdTay: []
====== COMPLETED BLOCK SORTING ======
Final sorted children map has 3 parents
extract_document_state: Extracted 4 blocks and 3 parent-child relationships
get_document_state: Finished for doc_id: xxxx
flutter: Transaction done
apply_action: Starting with 1 actions for doc_id: xxxx
update_node: Updating block_id: bRdTay
deltas_to_json: Converting 1 deltas
apply_delta_to_text: Computing delta diff
apply_delta_to_text: Parsing delta diff from JSON
apply_delta_diff_to_text: Starting with 2 operations
update_node: Updated block_id: bRdTay
apply_action: Encoding state for doc_id: xxxx
apply_updates: Starting with 35 updates for doc_id: xxxx
apply_updates: Starting with 35 updates for doc_id: xxxx
apply_updates: Applying update for doc_id: xxxx
apply_updates: Finished for doc_id: xxxx
apply_updates: Successfully applied updates for doc_id: xxxx
get_document_state: Starting for doc_id: xxxx
extract_document_state: Starting for doc_id: xxxx
extract_document_state: Processing 4 blocks
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 0 deltas
====== STARTING BLOCK SORTING ======
Input children_map has 3 parent nodes

----- Sorting children of parent: m8OEVv -----
Parent has 2 children to sort
Mapped 2 valid blocks by ID
Block Mk_Gts assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block bRdTay assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Grouped blocks into 1 devices
  - Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 2 blocks
Block Mk_Gts has no prev_id
Block bRdTay has no prev_id
Built prev->next map with 0 entries
Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 2 root blocks: ["Mk_Gts", "bRdTay"]
Processing devices in order: ["4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"]

Processing device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Comparing root blocks: bRdTay (time: 2025-04-24T17:03:55.612881) vs Mk_Gts (time: 2025-04-24T17:04:05.077214)
Sorted roots for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a: ["bRdTay", "Mk_Gts"]
Starting chain from root: bRdTay
  Adding block bRdTay to sorted list
  No next blocks for bRdTay
Starting chain from root: Mk_Gts
  Adding block Mk_Gts to sorted list
  No next blocks for Mk_Gts
No remaining blocks for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
No globally remaining blocks
Final sorted order for parent m8OEVv: ["bRdTay", "Mk_Gts"]

----- Sorting children of parent: bRdTay -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent bRdTay: []

----- Sorting children of parent: zhA_gK -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent zhA_gK: []
====== COMPLETED BLOCK SORTING ======
Final sorted children map has 3 parents
extract_document_state: Extracted 4 blocks and 3 parent-child relationships
get_document_state: Finished for doc_id: xxxx
flutter: Transaction done
apply_action: Starting with 2 actions for doc_id: xxxx
insert_node: Starting for block_id: tStG1d
deltas_to_json: Converting 0 deltas
apply_delta_to_text: Computing delta diff
apply_delta_to_text: Parsing delta diff from JSON
apply_delta_to_text: No changes to apply
handle_prev_id_chain: block_id=tStG1d, prev_id=Some("bRdTay")
  Finding blocks that reference prev_id: bRdTay
find_block_referencing_prev_id: Searching for blocks with prev_id = bRdTay
  Found 5 total blocks to check
  Checking block: zhA_gK
    Block has prev_id: bRdTay, matches target: true
  Checking block: bRdTay
    Block does not have prev_id
  Checking block: Mk_Gts
    Block does not have prev_id
  Checking block: m8OEVv
    Block does not have prev_id
  Checking block: tStG1d
    Block does not have prev_id
find_block_referencing_prev_id: Found 1 blocks with prev_id = bRdTay: ["zhA_gK"]
  Found 1 blocks with prev_id bRdTay: ["zhA_gK"]
  Updating block zhA_gK to point to tStG1d (was pointing to bRdTay)
handle_prev_id_chain: Completed
handle_following_connection: block_id=tStG1d, next_id=None, prev_id=Some("bRdTay")
  Using prev_id strategy (prev_id=bRdTay)
find_block_referencing_prev_id: Searching for blocks with prev_id = bRdTay
  Found 5 total blocks to check
  Checking block: zhA_gK
    Block has prev_id: tStG1d, matches target: false
  Checking block: bRdTay
    Block does not have prev_id
  Checking block: Mk_Gts
    Block does not have prev_id
  Checking block: m8OEVv
    Block does not have prev_id
  Checking block: tStG1d
    Block does not have prev_id
find_block_referencing_prev_id: Found 0 blocks with prev_id = bRdTay: []
  Found 0 nodes that reference prev_id bRdTay: []
  Finished prev_id strategy
  Setting prev_id of block tStG1d to bRdTay
insert_node: Finished for block_id: tStG1d
update_node: Updating block_id: bRdTay
deltas_to_json: Converting 1 deltas
apply_delta_to_text: Computing delta diff
apply_delta_to_text: Parsing delta diff from JSON
apply_delta_to_text: No changes to apply
update_node: Updated block_id: bRdTay
apply_action: Encoding state for doc_id: xxxx
apply_updates: Starting with 36 updates for doc_id: xxxx
apply_updates: Starting with 36 updates for doc_id: xxxx
apply_updates: Applying update for doc_id: xxxx
apply_updates: Finished for doc_id: xxxx
apply_updates: Successfully applied updates for doc_id: xxxx
get_document_state: Starting for doc_id: xxxx
extract_document_state: Starting for doc_id: xxxx
extract_document_state: Processing 5 blocks
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 0 deltas
deltas_to_json: Converting 0 deltas
====== STARTING BLOCK SORTING ======
Input children_map has 4 parent nodes

----- Sorting children of parent: bRdTay -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent bRdTay: []

----- Sorting children of parent: zhA_gK -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent zhA_gK: []

----- Sorting children of parent: m8OEVv -----
Parent has 3 children to sort
Mapped 3 valid blocks by ID
Block Mk_Gts assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block tStG1d assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block bRdTay assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Grouped blocks into 1 devices
  - Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 3 blocks
Block Mk_Gts has no prev_id
Block tStG1d has prev_id bRdTay
Block bRdTay has no prev_id
Built prev->next map with 1 entries
  - bRdTay has 1 next blocks: ["tStG1d"]
Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 2 root blocks: ["Mk_Gts", "bRdTay"]
Processing devices in order: ["4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"]

Processing device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Comparing root blocks: bRdTay (time: 2025-04-24T17:03:55.612881) vs Mk_Gts (time: 2025-04-24T17:04:05.077214)
Sorted roots for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a: ["bRdTay", "Mk_Gts"]
Starting chain from root: bRdTay
  Adding block bRdTay to sorted list
    Pushing tStG1d onto stack
  Adding block tStG1d to sorted list
  No next blocks for tStG1d
Starting chain from root: Mk_Gts
  Adding block Mk_Gts to sorted list
  No next blocks for Mk_Gts
No remaining blocks for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
No globally remaining blocks
Final sorted order for parent m8OEVv: ["bRdTay", "tStG1d", "Mk_Gts"]

----- Sorting children of parent: tStG1d -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent tStG1d: []
====== COMPLETED BLOCK SORTING ======
Final sorted children map has 4 parents
extract_document_state: Extracted 5 blocks and 4 parent-child relationships
get_document_state: Finished for doc_id: xxxx
flutter: {
flutter:   "docId": "xxxx",
flutter:   "blocks": {
flutter:     "zhA_gK": {
flutter:       "id": "zhA_gK",
flutter:       "ty": "todo_list",
flutter:       "attributes": {
flutter:         "timestamp": "2025-04-24T17:04:02.277720",
flutter:         "checked": "false",
flutter:         "device": "4cb3899a-3fe4-4bb1-bbf4-edd464b0977a",
flutter:         "delta": "[]"
flutter:       },
flutter:       "delta": "[{\"insert\":\"Task is mine\"}]",
flutter:       "parentId": "m8OEVv",
flutter:       "prevId": "tStG1d",
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "Mk_Gts": {
flutter:       "id": "Mk_Gts",
flutter:       "ty": "",
flutter:       "attributes": {
flutter:         "checked": "false",
flutter:         "timestamp": "2025-04-24T17:04:05.077214",
flutter:         "device": "4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"
flutter:       },
flutter:       "delta": "[]",
flutter:       "parentId": null,
flutter:       "prevId": null,
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "tStG1d": {
flutter:       "id": "tStG1d",
flutter:       "ty": "paragraph",
flutter:       "attributes": {
flutter:         "device": "4cb3899a-3fe4-4bb1-bbf4-edd464b0977a",
flutter:         "timestamp": "2025-04-24T17:05:06.893741",
flutter:         "delta": "[]"
flutter:       },
flutter:       "delta": "[]",
flutter:       "parentId": "m8OEVv",
flutter:       "prevId": "bRdTay",
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "bRdTay": {
flutter:       "id": "bRdTay",
flutter:       "ty": "paragraph",
flutter:       "attributes": {
flutter:         "delta": "[]",
flutter:         "device": "4cb3899a-3fe4-4bb1-bbf4-edd464b0977a",
flutter:         "timestamp": "2025-04-24T17:03:55.612881"
flutter:       },
flutter:       "delta": "[{\"insert\":\"New Task\"}]",
flutter:       "parentId": "m8OEVv",
flutter:       "prevId": null,
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "m8OEVv": {
flutter:       "id": "m8OEVv",
flutter:       "ty": "page",
flutter:       "attributes": {
flutter:         "device": "3a00f73e-0356-4c61-a6e1-cb439d9dbf33",
flutter:         "timestamp": "2025-04-24T17:01:59.905543"
flutter:       },
flutter:       "delta": null,
flutter:       "parentId": null,
flutter:       "prevId": null,
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     }
flutter:   },
flutter:   "childrenMap": {
flutter:     "m8OEVv": [
flutter:       "bRdTay",
flutter:       "tStG1d",
flutter:       "Mk_Gts"
flutter:     ],
flutter:     "bRdTay": [],
flutter:     "zhA_gK": [],
flutter:     "tStG1d": []
flutter:   },
flutter:   "rootId": "m8OEVv"
flutter: }
merge_updates: Merging 9 updates
merge_updates: Successfully merged updates
apply_updates: Starting with 37 updates for doc_id: xxxx
apply_updates: Starting with 37 updates for doc_id: xxxx
apply_updates: Applying update for doc_id: xxxx
apply_updates: Finished for doc_id: xxxx
apply_updates: Successfully applied updates for doc_id: xxxx
get_document_state: Starting for doc_id: xxxx
extract_document_state: Starting for doc_id: xxxx
extract_document_state: Processing 5 blocks
deltas_to_json: Converting 0 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 0 deltas
deltas_to_json: Converting 1 deltas
====== STARTING BLOCK SORTING ======
Input children_map has 4 parent nodes

----- Sorting children of parent: tStG1d -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent tStG1d: []

----- Sorting children of parent: zhA_gK -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent zhA_gK: []

----- Sorting children of parent: bRdTay -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent bRdTay: []

----- Sorting children of parent: m8OEVv -----
Parent has 3 children to sort
Mapped 3 valid blocks by ID
Block Mk_Gts assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block bRdTay assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block tStG1d assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Grouped blocks into 1 devices
  - Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 3 blocks
Block Mk_Gts has no prev_id
Block bRdTay has no prev_id
Block tStG1d has prev_id bRdTay
Built prev->next map with 1 entries
  - bRdTay has 1 next blocks: ["tStG1d"]
Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 2 root blocks: ["Mk_Gts", "bRdTay"]
Processing devices in order: ["4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"]

Processing device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Comparing root blocks: bRdTay (time: 2025-04-24T17:03:55.612881) vs Mk_Gts (time: 2025-04-24T17:04:05.077214)
Sorted roots for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a: ["bRdTay", "Mk_Gts"]
Starting chain from root: bRdTay
  Adding block bRdTay to sorted list
    Pushing tStG1d onto stack
  Adding block tStG1d to sorted list
  No next blocks for tStG1d
Starting chain from root: Mk_Gts
  Adding block Mk_Gts to sorted list
  No next blocks for Mk_Gts
No remaining blocks for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
No globally remaining blocks
Final sorted order for parent m8OEVv: ["bRdTay", "tStG1d", "Mk_Gts"]
====== COMPLETED BLOCK SORTING ======
Final sorted children map has 4 parents
extract_document_state: Extracted 5 blocks and 4 parent-child relationships
get_document_state: Finished for doc_id: xxxx
flutter: Transaction done
apply_action: Starting with 1 actions for doc_id: xxxx
update_node: Updating block_id: tStG1d
deltas_to_json: Converting 0 deltas
apply_delta_to_text: Computing delta diff
apply_delta_to_text: Parsing delta diff from JSON
apply_delta_diff_to_text: Starting with 1 operations
update_node: Updated block_id: tStG1d
apply_action: Encoding state for doc_id: xxxx
apply_updates: Starting with 37 updates for doc_id: xxxx
apply_updates: Starting with 37 updates for doc_id: xxxx
apply_updates: Applying update for doc_id: xxxx
apply_updates: Finished for doc_id: xxxx
apply_updates: Successfully applied updates for doc_id: xxxx
get_document_state: Starting for doc_id: xxxx
extract_document_state: Starting for doc_id: xxxx
extract_document_state: Processing 5 blocks
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 0 deltas
====== STARTING BLOCK SORTING ======
Input children_map has 4 parent nodes

----- Sorting children of parent: tStG1d -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent tStG1d: []

----- Sorting children of parent: m8OEVv -----
Parent has 3 children to sort
Mapped 3 valid blocks by ID
Block tStG1d assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block Mk_Gts assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block bRdTay assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Grouped blocks into 1 devices
  - Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 3 blocks
Block tStG1d has prev_id bRdTay
Block Mk_Gts has no prev_id
Block bRdTay has no prev_id
Built prev->next map with 1 entries
  - bRdTay has 1 next blocks: ["tStG1d"]
Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 2 root blocks: ["Mk_Gts", "bRdTay"]
Processing devices in order: ["4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"]

Processing device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Comparing root blocks: bRdTay (time: 2025-04-24T17:03:55.612881) vs Mk_Gts (time: 2025-04-24T17:04:05.077214)
Sorted roots for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a: ["bRdTay", "Mk_Gts"]
Starting chain from root: bRdTay
  Adding block bRdTay to sorted list
    Pushing tStG1d onto stack
  Adding block tStG1d to sorted list
  No next blocks for tStG1d
Starting chain from root: Mk_Gts
  Adding block Mk_Gts to sorted list
  No next blocks for Mk_Gts
No remaining blocks for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
No globally remaining blocks
Final sorted order for parent m8OEVv: ["bRdTay", "tStG1d", "Mk_Gts"]

----- Sorting children of parent: zhA_gK -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent zhA_gK: []

----- Sorting children of parent: bRdTay -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent bRdTay: []
====== COMPLETED BLOCK SORTING ======
Final sorted children map has 4 parents
extract_document_state: Extracted 5 blocks and 4 parent-child relationships
get_document_state: Finished for doc_id: xxxx
merge_updates: Merging 1 updates
merge_updates: Successfully merged updates
apply_updates: Starting with 38 updates for doc_id: xxxx
apply_updates: Starting with 38 updates for doc_id: xxxx
apply_updates: Applying update for doc_id: xxxx
apply_updates: Finished for doc_id: xxxx
apply_updates: Successfully applied updates for doc_id: xxxx
get_document_state: Starting for doc_id: xxxx
extract_document_state: Starting for doc_id: xxxx
extract_document_state: Processing 5 blocks
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 0 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
====== STARTING BLOCK SORTING ======
Input children_map has 4 parent nodes

----- Sorting children of parent: tStG1d -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent tStG1d: []

----- Sorting children of parent: bRdTay -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent bRdTay: []

----- Sorting children of parent: m8OEVv -----
Parent has 3 children to sort
Mapped 3 valid blocks by ID
Block Mk_Gts assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block tStG1d assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block bRdTay assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Grouped blocks into 1 devices
  - Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 3 blocks
Block Mk_Gts has no prev_id
Block tStG1d has prev_id bRdTay
Block bRdTay has no prev_id
Built prev->next map with 1 entries
  - bRdTay has 1 next blocks: ["tStG1d"]
Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 2 root blocks: ["Mk_Gts", "bRdTay"]
Processing devices in order: ["4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"]

Processing device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Comparing root blocks: bRdTay (time: 2025-04-24T17:03:55.612881) vs Mk_Gts (time: 2025-04-24T17:04:05.077214)
Sorted roots for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a: ["bRdTay", "Mk_Gts"]
Starting chain from root: bRdTay
  Adding block bRdTay to sorted list
    Pushing tStG1d onto stack
  Adding block tStG1d to sorted list
  No next blocks for tStG1d
Starting chain from root: Mk_Gts
  Adding block Mk_Gts to sorted list
  No next blocks for Mk_Gts
No remaining blocks for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
No globally remaining blocks
Final sorted order for parent m8OEVv: ["bRdTay", "tStG1d", "Mk_Gts"]

----- Sorting children of parent: zhA_gK -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent zhA_gK: []
====== COMPLETED BLOCK SORTING ======
Final sorted children map has 4 parents
extract_document_state: Extracted 5 blocks and 4 parent-child relationships
get_document_state: Finished for doc_id: xxxx
flutter: Transaction done
apply_action: Starting with 1 actions for doc_id: xxxx
update_node: Updating block_id: tStG1d
deltas_to_json: Converting 1 deltas
apply_delta_to_text: Computing delta diff
apply_delta_to_text: Parsing delta diff from JSON
apply_delta_diff_to_text: Starting with 2 operations
update_node: Updated block_id: tStG1d
apply_action: Encoding state for doc_id: xxxx
apply_updates: Starting with 38 updates for doc_id: xxxx
apply_updates: Starting with 38 updates for doc_id: xxxx
apply_updates: Applying update for doc_id: xxxx
apply_updates: Finished for doc_id: xxxx
apply_updates: Successfully applied updates for doc_id: xxxx
get_document_state: Starting for doc_id: xxxx
extract_document_state: Starting for doc_id: xxxx
extract_document_state: Processing 5 blocks
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 0 deltas
====== STARTING BLOCK SORTING ======
Input children_map has 4 parent nodes

----- Sorting children of parent: zhA_gK -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent zhA_gK: []

----- Sorting children of parent: m8OEVv -----
Parent has 3 children to sort
Mapped 3 valid blocks by ID
Block bRdTay assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block Mk_Gts assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block tStG1d assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Grouped blocks into 1 devices
  - Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 3 blocks
Block bRdTay has no prev_id
Block Mk_Gts has no prev_id
Block tStG1d has prev_id bRdTay
Built prev->next map with 1 entries
  - bRdTay has 1 next blocks: ["tStG1d"]
Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 2 root blocks: ["bRdTay", "Mk_Gts"]
Processing devices in order: ["4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"]

Processing device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Comparing root blocks: Mk_Gts (time: 2025-04-24T17:04:05.077214) vs bRdTay (time: 2025-04-24T17:03:55.612881)
Sorted roots for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a: ["bRdTay", "Mk_Gts"]
Starting chain from root: bRdTay
  Adding block bRdTay to sorted list
    Pushing tStG1d onto stack
  Adding block tStG1d to sorted list
  No next blocks for tStG1d
Starting chain from root: Mk_Gts
  Adding block Mk_Gts to sorted list
  No next blocks for Mk_Gts
No remaining blocks for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
No globally remaining blocks
Final sorted order for parent m8OEVv: ["bRdTay", "tStG1d", "Mk_Gts"]

----- Sorting children of parent: bRdTay -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent bRdTay: []

----- Sorting children of parent: tStG1d -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent tStG1d: []
====== COMPLETED BLOCK SORTING ======
Final sorted children map has 4 parents
extract_document_state: Extracted 5 blocks and 4 parent-child relationships
get_document_state: Finished for doc_id: xxxx
flutter: Transaction done
apply_action: Starting with 1 actions for doc_id: xxxx
update_node: Updating block_id: tStG1d
deltas_to_json: Converting 1 deltas
apply_delta_to_text: Computing delta diff
apply_delta_to_text: Parsing delta diff from JSON
apply_delta_diff_to_text: Starting with 2 operations
update_node: Updated block_id: tStG1d
apply_action: Encoding state for doc_id: xxxx
apply_updates: Starting with 39 updates for doc_id: xxxx
apply_updates: Starting with 39 updates for doc_id: xxxx
apply_updates: Applying update for doc_id: xxxx
apply_updates: Finished for doc_id: xxxx
apply_updates: Successfully applied updates for doc_id: xxxx
get_document_state: Starting for doc_id: xxxx
extract_document_state: Starting for doc_id: xxxx
extract_document_state: Processing 5 blocks
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 0 deltas
====== STARTING BLOCK SORTING ======
Input children_map has 4 parent nodes

----- Sorting children of parent: m8OEVv -----
Parent has 3 children to sort
Mapped 3 valid blocks by ID
Block Mk_Gts assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block bRdTay assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block tStG1d assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Grouped blocks into 1 devices
  - Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 3 blocks
Block Mk_Gts has no prev_id
Block bRdTay has no prev_id
Block tStG1d has prev_id bRdTay
Built prev->next map with 1 entries
  - bRdTay has 1 next blocks: ["tStG1d"]
Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 2 root blocks: ["Mk_Gts", "bRdTay"]
Processing devices in order: ["4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"]

Processing device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Comparing root blocks: bRdTay (time: 2025-04-24T17:03:55.612881) vs Mk_Gts (time: 2025-04-24T17:04:05.077214)
Sorted roots for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a: ["bRdTay", "Mk_Gts"]
Starting chain from root: bRdTay
  Adding block bRdTay to sorted list
    Pushing tStG1d onto stack
  Adding block tStG1d to sorted list
  No next blocks for tStG1d
Starting chain from root: Mk_Gts
  Adding block Mk_Gts to sorted list
  No next blocks for Mk_Gts
No remaining blocks for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
No globally remaining blocks
Final sorted order for parent m8OEVv: ["bRdTay", "tStG1d", "Mk_Gts"]

----- Sorting children of parent: tStG1d -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent tStG1d: []

----- Sorting children of parent: zhA_gK -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent zhA_gK: []

----- Sorting children of parent: bRdTay -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent bRdTay: []
====== COMPLETED BLOCK SORTING ======
Final sorted children map has 4 parents
extract_document_state: Extracted 5 blocks and 4 parent-child relationships
get_document_state: Finished for doc_id: xxxx
flutter: Transaction done
apply_action: Starting with 1 actions for doc_id: xxxx
update_node: Updating block_id: tStG1d
deltas_to_json: Converting 1 deltas
apply_delta_to_text: Computing delta diff
apply_delta_to_text: Parsing delta diff from JSON
apply_delta_diff_to_text: Starting with 2 operations
update_node: Updated block_id: tStG1d
apply_action: Encoding state for doc_id: xxxx
apply_updates: Starting with 40 updates for doc_id: xxxx
apply_updates: Starting with 40 updates for doc_id: xxxx
apply_updates: Applying update for doc_id: xxxx
apply_updates: Finished for doc_id: xxxx
apply_updates: Successfully applied updates for doc_id: xxxx
get_document_state: Starting for doc_id: xxxx
extract_document_state: Starting for doc_id: xxxx
extract_document_state: Processing 5 blocks
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 0 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
====== STARTING BLOCK SORTING ======
Input children_map has 4 parent nodes

----- Sorting children of parent: bRdTay -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent bRdTay: []

----- Sorting children of parent: zhA_gK -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent zhA_gK: []

----- Sorting children of parent: tStG1d -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent tStG1d: []

----- Sorting children of parent: m8OEVv -----
Parent has 3 children to sort
Mapped 3 valid blocks by ID
Block tStG1d assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block Mk_Gts assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block bRdTay assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Grouped blocks into 1 devices
  - Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 3 blocks
Block tStG1d has prev_id bRdTay
Block Mk_Gts has no prev_id
Block bRdTay has no prev_id
Built prev->next map with 1 entries
  - bRdTay has 1 next blocks: ["tStG1d"]
Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 2 root blocks: ["Mk_Gts", "bRdTay"]
Processing devices in order: ["4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"]

Processing device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Comparing root blocks: bRdTay (time: 2025-04-24T17:03:55.612881) vs Mk_Gts (time: 2025-04-24T17:04:05.077214)
Sorted roots for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a: ["bRdTay", "Mk_Gts"]
Starting chain from root: bRdTay
  Adding block bRdTay to sorted list
    Pushing tStG1d onto stack
  Adding block tStG1d to sorted list
  No next blocks for tStG1d
Starting chain from root: Mk_Gts
  Adding block Mk_Gts to sorted list
  No next blocks for Mk_Gts
No remaining blocks for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
No globally remaining blocks
Final sorted order for parent m8OEVv: ["bRdTay", "tStG1d", "Mk_Gts"]
====== COMPLETED BLOCK SORTING ======
Final sorted children map has 4 parents
extract_document_state: Extracted 5 blocks and 4 parent-child relationships
get_document_state: Finished for doc_id: xxxx
flutter: Transaction done
apply_action: Starting with 1 actions for doc_id: xxxx
update_node: Updating block_id: tStG1d
deltas_to_json: Converting 1 deltas
apply_delta_to_text: Computing delta diff
apply_delta_to_text: Parsing delta diff from JSON
apply_delta_diff_to_text: Starting with 2 operations
update_node: Updated block_id: tStG1d
apply_action: Encoding state for doc_id: xxxx
apply_updates: Starting with 41 updates for doc_id: xxxx
apply_updates: Starting with 41 updates for doc_id: xxxx
apply_updates: Applying update for doc_id: xxxx
apply_updates: Finished for doc_id: xxxx
apply_updates: Successfully applied updates for doc_id: xxxx
get_document_state: Starting for doc_id: xxxx
extract_document_state: Starting for doc_id: xxxx
extract_document_state: Processing 5 blocks
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 0 deltas
deltas_to_json: Converting 1 deltas
====== STARTING BLOCK SORTING ======
Input children_map has 4 parent nodes

----- Sorting children of parent: m8OEVv -----
Parent has 3 children to sort
Mapped 3 valid blocks by ID
Block Mk_Gts assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block tStG1d assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block bRdTay assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Grouped blocks into 1 devices
  - Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 3 blocks
Block Mk_Gts has no prev_id
Block tStG1d has prev_id bRdTay
Block bRdTay has no prev_id
Built prev->next map with 1 entries
  - bRdTay has 1 next blocks: ["tStG1d"]
Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 2 root blocks: ["Mk_Gts", "bRdTay"]
Processing devices in order: ["4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"]

Processing device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Comparing root blocks: bRdTay (time: 2025-04-24T17:03:55.612881) vs Mk_Gts (time: 2025-04-24T17:04:05.077214)
Sorted roots for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a: ["bRdTay", "Mk_Gts"]
Starting chain from root: bRdTay
  Adding block bRdTay to sorted list
    Pushing tStG1d onto stack
  Adding block tStG1d to sorted list
  No next blocks for tStG1d
Starting chain from root: Mk_Gts
  Adding block Mk_Gts to sorted list
  No next blocks for Mk_Gts
No remaining blocks for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
No globally remaining blocks
Final sorted order for parent m8OEVv: ["bRdTay", "tStG1d", "Mk_Gts"]

----- Sorting children of parent: zhA_gK -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent zhA_gK: []

----- Sorting children of parent: bRdTay -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent bRdTay: []

----- Sorting children of parent: tStG1d -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent tStG1d: []
====== COMPLETED BLOCK SORTING ======
Final sorted children map has 4 parents
extract_document_state: Extracted 5 blocks and 4 parent-child relationships
get_document_state: Finished for doc_id: xxxx
flutter: Transaction done
apply_action: Starting with 1 actions for doc_id: xxxx
update_node: Updating block_id: tStG1d
deltas_to_json: Converting 1 deltas
apply_delta_to_text: Computing delta diff
apply_delta_to_text: Parsing delta diff from JSON
apply_delta_diff_to_text: Starting with 2 operations
update_node: Updated block_id: tStG1d
apply_action: Encoding state for doc_id: xxxx
apply_updates: Starting with 42 updates for doc_id: xxxx
apply_updates: Starting with 42 updates for doc_id: xxxx
apply_updates: Applying update for doc_id: xxxx
apply_updates: Finished for doc_id: xxxx
apply_updates: Successfully applied updates for doc_id: xxxx
get_document_state: Starting for doc_id: xxxx
extract_document_state: Starting for doc_id: xxxx
extract_document_state: Processing 5 blocks
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 0 deltas
deltas_to_json: Converting 1 deltas
====== STARTING BLOCK SORTING ======
Input children_map has 4 parent nodes

----- Sorting children of parent: bRdTay -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent bRdTay: []

----- Sorting children of parent: zhA_gK -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent zhA_gK: []

----- Sorting children of parent: tStG1d -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent tStG1d: []

----- Sorting children of parent: m8OEVv -----
Parent has 3 children to sort
Mapped 3 valid blocks by ID
Block bRdTay assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block tStG1d assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block Mk_Gts assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Grouped blocks into 1 devices
  - Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 3 blocks
Block bRdTay has no prev_id
Block tStG1d has prev_id bRdTay
Block Mk_Gts has no prev_id
Built prev->next map with 1 entries
  - bRdTay has 1 next blocks: ["tStG1d"]
Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 2 root blocks: ["bRdTay", "Mk_Gts"]
Processing devices in order: ["4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"]

Processing device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Comparing root blocks: Mk_Gts (time: 2025-04-24T17:04:05.077214) vs bRdTay (time: 2025-04-24T17:03:55.612881)
Sorted roots for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a: ["bRdTay", "Mk_Gts"]
Starting chain from root: bRdTay
  Adding block bRdTay to sorted list
    Pushing tStG1d onto stack
  Adding block tStG1d to sorted list
  No next blocks for tStG1d
Starting chain from root: Mk_Gts
  Adding block Mk_Gts to sorted list
  No next blocks for Mk_Gts
No remaining blocks for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
No globally remaining blocks
Final sorted order for parent m8OEVv: ["bRdTay", "tStG1d", "Mk_Gts"]
====== COMPLETED BLOCK SORTING ======
Final sorted children map has 4 parents
extract_document_state: Extracted 5 blocks and 4 parent-child relationships
get_document_state: Finished for doc_id: xxxx
flutter: Transaction done
apply_action: Starting with 1 actions for doc_id: xxxx
update_node: Updating block_id: tStG1d
deltas_to_json: Converting 1 deltas
apply_delta_to_text: Computing delta diff
apply_delta_to_text: Parsing delta diff from JSON
apply_delta_diff_to_text: Starting with 2 operations
update_node: Updated block_id: tStG1d
apply_action: Encoding state for doc_id: xxxx
apply_updates: Starting with 43 updates for doc_id: xxxx
apply_updates: Starting with 43 updates for doc_id: xxxx
apply_updates: Applying update for doc_id: xxxx
apply_updates: Finished for doc_id: xxxx
apply_updates: Successfully applied updates for doc_id: xxxx
get_document_state: Starting for doc_id: xxxx
extract_document_state: Starting for doc_id: xxxx
extract_document_state: Processing 5 blocks
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 0 deltas
====== STARTING BLOCK SORTING ======
Input children_map has 4 parent nodes

----- Sorting children of parent: zhA_gK -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent zhA_gK: []

----- Sorting children of parent: m8OEVv -----
Parent has 3 children to sort
Mapped 3 valid blocks by ID
Block bRdTay assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block tStG1d assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block Mk_Gts assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Grouped blocks into 1 devices
  - Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 3 blocks
Block bRdTay has no prev_id
Block tStG1d has prev_id bRdTay
Block Mk_Gts has no prev_id
Built prev->next map with 1 entries
  - bRdTay has 1 next blocks: ["tStG1d"]
Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 2 root blocks: ["bRdTay", "Mk_Gts"]
Processing devices in order: ["4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"]

Processing device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Comparing root blocks: Mk_Gts (time: 2025-04-24T17:04:05.077214) vs bRdTay (time: 2025-04-24T17:03:55.612881)
Sorted roots for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a: ["bRdTay", "Mk_Gts"]
Starting chain from root: bRdTay
  Adding block bRdTay to sorted list
    Pushing tStG1d onto stack
  Adding block tStG1d to sorted list
  No next blocks for tStG1d
Starting chain from root: Mk_Gts
  Adding block Mk_Gts to sorted list
  No next blocks for Mk_Gts
No remaining blocks for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
No globally remaining blocks
Final sorted order for parent m8OEVv: ["bRdTay", "tStG1d", "Mk_Gts"]

----- Sorting children of parent: tStG1d -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent tStG1d: []

----- Sorting children of parent: bRdTay -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent bRdTay: []
====== COMPLETED BLOCK SORTING ======
Final sorted children map has 4 parents
extract_document_state: Extracted 5 blocks and 4 parent-child relationships
get_document_state: Finished for doc_id: xxxx
flutter: Transaction done
apply_action: Starting with 1 actions for doc_id: xxxx
update_node: Updating block_id: tStG1d
deltas_to_json: Converting 1 deltas
apply_delta_to_text: Computing delta diff
apply_delta_to_text: Parsing delta diff from JSON
apply_delta_diff_to_text: Starting with 2 operations
update_node: Updated block_id: tStG1d
apply_action: Encoding state for doc_id: xxxx
apply_updates: Starting with 44 updates for doc_id: xxxx
apply_updates: Starting with 44 updates for doc_id: xxxx
apply_updates: Applying update for doc_id: xxxx
apply_updates: Finished for doc_id: xxxx
apply_updates: Successfully applied updates for doc_id: xxxx
get_document_state: Starting for doc_id: xxxx
extract_document_state: Starting for doc_id: xxxx
extract_document_state: Processing 5 blocks
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 0 deltas
====== STARTING BLOCK SORTING ======
Input children_map has 4 parent nodes

----- Sorting children of parent: zhA_gK -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent zhA_gK: []

----- Sorting children of parent: m8OEVv -----
Parent has 3 children to sort
Mapped 3 valid blocks by ID
Block Mk_Gts assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block tStG1d assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block bRdTay assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Grouped blocks into 1 devices
  - Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 3 blocks
Block Mk_Gts has no prev_id
Block tStG1d has prev_id bRdTay
Block bRdTay has no prev_id
Built prev->next map with 1 entries
  - bRdTay has 1 next blocks: ["tStG1d"]
Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 2 root blocks: ["Mk_Gts", "bRdTay"]
Processing devices in order: ["4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"]

Processing device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Comparing root blocks: bRdTay (time: 2025-04-24T17:03:55.612881) vs Mk_Gts (time: 2025-04-24T17:04:05.077214)
Sorted roots for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a: ["bRdTay", "Mk_Gts"]
Starting chain from root: bRdTay
  Adding block bRdTay to sorted list
    Pushing tStG1d onto stack
  Adding block tStG1d to sorted list
  No next blocks for tStG1d
Starting chain from root: Mk_Gts
  Adding block Mk_Gts to sorted list
  No next blocks for Mk_Gts
No remaining blocks for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
No globally remaining blocks
Final sorted order for parent m8OEVv: ["bRdTay", "tStG1d", "Mk_Gts"]

----- Sorting children of parent: bRdTay -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent bRdTay: []

----- Sorting children of parent: tStG1d -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent tStG1d: []
====== COMPLETED BLOCK SORTING ======
Final sorted children map has 4 parents
extract_document_state: Extracted 5 blocks and 4 parent-child relationships
get_document_state: Finished for doc_id: xxxx
flutter: Transaction done
apply_action: Starting with 1 actions for doc_id: xxxx
update_node: Updating block_id: tStG1d
deltas_to_json: Converting 1 deltas
apply_delta_to_text: Computing delta diff
apply_delta_to_text: Parsing delta diff from JSON
apply_delta_diff_to_text: Starting with 2 operations
update_node: Updated block_id: tStG1d
apply_action: Encoding state for doc_id: xxxx
apply_updates: Starting with 45 updates for doc_id: xxxx
apply_updates: Starting with 45 updates for doc_id: xxxx
apply_updates: Applying update for doc_id: xxxx
apply_updates: Finished for doc_id: xxxx
apply_updates: Successfully applied updates for doc_id: xxxx
get_document_state: Starting for doc_id: xxxx
extract_document_state: Starting for doc_id: xxxx
extract_document_state: Processing 5 blocks
deltas_to_json: Converting 0 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
====== STARTING BLOCK SORTING ======
Input children_map has 4 parent nodes

----- Sorting children of parent: tStG1d -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent tStG1d: []

----- Sorting children of parent: m8OEVv -----
Parent has 3 children to sort
Mapped 3 valid blocks by ID
Block Mk_Gts assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block tStG1d assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block bRdTay assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Grouped blocks into 1 devices
  - Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 3 blocks
Block Mk_Gts has no prev_id
Block tStG1d has prev_id bRdTay
Block bRdTay has no prev_id
Built prev->next map with 1 entries
  - bRdTay has 1 next blocks: ["tStG1d"]
Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 2 root blocks: ["Mk_Gts", "bRdTay"]
Processing devices in order: ["4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"]

Processing device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Comparing root blocks: bRdTay (time: 2025-04-24T17:03:55.612881) vs Mk_Gts (time: 2025-04-24T17:04:05.077214)
Sorted roots for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a: ["bRdTay", "Mk_Gts"]
Starting chain from root: bRdTay
  Adding block bRdTay to sorted list
    Pushing tStG1d onto stack
  Adding block tStG1d to sorted list
  No next blocks for tStG1d
Starting chain from root: Mk_Gts
  Adding block Mk_Gts to sorted list
  No next blocks for Mk_Gts
No remaining blocks for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
No globally remaining blocks
Final sorted order for parent m8OEVv: ["bRdTay", "tStG1d", "Mk_Gts"]

----- Sorting children of parent: zhA_gK -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent zhA_gK: []

----- Sorting children of parent: bRdTay -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent bRdTay: []
====== COMPLETED BLOCK SORTING ======
Final sorted children map has 4 parents
extract_document_state: Extracted 5 blocks and 4 parent-child relationships
get_document_state: Finished for doc_id: xxxx
merge_updates: Merging 8 updates
merge_updates: Successfully merged updates
apply_updates: Starting with 46 updates for doc_id: xxxx
apply_updates: Starting with 46 updates for doc_id: xxxx
apply_updates: Applying update for doc_id: xxxx
apply_updates: Finished for doc_id: xxxx
apply_updates: Successfully applied updates for doc_id: xxxx
get_document_state: Starting for doc_id: xxxx
extract_document_state: Starting for doc_id: xxxx
extract_document_state: Processing 5 blocks
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 0 deltas
deltas_to_json: Converting 1 deltas
====== STARTING BLOCK SORTING ======
Input children_map has 4 parent nodes

----- Sorting children of parent: zhA_gK -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent zhA_gK: []

----- Sorting children of parent: bRdTay -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent bRdTay: []

----- Sorting children of parent: m8OEVv -----
Parent has 3 children to sort
Mapped 3 valid blocks by ID
Block bRdTay assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block tStG1d assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block Mk_Gts assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Grouped blocks into 1 devices
  - Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 3 blocks
Block bRdTay has no prev_id
Block tStG1d has prev_id bRdTay
Block Mk_Gts has no prev_id
Built prev->next map with 1 entries
  - bRdTay has 1 next blocks: ["tStG1d"]
Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 2 root blocks: ["bRdTay", "Mk_Gts"]
Processing devices in order: ["4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"]

Processing device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Comparing root blocks: Mk_Gts (time: 2025-04-24T17:04:05.077214) vs bRdTay (time: 2025-04-24T17:03:55.612881)
Sorted roots for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a: ["bRdTay", "Mk_Gts"]
Starting chain from root: bRdTay
  Adding block bRdTay to sorted list
    Pushing tStG1d onto stack
  Adding block tStG1d to sorted list
  No next blocks for tStG1d
Starting chain from root: Mk_Gts
  Adding block Mk_Gts to sorted list
  No next blocks for Mk_Gts
No remaining blocks for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
No globally remaining blocks
Final sorted order for parent m8OEVv: ["bRdTay", "tStG1d", "Mk_Gts"]

----- Sorting children of parent: tStG1d -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent tStG1d: []
====== COMPLETED BLOCK SORTING ======
Final sorted children map has 4 parents
extract_document_state: Extracted 5 blocks and 4 parent-child relationships
get_document_state: Finished for doc_id: xxxx
flutter: Transaction done
apply_action: Starting with 1 actions for doc_id: xxxx
update_node: Updating block_id: tStG1d
deltas_to_json: Converting 1 deltas
apply_delta_to_text: Computing delta diff
apply_delta_to_text: Parsing delta diff from JSON
apply_delta_diff_to_text: Starting with 2 operations
update_node: Updated block_id: tStG1d
apply_action: Encoding state for doc_id: xxxx
apply_updates: Starting with 47 updates for doc_id: xxxx
apply_updates: Starting with 47 updates for doc_id: xxxx
apply_updates: Applying update for doc_id: xxxx
apply_updates: Finished for doc_id: xxxx
apply_updates: Successfully applied updates for doc_id: xxxx
get_document_state: Starting for doc_id: xxxx
extract_document_state: Starting for doc_id: xxxx
extract_document_state: Processing 5 blocks
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 0 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
====== STARTING BLOCK SORTING ======
Input children_map has 4 parent nodes

----- Sorting children of parent: zhA_gK -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent zhA_gK: []

----- Sorting children of parent: tStG1d -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent tStG1d: []

----- Sorting children of parent: m8OEVv -----
Parent has 3 children to sort
Mapped 3 valid blocks by ID
Block tStG1d assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block bRdTay assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block Mk_Gts assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Grouped blocks into 1 devices
  - Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 3 blocks
Block tStG1d has prev_id bRdTay
Block bRdTay has no prev_id
Block Mk_Gts has no prev_id
Built prev->next map with 1 entries
  - bRdTay has 1 next blocks: ["tStG1d"]
Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 2 root blocks: ["bRdTay", "Mk_Gts"]
Processing devices in order: ["4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"]

Processing device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Comparing root blocks: Mk_Gts (time: 2025-04-24T17:04:05.077214) vs bRdTay (time: 2025-04-24T17:03:55.612881)
Sorted roots for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a: ["bRdTay", "Mk_Gts"]
Starting chain from root: bRdTay
  Adding block bRdTay to sorted list
    Pushing tStG1d onto stack
  Adding block tStG1d to sorted list
  No next blocks for tStG1d
Starting chain from root: Mk_Gts
  Adding block Mk_Gts to sorted list
  No next blocks for Mk_Gts
No remaining blocks for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
No globally remaining blocks
Final sorted order for parent m8OEVv: ["bRdTay", "tStG1d", "Mk_Gts"]

----- Sorting children of parent: bRdTay -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent bRdTay: []
====== COMPLETED BLOCK SORTING ======
Final sorted children map has 4 parents
extract_document_state: Extracted 5 blocks and 4 parent-child relationships
get_document_state: Finished for doc_id: xxxx
merge_updates: Merging 1 updates
merge_updates: Successfully merged updates
apply_updates: Starting with 48 updates for doc_id: xxxx
apply_updates: Starting with 48 updates for doc_id: xxxx
apply_updates: Applying update for doc_id: xxxx
apply_updates: Finished for doc_id: xxxx
apply_updates: Successfully applied updates for doc_id: xxxx
get_document_state: Starting for doc_id: xxxx
extract_document_state: Starting for doc_id: xxxx
extract_document_state: Processing 5 blocks
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 0 deltas
====== STARTING BLOCK SORTING ======
Input children_map has 4 parent nodes

----- Sorting children of parent: zhA_gK -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent zhA_gK: []

----- Sorting children of parent: bRdTay -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent bRdTay: []

----- Sorting children of parent: m8OEVv -----
Parent has 3 children to sort
Mapped 3 valid blocks by ID
Block Mk_Gts assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block bRdTay assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block tStG1d assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Grouped blocks into 1 devices
  - Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 3 blocks
Block Mk_Gts has no prev_id
Block bRdTay has no prev_id
Block tStG1d has prev_id bRdTay
Built prev->next map with 1 entries
  - bRdTay has 1 next blocks: ["tStG1d"]
Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 2 root blocks: ["Mk_Gts", "bRdTay"]
Processing devices in order: ["4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"]

Processing device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Comparing root blocks: bRdTay (time: 2025-04-24T17:03:55.612881) vs Mk_Gts (time: 2025-04-24T17:04:05.077214)
Sorted roots for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a: ["bRdTay", "Mk_Gts"]
Starting chain from root: bRdTay
  Adding block bRdTay to sorted list
    Pushing tStG1d onto stack
  Adding block tStG1d to sorted list
  No next blocks for tStG1d
Starting chain from root: Mk_Gts
  Adding block Mk_Gts to sorted list
  No next blocks for Mk_Gts
No remaining blocks for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
No globally remaining blocks
Final sorted order for parent m8OEVv: ["bRdTay", "tStG1d", "Mk_Gts"]

----- Sorting children of parent: tStG1d -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent tStG1d: []
====== COMPLETED BLOCK SORTING ======
Final sorted children map has 4 parents
extract_document_state: Extracted 5 blocks and 4 parent-child relationships
get_document_state: Finished for doc_id: xxxx
flutter: Transaction done
apply_action: Starting with 1 actions for doc_id: xxxx
update_node: Updating block_id: bRdTay
deltas_to_json: Converting 1 deltas
apply_delta_to_text: Computing delta diff
apply_delta_to_text: Parsing delta diff from JSON
apply_delta_diff_to_text: Starting with 2 operations
update_node: Updated block_id: bRdTay
apply_action: Encoding state for doc_id: xxxx
apply_updates: Starting with 49 updates for doc_id: xxxx
apply_updates: Starting with 49 updates for doc_id: xxxx
apply_updates: Applying update for doc_id: xxxx
apply_updates: Finished for doc_id: xxxx
apply_updates: Successfully applied updates for doc_id: xxxx
get_document_state: Starting for doc_id: xxxx
extract_document_state: Starting for doc_id: xxxx
extract_document_state: Processing 5 blocks
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 0 deltas
deltas_to_json: Converting 1 deltas
====== STARTING BLOCK SORTING ======
Input children_map has 4 parent nodes

----- Sorting children of parent: tStG1d -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent tStG1d: []

----- Sorting children of parent: bRdTay -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent bRdTay: []

----- Sorting children of parent: zhA_gK -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent zhA_gK: []

----- Sorting children of parent: m8OEVv -----
Parent has 3 children to sort
Mapped 3 valid blocks by ID
Block Mk_Gts assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block tStG1d assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block bRdTay assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Grouped blocks into 1 devices
  - Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 3 blocks
Block Mk_Gts has no prev_id
Block tStG1d has prev_id bRdTay
Block bRdTay has no prev_id
Built prev->next map with 1 entries
  - bRdTay has 1 next blocks: ["tStG1d"]
Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 2 root blocks: ["Mk_Gts", "bRdTay"]
Processing devices in order: ["4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"]

Processing device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Comparing root blocks: bRdTay (time: 2025-04-24T17:03:55.612881) vs Mk_Gts (time: 2025-04-24T17:04:05.077214)
Sorted roots for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a: ["bRdTay", "Mk_Gts"]
Starting chain from root: bRdTay
  Adding block bRdTay to sorted list
    Pushing tStG1d onto stack
  Adding block tStG1d to sorted list
  No next blocks for tStG1d
Starting chain from root: Mk_Gts
  Adding block Mk_Gts to sorted list
  No next blocks for Mk_Gts
No remaining blocks for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
No globally remaining blocks
Final sorted order for parent m8OEVv: ["bRdTay", "tStG1d", "Mk_Gts"]
====== COMPLETED BLOCK SORTING ======
Final sorted children map has 4 parents
extract_document_state: Extracted 5 blocks and 4 parent-child relationships
get_document_state: Finished for doc_id: xxxx
flutter: Transaction done
apply_action: Starting with 1 actions for doc_id: xxxx
update_node: Updating block_id: bRdTay
deltas_to_json: Converting 1 deltas
apply_delta_to_text: Computing delta diff
apply_delta_to_text: Parsing delta diff from JSON
apply_delta_diff_to_text: Starting with 2 operations
update_node: Updated block_id: bRdTay
apply_action: Encoding state for doc_id: xxxx
apply_updates: Starting with 50 updates for doc_id: xxxx
apply_updates: Starting with 50 updates for doc_id: xxxx
apply_updates: Applying update for doc_id: xxxx
apply_updates: Finished for doc_id: xxxx
apply_updates: Successfully applied updates for doc_id: xxxx
get_document_state: Starting for doc_id: xxxx
extract_document_state: Starting for doc_id: xxxx
extract_document_state: Processing 5 blocks
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 0 deltas
====== STARTING BLOCK SORTING ======
Input children_map has 4 parent nodes

----- Sorting children of parent: bRdTay -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent bRdTay: []

----- Sorting children of parent: tStG1d -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent tStG1d: []

----- Sorting children of parent: zhA_gK -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent zhA_gK: []

----- Sorting children of parent: m8OEVv -----
Parent has 3 children to sort
Mapped 3 valid blocks by ID
Block Mk_Gts assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block tStG1d assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block bRdTay assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Grouped blocks into 1 devices
  - Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 3 blocks
Block Mk_Gts has no prev_id
Block tStG1d has prev_id bRdTay
Block bRdTay has no prev_id
Built prev->next map with 1 entries
  - bRdTay has 1 next blocks: ["tStG1d"]
Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 2 root blocks: ["Mk_Gts", "bRdTay"]
Processing devices in order: ["4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"]

Processing device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Comparing root blocks: bRdTay (time: 2025-04-24T17:03:55.612881) vs Mk_Gts (time: 2025-04-24T17:04:05.077214)
Sorted roots for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a: ["bRdTay", "Mk_Gts"]
Starting chain from root: bRdTay
  Adding block bRdTay to sorted list
    Pushing tStG1d onto stack
  Adding block tStG1d to sorted list
  No next blocks for tStG1d
Starting chain from root: Mk_Gts
  Adding block Mk_Gts to sorted list
  No next blocks for Mk_Gts
No remaining blocks for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
No globally remaining blocks
Final sorted order for parent m8OEVv: ["bRdTay", "tStG1d", "Mk_Gts"]
====== COMPLETED BLOCK SORTING ======
Final sorted children map has 4 parents
extract_document_state: Extracted 5 blocks and 4 parent-child relationships
get_document_state: Finished for doc_id: xxxx
merge_updates: Merging 2 updates
merge_updates: Successfully merged updates
apply_updates: Starting with 51 updates for doc_id: xxxx
apply_updates: Starting with 51 updates for doc_id: xxxx
apply_updates: Applying update for doc_id: xxxx
apply_updates: Finished for doc_id: xxxx
apply_updates: Successfully applied updates for doc_id: xxxx
get_document_state: Starting for doc_id: xxxx
extract_document_state: Starting for doc_id: xxxx
extract_document_state: Processing 5 blocks
deltas_to_json: Converting 0 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
====== STARTING BLOCK SORTING ======
Input children_map has 4 parent nodes

----- Sorting children of parent: m8OEVv -----
Parent has 3 children to sort
Mapped 3 valid blocks by ID
Block tStG1d assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block Mk_Gts assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block bRdTay assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Grouped blocks into 1 devices
  - Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 3 blocks
Block tStG1d has prev_id bRdTay
Block Mk_Gts has no prev_id
Block bRdTay has no prev_id
Built prev->next map with 1 entries
  - bRdTay has 1 next blocks: ["tStG1d"]
Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 2 root blocks: ["Mk_Gts", "bRdTay"]
Processing devices in order: ["4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"]

Processing device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Comparing root blocks: bRdTay (time: 2025-04-24T17:03:55.612881) vs Mk_Gts (time: 2025-04-24T17:04:05.077214)
Sorted roots for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a: ["bRdTay", "Mk_Gts"]
Starting chain from root: bRdTay
  Adding block bRdTay to sorted list
    Pushing tStG1d onto stack
  Adding block tStG1d to sorted list
  No next blocks for tStG1d
Starting chain from root: Mk_Gts
  Adding block Mk_Gts to sorted list
  No next blocks for Mk_Gts
No remaining blocks for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
No globally remaining blocks
Final sorted order for parent m8OEVv: ["bRdTay", "tStG1d", "Mk_Gts"]

----- Sorting children of parent: tStG1d -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent tStG1d: []

----- Sorting children of parent: zhA_gK -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent zhA_gK: []

----- Sorting children of parent: bRdTay -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent bRdTay: []
====== COMPLETED BLOCK SORTING ======
Final sorted children map has 4 parents
extract_document_state: Extracted 5 blocks and 4 parent-child relationships
get_document_state: Finished for doc_id: xxxx
flutter: Transaction done
apply_action: Starting with 2 actions for doc_id: xxxx
insert_node: Starting for block_id: Ps7gyS
deltas_to_json: Converting 0 deltas
apply_delta_to_text: Computing delta diff
apply_delta_to_text: Parsing delta diff from JSON
apply_delta_to_text: No changes to apply
handle_prev_id_chain: block_id=Ps7gyS, prev_id=Some("tStG1d")
  Finding blocks that reference prev_id: tStG1d
find_block_referencing_prev_id: Searching for blocks with prev_id = tStG1d
  Found 6 total blocks to check
  Checking block: Mk_Gts
    Block does not have prev_id
  Checking block: m8OEVv
    Block does not have prev_id
  Checking block: bRdTay
    Block does not have prev_id
  Checking block: Ps7gyS
    Block does not have prev_id
  Checking block: tStG1d
    Block has prev_id: bRdTay, matches target: false
  Checking block: zhA_gK
    Block has prev_id: tStG1d, matches target: true
find_block_referencing_prev_id: Found 1 blocks with prev_id = tStG1d: ["zhA_gK"]
  Found 1 blocks with prev_id tStG1d: ["zhA_gK"]
  Updating block zhA_gK to point to Ps7gyS (was pointing to tStG1d)
handle_prev_id_chain: Completed
handle_following_connection: block_id=Ps7gyS, next_id=None, prev_id=Some("tStG1d")
  Using prev_id strategy (prev_id=tStG1d)
find_block_referencing_prev_id: Searching for blocks with prev_id = tStG1d
  Found 6 total blocks to check
  Checking block: Mk_Gts
    Block does not have prev_id
  Checking block: m8OEVv
    Block does not have prev_id
  Checking block: bRdTay
    Block does not have prev_id
  Checking block: Ps7gyS
    Block does not have prev_id
  Checking block: tStG1d
    Block has prev_id: bRdTay, matches target: false
  Checking block: zhA_gK
    Block has prev_id: Ps7gyS, matches target: false
find_block_referencing_prev_id: Found 0 blocks with prev_id = tStG1d: []
  Found 0 nodes that reference prev_id tStG1d: []
  Finished prev_id strategy
  Setting prev_id of block Ps7gyS to tStG1d
insert_node: Finished for block_id: Ps7gyS
update_node: Updating block_id: tStG1d
deltas_to_json: Converting 1 deltas
apply_delta_to_text: Computing delta diff
apply_delta_to_text: Parsing delta diff from JSON
apply_delta_to_text: No changes to apply
update_node: Updated block_id: tStG1d
apply_action: Encoding state for doc_id: xxxx
apply_updates: Starting with 43 updates for doc_id: xxxx
apply_updates: Starting with 43 updates for doc_id: xxxx
apply_updates: Applying update for doc_id: xxxx
apply_updates: Finished for doc_id: xxxx
apply_updates: Successfully applied updates for doc_id: xxxx
get_document_state: Starting for doc_id: xxxx
extract_document_state: Starting for doc_id: xxxx
extract_document_state: Processing 6 blocks
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 0 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 0 deltas
====== STARTING BLOCK SORTING ======
Input children_map has 5 parent nodes

----- Sorting children of parent: m8OEVv -----
Parent has 4 children to sort
Mapped 4 valid blocks by ID
Block Mk_Gts assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block tStG1d assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block bRdTay assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block Ps7gyS assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Grouped blocks into 1 devices
  - Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 4 blocks
Block Mk_Gts has no prev_id
Block tStG1d has prev_id bRdTay
Block bRdTay has no prev_id
Block Ps7gyS has prev_id tStG1d
Built prev->next map with 2 entries
  - bRdTay has 1 next blocks: ["tStG1d"]
  - tStG1d has 1 next blocks: ["Ps7gyS"]
Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 2 root blocks: ["Mk_Gts", "bRdTay"]
Processing devices in order: ["4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"]

Processing device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Comparing root blocks: bRdTay (time: 2025-04-24T17:03:55.612881) vs Mk_Gts (time: 2025-04-24T17:04:05.077214)
Sorted roots for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a: ["bRdTay", "Mk_Gts"]
Starting chain from root: bRdTay
  Adding block bRdTay to sorted list
    Pushing tStG1d onto stack
  Adding block tStG1d to sorted list
    Pushing Ps7gyS onto stack
  Adding block Ps7gyS to sorted list
  No next blocks for Ps7gyS
Starting chain from root: Mk_Gts
  Adding block Mk_Gts to sorted list
  No next blocks for Mk_Gts
No remaining blocks for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
No globally remaining blocks
Final sorted order for parent m8OEVv: ["bRdTay", "tStG1d", "Ps7gyS", "Mk_Gts"]

----- Sorting children of parent: tStG1d -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent tStG1d: []

----- Sorting children of parent: zhA_gK -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent zhA_gK: []

----- Sorting children of parent: bRdTay -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent bRdTay: []

----- Sorting children of parent: Ps7gyS -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent Ps7gyS: []
====== COMPLETED BLOCK SORTING ======
Final sorted children map has 5 parents
extract_document_state: Extracted 6 blocks and 5 parent-child relationships
get_document_state: Finished for doc_id: xxxx
flutter: {
flutter:   "docId": "xxxx",
flutter:   "blocks": {
flutter:     "Ps7gyS": {
flutter:       "id": "Ps7gyS",
flutter:       "ty": "paragraph",
flutter:       "attributes": {
flutter:         "timestamp": "2025-04-24T17:05:13.710104",
flutter:         "delta": "[]",
flutter:         "device": "4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"
flutter:       },
flutter:       "delta": "[]",
flutter:       "parentId": "m8OEVv",
flutter:       "prevId": "tStG1d",
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "m8OEVv": {
flutter:       "id": "m8OEVv",
flutter:       "ty": "page",
flutter:       "attributes": {
flutter:         "device": "3a00f73e-0356-4c61-a6e1-cb439d9dbf33",
flutter:         "timestamp": "2025-04-24T17:01:59.905543"
flutter:       },
flutter:       "delta": null,
flutter:       "parentId": null,
flutter:       "prevId": null,
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "bRdTay": {
flutter:       "id": "bRdTay",
flutter:       "ty": "paragraph",
flutter:       "attributes": {
flutter:         "device": "4cb3899a-3fe4-4bb1-bbf4-edd464b0977a",
flutter:         "delta": "[]",
flutter:         "timestamp": "2025-04-24T17:03:55.612881"
flutter:       },
flutter:       "delta": "[{\"insert\":\"New Task 1\"}]",
flutter:       "parentId": "m8OEVv",
flutter:       "prevId": null,
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "tStG1d": {
flutter:       "id": "tStG1d",
flutter:       "ty": "paragraph",
flutter:       "attributes": {
flutter:         "delta": "[]",
flutter:         "device": "4cb3899a-3fe4-4bb1-bbf4-edd464b0977a",
flutter:         "timestamp": "2025-04-24T17:05:06.893741"
flutter:       },
flutter:       "delta": "[{\"insert\":\"New task 2\"}]",
flutter:       "parentId": "m8OEVv",
flutter:       "prevId": "bRdTay",
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "zhA_gK": {
flutter:       "id": "zhA_gK",
flutter:       "ty": "todo_list",
flutter:       "attributes": {
flutter:         "device": "4cb3899a-3fe4-4bb1-bbf4-edd464b0977a",
flutter:         "delta": "[]",
flutter:         "checked": "false",
flutter:         "timestamp": "2025-04-24T17:04:02.277720"
flutter:       },
flutter:       "delta": "[{\"insert\":\"Task is mine\"}]",
flutter:       "parentId": "m8OEVv",
flutter:       "prevId": "Ps7gyS",
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "Mk_Gts": {
flutter:       "id": "Mk_Gts",
flutter:       "ty": "",
flutter:       "attributes": {
flutter:         "timestamp": "2025-04-24T17:04:05.077214",
flutter:         "device": "4cb3899a-3fe4-4bb1-bbf4-edd464b0977a",
flutter:         "checked": "false"
flutter:       },
flutter:       "delta": "[]",
flutter:       "parentId": null,
flutter:       "prevId": null,
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     }
flutter:   },
flutter:   "childrenMap": {
flutter:     "m8OEVv": [
flutter:       "bRdTay",
flutter:       "tStG1d",
flutter:       "Ps7gyS",
flutter:       "Mk_Gts"
flutter:     ],
flutter:     "bRdTay": [],
flutter:     "zhA_gK": [],
flutter:     "Ps7gyS": [],
flutter:     "tStG1d": []
flutter:   },
flutter:   "rootId": "m8OEVv"
flutter: }
flutter: Transaction done
apply_action: Starting with 1 actions for doc_id: xxxx
update_node: Updating block_id: Ps7gyS
deltas_to_json: Converting 0 deltas
apply_delta_to_text: Computing delta diff
apply_delta_to_text: Parsing delta diff from JSON
apply_delta_diff_to_text: Starting with 1 operations
update_node: Updated block_id: Ps7gyS
apply_action: Encoding state for doc_id: xxxx
apply_updates: Starting with 44 updates for doc_id: xxxx
apply_updates: Starting with 44 updates for doc_id: xxxx
apply_updates: Applying update for doc_id: xxxx
apply_updates: Finished for doc_id: xxxx
apply_updates: Successfully applied updates for doc_id: xxxx
get_document_state: Starting for doc_id: xxxx
extract_document_state: Starting for doc_id: xxxx
extract_document_state: Processing 6 blocks
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 0 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
====== STARTING BLOCK SORTING ======
Input children_map has 5 parent nodes

----- Sorting children of parent: Ps7gyS -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent Ps7gyS: []

----- Sorting children of parent: bRdTay -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent bRdTay: []

----- Sorting children of parent: zhA_gK -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent zhA_gK: []

----- Sorting children of parent: tStG1d -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent tStG1d: []

----- Sorting children of parent: m8OEVv -----
Parent has 4 children to sort
Mapped 4 valid blocks by ID
Block tStG1d assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block Mk_Gts assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block Ps7gyS assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block bRdTay assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Grouped blocks into 1 devices
  - Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 4 blocks
Block tStG1d has prev_id bRdTay
Block Mk_Gts has no prev_id
Block Ps7gyS has prev_id tStG1d
Block bRdTay has no prev_id
Built prev->next map with 2 entries
  - tStG1d has 1 next blocks: ["Ps7gyS"]
  - bRdTay has 1 next blocks: ["tStG1d"]
Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 2 root blocks: ["Mk_Gts", "bRdTay"]
Processing devices in order: ["4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"]

Processing device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Comparing root blocks: bRdTay (time: 2025-04-24T17:03:55.612881) vs Mk_Gts (time: 2025-04-24T17:04:05.077214)
Sorted roots for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a: ["bRdTay", "Mk_Gts"]
Starting chain from root: bRdTay
  Adding block bRdTay to sorted list
    Pushing tStG1d onto stack
  Adding block tStG1d to sorted list
    Pushing Ps7gyS onto stack
  Adding block Ps7gyS to sorted list
  No next blocks for Ps7gyS
Starting chain from root: Mk_Gts
  Adding block Mk_Gts to sorted list
  No next blocks for Mk_Gts
No remaining blocks for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
No globally remaining blocks
Final sorted order for parent m8OEVv: ["bRdTay", "tStG1d", "Ps7gyS", "Mk_Gts"]
====== COMPLETED BLOCK SORTING ======
Final sorted children map has 5 parents
extract_document_state: Extracted 6 blocks and 5 parent-child relationships
get_document_state: Finished for doc_id: xxxx
flutter: Transaction done
apply_action: Starting with 1 actions for doc_id: xxxx
update_node: Updating block_id: Ps7gyS
deltas_to_json: Converting 1 deltas
apply_delta_to_text: Computing delta diff
apply_delta_to_text: Parsing delta diff from JSON
apply_delta_diff_to_text: Starting with 2 operations
update_node: Updated block_id: Ps7gyS
apply_action: Encoding state for doc_id: xxxx
apply_updates: Starting with 45 updates for doc_id: xxxx
apply_updates: Starting with 45 updates for doc_id: xxxx
apply_updates: Applying update for doc_id: xxxx
apply_updates: Finished for doc_id: xxxx
apply_updates: Successfully applied updates for doc_id: xxxx
get_document_state: Starting for doc_id: xxxx
extract_document_state: Starting for doc_id: xxxx
extract_document_state: Processing 6 blocks
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 0 deltas
====== STARTING BLOCK SORTING ======
Input children_map has 5 parent nodes

----- Sorting children of parent: zhA_gK -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent zhA_gK: []

----- Sorting children of parent: tStG1d -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent tStG1d: []

----- Sorting children of parent: Ps7gyS -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent Ps7gyS: []

----- Sorting children of parent: m8OEVv -----
Parent has 4 children to sort
Mapped 4 valid blocks by ID
Block tStG1d assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block Ps7gyS assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block bRdTay assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block Mk_Gts assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Grouped blocks into 1 devices
  - Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 4 blocks
Block tStG1d has prev_id bRdTay
Block Ps7gyS has prev_id tStG1d
Block bRdTay has no prev_id
Block Mk_Gts has no prev_id
Built prev->next map with 2 entries
  - bRdTay has 1 next blocks: ["tStG1d"]
  - tStG1d has 1 next blocks: ["Ps7gyS"]
Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 2 root blocks: ["bRdTay", "Mk_Gts"]
Processing devices in order: ["4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"]

Processing device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Comparing root blocks: Mk_Gts (time: 2025-04-24T17:04:05.077214) vs bRdTay (time: 2025-04-24T17:03:55.612881)
Sorted roots for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a: ["bRdTay", "Mk_Gts"]
Starting chain from root: bRdTay
  Adding block bRdTay to sorted list
    Pushing tStG1d onto stack
  Adding block tStG1d to sorted list
    Pushing Ps7gyS onto stack
  Adding block Ps7gyS to sorted list
  No next blocks for Ps7gyS
Starting chain from root: Mk_Gts
  Adding block Mk_Gts to sorted list
  No next blocks for Mk_Gts
No remaining blocks for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
No globally remaining blocks
Final sorted order for parent m8OEVv: ["bRdTay", "tStG1d", "Ps7gyS", "Mk_Gts"]

----- Sorting children of parent: bRdTay -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent bRdTay: []
====== COMPLETED BLOCK SORTING ======
Final sorted children map has 5 parents
extract_document_state: Extracted 6 blocks and 5 parent-child relationships
get_document_state: Finished for doc_id: xxxx
flutter: Transaction done
apply_action: Starting with 1 actions for doc_id: xxxx
update_node: Updating block_id: Ps7gyS
deltas_to_json: Converting 1 deltas
apply_delta_to_text: Computing delta diff
apply_delta_to_text: Parsing delta diff from JSON
apply_delta_diff_to_text: Starting with 2 operations
update_node: Updated block_id: Ps7gyS
apply_action: Encoding state for doc_id: xxxx
apply_updates: Starting with 46 updates for doc_id: xxxx
apply_updates: Starting with 46 updates for doc_id: xxxx
apply_updates: Applying update for doc_id: xxxx
apply_updates: Finished for doc_id: xxxx
apply_updates: Successfully applied updates for doc_id: xxxx
get_document_state: Starting for doc_id: xxxx
extract_document_state: Starting for doc_id: xxxx
extract_document_state: Processing 6 blocks
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 0 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
====== STARTING BLOCK SORTING ======
Input children_map has 5 parent nodes

----- Sorting children of parent: Ps7gyS -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent Ps7gyS: []

----- Sorting children of parent: m8OEVv -----
Parent has 4 children to sort
Mapped 4 valid blocks by ID
Block bRdTay assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block tStG1d assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block Ps7gyS assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block Mk_Gts assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Grouped blocks into 1 devices
  - Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 4 blocks
Block bRdTay has no prev_id
Block tStG1d has prev_id bRdTay
Block Ps7gyS has prev_id tStG1d
Block Mk_Gts has no prev_id
Built prev->next map with 2 entries
  - bRdTay has 1 next blocks: ["tStG1d"]
  - tStG1d has 1 next blocks: ["Ps7gyS"]
Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 2 root blocks: ["bRdTay", "Mk_Gts"]
Processing devices in order: ["4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"]

Processing device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Comparing root blocks: Mk_Gts (time: 2025-04-24T17:04:05.077214) vs bRdTay (time: 2025-04-24T17:03:55.612881)
Sorted roots for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a: ["bRdTay", "Mk_Gts"]
Starting chain from root: bRdTay
  Adding block bRdTay to sorted list
    Pushing tStG1d onto stack
  Adding block tStG1d to sorted list
    Pushing Ps7gyS onto stack
  Adding block Ps7gyS to sorted list
  No next blocks for Ps7gyS
Starting chain from root: Mk_Gts
  Adding block Mk_Gts to sorted list
  No next blocks for Mk_Gts
No remaining blocks for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
No globally remaining blocks
Final sorted order for parent m8OEVv: ["bRdTay", "tStG1d", "Ps7gyS", "Mk_Gts"]

----- Sorting children of parent: zhA_gK -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent zhA_gK: []

----- Sorting children of parent: bRdTay -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent bRdTay: []

----- Sorting children of parent: tStG1d -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent tStG1d: []
====== COMPLETED BLOCK SORTING ======
Final sorted children map has 5 parents
extract_document_state: Extracted 6 blocks and 5 parent-child relationships
get_document_state: Finished for doc_id: xxxx
flutter: Transaction done
apply_action: Starting with 1 actions for doc_id: xxxx
update_node: Updating block_id: Ps7gyS
deltas_to_json: Converting 1 deltas
apply_delta_to_text: Computing delta diff
apply_delta_to_text: Parsing delta diff from JSON
apply_delta_diff_to_text: Starting with 2 operations
update_node: Updated block_id: Ps7gyS
apply_action: Encoding state for doc_id: xxxx
apply_updates: Starting with 47 updates for doc_id: xxxx
apply_updates: Starting with 47 updates for doc_id: xxxx
apply_updates: Applying update for doc_id: xxxx
apply_updates: Finished for doc_id: xxxx
apply_updates: Successfully applied updates for doc_id: xxxx
get_document_state: Starting for doc_id: xxxx
extract_document_state: Starting for doc_id: xxxx
extract_document_state: Processing 6 blocks
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 0 deltas
deltas_to_json: Converting 1 deltas
====== STARTING BLOCK SORTING ======
Input children_map has 5 parent nodes

----- Sorting children of parent: Ps7gyS -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent Ps7gyS: []

----- Sorting children of parent: m8OEVv -----
Parent has 4 children to sort
Mapped 4 valid blocks by ID
Block Mk_Gts assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block tStG1d assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block Ps7gyS assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block bRdTay assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Grouped blocks into 1 devices
  - Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 4 blocks
Block Mk_Gts has no prev_id
Block tStG1d has prev_id bRdTay
Block Ps7gyS has prev_id tStG1d
Block bRdTay has no prev_id
Built prev->next map with 2 entries
  - bRdTay has 1 next blocks: ["tStG1d"]
  - tStG1d has 1 next blocks: ["Ps7gyS"]
Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 2 root blocks: ["Mk_Gts", "bRdTay"]
Processing devices in order: ["4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"]

Processing device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Comparing root blocks: bRdTay (time: 2025-04-24T17:03:55.612881) vs Mk_Gts (time: 2025-04-24T17:04:05.077214)
Sorted roots for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a: ["bRdTay", "Mk_Gts"]
Starting chain from root: bRdTay
  Adding block bRdTay to sorted list
    Pushing tStG1d onto stack
  Adding block tStG1d to sorted list
    Pushing Ps7gyS onto stack
  Adding block Ps7gyS to sorted list
  No next blocks for Ps7gyS
Starting chain from root: Mk_Gts
  Adding block Mk_Gts to sorted list
  No next blocks for Mk_Gts
No remaining blocks for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
No globally remaining blocks
Final sorted order for parent m8OEVv: ["bRdTay", "tStG1d", "Ps7gyS", "Mk_Gts"]

----- Sorting children of parent: zhA_gK -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent zhA_gK: []

----- Sorting children of parent: tStG1d -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent tStG1d: []

----- Sorting children of parent: bRdTay -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent bRdTay: []
====== COMPLETED BLOCK SORTING ======
Final sorted children map has 5 parents
extract_document_state: Extracted 6 blocks and 5 parent-child relationships
get_document_state: Finished for doc_id: xxxx
flutter: Transaction done
apply_action: Starting with 1 actions for doc_id: xxxx
update_node: Updating block_id: Ps7gyS
deltas_to_json: Converting 1 deltas
apply_delta_to_text: Computing delta diff
apply_delta_to_text: Parsing delta diff from JSON
apply_delta_diff_to_text: Starting with 2 operations
update_node: Updated block_id: Ps7gyS
apply_action: Encoding state for doc_id: xxxx
apply_updates: Starting with 48 updates for doc_id: xxxx
apply_updates: Starting with 48 updates for doc_id: xxxx
apply_updates: Applying update for doc_id: xxxx
apply_updates: Finished for doc_id: xxxx
apply_updates: Successfully applied updates for doc_id: xxxx
get_document_state: Starting for doc_id: xxxx
extract_document_state: Starting for doc_id: xxxx
extract_document_state: Processing 6 blocks
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 0 deltas
====== STARTING BLOCK SORTING ======
Input children_map has 5 parent nodes

----- Sorting children of parent: zhA_gK -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent zhA_gK: []

----- Sorting children of parent: tStG1d -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent tStG1d: []

----- Sorting children of parent: Ps7gyS -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent Ps7gyS: []

----- Sorting children of parent: m8OEVv -----
Parent has 4 children to sort
Mapped 4 valid blocks by ID
Block Mk_Gts assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block tStG1d assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block Ps7gyS assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block bRdTay assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Grouped blocks into 1 devices
  - Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 4 blocks
Block Mk_Gts has no prev_id
Block tStG1d has prev_id bRdTay
Block Ps7gyS has prev_id tStG1d
Block bRdTay has no prev_id
Built prev->next map with 2 entries
  - tStG1d has 1 next blocks: ["Ps7gyS"]
  - bRdTay has 1 next blocks: ["tStG1d"]
Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 2 root blocks: ["Mk_Gts", "bRdTay"]
Processing devices in order: ["4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"]

Processing device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Comparing root blocks: bRdTay (time: 2025-04-24T17:03:55.612881) vs Mk_Gts (time: 2025-04-24T17:04:05.077214)
Sorted roots for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a: ["bRdTay", "Mk_Gts"]
Starting chain from root: bRdTay
  Adding block bRdTay to sorted list
    Pushing tStG1d onto stack
  Adding block tStG1d to sorted list
    Pushing Ps7gyS onto stack
  Adding block Ps7gyS to sorted list
  No next blocks for Ps7gyS
Starting chain from root: Mk_Gts
  Adding block Mk_Gts to sorted list
  No next blocks for Mk_Gts
No remaining blocks for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
No globally remaining blocks
Final sorted order for parent m8OEVv: ["bRdTay", "tStG1d", "Ps7gyS", "Mk_Gts"]

----- Sorting children of parent: bRdTay -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent bRdTay: []
====== COMPLETED BLOCK SORTING ======
Final sorted children map has 5 parents
extract_document_state: Extracted 6 blocks and 5 parent-child relationships
get_document_state: Finished for doc_id: xxxx
flutter: Transaction done
apply_action: Starting with 1 actions for doc_id: xxxx
update_node: Updating block_id: Ps7gyS
deltas_to_json: Converting 1 deltas
apply_delta_to_text: Computing delta diff
apply_delta_to_text: Parsing delta diff from JSON
apply_delta_diff_to_text: Starting with 2 operations
update_node: Updated block_id: Ps7gyS
apply_action: Encoding state for doc_id: xxxx
apply_updates: Starting with 49 updates for doc_id: xxxx
apply_updates: Starting with 49 updates for doc_id: xxxx
apply_updates: Applying update for doc_id: xxxx
apply_updates: Finished for doc_id: xxxx
apply_updates: Successfully applied updates for doc_id: xxxx
get_document_state: Starting for doc_id: xxxx
extract_document_state: Starting for doc_id: xxxx
extract_document_state: Processing 6 blocks
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 0 deltas
====== STARTING BLOCK SORTING ======
Input children_map has 5 parent nodes

----- Sorting children of parent: Ps7gyS -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent Ps7gyS: []

----- Sorting children of parent: bRdTay -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent bRdTay: []

----- Sorting children of parent: tStG1d -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent tStG1d: []

----- Sorting children of parent: zhA_gK -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent zhA_gK: []

----- Sorting children of parent: m8OEVv -----
Parent has 4 children to sort
Mapped 4 valid blocks by ID
Block Ps7gyS assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block tStG1d assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block Mk_Gts assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block bRdTay assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Grouped blocks into 1 devices
  - Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 4 blocks
Block Ps7gyS has prev_id tStG1d
Block tStG1d has prev_id bRdTay
Block Mk_Gts has no prev_id
Block bRdTay has no prev_id
Built prev->next map with 2 entries
  - bRdTay has 1 next blocks: ["tStG1d"]
  - tStG1d has 1 next blocks: ["Ps7gyS"]
Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 2 root blocks: ["Mk_Gts", "bRdTay"]
Processing devices in order: ["4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"]

Processing device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Comparing root blocks: bRdTay (time: 2025-04-24T17:03:55.612881) vs Mk_Gts (time: 2025-04-24T17:04:05.077214)
Sorted roots for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a: ["bRdTay", "Mk_Gts"]
Starting chain from root: bRdTay
  Adding block bRdTay to sorted list
    Pushing tStG1d onto stack
  Adding block tStG1d to sorted list
    Pushing Ps7gyS onto stack
  Adding block Ps7gyS to sorted list
  No next blocks for Ps7gyS
Starting chain from root: Mk_Gts
  Adding block Mk_Gts to sorted list
  No next blocks for Mk_Gts
No remaining blocks for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
No globally remaining blocks
Final sorted order for parent m8OEVv: ["bRdTay", "tStG1d", "Ps7gyS", "Mk_Gts"]
====== COMPLETED BLOCK SORTING ======
Final sorted children map has 5 parents
extract_document_state: Extracted 6 blocks and 5 parent-child relationships
get_document_state: Finished for doc_id: xxxx
flutter: Transaction done
apply_action: Starting with 1 actions for doc_id: xxxx
update_node: Updating block_id: Ps7gyS
deltas_to_json: Converting 1 deltas
apply_delta_to_text: Computing delta diff
apply_delta_to_text: Parsing delta diff from JSON
apply_delta_diff_to_text: Starting with 2 operations
update_node: Updated block_id: Ps7gyS
apply_action: Encoding state for doc_id: xxxx
apply_updates: Starting with 50 updates for doc_id: xxxx
apply_updates: Starting with 50 updates for doc_id: xxxx
apply_updates: Applying update for doc_id: xxxx
apply_updates: Finished for doc_id: xxxx
apply_updates: Successfully applied updates for doc_id: xxxx
get_document_state: Starting for doc_id: xxxx
extract_document_state: Starting for doc_id: xxxx
extract_document_state: Processing 6 blocks
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 0 deltas
deltas_to_json: Converting 1 deltas
====== STARTING BLOCK SORTING ======
Input children_map has 5 parent nodes

----- Sorting children of parent: tStG1d -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent tStG1d: []

----- Sorting children of parent: zhA_gK -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent zhA_gK: []

----- Sorting children of parent: bRdTay -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent bRdTay: []

----- Sorting children of parent: Ps7gyS -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent Ps7gyS: []

----- Sorting children of parent: m8OEVv -----
Parent has 4 children to sort
Mapped 4 valid blocks by ID
Block Mk_Gts assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block bRdTay assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block tStG1d assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block Ps7gyS assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Grouped blocks into 1 devices
  - Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 4 blocks
Block Mk_Gts has no prev_id
Block bRdTay has no prev_id
Block tStG1d has prev_id bRdTay
Block Ps7gyS has prev_id tStG1d
Built prev->next map with 2 entries
  - bRdTay has 1 next blocks: ["tStG1d"]
  - tStG1d has 1 next blocks: ["Ps7gyS"]
Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 2 root blocks: ["Mk_Gts", "bRdTay"]
Processing devices in order: ["4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"]

Processing device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Comparing root blocks: bRdTay (time: 2025-04-24T17:03:55.612881) vs Mk_Gts (time: 2025-04-24T17:04:05.077214)
Sorted roots for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a: ["bRdTay", "Mk_Gts"]
Starting chain from root: bRdTay
  Adding block bRdTay to sorted list
    Pushing tStG1d onto stack
  Adding block tStG1d to sorted list
    Pushing Ps7gyS onto stack
  Adding block Ps7gyS to sorted list
  No next blocks for Ps7gyS
Starting chain from root: Mk_Gts
  Adding block Mk_Gts to sorted list
  No next blocks for Mk_Gts
No remaining blocks for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
No globally remaining blocks
Final sorted order for parent m8OEVv: ["bRdTay", "tStG1d", "Ps7gyS", "Mk_Gts"]
====== COMPLETED BLOCK SORTING ======
Final sorted children map has 5 parents
extract_document_state: Extracted 6 blocks and 5 parent-child relationships
get_document_state: Finished for doc_id: xxxx
flutter: Transaction done
apply_action: Starting with 1 actions for doc_id: xxxx
update_node: Updating block_id: Ps7gyS
deltas_to_json: Converting 1 deltas
apply_delta_to_text: Computing delta diff
apply_delta_to_text: Parsing delta diff from JSON
apply_delta_diff_to_text: Starting with 2 operations
update_node: Updated block_id: Ps7gyS
apply_action: Encoding state for doc_id: xxxx
apply_updates: Starting with 51 updates for doc_id: xxxx
apply_updates: Starting with 51 updates for doc_id: xxxx
apply_updates: Applying update for doc_id: xxxx
apply_updates: Finished for doc_id: xxxx
apply_updates: Successfully applied updates for doc_id: xxxx
get_document_state: Starting for doc_id: xxxx
extract_document_state: Starting for doc_id: xxxx
extract_document_state: Processing 6 blocks
deltas_to_json: Converting 0 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
====== STARTING BLOCK SORTING ======
Input children_map has 5 parent nodes

----- Sorting children of parent: m8OEVv -----
Parent has 4 children to sort
Mapped 4 valid blocks by ID
Block bRdTay assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block Ps7gyS assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block Mk_Gts assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block tStG1d assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Grouped blocks into 1 devices
  - Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 4 blocks
Block bRdTay has no prev_id
Block Ps7gyS has prev_id tStG1d
Block Mk_Gts has no prev_id
Block tStG1d has prev_id bRdTay
Built prev->next map with 2 entries
  - bRdTay has 1 next blocks: ["tStG1d"]
  - tStG1d has 1 next blocks: ["Ps7gyS"]
Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 2 root blocks: ["bRdTay", "Mk_Gts"]
Processing devices in order: ["4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"]

Processing device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Comparing root blocks: Mk_Gts (time: 2025-04-24T17:04:05.077214) vs bRdTay (time: 2025-04-24T17:03:55.612881)
Sorted roots for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a: ["bRdTay", "Mk_Gts"]
Starting chain from root: bRdTay
  Adding block bRdTay to sorted list
    Pushing tStG1d onto stack
  Adding block tStG1d to sorted list
    Pushing Ps7gyS onto stack
  Adding block Ps7gyS to sorted list
  No next blocks for Ps7gyS
Starting chain from root: Mk_Gts
  Adding block Mk_Gts to sorted list
  No next blocks for Mk_Gts
No remaining blocks for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
No globally remaining blocks
Final sorted order for parent m8OEVv: ["bRdTay", "tStG1d", "Ps7gyS", "Mk_Gts"]

----- Sorting children of parent: zhA_gK -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent zhA_gK: []

----- Sorting children of parent: Ps7gyS -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent Ps7gyS: []

----- Sorting children of parent: tStG1d -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent tStG1d: []

----- Sorting children of parent: bRdTay -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent bRdTay: []
====== COMPLETED BLOCK SORTING ======
Final sorted children map has 5 parents
extract_document_state: Extracted 6 blocks and 5 parent-child relationships
get_document_state: Finished for doc_id: xxxx
flutter: Transaction done
apply_action: Starting with 1 actions for doc_id: xxxx
update_node: Updating block_id: Ps7gyS
deltas_to_json: Converting 1 deltas
apply_delta_to_text: Computing delta diff
apply_delta_to_text: Parsing delta diff from JSON
apply_delta_diff_to_text: Starting with 2 operations
update_node: Updated block_id: Ps7gyS
apply_action: Encoding state for doc_id: xxxx
apply_updates: Starting with 52 updates for doc_id: xxxx
apply_updates: Starting with 52 updates for doc_id: xxxx
apply_updates: Applying update for doc_id: xxxx
apply_updates: Finished for doc_id: xxxx
apply_updates: Successfully applied updates for doc_id: xxxx
get_document_state: Starting for doc_id: xxxx
extract_document_state: Starting for doc_id: xxxx
extract_document_state: Processing 6 blocks
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 0 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
====== STARTING BLOCK SORTING ======
Input children_map has 5 parent nodes

----- Sorting children of parent: tStG1d -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent tStG1d: []

----- Sorting children of parent: m8OEVv -----
Parent has 4 children to sort
Mapped 4 valid blocks by ID
Block bRdTay assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block Mk_Gts assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block Ps7gyS assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block tStG1d assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Grouped blocks into 1 devices
  - Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 4 blocks
Block bRdTay has no prev_id
Block Mk_Gts has no prev_id
Block Ps7gyS has prev_id tStG1d
Block tStG1d has prev_id bRdTay
Built prev->next map with 2 entries
  - tStG1d has 1 next blocks: ["Ps7gyS"]
  - bRdTay has 1 next blocks: ["tStG1d"]
Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 2 root blocks: ["bRdTay", "Mk_Gts"]
Processing devices in order: ["4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"]

Processing device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Comparing root blocks: Mk_Gts (time: 2025-04-24T17:04:05.077214) vs bRdTay (time: 2025-04-24T17:03:55.612881)
Sorted roots for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a: ["bRdTay", "Mk_Gts"]
Starting chain from root: bRdTay
  Adding block bRdTay to sorted list
    Pushing tStG1d onto stack
  Adding block tStG1d to sorted list
    Pushing Ps7gyS onto stack
  Adding block Ps7gyS to sorted list
  No next blocks for Ps7gyS
Starting chain from root: Mk_Gts
  Adding block Mk_Gts to sorted list
  No next blocks for Mk_Gts
No remaining blocks for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
No globally remaining blocks
Final sorted order for parent m8OEVv: ["bRdTay", "tStG1d", "Ps7gyS", "Mk_Gts"]

----- Sorting children of parent: Ps7gyS -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent Ps7gyS: []

----- Sorting children of parent: zhA_gK -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent zhA_gK: []

----- Sorting children of parent: bRdTay -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent bRdTay: []
====== COMPLETED BLOCK SORTING ======
Final sorted children map has 5 parents
extract_document_state: Extracted 6 blocks and 5 parent-child relationships
get_document_state: Finished for doc_id: xxxx
flutter: Transaction done
apply_action: Starting with 1 actions for doc_id: xxxx
update_node: Updating block_id: Ps7gyS
deltas_to_json: Converting 1 deltas
apply_delta_to_text: Computing delta diff
apply_delta_to_text: Parsing delta diff from JSON
apply_delta_diff_to_text: Starting with 2 operations
update_node: Updated block_id: Ps7gyS
apply_action: Encoding state for doc_id: xxxx
apply_updates: Starting with 53 updates for doc_id: xxxx
apply_updates: Starting with 53 updates for doc_id: xxxx
apply_updates: Applying update for doc_id: xxxx
apply_updates: Finished for doc_id: xxxx
apply_updates: Successfully applied updates for doc_id: xxxx
get_document_state: Starting for doc_id: xxxx
extract_document_state: Starting for doc_id: xxxx
extract_document_state: Processing 6 blocks
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 0 deltas
====== STARTING BLOCK SORTING ======
Input children_map has 5 parent nodes

----- Sorting children of parent: tStG1d -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent tStG1d: []

----- Sorting children of parent: m8OEVv -----
Parent has 4 children to sort
Mapped 4 valid blocks by ID
Block bRdTay assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block Ps7gyS assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block tStG1d assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block Mk_Gts assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Grouped blocks into 1 devices
  - Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 4 blocks
Block bRdTay has no prev_id
Block Ps7gyS has prev_id tStG1d
Block tStG1d has prev_id bRdTay
Block Mk_Gts has no prev_id
Built prev->next map with 2 entries
  - bRdTay has 1 next blocks: ["tStG1d"]
  - tStG1d has 1 next blocks: ["Ps7gyS"]
Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 2 root blocks: ["bRdTay", "Mk_Gts"]
Processing devices in order: ["4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"]

Processing device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Comparing root blocks: Mk_Gts (time: 2025-04-24T17:04:05.077214) vs bRdTay (time: 2025-04-24T17:03:55.612881)
Sorted roots for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a: ["bRdTay", "Mk_Gts"]
Starting chain from root: bRdTay
  Adding block bRdTay to sorted list
    Pushing tStG1d onto stack
  Adding block tStG1d to sorted list
    Pushing Ps7gyS onto stack
  Adding block Ps7gyS to sorted list
  No next blocks for Ps7gyS
Starting chain from root: Mk_Gts
  Adding block Mk_Gts to sorted list
  No next blocks for Mk_Gts
No remaining blocks for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
No globally remaining blocks
Final sorted order for parent m8OEVv: ["bRdTay", "tStG1d", "Ps7gyS", "Mk_Gts"]

----- Sorting children of parent: bRdTay -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent bRdTay: []

----- Sorting children of parent: Ps7gyS -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent Ps7gyS: []

----- Sorting children of parent: zhA_gK -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent zhA_gK: []
====== COMPLETED BLOCK SORTING ======
Final sorted children map has 5 parents
extract_document_state: Extracted 6 blocks and 5 parent-child relationships
get_document_state: Finished for doc_id: xxxx
flutter: Transaction done
apply_action: Starting with 1 actions for doc_id: xxxx
update_node: Updating block_id: Ps7gyS
deltas_to_json: Converting 1 deltas
apply_delta_to_text: Computing delta diff
apply_delta_to_text: Parsing delta diff from JSON
apply_delta_diff_to_text: Starting with 2 operations
update_node: Updated block_id: Ps7gyS
apply_action: Encoding state for doc_id: xxxx
apply_updates: Starting with 54 updates for doc_id: xxxx
apply_updates: Starting with 54 updates for doc_id: xxxx
apply_updates: Applying update for doc_id: xxxx
apply_updates: Finished for doc_id: xxxx
apply_updates: Successfully applied updates for doc_id: xxxx
get_document_state: Starting for doc_id: xxxx
extract_document_state: Starting for doc_id: xxxx
extract_document_state: Processing 6 blocks
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 0 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
====== STARTING BLOCK SORTING ======
Input children_map has 5 parent nodes

----- Sorting children of parent: Ps7gyS -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent Ps7gyS: []

----- Sorting children of parent: bRdTay -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent bRdTay: []

----- Sorting children of parent: tStG1d -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent tStG1d: []

----- Sorting children of parent: zhA_gK -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent zhA_gK: []

----- Sorting children of parent: m8OEVv -----
Parent has 4 children to sort
Mapped 4 valid blocks by ID
Block bRdTay assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block Mk_Gts assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block Ps7gyS assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block tStG1d assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Grouped blocks into 1 devices
  - Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 4 blocks
Block bRdTay has no prev_id
Block Mk_Gts has no prev_id
Block Ps7gyS has prev_id tStG1d
Block tStG1d has prev_id bRdTay
Built prev->next map with 2 entries
  - tStG1d has 1 next blocks: ["Ps7gyS"]
  - bRdTay has 1 next blocks: ["tStG1d"]
Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 2 root blocks: ["bRdTay", "Mk_Gts"]
Processing devices in order: ["4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"]

Processing device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Comparing root blocks: Mk_Gts (time: 2025-04-24T17:04:05.077214) vs bRdTay (time: 2025-04-24T17:03:55.612881)
Sorted roots for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a: ["bRdTay", "Mk_Gts"]
Starting chain from root: bRdTay
  Adding block bRdTay to sorted list
    Pushing tStG1d onto stack
  Adding block tStG1d to sorted list
    Pushing Ps7gyS onto stack
  Adding block Ps7gyS to sorted list
  No next blocks for Ps7gyS
Starting chain from root: Mk_Gts
  Adding block Mk_Gts to sorted list
  No next blocks for Mk_Gts
No remaining blocks for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
No globally remaining blocks
Final sorted order for parent m8OEVv: ["bRdTay", "tStG1d", "Ps7gyS", "Mk_Gts"]
====== COMPLETED BLOCK SORTING ======
Final sorted children map has 5 parents
extract_document_state: Extracted 6 blocks and 5 parent-child relationships
get_document_state: Finished for doc_id: xxxx
flutter: Transaction done
apply_action: Starting with 1 actions for doc_id: xxxx
update_node: Updating block_id: Ps7gyS
deltas_to_json: Converting 1 deltas
apply_delta_to_text: Computing delta diff
apply_delta_to_text: Parsing delta diff from JSON
apply_delta_diff_to_text: Starting with 2 operations
update_node: Updated block_id: Ps7gyS
apply_action: Encoding state for doc_id: xxxx
apply_updates: Starting with 55 updates for doc_id: xxxx
apply_updates: Starting with 55 updates for doc_id: xxxx
apply_updates: Applying update for doc_id: xxxx
apply_updates: Finished for doc_id: xxxx
apply_updates: Successfully applied updates for doc_id: xxxx
get_document_state: Starting for doc_id: xxxx
extract_document_state: Starting for doc_id: xxxx
extract_document_state: Processing 6 blocks
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 0 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
====== STARTING BLOCK SORTING ======
Input children_map has 5 parent nodes

----- Sorting children of parent: m8OEVv -----
Parent has 4 children to sort
Mapped 4 valid blocks by ID
Block Mk_Gts assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block tStG1d assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block bRdTay assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block Ps7gyS assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Grouped blocks into 1 devices
  - Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 4 blocks
Block Mk_Gts has no prev_id
Block tStG1d has prev_id bRdTay
Block bRdTay has no prev_id
Block Ps7gyS has prev_id tStG1d
Built prev->next map with 2 entries
  - tStG1d has 1 next blocks: ["Ps7gyS"]
  - bRdTay has 1 next blocks: ["tStG1d"]
Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 2 root blocks: ["Mk_Gts", "bRdTay"]
Processing devices in order: ["4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"]

Processing device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Comparing root blocks: bRdTay (time: 2025-04-24T17:03:55.612881) vs Mk_Gts (time: 2025-04-24T17:04:05.077214)
Sorted roots for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a: ["bRdTay", "Mk_Gts"]
Starting chain from root: bRdTay
  Adding block bRdTay to sorted list
    Pushing tStG1d onto stack
  Adding block tStG1d to sorted list
    Pushing Ps7gyS onto stack
  Adding block Ps7gyS to sorted list
  No next blocks for Ps7gyS
Starting chain from root: Mk_Gts
  Adding block Mk_Gts to sorted list
  No next blocks for Mk_Gts
No remaining blocks for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
No globally remaining blocks
Final sorted order for parent m8OEVv: ["bRdTay", "tStG1d", "Ps7gyS", "Mk_Gts"]

----- Sorting children of parent: Ps7gyS -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent Ps7gyS: []

----- Sorting children of parent: bRdTay -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent bRdTay: []

----- Sorting children of parent: tStG1d -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent tStG1d: []

----- Sorting children of parent: zhA_gK -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent zhA_gK: []
====== COMPLETED BLOCK SORTING ======
Final sorted children map has 5 parents
extract_document_state: Extracted 6 blocks and 5 parent-child relationships
get_document_state: Finished for doc_id: xxxx
flutter: Transaction done
apply_action: Starting with 1 actions for doc_id: xxxx
update_node: Updating block_id: Ps7gyS
deltas_to_json: Converting 1 deltas
apply_delta_to_text: Computing delta diff
apply_delta_to_text: Parsing delta diff from JSON
apply_delta_diff_to_text: Starting with 2 operations
update_node: Updated block_id: Ps7gyS
apply_action: Encoding state for doc_id: xxxx
apply_updates: Starting with 56 updates for doc_id: xxxx
apply_updates: Starting with 56 updates for doc_id: xxxx
apply_updates: Applying update for doc_id: xxxx
apply_updates: Finished for doc_id: xxxx
apply_updates: Successfully applied updates for doc_id: xxxx
get_document_state: Starting for doc_id: xxxx
extract_document_state: Starting for doc_id: xxxx
extract_document_state: Processing 6 blocks
deltas_to_json: Converting 0 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
====== STARTING BLOCK SORTING ======
Input children_map has 5 parent nodes

----- Sorting children of parent: zhA_gK -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent zhA_gK: []

----- Sorting children of parent: Ps7gyS -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent Ps7gyS: []

----- Sorting children of parent: tStG1d -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent tStG1d: []

----- Sorting children of parent: bRdTay -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent bRdTay: []

----- Sorting children of parent: m8OEVv -----
Parent has 4 children to sort
Mapped 4 valid blocks by ID
Block Ps7gyS assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block tStG1d assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block Mk_Gts assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block bRdTay assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Grouped blocks into 1 devices
  - Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 4 blocks
Block Ps7gyS has prev_id tStG1d
Block tStG1d has prev_id bRdTay
Block Mk_Gts has no prev_id
Block bRdTay has no prev_id
Built prev->next map with 2 entries
  - bRdTay has 1 next blocks: ["tStG1d"]
  - tStG1d has 1 next blocks: ["Ps7gyS"]
Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 2 root blocks: ["Mk_Gts", "bRdTay"]
Processing devices in order: ["4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"]

Processing device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Comparing root blocks: bRdTay (time: 2025-04-24T17:03:55.612881) vs Mk_Gts (time: 2025-04-24T17:04:05.077214)
Sorted roots for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a: ["bRdTay", "Mk_Gts"]
Starting chain from root: bRdTay
  Adding block bRdTay to sorted list
    Pushing tStG1d onto stack
  Adding block tStG1d to sorted list
    Pushing Ps7gyS onto stack
  Adding block Ps7gyS to sorted list
  No next blocks for Ps7gyS
Starting chain from root: Mk_Gts
  Adding block Mk_Gts to sorted list
  No next blocks for Mk_Gts
No remaining blocks for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
No globally remaining blocks
Final sorted order for parent m8OEVv: ["bRdTay", "tStG1d", "Ps7gyS", "Mk_Gts"]
====== COMPLETED BLOCK SORTING ======
Final sorted children map has 5 parents
extract_document_state: Extracted 6 blocks and 5 parent-child relationships
get_document_state: Finished for doc_id: xxxx
flutter: Transaction done
apply_action: Starting with 1 actions for doc_id: xxxx
update_node: Updating block_id: Ps7gyS
deltas_to_json: Converting 1 deltas
apply_delta_to_text: Computing delta diff
apply_delta_to_text: Parsing delta diff from JSON
apply_delta_diff_to_text: Starting with 2 operations
update_node: Updated block_id: Ps7gyS
apply_action: Encoding state for doc_id: xxxx
apply_updates: Starting with 57 updates for doc_id: xxxx
apply_updates: Starting with 57 updates for doc_id: xxxx
apply_updates: Applying update for doc_id: xxxx
apply_updates: Finished for doc_id: xxxx
apply_updates: Successfully applied updates for doc_id: xxxx
get_document_state: Starting for doc_id: xxxx
extract_document_state: Starting for doc_id: xxxx
extract_document_state: Processing 6 blocks
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 0 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
====== STARTING BLOCK SORTING ======
Input children_map has 5 parent nodes

----- Sorting children of parent: tStG1d -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent tStG1d: []

----- Sorting children of parent: m8OEVv -----
Parent has 4 children to sort
Mapped 4 valid blocks by ID
Block tStG1d assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block Ps7gyS assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block bRdTay assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block Mk_Gts assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Grouped blocks into 1 devices
  - Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 4 blocks
Block tStG1d has prev_id bRdTay
Block Ps7gyS has prev_id tStG1d
Block bRdTay has no prev_id
Block Mk_Gts has no prev_id
Built prev->next map with 2 entries
  - bRdTay has 1 next blocks: ["tStG1d"]
  - tStG1d has 1 next blocks: ["Ps7gyS"]
Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 2 root blocks: ["bRdTay", "Mk_Gts"]
Processing devices in order: ["4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"]

Processing device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Comparing root blocks: Mk_Gts (time: 2025-04-24T17:04:05.077214) vs bRdTay (time: 2025-04-24T17:03:55.612881)
Sorted roots for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a: ["bRdTay", "Mk_Gts"]
Starting chain from root: bRdTay
  Adding block bRdTay to sorted list
    Pushing tStG1d onto stack
  Adding block tStG1d to sorted list
    Pushing Ps7gyS onto stack
  Adding block Ps7gyS to sorted list
  No next blocks for Ps7gyS
Starting chain from root: Mk_Gts
  Adding block Mk_Gts to sorted list
  No next blocks for Mk_Gts
No remaining blocks for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
No globally remaining blocks
Final sorted order for parent m8OEVv: ["bRdTay", "tStG1d", "Ps7gyS", "Mk_Gts"]

----- Sorting children of parent: zhA_gK -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent zhA_gK: []

----- Sorting children of parent: bRdTay -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent bRdTay: []

----- Sorting children of parent: Ps7gyS -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent Ps7gyS: []
====== COMPLETED BLOCK SORTING ======
Final sorted children map has 5 parents
extract_document_state: Extracted 6 blocks and 5 parent-child relationships
get_document_state: Finished for doc_id: xxxx
flutter: Transaction done
apply_action: Starting with 1 actions for doc_id: xxxx
update_node: Updating block_id: Ps7gyS
deltas_to_json: Converting 1 deltas
apply_delta_to_text: Computing delta diff
apply_delta_to_text: Parsing delta diff from JSON
apply_delta_diff_to_text: Starting with 2 operations
update_node: Updated block_id: Ps7gyS
apply_action: Encoding state for doc_id: xxxx
apply_updates: Starting with 58 updates for doc_id: xxxx
apply_updates: Starting with 58 updates for doc_id: xxxx
apply_updates: Applying update for doc_id: xxxx
apply_updates: Finished for doc_id: xxxx
apply_updates: Successfully applied updates for doc_id: xxxx
get_document_state: Starting for doc_id: xxxx
extract_document_state: Starting for doc_id: xxxx
extract_document_state: Processing 6 blocks
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 0 deltas
====== STARTING BLOCK SORTING ======
Input children_map has 5 parent nodes

----- Sorting children of parent: m8OEVv -----
Parent has 4 children to sort
Mapped 4 valid blocks by ID
Block bRdTay assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block Mk_Gts assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block tStG1d assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block Ps7gyS assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Grouped blocks into 1 devices
  - Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 4 blocks
Block bRdTay has no prev_id
Block Mk_Gts has no prev_id
Block tStG1d has prev_id bRdTay
Block Ps7gyS has prev_id tStG1d
Built prev->next map with 2 entries
  - bRdTay has 1 next blocks: ["tStG1d"]
  - tStG1d has 1 next blocks: ["Ps7gyS"]
Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 2 root blocks: ["bRdTay", "Mk_Gts"]
Processing devices in order: ["4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"]

Processing device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Comparing root blocks: Mk_Gts (time: 2025-04-24T17:04:05.077214) vs bRdTay (time: 2025-04-24T17:03:55.612881)
Sorted roots for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a: ["bRdTay", "Mk_Gts"]
Starting chain from root: bRdTay
  Adding block bRdTay to sorted list
    Pushing tStG1d onto stack
  Adding block tStG1d to sorted list
    Pushing Ps7gyS onto stack
  Adding block Ps7gyS to sorted list
  No next blocks for Ps7gyS
Starting chain from root: Mk_Gts
  Adding block Mk_Gts to sorted list
  No next blocks for Mk_Gts
No remaining blocks for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
No globally remaining blocks
Final sorted order for parent m8OEVv: ["bRdTay", "tStG1d", "Ps7gyS", "Mk_Gts"]

----- Sorting children of parent: Ps7gyS -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent Ps7gyS: []

----- Sorting children of parent: zhA_gK -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent zhA_gK: []

----- Sorting children of parent: tStG1d -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent tStG1d: []

----- Sorting children of parent: bRdTay -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent bRdTay: []
====== COMPLETED BLOCK SORTING ======
Final sorted children map has 5 parents
extract_document_state: Extracted 6 blocks and 5 parent-child relationships
get_document_state: Finished for doc_id: xxxx
flutter: Transaction done
apply_action: Starting with 1 actions for doc_id: xxxx
update_node: Updating block_id: Ps7gyS
deltas_to_json: Converting 1 deltas
apply_delta_to_text: Computing delta diff
apply_delta_to_text: Parsing delta diff from JSON
apply_delta_diff_to_text: Starting with 2 operations
update_node: Updated block_id: Ps7gyS
apply_action: Encoding state for doc_id: xxxx
apply_updates: Starting with 59 updates for doc_id: xxxx
apply_updates: Starting with 59 updates for doc_id: xxxx
apply_updates: Applying update for doc_id: xxxx
apply_updates: Finished for doc_id: xxxx
apply_updates: Successfully applied updates for doc_id: xxxx
get_document_state: Starting for doc_id: xxxx
extract_document_state: Starting for doc_id: xxxx
extract_document_state: Processing 6 blocks
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 0 deltas
====== STARTING BLOCK SORTING ======
Input children_map has 5 parent nodes

----- Sorting children of parent: Ps7gyS -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent Ps7gyS: []

----- Sorting children of parent: bRdTay -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent bRdTay: []

----- Sorting children of parent: tStG1d -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent tStG1d: []

----- Sorting children of parent: m8OEVv -----
Parent has 4 children to sort
Mapped 4 valid blocks by ID
Block Ps7gyS assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block tStG1d assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block bRdTay assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block Mk_Gts assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Grouped blocks into 1 devices
  - Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 4 blocks
Block Ps7gyS has prev_id tStG1d
Block tStG1d has prev_id bRdTay
Block bRdTay has no prev_id
Block Mk_Gts has no prev_id
Built prev->next map with 2 entries
  - tStG1d has 1 next blocks: ["Ps7gyS"]
  - bRdTay has 1 next blocks: ["tStG1d"]
Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 2 root blocks: ["bRdTay", "Mk_Gts"]
Processing devices in order: ["4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"]

Processing device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Comparing root blocks: Mk_Gts (time: 2025-04-24T17:04:05.077214) vs bRdTay (time: 2025-04-24T17:03:55.612881)
Sorted roots for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a: ["bRdTay", "Mk_Gts"]
Starting chain from root: bRdTay
  Adding block bRdTay to sorted list
    Pushing tStG1d onto stack
  Adding block tStG1d to sorted list
    Pushing Ps7gyS onto stack
  Adding block Ps7gyS to sorted list
  No next blocks for Ps7gyS
Starting chain from root: Mk_Gts
  Adding block Mk_Gts to sorted list
  No next blocks for Mk_Gts
No remaining blocks for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
No globally remaining blocks
Final sorted order for parent m8OEVv: ["bRdTay", "tStG1d", "Ps7gyS", "Mk_Gts"]

----- Sorting children of parent: zhA_gK -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent zhA_gK: []
====== COMPLETED BLOCK SORTING ======
Final sorted children map has 5 parents
extract_document_state: Extracted 6 blocks and 5 parent-child relationships
get_document_state: Finished for doc_id: xxxx
flutter: Transaction done
apply_action: Starting with 1 actions for doc_id: xxxx
update_node: Updating block_id: Ps7gyS
deltas_to_json: Converting 1 deltas
apply_delta_to_text: Computing delta diff
apply_delta_to_text: Parsing delta diff from JSON
apply_delta_diff_to_text: Starting with 2 operations
update_node: Updated block_id: Ps7gyS
apply_action: Encoding state for doc_id: xxxx
apply_updates: Starting with 60 updates for doc_id: xxxx
apply_updates: Starting with 60 updates for doc_id: xxxx
apply_updates: Applying update for doc_id: xxxx
apply_updates: Finished for doc_id: xxxx
apply_updates: Successfully applied updates for doc_id: xxxx
get_document_state: Starting for doc_id: xxxx
extract_document_state: Starting for doc_id: xxxx
extract_document_state: Processing 6 blocks
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 0 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
====== STARTING BLOCK SORTING ======
Input children_map has 5 parent nodes

----- Sorting children of parent: bRdTay -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent bRdTay: []

----- Sorting children of parent: tStG1d -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent tStG1d: []

----- Sorting children of parent: m8OEVv -----
Parent has 4 children to sort
Mapped 4 valid blocks by ID
Block bRdTay assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block Ps7gyS assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block tStG1d assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block Mk_Gts assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Grouped blocks into 1 devices
  - Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 4 blocks
Block bRdTay has no prev_id
Block Ps7gyS has prev_id tStG1d
Block tStG1d has prev_id bRdTay
Block Mk_Gts has no prev_id
Built prev->next map with 2 entries
  - tStG1d has 1 next blocks: ["Ps7gyS"]
  - bRdTay has 1 next blocks: ["tStG1d"]
Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 2 root blocks: ["bRdTay", "Mk_Gts"]
Processing devices in order: ["4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"]

Processing device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Comparing root blocks: Mk_Gts (time: 2025-04-24T17:04:05.077214) vs bRdTay (time: 2025-04-24T17:03:55.612881)
Sorted roots for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a: ["bRdTay", "Mk_Gts"]
Starting chain from root: bRdTay
  Adding block bRdTay to sorted list
    Pushing tStG1d onto stack
  Adding block tStG1d to sorted list
    Pushing Ps7gyS onto stack
  Adding block Ps7gyS to sorted list
  No next blocks for Ps7gyS
Starting chain from root: Mk_Gts
  Adding block Mk_Gts to sorted list
  No next blocks for Mk_Gts
No remaining blocks for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
No globally remaining blocks
Final sorted order for parent m8OEVv: ["bRdTay", "tStG1d", "Ps7gyS", "Mk_Gts"]

----- Sorting children of parent: zhA_gK -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent zhA_gK: []

----- Sorting children of parent: Ps7gyS -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent Ps7gyS: []
====== COMPLETED BLOCK SORTING ======
Final sorted children map has 5 parents
extract_document_state: Extracted 6 blocks and 5 parent-child relationships
get_document_state: Finished for doc_id: xxxx
flutter: Transaction done
apply_action: Starting with 1 actions for doc_id: xxxx
update_node: Updating block_id: Ps7gyS
deltas_to_json: Converting 1 deltas
apply_delta_to_text: Computing delta diff
apply_delta_to_text: Parsing delta diff from JSON
apply_delta_diff_to_text: Starting with 2 operations
update_node: Updated block_id: Ps7gyS
apply_action: Encoding state for doc_id: xxxx
apply_updates: Starting with 61 updates for doc_id: xxxx
apply_updates: Starting with 61 updates for doc_id: xxxx
apply_updates: Applying update for doc_id: xxxx
apply_updates: Finished for doc_id: xxxx
apply_updates: Successfully applied updates for doc_id: xxxx
get_document_state: Starting for doc_id: xxxx
extract_document_state: Starting for doc_id: xxxx
extract_document_state: Processing 6 blocks
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 0 deltas
deltas_to_json: Converting 1 deltas
====== STARTING BLOCK SORTING ======
Input children_map has 5 parent nodes

----- Sorting children of parent: zhA_gK -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent zhA_gK: []

----- Sorting children of parent: bRdTay -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent bRdTay: []

----- Sorting children of parent: Ps7gyS -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent Ps7gyS: []

----- Sorting children of parent: m8OEVv -----
Parent has 4 children to sort
Mapped 4 valid blocks by ID
Block Ps7gyS assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block Mk_Gts assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block tStG1d assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block bRdTay assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Grouped blocks into 1 devices
  - Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 4 blocks
Block Ps7gyS has prev_id tStG1d
Block Mk_Gts has no prev_id
Block tStG1d has prev_id bRdTay
Block bRdTay has no prev_id
Built prev->next map with 2 entries
  - bRdTay has 1 next blocks: ["tStG1d"]
  - tStG1d has 1 next blocks: ["Ps7gyS"]
Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 2 root blocks: ["Mk_Gts", "bRdTay"]
Processing devices in order: ["4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"]

Processing device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Comparing root blocks: bRdTay (time: 2025-04-24T17:03:55.612881) vs Mk_Gts (time: 2025-04-24T17:04:05.077214)
Sorted roots for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a: ["bRdTay", "Mk_Gts"]
Starting chain from root: bRdTay
  Adding block bRdTay to sorted list
    Pushing tStG1d onto stack
  Adding block tStG1d to sorted list
    Pushing Ps7gyS onto stack
  Adding block Ps7gyS to sorted list
  No next blocks for Ps7gyS
Starting chain from root: Mk_Gts
  Adding block Mk_Gts to sorted list
  No next blocks for Mk_Gts
No remaining blocks for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
No globally remaining blocks
Final sorted order for parent m8OEVv: ["bRdTay", "tStG1d", "Ps7gyS", "Mk_Gts"]

----- Sorting children of parent: tStG1d -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent tStG1d: []
====== COMPLETED BLOCK SORTING ======
Final sorted children map has 5 parents
extract_document_state: Extracted 6 blocks and 5 parent-child relationships
get_document_state: Finished for doc_id: xxxx
merge_updates: Merging 19 updates
merge_updates: Successfully merged updates
apply_updates: Starting with 62 updates for doc_id: xxxx
apply_updates: Starting with 62 updates for doc_id: xxxx
apply_updates: Applying update for doc_id: xxxx
apply_updates: Finished for doc_id: xxxx
apply_updates: Successfully applied updates for doc_id: xxxx
get_document_state: Starting for doc_id: xxxx
extract_document_state: Starting for doc_id: xxxx
extract_document_state: Processing 6 blocks
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 0 deltas
deltas_to_json: Converting 1 deltas
====== STARTING BLOCK SORTING ======
Input children_map has 5 parent nodes

----- Sorting children of parent: Ps7gyS -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent Ps7gyS: []

----- Sorting children of parent: m8OEVv -----
Parent has 4 children to sort
Mapped 4 valid blocks by ID
Block tStG1d assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block bRdTay assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block Ps7gyS assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block Mk_Gts assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Grouped blocks into 1 devices
  - Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 4 blocks
Block tStG1d has prev_id bRdTay
Block bRdTay has no prev_id
Block Ps7gyS has prev_id tStG1d
Block Mk_Gts has no prev_id
Built prev->next map with 2 entries
  - tStG1d has 1 next blocks: ["Ps7gyS"]
  - bRdTay has 1 next blocks: ["tStG1d"]
Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 2 root blocks: ["bRdTay", "Mk_Gts"]
Processing devices in order: ["4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"]

Processing device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Comparing root blocks: Mk_Gts (time: 2025-04-24T17:04:05.077214) vs bRdTay (time: 2025-04-24T17:03:55.612881)
Sorted roots for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a: ["bRdTay", "Mk_Gts"]
Starting chain from root: bRdTay
  Adding block bRdTay to sorted list
    Pushing tStG1d onto stack
  Adding block tStG1d to sorted list
    Pushing Ps7gyS onto stack
  Adding block Ps7gyS to sorted list
  No next blocks for Ps7gyS
Starting chain from root: Mk_Gts
  Adding block Mk_Gts to sorted list
  No next blocks for Mk_Gts
No remaining blocks for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
No globally remaining blocks
Final sorted order for parent m8OEVv: ["bRdTay", "tStG1d", "Ps7gyS", "Mk_Gts"]

----- Sorting children of parent: bRdTay -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent bRdTay: []

----- Sorting children of parent: zhA_gK -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent zhA_gK: []

----- Sorting children of parent: tStG1d -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent tStG1d: []
====== COMPLETED BLOCK SORTING ======
Final sorted children map has 5 parents
extract_document_state: Extracted 6 blocks and 5 parent-child relationships
get_document_state: Finished for doc_id: xxxx
flutter: onDragStarted
flutter: the drag offset is inside the block, dragOffset(Offset(132.6, 129.9)), globalBlockRect(Rect.fromLTRB(120.0, 94.0, 680.0, 132.0))
flutter: the drag offset is inside the block, dragOffset(Offset(130.8, 122.6)), globalBlockRect(Rect.fromLTRB(120.0, 94.0, 680.0, 132.0))
flutter: the drag offset is inside the block, dragOffset(Offset(130.8, 111.6)), globalBlockRect(Rect.fromLTRB(120.0, 94.0, 680.0, 132.0))
flutter: the drag offset is inside the block, dragOffset(Offset(130.8, 103.1)), globalBlockRect(Rect.fromLTRB(120.0, 94.0, 680.0, 132.0))
flutter: the drag offset is inside the block, dragOffset(Offset(130.8, 99.4)), globalBlockRect(Rect.fromLTRB(120.0, 94.0, 680.0, 132.0))
flutter: the drag offset is inside the block, dragOffset(Offset(131.5, 90.9)), globalBlockRect(Rect.fromLTRB(120.0, 56.0, 680.0, 94.0))
flutter: the drag offset is inside the block, dragOffset(Offset(132.9, 83.7)), globalBlockRect(Rect.fromLTRB(120.0, 56.0, 680.0, 94.0))
flutter: the drag offset is inside the block, dragOffset(Offset(132.9, 83.2)), globalBlockRect(Rect.fromLTRB(120.0, 56.0, 680.0, 94.0))
flutter: the drag offset is inside the block, dragOffset(Offset(133.5, 80.3)), globalBlockRect(Rect.fromLTRB(120.0, 56.0, 680.0, 94.0))
flutter: the drag offset is inside the block, dragOffset(Offset(133.5, 78.0)), globalBlockRect(Rect.fromLTRB(120.0, 56.0, 680.0, 94.0))
flutter: the drag offset is inside the block, dragOffset(Offset(133.5, 76.9)), globalBlockRect(Rect.fromLTRB(120.0, 56.0, 680.0, 94.0))
flutter: the drag offset is inside the block, dragOffset(Offset(134.0, 75.3)), globalBlockRect(Rect.fromLTRB(120.0, 56.0, 680.0, 94.0))
flutter: the drag offset is inside the block, dragOffset(Offset(134.3, 73.9)), globalBlockRect(Rect.fromLTRB(120.0, 56.0, 680.0, 94.0))
flutter: onDragEnd, acceptedPath([0])
flutter: the drag offset is inside the block, dragOffset(Offset(134.3, 73.9)), globalBlockRect(Rect.fromLTRB(120.0, 56.0, 680.0, 94.0))
flutter: Moving node(Node(id: Ps7gyS, type: paragraph, attributes: {delta: [{insert: New task 3}], timestamp: 2025-04-24T17:05:13.710104, device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a}, children: []), [2]) to path([0])
flutter: Transaction done
apply_action: Starting with 1 actions for doc_id: xxxx
move_block: Moving block_id: Ps7gyS from parent: m8OEVv to parent: m8OEVv
remove_block_from_prev_id_chain: Removing block Ps7gyS from chain
  Block Ps7gyS has prev_id: tStG1d
  Finding blocks that reference Ps7gyS as their prev_id
find_block_referencing_prev_id: Searching for blocks with prev_id = Ps7gyS
  Found 6 total blocks to check
  Checking block: bRdTay
    Block does not have prev_id
  Checking block: Ps7gyS
    Block has prev_id: tStG1d, matches target: false
  Checking block: m8OEVv
    Block does not have prev_id
  Checking block: tStG1d
    Block has prev_id: bRdTay, matches target: false
  Checking block: Mk_Gts
    Block does not have prev_id
  Checking block: zhA_gK
    Block has prev_id: Ps7gyS, matches target: true
find_block_referencing_prev_id: Found 1 blocks with prev_id = Ps7gyS: ["zhA_gK"]
  Found 1 next blocks: ["zhA_gK"]
  Updating next block zhA_gK to point to tStG1d (was pointing to Ps7gyS)
remove_block_from_prev_id_chain: Completed
handle_following_connection: block_id=Ps7gyS, next_id=Some("bRdTay"), prev_id=None
  Using next_id strategy (next_id=bRdTay)
  Setting prev_id of next block bRdTay to Ps7gyS
  Attempting to copy device and timestamp from next block bRdTay to Ps7gyS
  WARNING: Next block has no device attribute
  WARNING: Next block has no timestamp attribute
  Finished next_id strategy
handle_following_connection: Completed
move_block: Moved block within same parent
apply_action: Encoding state for doc_id: xxxx
apply_updates: Starting with 53 updates for doc_id: xxxx
apply_updates: Starting with 53 updates for doc_id: xxxx
apply_updates: Applying update for doc_id: xxxx
apply_updates: Finished for doc_id: xxxx
apply_updates: Successfully applied updates for doc_id: xxxx
get_document_state: Starting for doc_id: xxxx
extract_document_state: Starting for doc_id: xxxx
extract_document_state: Processing 6 blocks
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 0 deltas
====== STARTING BLOCK SORTING ======
Input children_map has 5 parent nodes

----- Sorting children of parent: bRdTay -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent bRdTay: []

----- Sorting children of parent: Ps7gyS -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent Ps7gyS: []

----- Sorting children of parent: m8OEVv -----
Parent has 4 children to sort
Mapped 4 valid blocks by ID
Block Mk_Gts assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block bRdTay assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block Ps7gyS assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block tStG1d assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Grouped blocks into 1 devices
  - Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 4 blocks
Block Mk_Gts has no prev_id
Block bRdTay has prev_id Ps7gyS
Block Ps7gyS has no prev_id
Block tStG1d has prev_id bRdTay
Built prev->next map with 2 entries
  - Ps7gyS has 1 next blocks: ["bRdTay"]
  - bRdTay has 1 next blocks: ["tStG1d"]
Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 2 root blocks: ["Mk_Gts", "Ps7gyS"]
Processing devices in order: ["4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"]

Processing device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Comparing root blocks: Ps7gyS (time: 2025-04-24T17:05:13.710104) vs Mk_Gts (time: 2025-04-24T17:04:05.077214)
Sorted roots for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a: ["Mk_Gts", "Ps7gyS"]
Starting chain from root: Mk_Gts
  Adding block Mk_Gts to sorted list
  No next blocks for Mk_Gts
Starting chain from root: Ps7gyS
  Adding block Ps7gyS to sorted list
    Pushing bRdTay onto stack
  Adding block bRdTay to sorted list
    Pushing tStG1d onto stack
  Adding block tStG1d to sorted list
  No next blocks for tStG1d
No remaining blocks for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
No globally remaining blocks
Final sorted order for parent m8OEVv: ["Mk_Gts", "Ps7gyS", "bRdTay", "tStG1d"]

----- Sorting children of parent: zhA_gK -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent zhA_gK: []

----- Sorting children of parent: tStG1d -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent tStG1d: []
====== COMPLETED BLOCK SORTING ======
Final sorted children map has 5 parents
extract_document_state: Extracted 6 blocks and 5 parent-child relationships
get_document_state: Finished for doc_id: xxxx
flutter: {
flutter:   "docId": "xxxx",
flutter:   "blocks": {
flutter:     "Mk_Gts": {
flutter:       "id": "Mk_Gts",
flutter:       "ty": "",
flutter:       "attributes": {
flutter:         "device": "4cb3899a-3fe4-4bb1-bbf4-edd464b0977a",
flutter:         "checked": "false",
flutter:         "timestamp": "2025-04-24T17:04:05.077214"
flutter:       },
flutter:       "delta": "[]",
flutter:       "parentId": null,
flutter:       "prevId": null,
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "zhA_gK": {
flutter:       "id": "zhA_gK",
flutter:       "ty": "todo_list",
flutter:       "attributes": {
flutter:         "timestamp": "2025-04-24T17:04:02.277720",
flutter:         "delta": "[]",
flutter:         "device": "4cb3899a-3fe4-4bb1-bbf4-edd464b0977a",
flutter:         "checked": "false"
flutter:       },
flutter:       "delta": "[{\"insert\":\"Task is mine\"}]",
flutter:       "parentId": "m8OEVv",
flutter:       "prevId": "tStG1d",
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "Ps7gyS": {
flutter:       "id": "Ps7gyS",
flutter:       "ty": "paragraph",
flutter:       "attributes": {
flutter:         "timestamp": "2025-04-24T17:05:13.710104",
flutter:         "device": "4cb3899a-3fe4-4bb1-bbf4-edd464b0977a",
flutter:         "delta": "[]"
flutter:       },
flutter:       "delta": "[{\"insert\":\"New task 3\"}]",
flutter:       "parentId": "m8OEVv",
flutter:       "prevId": null,
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "tStG1d": {
flutter:       "id": "tStG1d",
flutter:       "ty": "paragraph",
flutter:       "attributes": {
flutter:         "timestamp": "2025-04-24T17:05:06.893741",
flutter:         "device": "4cb3899a-3fe4-4bb1-bbf4-edd464b0977a",
flutter:         "delta": "[]"
flutter:       },
flutter:       "delta": "[{\"insert\":\"New task 2\"}]",
flutter:       "parentId": "m8OEVv",
flutter:       "prevId": "bRdTay",
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "bRdTay": {
flutter:       "id": "bRdTay",
flutter:       "ty": "paragraph",
flutter:       "attributes": {
flutter:         "timestamp": "2025-04-24T17:03:55.612881",
flutter:         "device": "4cb3899a-3fe4-4bb1-bbf4-edd464b0977a",
flutter:         "delta": "[]"
flutter:       },
flutter:       "delta": "[{\"insert\":\"New Task 1\"}]",
flutter:       "parentId": "m8OEVv",
flutter:       "prevId": "Ps7gyS",
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "m8OEVv": {
flutter:       "id": "m8OEVv",
flutter:       "ty": "page",
flutter:       "attributes": {
flutter:         "device": "3a00f73e-0356-4c61-a6e1-cb439d9dbf33",
flutter:         "timestamp": "2025-04-24T17:01:59.905543"
flutter:       },
flutter:       "delta": null,
flutter:       "parentId": null,
flutter:       "prevId": null,
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     }
flutter:   },
flutter:   "childrenMap": {
flutter:     "Ps7gyS": [],
flutter:     "m8OEVv": [
flutter:       "Mk_Gts",
flutter:       "Ps7gyS",
flutter:       "bRdTay",
flutter:       "tStG1d"
flutter:     ],
flutter:     "bRdTay": [],
flutter:     "zhA_gK": [],
flutter:     "tStG1d": []
flutter:   },
flutter:   "rootId": "m8OEVv"
flutter: }
merge_updates: Merging 1 updates
merge_updates: Successfully merged updates
apply_updates: Starting with 54 updates for doc_id: xxxx
apply_updates: Starting with 54 updates for doc_id: xxxx
apply_updates: Applying update for doc_id: xxxx
apply_updates: Finished for doc_id: xxxx
apply_updates: Successfully applied updates for doc_id: xxxx
get_document_state: Starting for doc_id: xxxx
extract_document_state: Starting for doc_id: xxxx
extract_document_state: Processing 6 blocks
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 0 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
====== STARTING BLOCK SORTING ======
Input children_map has 5 parent nodes

----- Sorting children of parent: zhA_gK -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent zhA_gK: []

----- Sorting children of parent: Ps7gyS -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent Ps7gyS: []

----- Sorting children of parent: bRdTay -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent bRdTay: []

----- Sorting children of parent: tStG1d -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent tStG1d: []

----- Sorting children of parent: m8OEVv -----
Parent has 4 children to sort
Mapped 4 valid blocks by ID
Block tStG1d assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block Ps7gyS assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block bRdTay assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block Mk_Gts assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Grouped blocks into 1 devices
  - Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 4 blocks
Block tStG1d has prev_id bRdTay
Block Ps7gyS has no prev_id
Block bRdTay has prev_id Ps7gyS
Block Mk_Gts has no prev_id
Built prev->next map with 2 entries
  - bRdTay has 1 next blocks: ["tStG1d"]
  - Ps7gyS has 1 next blocks: ["bRdTay"]
Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 2 root blocks: ["Ps7gyS", "Mk_Gts"]
Processing devices in order: ["4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"]

Processing device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Comparing root blocks: Mk_Gts (time: 2025-04-24T17:04:05.077214) vs Ps7gyS (time: 2025-04-24T17:05:13.710104)
Sorted roots for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a: ["Mk_Gts", "Ps7gyS"]
Starting chain from root: Mk_Gts
  Adding block Mk_Gts to sorted list
  No next blocks for Mk_Gts
Starting chain from root: Ps7gyS
  Adding block Ps7gyS to sorted list
    Pushing bRdTay onto stack
  Adding block bRdTay to sorted list
    Pushing tStG1d onto stack
  Adding block tStG1d to sorted list
  No next blocks for tStG1d
No remaining blocks for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
No globally remaining blocks
Final sorted order for parent m8OEVv: ["Mk_Gts", "Ps7gyS", "bRdTay", "tStG1d"]
====== COMPLETED BLOCK SORTING ======
Final sorted children map has 5 parents
extract_document_state: Extracted 6 blocks and 5 parent-child relationships
get_document_state: Finished for doc_id: xxxx
flutter: onDragStarted
flutter: the drag offset is inside the block, dragOffset(Offset(127.6, 122.7)), globalBlockRect(Rect.fromLTRB(120.0, 86.0, 680.0, 124.0))
flutter: the drag offset is inside the block, dragOffset(Offset(127.6, 121.6)), globalBlockRect(Rect.fromLTRB(120.0, 86.0, 680.0, 124.0))
flutter: the drag offset is inside the block, dragOffset(Offset(128.3, 120.6)), globalBlockRect(Rect.fromLTRB(120.0, 86.0, 680.0, 124.0))
flutter: the drag offset is inside the block, dragOffset(Offset(129.8, 117.7)), globalBlockRect(Rect.fromLTRB(120.0, 86.0, 680.0, 124.0))
flutter: the drag offset is inside the block, dragOffset(Offset(129.8, 117.2)), globalBlockRect(Rect.fromLTRB(120.0, 86.0, 680.0, 124.0))
flutter: the drag offset is inside the block, dragOffset(Offset(130.8, 115.5)), globalBlockRect(Rect.fromLTRB(120.0, 86.0, 680.0, 124.0))
flutter: the drag offset is inside the block, dragOffset(Offset(130.8, 115.3)), globalBlockRect(Rect.fromLTRB(120.0, 86.0, 680.0, 124.0))
flutter: the drag offset is inside the block, dragOffset(Offset(130.8, 115.0)), globalBlockRect(Rect.fromLTRB(120.0, 86.0, 680.0, 124.0))
flutter: the drag offset is inside the block, dragOffset(Offset(131.3, 114.5)), globalBlockRect(Rect.fromLTRB(120.0, 86.0, 680.0, 124.0))
flutter: the drag offset is inside the block, dragOffset(Offset(131.3, 114.3)), globalBlockRect(Rect.fromLTRB(120.0, 86.0, 680.0, 124.0))
flutter: the drag offset is inside the block, dragOffset(Offset(131.6, 113.1)), globalBlockRect(Rect.fromLTRB(120.0, 86.0, 680.0, 124.0))
flutter: the drag offset is inside the block, dragOffset(Offset(131.6, 112.0)), globalBlockRect(Rect.fromLTRB(120.0, 86.0, 680.0, 124.0))
flutter: the drag offset is inside the block, dragOffset(Offset(131.9, 111.0)), globalBlockRect(Rect.fromLTRB(120.0, 86.0, 680.0, 124.0))
flutter: the drag offset is inside the block, dragOffset(Offset(132.1, 110.7)), globalBlockRect(Rect.fromLTRB(120.0, 86.0, 680.0, 124.0))
flutter: the drag offset is inside the block, dragOffset(Offset(132.1, 110.5)), globalBlockRect(Rect.fromLTRB(120.0, 86.0, 680.0, 124.0))
flutter: the drag offset is inside the block, dragOffset(Offset(132.1, 109.7)), globalBlockRect(Rect.fromLTRB(120.0, 86.0, 680.0, 124.0))
flutter: the drag offset is inside the block, dragOffset(Offset(132.5, 108.6)), globalBlockRect(Rect.fromLTRB(120.0, 86.0, 680.0, 124.0))
flutter: the drag offset is inside the block, dragOffset(Offset(133.0, 107.5)), globalBlockRect(Rect.fromLTRB(120.0, 86.0, 680.0, 124.0))
flutter: the drag offset is inside the block, dragOffset(Offset(133.0, 107.3)), globalBlockRect(Rect.fromLTRB(120.0, 86.0, 680.0, 124.0))
flutter: the drag offset is inside the block, dragOffset(Offset(133.0, 106.5)), globalBlockRect(Rect.fromLTRB(120.0, 86.0, 680.0, 124.0))
flutter: the drag offset is inside the block, dragOffset(Offset(133.3, 105.5)), globalBlockRect(Rect.fromLTRB(120.0, 86.0, 680.0, 124.0))
flutter: the drag offset is inside the block, dragOffset(Offset(133.8, 105.0)), globalBlockRect(Rect.fromLTRB(120.0, 86.0, 680.0, 124.0))
flutter: the drag offset is inside the block, dragOffset(Offset(133.8, 103.6)), globalBlockRect(Rect.fromLTRB(120.0, 86.0, 680.0, 124.0))
flutter: the drag offset is inside the block, dragOffset(Offset(133.8, 102.8)), globalBlockRect(Rect.fromLTRB(120.0, 86.0, 680.0, 124.0))
flutter: the drag offset is inside the block, dragOffset(Offset(134.0, 102.3)), globalBlockRect(Rect.fromLTRB(120.0, 86.0, 680.0, 124.0))
flutter: the drag offset is inside the block, dragOffset(Offset(134.0, 102.1)), globalBlockRect(Rect.fromLTRB(120.0, 86.0, 680.0, 124.0))
flutter: onDragEnd, acceptedPath([1])
flutter: the drag offset is inside the block, dragOffset(Offset(134.0, 102.1)), globalBlockRect(Rect.fromLTRB(120.0, 86.0, 680.0, 124.0))
flutter: Moving node(Node(id: bRdTay, type: paragraph, attributes: {timestamp: 2025-04-24T17:03:55.612881, device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a, delta: [{insert: New Task 1}]}, children: []), [2]) to path([1])
flutter: Transaction done
apply_action: Starting with 1 actions for doc_id: xxxx
move_block: Moving block_id: bRdTay from parent: m8OEVv to parent: m8OEVv
remove_block_from_prev_id_chain: Removing block bRdTay from chain
  Block bRdTay has prev_id: Ps7gyS
  Finding blocks that reference bRdTay as their prev_id
find_block_referencing_prev_id: Searching for blocks with prev_id = bRdTay
  Found 6 total blocks to check
  Checking block: bRdTay
    Block has prev_id: Ps7gyS, matches target: false
  Checking block: Mk_Gts
    Block does not have prev_id
  Checking block: Ps7gyS
    Block does not have prev_id
  Checking block: m8OEVv
    Block does not have prev_id
  Checking block: zhA_gK
    Block has prev_id: tStG1d, matches target: false
  Checking block: tStG1d
    Block has prev_id: bRdTay, matches target: true
find_block_referencing_prev_id: Found 1 blocks with prev_id = bRdTay: ["tStG1d"]
  Found 1 next blocks: ["tStG1d"]
  Updating next block tStG1d to point to Ps7gyS (was pointing to bRdTay)
remove_block_from_prev_id_chain: Completed
handle_following_connection: block_id=bRdTay, next_id=Some("Ps7gyS"), prev_id=Some("Mk_Gts")
  Using prev_id strategy (prev_id=Mk_Gts)
find_block_referencing_prev_id: Searching for blocks with prev_id = Mk_Gts
  Found 6 total blocks to check
  Checking block: bRdTay
    Block has prev_id: Ps7gyS, matches target: false
  Checking block: Mk_Gts
    Block does not have prev_id
  Checking block: Ps7gyS
    Block does not have prev_id
  Checking block: m8OEVv
    Block does not have prev_id
  Checking block: zhA_gK
    Block has prev_id: tStG1d, matches target: false
  Checking block: tStG1d
    Block has prev_id: Ps7gyS, matches target: false
find_block_referencing_prev_id: Found 0 blocks with prev_id = Mk_Gts: []
  Found 0 nodes that reference prev_id Mk_Gts: []
  Finished prev_id strategy
move_block: Moved block within same parent
apply_action: Encoding state for doc_id: xxxx
apply_updates: Starting with 53 updates for doc_id: xxxx
apply_updates: Starting with 53 updates for doc_id: xxxx
apply_updates: Applying update for doc_id: xxxx
apply_updates: Finished for doc_id: xxxx
apply_updates: Successfully applied updates for doc_id: xxxx
get_document_state: Starting for doc_id: xxxx
extract_document_state: Starting for doc_id: xxxx
extract_document_state: Processing 6 blocks
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 0 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
====== STARTING BLOCK SORTING ======
Input children_map has 5 parent nodes

----- Sorting children of parent: m8OEVv -----
Parent has 4 children to sort
Mapped 4 valid blocks by ID
Block Mk_Gts assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block bRdTay assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block Ps7gyS assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block tStG1d assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Grouped blocks into 1 devices
  - Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 4 blocks
Block Mk_Gts has no prev_id
Block bRdTay has prev_id Mk_Gts
Block Ps7gyS has no prev_id
Block tStG1d has prev_id Ps7gyS
Built prev->next map with 2 entries
  - Mk_Gts has 1 next blocks: ["bRdTay"]
  - Ps7gyS has 1 next blocks: ["tStG1d"]
Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 2 root blocks: ["Mk_Gts", "Ps7gyS"]
Processing devices in order: ["4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"]

Processing device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Comparing root blocks: Ps7gyS (time: 2025-04-24T17:05:13.710104) vs Mk_Gts (time: 2025-04-24T17:04:05.077214)
Sorted roots for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a: ["Mk_Gts", "Ps7gyS"]
Starting chain from root: Mk_Gts
  Adding block Mk_Gts to sorted list
    Pushing bRdTay onto stack
  Adding block bRdTay to sorted list
  No next blocks for bRdTay
Starting chain from root: Ps7gyS
  Adding block Ps7gyS to sorted list
    Pushing tStG1d onto stack
  Adding block tStG1d to sorted list
  No next blocks for tStG1d
No remaining blocks for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
No globally remaining blocks
Final sorted order for parent m8OEVv: ["Mk_Gts", "bRdTay", "Ps7gyS", "tStG1d"]

----- Sorting children of parent: zhA_gK -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent zhA_gK: []

----- Sorting children of parent: Ps7gyS -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent Ps7gyS: []

----- Sorting children of parent: tStG1d -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent tStG1d: []

----- Sorting children of parent: bRdTay -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent bRdTay: []
====== COMPLETED BLOCK SORTING ======
Final sorted children map has 5 parents
extract_document_state: Extracted 6 blocks and 5 parent-child relationships
get_document_state: Finished for doc_id: xxxx
merge_updates: Merging 1 updates
merge_updates: Successfully merged updates
apply_updates: Starting with 54 updates for doc_id: xxxx
apply_updates: Starting with 54 updates for doc_id: xxxx
apply_updates: Applying update for doc_id: xxxx
apply_updates: Finished for doc_id: xxxx
apply_updates: Successfully applied updates for doc_id: xxxx
get_document_state: Starting for doc_id: xxxx
extract_document_state: Starting for doc_id: xxxx
extract_document_state: Processing 6 blocks
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 0 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
====== STARTING BLOCK SORTING ======
Input children_map has 5 parent nodes

----- Sorting children of parent: Ps7gyS -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent Ps7gyS: []

----- Sorting children of parent: m8OEVv -----
Parent has 4 children to sort
Mapped 4 valid blocks by ID
Block Mk_Gts assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block tStG1d assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block bRdTay assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block Ps7gyS assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Grouped blocks into 1 devices
  - Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 4 blocks
Block Mk_Gts has no prev_id
Block tStG1d has prev_id Ps7gyS
Block bRdTay has prev_id Mk_Gts
Block Ps7gyS has no prev_id
Built prev->next map with 2 entries
  - Mk_Gts has 1 next blocks: ["bRdTay"]
  - Ps7gyS has 1 next blocks: ["tStG1d"]
Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 2 root blocks: ["Mk_Gts", "Ps7gyS"]
Processing devices in order: ["4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"]

Processing device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Comparing root blocks: Ps7gyS (time: 2025-04-24T17:05:13.710104) vs Mk_Gts (time: 2025-04-24T17:04:05.077214)
Sorted roots for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a: ["Mk_Gts", "Ps7gyS"]
Starting chain from root: Mk_Gts
  Adding block Mk_Gts to sorted list
    Pushing bRdTay onto stack
  Adding block bRdTay to sorted list
  No next blocks for bRdTay
Starting chain from root: Ps7gyS
  Adding block Ps7gyS to sorted list
    Pushing tStG1d onto stack
  Adding block tStG1d to sorted list
  No next blocks for tStG1d
No remaining blocks for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
No globally remaining blocks
Final sorted order for parent m8OEVv: ["Mk_Gts", "bRdTay", "Ps7gyS", "tStG1d"]

----- Sorting children of parent: tStG1d -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent tStG1d: []

----- Sorting children of parent: bRdTay -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent bRdTay: []

----- Sorting children of parent: zhA_gK -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent zhA_gK: []
====== COMPLETED BLOCK SORTING ======
Final sorted children map has 5 parents
extract_document_state: Extracted 6 blocks and 5 parent-child relationships
get_document_state: Finished for doc_id: xxxx
flutter: onDragStarted
flutter: the drag offset is inside the block, dragOffset(Offset(130.6, 155.9)), globalBlockRect(Rect.fromLTRB(120.0, 124.0, 680.0, 162.0))
flutter: the drag offset is inside the block, dragOffset(Offset(131.4, 146.1)), globalBlockRect(Rect.fromLTRB(120.0, 124.0, 680.0, 162.0))
flutter: the drag offset is inside the block, dragOffset(Offset(133.9, 141.2)), globalBlockRect(Rect.fromLTRB(120.0, 124.0, 680.0, 162.0))
flutter: the drag offset is inside the block, dragOffset(Offset(135.9, 135.2)), globalBlockRect(Rect.fromLTRB(120.0, 124.0, 680.0, 162.0))
flutter: the drag offset is inside the block, dragOffset(Offset(136.3, 134.1)), globalBlockRect(Rect.fromLTRB(120.0, 124.0, 680.0, 162.0))
flutter: the drag offset is inside the block, dragOffset(Offset(137.8, 130.6)), globalBlockRect(Rect.fromLTRB(120.0, 124.0, 680.0, 162.0))
flutter: the drag offset is inside the block, dragOffset(Offset(138.8, 129.0)), globalBlockRect(Rect.fromLTRB(120.0, 124.0, 680.0, 162.0))
flutter: the drag offset is inside the block, dragOffset(Offset(138.8, 128.7)), globalBlockRect(Rect.fromLTRB(120.0, 124.0, 680.0, 162.0))
flutter: the drag offset is inside the block, dragOffset(Offset(138.8, 127.1)), globalBlockRect(Rect.fromLTRB(120.0, 124.0, 680.0, 162.0))
flutter: the drag offset is inside the block, dragOffset(Offset(139.6, 125.9)), globalBlockRect(Rect.fromLTRB(120.0, 124.0, 680.0, 162.0))
flutter: the drag offset is inside the block, dragOffset(Offset(139.6, 125.7)), globalBlockRect(Rect.fromLTRB(120.0, 124.0, 680.0, 162.0))
flutter: onDragEnd, acceptedPath([2])
flutter: the drag offset is inside the block, dragOffset(Offset(139.6, 125.7)), globalBlockRect(Rect.fromLTRB(120.0, 124.0, 680.0, 162.0))
flutter: Moving node(Node(id: tStG1d, type: paragraph, attributes: {timestamp: 2025-04-24T17:05:06.893741, device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a, delta: [{insert: New task 2}]}, children: []), [3]) to path([2])
flutter: Transaction done
apply_action: Starting with 1 actions for doc_id: xxxx
move_block: Moving block_id: tStG1d from parent: m8OEVv to parent: m8OEVv
remove_block_from_prev_id_chain: Removing block tStG1d from chain
  Block tStG1d has prev_id: Ps7gyS
  Finding blocks that reference tStG1d as their prev_id
find_block_referencing_prev_id: Searching for blocks with prev_id = tStG1d
  Found 6 total blocks to check
  Checking block: zhA_gK
    Block has prev_id: tStG1d, matches target: true
  Checking block: tStG1d
    Block has prev_id: Ps7gyS, matches target: false
  Checking block: m8OEVv
    Block does not have prev_id
  Checking block: Mk_Gts
    Block does not have prev_id
  Checking block: Ps7gyS
    Block does not have prev_id
  Checking block: bRdTay
    Block has prev_id: Mk_Gts, matches target: false
find_block_referencing_prev_id: Found 1 blocks with prev_id = tStG1d: ["zhA_gK"]
  Found 1 next blocks: ["zhA_gK"]
  Updating next block zhA_gK to point to Ps7gyS (was pointing to tStG1d)
remove_block_from_prev_id_chain: Completed
handle_following_connection: block_id=tStG1d, next_id=Some("Ps7gyS"), prev_id=Some("bRdTay")
  Using prev_id strategy (prev_id=bRdTay)
find_block_referencing_prev_id: Searching for blocks with prev_id = bRdTay
  Found 6 total blocks to check
  Checking block: zhA_gK
    Block has prev_id: Ps7gyS, matches target: false
  Checking block: tStG1d
    Block has prev_id: Ps7gyS, matches target: false
  Checking block: m8OEVv
    Block does not have prev_id
  Checking block: Mk_Gts
    Block does not have prev_id
  Checking block: Ps7gyS
    Block does not have prev_id
  Checking block: bRdTay
    Block has prev_id: Mk_Gts, matches target: false
find_block_referencing_prev_id: Found 0 blocks with prev_id = bRdTay: []
  Found 0 nodes that reference prev_id bRdTay: []
  Finished prev_id strategy
move_block: Moved block within same parent
apply_action: Encoding state for doc_id: xxxx
apply_updates: Starting with 36 updates for doc_id: xxxx
apply_updates: Starting with 36 updates for doc_id: xxxx
apply_updates: Applying update for doc_id: xxxx
apply_updates: Finished for doc_id: xxxx
apply_updates: Successfully applied updates for doc_id: xxxx
get_document_state: Starting for doc_id: xxxx
extract_document_state: Starting for doc_id: xxxx
extract_document_state: Processing 6 blocks
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 0 deltas
====== STARTING BLOCK SORTING ======
Input children_map has 5 parent nodes

----- Sorting children of parent: m8OEVv -----
Parent has 4 children to sort
Mapped 4 valid blocks by ID
Block bRdTay assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block Ps7gyS assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block Mk_Gts assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block tStG1d assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Grouped blocks into 1 devices
  - Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 4 blocks
Block bRdTay has prev_id Mk_Gts
Block Ps7gyS has no prev_id
Block Mk_Gts has no prev_id
Block tStG1d has prev_id bRdTay
Built prev->next map with 2 entries
  - bRdTay has 1 next blocks: ["tStG1d"]
  - Mk_Gts has 1 next blocks: ["bRdTay"]
Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 2 root blocks: ["Ps7gyS", "Mk_Gts"]
Processing devices in order: ["4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"]

Processing device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Comparing root blocks: Mk_Gts (time: 2025-04-24T17:04:05.077214) vs Ps7gyS (time: 2025-04-24T17:05:13.710104)
Sorted roots for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a: ["Mk_Gts", "Ps7gyS"]
Starting chain from root: Mk_Gts
  Adding block Mk_Gts to sorted list
    Pushing bRdTay onto stack
  Adding block bRdTay to sorted list
    Pushing tStG1d onto stack
  Adding block tStG1d to sorted list
  No next blocks for tStG1d
Starting chain from root: Ps7gyS
  Adding block Ps7gyS to sorted list
  No next blocks for Ps7gyS
No remaining blocks for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
No globally remaining blocks
Final sorted order for parent m8OEVv: ["Mk_Gts", "bRdTay", "tStG1d", "Ps7gyS"]

----- Sorting children of parent: tStG1d -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent tStG1d: []

----- Sorting children of parent: Ps7gyS -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent Ps7gyS: []

----- Sorting children of parent: bRdTay -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent bRdTay: []

----- Sorting children of parent: zhA_gK -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent zhA_gK: []
====== COMPLETED BLOCK SORTING ======
Final sorted children map has 5 parents
extract_document_state: Extracted 6 blocks and 5 parent-child relationships
get_document_state: Finished for doc_id: xxxx
merge_updates: Merging 1 updates
merge_updates: Successfully merged updates
apply_updates: Starting with 37 updates for doc_id: xxxx
apply_updates: Starting with 37 updates for doc_id: xxxx
apply_updates: Applying update for doc_id: xxxx
apply_updates: Finished for doc_id: xxxx
apply_updates: Successfully applied updates for doc_id: xxxx
get_document_state: Starting for doc_id: xxxx
extract_document_state: Starting for doc_id: xxxx
extract_document_state: Processing 6 blocks
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 0 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
====== STARTING BLOCK SORTING ======
Input children_map has 5 parent nodes

----- Sorting children of parent: tStG1d -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent tStG1d: []

----- Sorting children of parent: m8OEVv -----
Parent has 4 children to sort
Mapped 4 valid blocks by ID
Block tStG1d assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block bRdTay assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block Mk_Gts assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block Ps7gyS assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Grouped blocks into 1 devices
  - Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 4 blocks
Block tStG1d has prev_id bRdTay
Block bRdTay has prev_id Mk_Gts
Block Mk_Gts has no prev_id
Block Ps7gyS has no prev_id
Built prev->next map with 2 entries
  - Mk_Gts has 1 next blocks: ["bRdTay"]
  - bRdTay has 1 next blocks: ["tStG1d"]
Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 2 root blocks: ["Mk_Gts", "Ps7gyS"]
Processing devices in order: ["4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"]

Processing device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Comparing root blocks: Ps7gyS (time: 2025-04-24T17:05:13.710104) vs Mk_Gts (time: 2025-04-24T17:04:05.077214)
Sorted roots for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a: ["Mk_Gts", "Ps7gyS"]
Starting chain from root: Mk_Gts
  Adding block Mk_Gts to sorted list
    Pushing bRdTay onto stack
  Adding block bRdTay to sorted list
    Pushing tStG1d onto stack
  Adding block tStG1d to sorted list
  No next blocks for tStG1d
Starting chain from root: Ps7gyS
  Adding block Ps7gyS to sorted list
  No next blocks for Ps7gyS
No remaining blocks for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
No globally remaining blocks
Final sorted order for parent m8OEVv: ["Mk_Gts", "bRdTay", "tStG1d", "Ps7gyS"]

----- Sorting children of parent: Ps7gyS -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent Ps7gyS: []

----- Sorting children of parent: bRdTay -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent bRdTay: []

----- Sorting children of parent: zhA_gK -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent zhA_gK: []
====== COMPLETED BLOCK SORTING ======
Final sorted children map has 5 parents
extract_document_state: Extracted 6 blocks and 5 parent-child relationships
get_document_state: Finished for doc_id: xxxx
flutter: onDragStarted
flutter: the drag offset is inside the block, dragOffset(Offset(133.9, 162.1)), globalBlockRect(Rect.fromLTRB(120.0, 162.0, 680.0, 200.0))
flutter: the drag offset is inside the block, dragOffset(Offset(133.9, 164.5)), globalBlockRect(Rect.fromLTRB(120.0, 162.0, 680.0, 200.0))
flutter: the drag offset is inside the block, dragOffset(Offset(133.9, 166.8)), globalBlockRect(Rect.fromLTRB(120.0, 162.0, 680.0, 200.0))
flutter: the drag offset is inside the block, dragOffset(Offset(133.9, 168.4)), globalBlockRect(Rect.fromLTRB(120.0, 162.0, 680.0, 200.0))
flutter: the drag offset is inside the block, dragOffset(Offset(133.9, 169.5)), globalBlockRect(Rect.fromLTRB(120.0, 162.0, 680.0, 200.0))
flutter: the drag offset is inside the block, dragOffset(Offset(133.9, 170.3)), globalBlockRect(Rect.fromLTRB(120.0, 162.0, 680.0, 200.0))
flutter: the drag offset is inside the block, dragOffset(Offset(133.9, 171.0)), globalBlockRect(Rect.fromLTRB(120.0, 162.0, 680.0, 200.0))
flutter: the drag offset is inside the block, dragOffset(Offset(133.9, 172.1)), globalBlockRect(Rect.fromLTRB(120.0, 162.0, 680.0, 200.0))
flutter: the drag offset is inside the block, dragOffset(Offset(133.9, 172.9)), globalBlockRect(Rect.fromLTRB(120.0, 162.0, 680.0, 200.0))
flutter: the drag offset is inside the block, dragOffset(Offset(133.9, 173.7)), globalBlockRect(Rect.fromLTRB(120.0, 162.0, 680.0, 200.0))
flutter: the drag offset is inside the block, dragOffset(Offset(133.9, 173.9)), globalBlockRect(Rect.fromLTRB(120.0, 162.0, 680.0, 200.0))
flutter: the drag offset is inside the block, dragOffset(Offset(133.9, 174.4)), globalBlockRect(Rect.fromLTRB(120.0, 162.0, 680.0, 200.0))
flutter: the drag offset is inside the block, dragOffset(Offset(133.9, 175.2)), globalBlockRect(Rect.fromLTRB(120.0, 162.0, 680.0, 200.0))
flutter: the drag offset is inside the block, dragOffset(Offset(133.9, 175.4)), globalBlockRect(Rect.fromLTRB(120.0, 162.0, 680.0, 200.0))
flutter: the drag offset is inside the block, dragOffset(Offset(133.9, 176.2)), globalBlockRect(Rect.fromLTRB(120.0, 162.0, 680.0, 200.0))
flutter: the drag offset is inside the block, dragOffset(Offset(134.3, 177.3)), globalBlockRect(Rect.fromLTRB(120.0, 162.0, 680.0, 200.0))
flutter: the drag offset is inside the block, dragOffset(Offset(134.3, 177.8)), globalBlockRect(Rect.fromLTRB(120.0, 162.0, 680.0, 200.0))
flutter: the drag offset is inside the block, dragOffset(Offset(134.3, 178.1)), globalBlockRect(Rect.fromLTRB(120.0, 162.0, 680.0, 200.0))
flutter: the drag offset is inside the block, dragOffset(Offset(134.3, 178.6)), globalBlockRect(Rect.fromLTRB(120.0, 162.0, 680.0, 200.0))
flutter: the drag offset is inside the block, dragOffset(Offset(134.3, 180.0)), globalBlockRect(Rect.fromLTRB(120.0, 162.0, 680.0, 200.0))
flutter: the drag offset is inside the block, dragOffset(Offset(134.7, 182.2)), globalBlockRect(Rect.fromLTRB(120.0, 162.0, 680.0, 200.0))
flutter: the drag offset is inside the block, dragOffset(Offset(134.7, 183.3)), globalBlockRect(Rect.fromLTRB(120.0, 162.0, 680.0, 200.0))
flutter: the drag offset is inside the block, dragOffset(Offset(135.2, 184.4)), globalBlockRect(Rect.fromLTRB(120.0, 162.0, 680.0, 200.0))
flutter: the drag offset is inside the block, dragOffset(Offset(135.2, 184.9)), globalBlockRect(Rect.fromLTRB(120.0, 162.0, 680.0, 200.0))
flutter: the drag offset is inside the block, dragOffset(Offset(135.2, 185.4)), globalBlockRect(Rect.fromLTRB(120.0, 162.0, 680.0, 200.0))
flutter: the drag offset is inside the block, dragOffset(Offset(135.2, 186.1)), globalBlockRect(Rect.fromLTRB(120.0, 162.0, 680.0, 200.0))
flutter: the drag offset is inside the block, dragOffset(Offset(135.4, 186.6)), globalBlockRect(Rect.fromLTRB(120.0, 162.0, 680.0, 200.0))
flutter: the drag offset is inside the block, dragOffset(Offset(135.4, 187.1)), globalBlockRect(Rect.fromLTRB(120.0, 162.0, 680.0, 200.0))
flutter: the drag offset is inside the block, dragOffset(Offset(135.9, 187.7)), globalBlockRect(Rect.fromLTRB(120.0, 162.0, 680.0, 200.0))
flutter: the drag offset is inside the block, dragOffset(Offset(135.9, 187.9)), globalBlockRect(Rect.fromLTRB(120.0, 162.0, 680.0, 200.0))
flutter: the drag offset is inside the block, dragOffset(Offset(135.9, 188.4)), globalBlockRect(Rect.fromLTRB(120.0, 162.0, 680.0, 200.0))
flutter: the drag offset is inside the block, dragOffset(Offset(135.9, 188.7)), globalBlockRect(Rect.fromLTRB(120.0, 162.0, 680.0, 200.0))
flutter: onDragEnd, acceptedPath([4])
flutter: the drag offset is inside the block, dragOffset(Offset(135.9, 188.7)), globalBlockRect(Rect.fromLTRB(120.0, 162.0, 680.0, 200.0))
flutter: Moving node(Node(id: tStG1d, type: paragraph, attributes: {timestamp: 2025-04-24T17:05:06.893741, device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a, delta: [{insert: New task 2}]}, children: []), [2]) to path([3])
flutter: Transaction done
apply_action: Starting with 1 actions for doc_id: xxxx
move_block: Moving block_id: tStG1d from parent: m8OEVv to parent: m8OEVv
remove_block_from_prev_id_chain: Removing block tStG1d from chain
  Block tStG1d has prev_id: bRdTay
  Finding blocks that reference tStG1d as their prev_id
find_block_referencing_prev_id: Searching for blocks with prev_id = tStG1d
  Found 6 total blocks to check
  Checking block: zhA_gK
    Block has prev_id: Ps7gyS, matches target: false
  Checking block: m8OEVv
    Block does not have prev_id
  Checking block: Mk_Gts
    Block does not have prev_id
  Checking block: Ps7gyS
    Block does not have prev_id
  Checking block: tStG1d
    Block has prev_id: bRdTay, matches target: false
  Checking block: bRdTay
    Block has prev_id: Mk_Gts, matches target: false
find_block_referencing_prev_id: Found 0 blocks with prev_id = tStG1d: []
  Found 0 next blocks: []
remove_block_from_prev_id_chain: Completed
handle_following_connection: block_id=tStG1d, next_id=None, prev_id=Some("Ps7gyS")
  Using prev_id strategy (prev_id=Ps7gyS)
find_block_referencing_prev_id: Searching for blocks with prev_id = Ps7gyS
  Found 6 total blocks to check
  Checking block: zhA_gK
    Block has prev_id: Ps7gyS, matches target: true
  Checking block: m8OEVv
    Block does not have prev_id
  Checking block: Mk_Gts
    Block does not have prev_id
  Checking block: Ps7gyS
    Block does not have prev_id
  Checking block: tStG1d
    Block has prev_id: bRdTay, matches target: false
  Checking block: bRdTay
    Block has prev_id: Mk_Gts, matches target: false
find_block_referencing_prev_id: Found 1 blocks with prev_id = Ps7gyS: ["zhA_gK"]
  Found 1 nodes that reference prev_id Ps7gyS: ["zhA_gK"]
  Updating block zhA_gK to point to tStG1d
  Finished prev_id strategy
move_block: Moved block within same parent
apply_action: Encoding state for doc_id: xxxx
apply_updates: Starting with 37 updates for doc_id: xxxx
apply_updates: Starting with 37 updates for doc_id: xxxx
apply_updates: Applying update for doc_id: xxxx
apply_updates: Finished for doc_id: xxxx
apply_updates: Successfully applied updates for doc_id: xxxx
get_document_state: Starting for doc_id: xxxx
extract_document_state: Starting for doc_id: xxxx
extract_document_state: Processing 6 blocks
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 0 deltas
====== STARTING BLOCK SORTING ======
Input children_map has 5 parent nodes

----- Sorting children of parent: Ps7gyS -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent Ps7gyS: []

----- Sorting children of parent: m8OEVv -----
Parent has 4 children to sort
Mapped 4 valid blocks by ID
Block bRdTay assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block tStG1d assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block Mk_Gts assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block Ps7gyS assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Grouped blocks into 1 devices
  - Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 4 blocks
Block bRdTay has prev_id Mk_Gts
Block tStG1d has prev_id Ps7gyS
Block Mk_Gts has no prev_id
Block Ps7gyS has no prev_id
Built prev->next map with 2 entries
  - Mk_Gts has 1 next blocks: ["bRdTay"]
  - Ps7gyS has 1 next blocks: ["tStG1d"]
Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 2 root blocks: ["Mk_Gts", "Ps7gyS"]
Processing devices in order: ["4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"]

Processing device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Comparing root blocks: Ps7gyS (time: 2025-04-24T17:05:13.710104) vs Mk_Gts (time: 2025-04-24T17:04:05.077214)
Sorted roots for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a: ["Mk_Gts", "Ps7gyS"]
Starting chain from root: Mk_Gts
  Adding block Mk_Gts to sorted list
    Pushing bRdTay onto stack
  Adding block bRdTay to sorted list
  No next blocks for bRdTay
Starting chain from root: Ps7gyS
  Adding block Ps7gyS to sorted list
    Pushing tStG1d onto stack
  Adding block tStG1d to sorted list
  No next blocks for tStG1d
No remaining blocks for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
No globally remaining blocks
Final sorted order for parent m8OEVv: ["Mk_Gts", "bRdTay", "Ps7gyS", "tStG1d"]

----- Sorting children of parent: bRdTay -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent bRdTay: []

----- Sorting children of parent: tStG1d -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent tStG1d: []

----- Sorting children of parent: zhA_gK -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent zhA_gK: []
====== COMPLETED BLOCK SORTING ======
Final sorted children map has 5 parents
extract_document_state: Extracted 6 blocks and 5 parent-child relationships
get_document_state: Finished for doc_id: xxxx
merge_updates: Merging 1 updates
merge_updates: Successfully merged updates
apply_updates: Starting with 38 updates for doc_id: xxxx
apply_updates: Starting with 38 updates for doc_id: xxxx
apply_updates: Applying update for doc_id: xxxx
apply_updates: Finished for doc_id: xxxx
apply_updates: Successfully applied updates for doc_id: xxxx
get_document_state: Starting for doc_id: xxxx
extract_document_state: Starting for doc_id: xxxx
extract_document_state: Processing 6 blocks
deltas_to_json: Converting 0 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
====== STARTING BLOCK SORTING ======
Input children_map has 5 parent nodes

----- Sorting children of parent: tStG1d -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent tStG1d: []

----- Sorting children of parent: bRdTay -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent bRdTay: []

----- Sorting children of parent: Ps7gyS -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent Ps7gyS: []

----- Sorting children of parent: m8OEVv -----
Parent has 4 children to sort
Mapped 4 valid blocks by ID
Block Ps7gyS assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block tStG1d assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block Mk_Gts assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block bRdTay assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Grouped blocks into 1 devices
  - Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 4 blocks
Block Ps7gyS has no prev_id
Block tStG1d has prev_id Ps7gyS
Block Mk_Gts has no prev_id
Block bRdTay has prev_id Mk_Gts
Built prev->next map with 2 entries
  - Mk_Gts has 1 next blocks: ["bRdTay"]
  - Ps7gyS has 1 next blocks: ["tStG1d"]
Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 2 root blocks: ["Ps7gyS", "Mk_Gts"]
Processing devices in order: ["4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"]

Processing device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Comparing root blocks: Mk_Gts (time: 2025-04-24T17:04:05.077214) vs Ps7gyS (time: 2025-04-24T17:05:13.710104)
Sorted roots for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a: ["Mk_Gts", "Ps7gyS"]
Starting chain from root: Mk_Gts
  Adding block Mk_Gts to sorted list
    Pushing bRdTay onto stack
  Adding block bRdTay to sorted list
  No next blocks for bRdTay
Starting chain from root: Ps7gyS
  Adding block Ps7gyS to sorted list
    Pushing tStG1d onto stack
  Adding block tStG1d to sorted list
  No next blocks for tStG1d
No remaining blocks for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
No globally remaining blocks
Final sorted order for parent m8OEVv: ["Mk_Gts", "bRdTay", "Ps7gyS", "tStG1d"]

----- Sorting children of parent: zhA_gK -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent zhA_gK: []
====== COMPLETED BLOCK SORTING ======
Final sorted children map has 5 parents
extract_document_state: Extracted 6 blocks and 5 parent-child relationships
get_document_state: Finished for doc_id: xxxx
flutter: onDragStarted
flutter: the drag offset is inside the block, dragOffset(Offset(131.9, 126.4)), globalBlockRect(Rect.fromLTRB(120.0, 124.0, 680.0, 162.0))
flutter: the drag offset is inside the block, dragOffset(Offset(131.9, 138.7)), globalBlockRect(Rect.fromLTRB(120.0, 124.0, 680.0, 162.0))
flutter: the drag offset is inside the block, dragOffset(Offset(131.9, 143.6)), globalBlockRect(Rect.fromLTRB(120.0, 124.0, 680.0, 162.0))
flutter: the drag offset is inside the block, dragOffset(Offset(133.5, 153.3)), globalBlockRect(Rect.fromLTRB(120.0, 124.0, 680.0, 162.0))
flutter: the drag offset is inside the block, dragOffset(Offset(134.3, 160.6)), globalBlockRect(Rect.fromLTRB(120.0, 124.0, 680.0, 162.0))
flutter: the drag offset is inside the block, dragOffset(Offset(134.3, 162.9)), globalBlockRect(Rect.fromLTRB(120.0, 162.0, 680.0, 200.0))
flutter: the drag offset is inside the block, dragOffset(Offset(134.8, 164.6)), globalBlockRect(Rect.fromLTRB(120.0, 162.0, 680.0, 200.0))
flutter: the drag offset is inside the block, dragOffset(Offset(134.8, 165.9)), globalBlockRect(Rect.fromLTRB(120.0, 162.0, 680.0, 200.0))
flutter: the drag offset is inside the block, dragOffset(Offset(134.8, 167.1)), globalBlockRect(Rect.fromLTRB(120.0, 162.0, 680.0, 200.0))
flutter: the drag offset is inside the block, dragOffset(Offset(135.0, 168.1)), globalBlockRect(Rect.fromLTRB(120.0, 162.0, 680.0, 200.0))
flutter: the drag offset is inside the block, dragOffset(Offset(135.0, 170.3)), globalBlockRect(Rect.fromLTRB(120.0, 162.0, 680.0, 200.0))
flutter: the drag offset is inside the block, dragOffset(Offset(135.5, 170.8)), globalBlockRect(Rect.fromLTRB(120.0, 162.0, 680.0, 200.0))
flutter: the drag offset is inside the block, dragOffset(Offset(135.5, 172.2)), globalBlockRect(Rect.fromLTRB(120.0, 162.0, 680.0, 200.0))
flutter: the drag offset is inside the block, dragOffset(Offset(135.5, 173.2)), globalBlockRect(Rect.fromLTRB(120.0, 162.0, 680.0, 200.0))
flutter: the drag offset is inside the block, dragOffset(Offset(135.5, 173.5)), globalBlockRect(Rect.fromLTRB(120.0, 162.0, 680.0, 200.0))
flutter: the drag offset is inside the block, dragOffset(Offset(135.8, 174.2)), globalBlockRect(Rect.fromLTRB(120.0, 162.0, 680.0, 200.0))
flutter: the drag offset is inside the block, dragOffset(Offset(135.8, 174.5)), globalBlockRect(Rect.fromLTRB(120.0, 162.0, 680.0, 200.0))
flutter: the drag offset is inside the block, dragOffset(Offset(135.8, 175.6)), globalBlockRect(Rect.fromLTRB(120.0, 162.0, 680.0, 200.0))
flutter: the drag offset is inside the block, dragOffset(Offset(137.0, 178.0)), globalBlockRect(Rect.fromLTRB(120.0, 162.0, 680.0, 200.0))
flutter: the drag offset is inside the block, dragOffset(Offset(137.0, 178.7)), globalBlockRect(Rect.fromLTRB(120.0, 162.0, 680.0, 200.0))
flutter: the drag offset is inside the block, dragOffset(Offset(137.0, 179.8)), globalBlockRect(Rect.fromLTRB(120.0, 162.0, 680.0, 200.0))
flutter: the drag offset is inside the block, dragOffset(Offset(137.0, 181.1)), globalBlockRect(Rect.fromLTRB(120.0, 162.0, 680.0, 200.0))
flutter: the drag offset is inside the block, dragOffset(Offset(137.0, 181.6)), globalBlockRect(Rect.fromLTRB(120.0, 162.0, 680.0, 200.0))
flutter: the drag offset is inside the block, dragOffset(Offset(137.2, 182.7)), globalBlockRect(Rect.fromLTRB(120.0, 162.0, 680.0, 200.0))
flutter: the drag offset is inside the block, dragOffset(Offset(137.7, 183.4)), globalBlockRect(Rect.fromLTRB(120.0, 162.0, 680.0, 200.0))
flutter: the drag offset is inside the block, dragOffset(Offset(137.7, 184.5)), globalBlockRect(Rect.fromLTRB(120.0, 162.0, 680.0, 200.0))
flutter: the drag offset is inside the block, dragOffset(Offset(138.5, 189.3)), globalBlockRect(Rect.fromLTRB(120.0, 162.0, 680.0, 200.0))
flutter: the drag offset is inside the block, dragOffset(Offset(138.5, 192.8)), globalBlockRect(Rect.fromLTRB(120.0, 162.0, 680.0, 200.0))
flutter: the drag offset is inside the block, dragOffset(Offset(138.5, 193.9)), globalBlockRect(Rect.fromLTRB(120.0, 162.0, 680.0, 200.0))
flutter: the drag offset is inside the block, dragOffset(Offset(139.0, 194.7)), globalBlockRect(Rect.fromLTRB(120.0, 162.0, 680.0, 200.0))
flutter: the drag offset is inside the block, dragOffset(Offset(139.0, 195.7)), globalBlockRect(Rect.fromLTRB(120.0, 162.0, 680.0, 200.0))
flutter: the drag offset is inside the block, dragOffset(Offset(139.0, 195.9)), globalBlockRect(Rect.fromLTRB(120.0, 162.0, 680.0, 200.0))
flutter: the drag offset is inside the block, dragOffset(Offset(139.0, 196.2)), globalBlockRect(Rect.fromLTRB(120.0, 162.0, 680.0, 200.0))
flutter: the drag offset is inside the block, dragOffset(Offset(139.0, 196.7)), globalBlockRect(Rect.fromLTRB(120.0, 162.0, 680.0, 200.0))
flutter: onDragEnd, acceptedPath([4])
flutter: the drag offset is inside the block, dragOffset(Offset(139.0, 196.7)), globalBlockRect(Rect.fromLTRB(120.0, 162.0, 680.0, 200.0))
flutter: Moving node(Node(id: bRdTay, type: paragraph, attributes: {timestamp: 2025-04-24T17:03:55.612881, device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a, delta: [{insert: New Task 1}]}, children: []), [1]) to path([3])
flutter: Transaction done
apply_action: Starting with 1 actions for doc_id: xxxx
move_block: Moving block_id: bRdTay from parent: m8OEVv to parent: m8OEVv
remove_block_from_prev_id_chain: Removing block bRdTay from chain
  Block bRdTay has prev_id: Mk_Gts
  Finding blocks that reference bRdTay as their prev_id
find_block_referencing_prev_id: Searching for blocks with prev_id = bRdTay
  Found 6 total blocks to check
  Checking block: Mk_Gts
    Block does not have prev_id
  Checking block: Ps7gyS
    Block does not have prev_id
  Checking block: m8OEVv
    Block does not have prev_id
  Checking block: bRdTay
    Block has prev_id: Mk_Gts, matches target: false
  Checking block: tStG1d
    Block has prev_id: Ps7gyS, matches target: false
  Checking block: zhA_gK
    Block has prev_id: tStG1d, matches target: false
find_block_referencing_prev_id: Found 0 blocks with prev_id = bRdTay: []
  Found 0 next blocks: []
remove_block_from_prev_id_chain: Completed
handle_following_connection: block_id=bRdTay, next_id=None, prev_id=Some("tStG1d")
  Using prev_id strategy (prev_id=tStG1d)
find_block_referencing_prev_id: Searching for blocks with prev_id = tStG1d
  Found 6 total blocks to check
  Checking block: Mk_Gts
    Block does not have prev_id
  Checking block: Ps7gyS
    Block does not have prev_id
  Checking block: m8OEVv
    Block does not have prev_id
  Checking block: bRdTay
    Block has prev_id: Mk_Gts, matches target: false
  Checking block: tStG1d
    Block has prev_id: Ps7gyS, matches target: false
  Checking block: zhA_gK
    Block has prev_id: tStG1d, matches target: true
find_block_referencing_prev_id: Found 1 blocks with prev_id = tStG1d: ["zhA_gK"]
  Found 1 nodes that reference prev_id tStG1d: ["zhA_gK"]
  Updating block zhA_gK to point to bRdTay
  Finished prev_id strategy
move_block: Moved block within same parent
apply_action: Encoding state for doc_id: xxxx
apply_updates: Starting with 39 updates for doc_id: xxxx
apply_updates: Starting with 39 updates for doc_id: xxxx
apply_updates: Applying update for doc_id: xxxx
apply_updates: Finished for doc_id: xxxx
apply_updates: Successfully applied updates for doc_id: xxxx
get_document_state: Starting for doc_id: xxxx
extract_document_state: Starting for doc_id: xxxx
extract_document_state: Processing 6 blocks
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 0 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
====== STARTING BLOCK SORTING ======
Input children_map has 5 parent nodes

----- Sorting children of parent: zhA_gK -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent zhA_gK: []

----- Sorting children of parent: m8OEVv -----
Parent has 4 children to sort
Mapped 4 valid blocks by ID
Block Ps7gyS assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block Mk_Gts assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block bRdTay assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block tStG1d assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Grouped blocks into 1 devices
  - Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 4 blocks
Block Ps7gyS has no prev_id
Block Mk_Gts has no prev_id
Block bRdTay has prev_id tStG1d
Block tStG1d has prev_id Ps7gyS
Built prev->next map with 2 entries
  - tStG1d has 1 next blocks: ["bRdTay"]
  - Ps7gyS has 1 next blocks: ["tStG1d"]
Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 2 root blocks: ["Ps7gyS", "Mk_Gts"]
Processing devices in order: ["4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"]

Processing device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Comparing root blocks: Mk_Gts (time: 2025-04-24T17:04:05.077214) vs Ps7gyS (time: 2025-04-24T17:05:13.710104)
Sorted roots for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a: ["Mk_Gts", "Ps7gyS"]
Starting chain from root: Mk_Gts
  Adding block Mk_Gts to sorted list
  No next blocks for Mk_Gts
Starting chain from root: Ps7gyS
  Adding block Ps7gyS to sorted list
    Pushing tStG1d onto stack
  Adding block tStG1d to sorted list
    Pushing bRdTay onto stack
  Adding block bRdTay to sorted list
  No next blocks for bRdTay
No remaining blocks for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
No globally remaining blocks
Final sorted order for parent m8OEVv: ["Mk_Gts", "Ps7gyS", "tStG1d", "bRdTay"]

----- Sorting children of parent: tStG1d -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent tStG1d: []

----- Sorting children of parent: bRdTay -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent bRdTay: []

----- Sorting children of parent: Ps7gyS -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent Ps7gyS: []
====== COMPLETED BLOCK SORTING ======
Final sorted children map has 5 parents
extract_document_state: Extracted 6 blocks and 5 parent-child relationships
get_document_state: Finished for doc_id: xxxx
merge_updates: Merging 1 updates
merge_updates: Successfully merged updates
apply_updates: Starting with 40 updates for doc_id: xxxx
apply_updates: Starting with 40 updates for doc_id: xxxx
apply_updates: Applying update for doc_id: xxxx
apply_updates: Finished for doc_id: xxxx
apply_updates: Successfully applied updates for doc_id: xxxx
get_document_state: Starting for doc_id: xxxx
extract_document_state: Starting for doc_id: xxxx
extract_document_state: Processing 6 blocks
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 0 deltas
deltas_to_json: Converting 1 deltas
====== STARTING BLOCK SORTING ======
Input children_map has 5 parent nodes

----- Sorting children of parent: Ps7gyS -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent Ps7gyS: []

----- Sorting children of parent: zhA_gK -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent zhA_gK: []

----- Sorting children of parent: m8OEVv -----
Parent has 4 children to sort
Mapped 4 valid blocks by ID
Block Mk_Gts assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block tStG1d assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block bRdTay assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block Ps7gyS assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Grouped blocks into 1 devices
  - Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 4 blocks
Block Mk_Gts has no prev_id
Block tStG1d has prev_id Ps7gyS
Block bRdTay has prev_id tStG1d
Block Ps7gyS has no prev_id
Built prev->next map with 2 entries
  - tStG1d has 1 next blocks: ["bRdTay"]
  - Ps7gyS has 1 next blocks: ["tStG1d"]
Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 2 root blocks: ["Mk_Gts", "Ps7gyS"]
Processing devices in order: ["4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"]

Processing device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Comparing root blocks: Ps7gyS (time: 2025-04-24T17:05:13.710104) vs Mk_Gts (time: 2025-04-24T17:04:05.077214)
Sorted roots for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a: ["Mk_Gts", "Ps7gyS"]
Starting chain from root: Mk_Gts
  Adding block Mk_Gts to sorted list
  No next blocks for Mk_Gts
Starting chain from root: Ps7gyS
  Adding block Ps7gyS to sorted list
    Pushing tStG1d onto stack
  Adding block tStG1d to sorted list
    Pushing bRdTay onto stack
  Adding block bRdTay to sorted list
  No next blocks for bRdTay
No remaining blocks for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
No globally remaining blocks
Final sorted order for parent m8OEVv: ["Mk_Gts", "Ps7gyS", "tStG1d", "bRdTay"]

----- Sorting children of parent: bRdTay -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent bRdTay: []

----- Sorting children of parent: tStG1d -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent tStG1d: []
====== COMPLETED BLOCK SORTING ======
Final sorted children map has 5 parents
extract_document_state: Extracted 6 blocks and 5 parent-child relationships
get_document_state: Finished for doc_id: xxxx
flutter: onDragStarted
flutter: the drag offset is inside the block, dragOffset(Offset(163.5, 160.1)), globalBlockRect(Rect.fromLTRB(120.0, 124.0, 680.0, 162.0))
flutter: the drag offset is inside the block, dragOffset(Offset(164.6, 159.7)), globalBlockRect(Rect.fromLTRB(120.0, 124.0, 680.0, 162.0))
flutter: the drag offset is inside the block, dragOffset(Offset(166.0, 159.1)), globalBlockRect(Rect.fromLTRB(120.0, 124.0, 680.0, 162.0))
flutter: the drag offset is inside the block, dragOffset(Offset(166.2, 159.1)), globalBlockRect(Rect.fromLTRB(120.0, 124.0, 680.0, 162.0))
flutter: the drag offset is inside the block, dragOffset(Offset(166.5, 158.8)), globalBlockRect(Rect.fromLTRB(120.0, 124.0, 680.0, 162.0))
flutter: the drag offset is inside the block, dragOffset(Offset(167.0, 158.8)), globalBlockRect(Rect.fromLTRB(120.0, 124.0, 680.0, 162.0))
flutter: the drag offset is inside the block, dragOffset(Offset(167.5, 158.3)), globalBlockRect(Rect.fromLTRB(120.0, 124.0, 680.0, 162.0))
flutter: the drag offset is inside the block, dragOffset(Offset(168.0, 158.3)), globalBlockRect(Rect.fromLTRB(120.0, 124.0, 680.0, 162.0))
flutter: the drag offset is inside the block, dragOffset(Offset(168.8, 158.3)), globalBlockRect(Rect.fromLTRB(120.0, 124.0, 680.0, 162.0))
flutter: the drag offset is inside the block, dragOffset(Offset(169.5, 158.1)), globalBlockRect(Rect.fromLTRB(120.0, 124.0, 680.0, 162.0))
flutter: the drag offset is inside the block, dragOffset(Offset(170.0, 158.1)), globalBlockRect(Rect.fromLTRB(120.0, 124.0, 680.0, 162.0))
flutter: the drag offset is inside the block, dragOffset(Offset(170.8, 157.6)), globalBlockRect(Rect.fromLTRB(120.0, 124.0, 680.0, 162.0))
flutter: the drag offset is inside the block, dragOffset(Offset(173.0, 157.2)), globalBlockRect(Rect.fromLTRB(120.0, 124.0, 680.0, 162.0))
flutter: the drag offset is inside the block, dragOffset(Offset(175.9, 155.0)), globalBlockRect(Rect.fromLTRB(120.0, 124.0, 680.0, 162.0))
flutter: the drag offset is inside the block, dragOffset(Offset(178.8, 153.9)), globalBlockRect(Rect.fromLTRB(120.0, 124.0, 680.0, 162.0))
flutter: the drag offset is inside the block, dragOffset(Offset(181.2, 152.7)), globalBlockRect(Rect.fromLTRB(120.0, 124.0, 680.0, 162.0))
flutter: the drag offset is inside the block, dragOffset(Offset(182.8, 151.8)), globalBlockRect(Rect.fromLTRB(120.0, 124.0, 680.0, 162.0))
flutter: the drag offset is inside the block, dragOffset(Offset(185.7, 151.2)), globalBlockRect(Rect.fromLTRB(120.0, 124.0, 680.0, 162.0))
flutter: the drag offset is inside the block, dragOffset(Offset(186.2, 150.7)), globalBlockRect(Rect.fromLTRB(120.0, 124.0, 680.0, 162.0))
flutter: the drag offset is inside the block, dragOffset(Offset(187.2, 150.5)), globalBlockRect(Rect.fromLTRB(120.0, 124.0, 680.0, 162.0))
flutter: the drag offset is inside the block, dragOffset(Offset(188.2, 150.0)), globalBlockRect(Rect.fromLTRB(120.0, 124.0, 680.0, 162.0))
flutter: the drag offset is inside the block, dragOffset(Offset(189.9, 149.7)), globalBlockRect(Rect.fromLTRB(120.0, 124.0, 680.0, 162.0))
flutter: the drag offset is inside the block, dragOffset(Offset(190.4, 149.7)), globalBlockRect(Rect.fromLTRB(120.0, 124.0, 680.0, 162.0))
flutter: the drag offset is inside the block, dragOffset(Offset(192.0, 148.8)), globalBlockRect(Rect.fromLTRB(120.0, 124.0, 680.0, 162.0))
flutter: the drag offset is inside the block, dragOffset(Offset(193.0, 148.3)), globalBlockRect(Rect.fromLTRB(120.0, 124.0, 680.0, 162.0))
flutter: the drag offset is inside the block, dragOffset(Offset(193.3, 148.3)), globalBlockRect(Rect.fromLTRB(120.0, 124.0, 680.0, 162.0))
flutter: the drag offset is inside the block, dragOffset(Offset(194.4, 147.9)), globalBlockRect(Rect.fromLTRB(120.0, 124.0, 680.0, 162.0))
flutter: the drag offset is inside the block, dragOffset(Offset(194.9, 147.9)), globalBlockRect(Rect.fromLTRB(120.0, 124.0, 680.0, 162.0))
flutter: the drag offset is inside the block, dragOffset(Offset(195.2, 147.9)), globalBlockRect(Rect.fromLTRB(120.0, 124.0, 680.0, 162.0))
flutter: the drag offset is inside the block, dragOffset(Offset(197.5, 147.3)), globalBlockRect(Rect.fromLTRB(120.0, 124.0, 680.0, 162.0))
flutter: the drag offset is inside the block, dragOffset(Offset(197.8, 147.1)), globalBlockRect(Rect.fromLTRB(120.0, 124.0, 680.0, 162.0))
flutter: onDragEnd, acceptedPath([3])
flutter: the drag offset is inside the block, dragOffset(Offset(197.8, 147.1)), globalBlockRect(Rect.fromLTRB(120.0, 124.0, 680.0, 162.0))
flutter: Moving node(Node(id: bRdTay, type: paragraph, attributes: {timestamp: 2025-04-24T17:03:55.612881, device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a, delta: [{insert: New Task 1}]}, children: []), [3]) to path([2])
flutter: Transaction done
apply_action: Starting with 1 actions for doc_id: xxxx
move_block: Moving block_id: bRdTay from parent: m8OEVv to parent: tStG1d
remove_block_from_prev_id_chain: Removing block bRdTay from chain
  Block bRdTay has prev_id: tStG1d
  Finding blocks that reference bRdTay as their prev_id
find_block_referencing_prev_id: Searching for blocks with prev_id = bRdTay
  Found 6 total blocks to check
  Checking block: tStG1d
    Block has prev_id: Ps7gyS, matches target: false
  Checking block: m8OEVv
    Block does not have prev_id
  Checking block: bRdTay
    Block has prev_id: tStG1d, matches target: false
  Checking block: zhA_gK
    Block has prev_id: bRdTay, matches target: true
  Checking block: Mk_Gts
    Block does not have prev_id
  Checking block: Ps7gyS
    Block does not have prev_id
find_block_referencing_prev_id: Found 1 blocks with prev_id = bRdTay: ["zhA_gK"]
  Found 1 next blocks: ["zhA_gK"]
  Updating next block zhA_gK to point to tStG1d (was pointing to bRdTay)
remove_block_from_prev_id_chain: Completed
handle_following_connection: block_id=bRdTay, next_id=None, prev_id=None
  No prev_id or next_id provided, nothing to handle
handle_following_connection: Completed
move_block: Moved block between parents
apply_action: Encoding state for doc_id: xxxx
apply_updates: Starting with 40 updates for doc_id: xxxx
apply_updates: Starting with 40 updates for doc_id: xxxx
apply_updates: Applying update for doc_id: xxxx
apply_updates: Finished for doc_id: xxxx
apply_updates: Successfully applied updates for doc_id: xxxx
get_document_state: Starting for doc_id: xxxx
extract_document_state: Starting for doc_id: xxxx
extract_document_state: Processing 6 blocks
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 0 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
====== STARTING BLOCK SORTING ======
Input children_map has 5 parent nodes

----- Sorting children of parent: tStG1d -----
Parent has 1 children to sort
Mapped 1 valid blocks by ID
Block bRdTay assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Grouped blocks into 1 devices
  - Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 1 blocks
Block bRdTay has no prev_id
Built prev->next map with 0 entries
Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 1 root blocks: ["bRdTay"]
Processing devices in order: ["4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"]

Processing device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Sorted roots for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a: ["bRdTay"]
Starting chain from root: bRdTay
  Adding block bRdTay to sorted list
  No next blocks for bRdTay
No remaining blocks for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
No globally remaining blocks
Final sorted order for parent tStG1d: ["bRdTay"]

----- Sorting children of parent: bRdTay -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent bRdTay: []

----- Sorting children of parent: zhA_gK -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent zhA_gK: []

----- Sorting children of parent: Ps7gyS -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent Ps7gyS: []

----- Sorting children of parent: m8OEVv -----
Parent has 3 children to sort
Mapped 3 valid blocks by ID
Block Ps7gyS assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block bRdTay assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block tStG1d assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Grouped blocks into 1 devices
  - Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 3 blocks
Block Ps7gyS has no prev_id
Block bRdTay has no prev_id
Block tStG1d has prev_id Ps7gyS
Built prev->next map with 1 entries
  - Ps7gyS has 1 next blocks: ["tStG1d"]
Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 2 root blocks: ["Ps7gyS", "bRdTay"]
Processing devices in order: ["4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"]

Processing device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Comparing root blocks: bRdTay (time: 2025-04-24T17:03:55.612881) vs Ps7gyS (time: 2025-04-24T17:05:13.710104)
Sorted roots for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a: ["bRdTay", "Ps7gyS"]
Starting chain from root: bRdTay
  Adding block bRdTay to sorted list
  No next blocks for bRdTay
Starting chain from root: Ps7gyS
  Adding block Ps7gyS to sorted list
    Pushing tStG1d onto stack
  Adding block tStG1d to sorted list
  No next blocks for tStG1d
No remaining blocks for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
No globally remaining blocks
Final sorted order for parent m8OEVv: ["bRdTay", "Ps7gyS", "tStG1d"]
====== COMPLETED BLOCK SORTING ======
Final sorted children map has 5 parents
extract_document_state: Extracted 6 blocks and 5 parent-child relationships
get_document_state: Finished for doc_id: xxxx
flutter: {
flutter:   "docId": "xxxx",
flutter:   "blocks": {
flutter:     "Mk_Gts": {
flutter:       "id": "Mk_Gts",
flutter:       "ty": "",
flutter:       "attributes": {
flutter:         "device": "4cb3899a-3fe4-4bb1-bbf4-edd464b0977a",
flutter:         "checked": "false",
flutter:         "timestamp": "2025-04-24T17:04:05.077214"
flutter:       },
flutter:       "delta": "[]",
flutter:       "parentId": null,
flutter:       "prevId": null,
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "bRdTay": {
flutter:       "id": "bRdTay",
flutter:       "ty": "paragraph",
flutter:       "attributes": {
flutter:         "timestamp": "2025-04-24T17:03:55.612881",
flutter:         "device": "4cb3899a-3fe4-4bb1-bbf4-edd464b0977a",
flutter:         "delta": "[]"
flutter:       },
flutter:       "delta": "[{\"insert\":\"New Task 1\"}]",
flutter:       "parentId": "tStG1d",
flutter:       "prevId": null,
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "tStG1d": {
flutter:       "id": "tStG1d",
flutter:       "ty": "paragraph",
flutter:       "attributes": {
flutter:         "device": "4cb3899a-3fe4-4bb1-bbf4-edd464b0977a",
flutter:         "timestamp": "2025-04-24T17:05:06.893741",
flutter:         "delta": "[]"
flutter:       },
flutter:       "delta": "[{\"insert\":\"New task 2\"}]",
flutter:       "parentId": "m8OEVv",
flutter:       "prevId": "Ps7gyS",
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "Ps7gyS": {
flutter:       "id": "Ps7gyS",
flutter:       "ty": "paragraph",
flutter:       "attributes": {
flutter:         "delta": "[]",
flutter:         "timestamp": "2025-04-24T17:05:13.710104",
flutter:         "device": "4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"
flutter:       },
flutter:       "delta": "[{\"insert\":\"New task 3\"}]",
flutter:       "parentId": "m8OEVv",
flutter:       "prevId": null,
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "m8OEVv": {
flutter:       "id": "m8OEVv",
flutter:       "ty": "page",
flutter:       "attributes": {
flutter:         "timestamp": "2025-04-24T17:01:59.905543",
flutter:         "device": "3a00f73e-0356-4c61-a6e1-cb439d9dbf33"
flutter:       },
flutter:       "delta": null,
flutter:       "parentId": null,
flutter:       "prevId": null,
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "zhA_gK": {
flutter:       "id": "zhA_gK",
flutter:       "ty": "todo_list",
flutter:       "attributes": {
flutter:         "checked": "false",
flutter:         "timestamp": "2025-04-24T17:04:02.277720",
flutter:         "device": "4cb3899a-3fe4-4bb1-bbf4-edd464b0977a",
flutter:         "delta": "[]"
flutter:       },
flutter:       "delta": "[{\"insert\":\"Task is mine\"}]",
flutter:       "parentId": "m8OEVv",
flutter:       "prevId": "tStG1d",
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     }
flutter:   },
flutter:   "childrenMap": {
flutter:     "m8OEVv": [
flutter:       "bRdTay",
flutter:       "Ps7gyS",
flutter:       "tStG1d"
flutter:     ],
flutter:     "bRdTay": [],
flutter:     "Ps7gyS": [],
flutter:     "tStG1d": [
flutter:       "bRdTay"
flutter:     ],
flutter:     "zhA_gK": []
flutter:   },
flutter:   "rootId": "m8OEVv"
flutter: }
merge_updates: Merging 1 updates
merge_updates: Successfully merged updates
apply_updates: Starting with 41 updates for doc_id: xxxx
apply_updates: Starting with 41 updates for doc_id: xxxx
apply_updates: Applying update for doc_id: xxxx
apply_updates: Finished for doc_id: xxxx
apply_updates: Successfully applied updates for doc_id: xxxx
get_document_state: Starting for doc_id: xxxx
extract_document_state: Starting for doc_id: xxxx
extract_document_state: Processing 6 blocks
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 0 deltas
deltas_to_json: Converting 1 deltas
====== STARTING BLOCK SORTING ======
Input children_map has 5 parent nodes

----- Sorting children of parent: Ps7gyS -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent Ps7gyS: []

----- Sorting children of parent: zhA_gK -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent zhA_gK: []

----- Sorting children of parent: tStG1d -----
Parent has 1 children to sort
Mapped 1 valid blocks by ID
Block bRdTay assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Grouped blocks into 1 devices
  - Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 1 blocks
Block bRdTay has no prev_id
Built prev->next map with 0 entries
Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 1 root blocks: ["bRdTay"]
Processing devices in order: ["4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"]

Processing device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Sorted roots for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a: ["bRdTay"]
Starting chain from root: bRdTay
  Adding block bRdTay to sorted list
  No next blocks for bRdTay
No remaining blocks for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
No globally remaining blocks
Final sorted order for parent tStG1d: ["bRdTay"]

----- Sorting children of parent: bRdTay -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent bRdTay: []

----- Sorting children of parent: m8OEVv -----
Parent has 3 children to sort
Mapped 3 valid blocks by ID
Block tStG1d assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block bRdTay assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block Ps7gyS assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Grouped blocks into 1 devices
  - Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 3 blocks
Block tStG1d has prev_id Ps7gyS
Block bRdTay has no prev_id
Block Ps7gyS has no prev_id
Built prev->next map with 1 entries
  - Ps7gyS has 1 next blocks: ["tStG1d"]
Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 2 root blocks: ["bRdTay", "Ps7gyS"]
Processing devices in order: ["4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"]

Processing device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Comparing root blocks: Ps7gyS (time: 2025-04-24T17:05:13.710104) vs bRdTay (time: 2025-04-24T17:03:55.612881)
Sorted roots for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a: ["bRdTay", "Ps7gyS"]
Starting chain from root: bRdTay
  Adding block bRdTay to sorted list
  No next blocks for bRdTay
Starting chain from root: Ps7gyS
  Adding block Ps7gyS to sorted list
    Pushing tStG1d onto stack
  Adding block tStG1d to sorted list
  No next blocks for tStG1d
No remaining blocks for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
No globally remaining blocks
Final sorted order for parent m8OEVv: ["bRdTay", "Ps7gyS", "tStG1d"]
====== COMPLETED BLOCK SORTING ======
Final sorted children map has 5 parents
extract_document_state: Extracted 6 blocks and 5 parent-child relationships
get_document_state: Finished for doc_id: xxxx
