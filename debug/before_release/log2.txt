flutter:       "oldParentId": null
flutter:     },
flutter:     "bRdTay": {
flutter:       "id": "bRdTay",
flutter:       "ty": "paragraph",
flutter:       "attributes": {
flutter:         "delta": "[]",
flutter:         "device": "4cb3899a-3fe4-4bb1-bbf4-edd464b0977a",
flutter:         "timestamp": "2025-04-24T17:03:55.612881"
flutter:       },
flutter:       "delta": "[{\"insert\":\"New Task\"}]",
flutter:       "parentId": "m8OEVv",
flutter:       "prevId": null,
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "m8OEVv": {
flutter:       "id": "m8OEVv",
flutter:       "ty": "page",
flutter:       "attributes": {
flutter:         "device": "3a00f73e-0356-4c61-a6e1-cb439d9dbf33",
flutter:         "timestamp": "2025-04-24T17:01:59.905543"
flutter:       },
flutter:       "delta": null,
flutter:       "parentId": null,
flutter:       "prevId": null,
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     }
flutter:   },
flutter:   "childrenMap": {
flutter:     "m8OEVv": [
flutter:       "bRdTay",
flutter:       "tStG1d",
flutter:       "Mk_Gts"
flutter:     ],
flutter:     "bRdTay": [],
flutter:     "zhA_gK": [],
flutter:     "tStG1d": []
flutter:   },
flutter:   "rootId": "m8OEVv"
flutter: }
merge_updates: Merging 9 updates
merge_updates: Successfully merged updates
apply_updates: Starting with 37 updates for doc_id: xxxx
apply_updates: Starting with 37 updates for doc_id: xxxx
apply_updates: Applying update for doc_id: xxxx
apply_updates: Finished for doc_id: xxxx
apply_updates: Successfully applied updates for doc_id: xxxx
get_document_state: Starting for doc_id: xxxx
extract_document_state: Starting for doc_id: xxxx
extract_document_state: Processing 5 blocks
deltas_to_json: Converting 0 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 0 deltas
deltas_to_json: Converting 1 deltas
====== STARTING BLOCK SORTING ======
Input children_map has 4 parent nodes

----- Sorting children of parent: tStG1d -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent tStG1d: []

----- Sorting children of parent: zhA_gK -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent zhA_gK: []

----- Sorting children of parent: bRdTay -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent bRdTay: []

----- Sorting children of parent: m8OEVv -----
Parent has 3 children to sort
Mapped 3 valid blocks by ID
Block Mk_Gts assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block bRdTay assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block tStG1d assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Grouped blocks into 1 devices
  - Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 3 blocks
Block Mk_Gts has no prev_id
Block bRdTay has no prev_id
Block tStG1d has prev_id bRdTay
Built prev->next map with 1 entries
  - bRdTay has 1 next blocks: ["tStG1d"]
Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 2 root blocks: ["Mk_Gts", "bRdTay"]
Processing devices in order: ["4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"]

Processing device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Comparing root blocks: bRdTay (time: 2025-04-24T17:03:55.612881) vs Mk_Gts (time: 2025-04-24T17:04:05.077214)
Sorted roots for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a: ["bRdTay", "Mk_Gts"]
Starting chain from root: bRdTay
  Adding block bRdTay to sorted list
    Pushing tStG1d onto stack
  Adding block tStG1d to sorted list
  No next blocks for tStG1d
Starting chain from root: Mk_Gts
  Adding block Mk_Gts to sorted list
  No next blocks for Mk_Gts
No remaining blocks for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
No globally remaining blocks
Final sorted order for parent m8OEVv: ["bRdTay", "tStG1d", "Mk_Gts"]
====== COMPLETED BLOCK SORTING ======
Final sorted children map has 4 parents
extract_document_state: Extracted 5 blocks and 4 parent-child relationships
get_document_state: Finished for doc_id: xxxx
flutter: Transaction done
apply_action: Starting with 1 actions for doc_id: xxxx
update_node: Updating block_id: tStG1d
deltas_to_json: Converting 0 deltas
apply_delta_to_text: Computing delta diff
apply_delta_to_text: Parsing delta diff from JSON
apply_delta_diff_to_text: Starting with 1 operations
update_node: Updated block_id: tStG1d
apply_action: Encoding state for doc_id: xxxx
apply_updates: Starting with 37 updates for doc_id: xxxx
apply_updates: Starting with 37 updates for doc_id: xxxx
apply_updates: Applying update for doc_id: xxxx
apply_updates: Finished for doc_id: xxxx
apply_updates: Successfully applied updates for doc_id: xxxx
get_document_state: Starting for doc_id: xxxx
extract_document_state: Starting for doc_id: xxxx
extract_document_state: Processing 5 blocks
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 0 deltas
====== STARTING BLOCK SORTING ======
Input children_map has 4 parent nodes

----- Sorting children of parent: tStG1d -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent tStG1d: []

----- Sorting children of parent: m8OEVv -----
Parent has 3 children to sort
Mapped 3 valid blocks by ID
Block tStG1d assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block Mk_Gts assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block bRdTay assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Grouped blocks into 1 devices
  - Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 3 blocks
Block tStG1d has prev_id bRdTay
Block Mk_Gts has no prev_id
Block bRdTay has no prev_id
Built prev->next map with 1 entries
  - bRdTay has 1 next blocks: ["tStG1d"]
Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 2 root blocks: ["Mk_Gts", "bRdTay"]
Processing devices in order: ["4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"]

Processing device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Comparing root blocks: bRdTay (time: 2025-04-24T17:03:55.612881) vs Mk_Gts (time: 2025-04-24T17:04:05.077214)
Sorted roots for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a: ["bRdTay", "Mk_Gts"]
Starting chain from root: bRdTay
  Adding block bRdTay to sorted list
    Pushing tStG1d onto stack
  Adding block tStG1d to sorted list
  No next blocks for tStG1d
Starting chain from root: Mk_Gts
  Adding block Mk_Gts to sorted list
  No next blocks for Mk_Gts
No remaining blocks for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
No globally remaining blocks
Final sorted order for parent m8OEVv: ["bRdTay", "tStG1d", "Mk_Gts"]

----- Sorting children of parent: zhA_gK -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent zhA_gK: []

----- Sorting children of parent: bRdTay -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent bRdTay: []
====== COMPLETED BLOCK SORTING ======
Final sorted children map has 4 parents
extract_document_state: Extracted 5 blocks and 4 parent-child relationships
get_document_state: Finished for doc_id: xxxx
merge_updates: Merging 1 updates
merge_updates: Successfully merged updates
apply_updates: Starting with 38 updates for doc_id: xxxx
apply_updates: Starting with 38 updates for doc_id: xxxx
apply_updates: Applying update for doc_id: xxxx
apply_updates: Finished for doc_id: xxxx
apply_updates: Successfully applied updates for doc_id: xxxx
get_document_state: Starting for doc_id: xxxx
extract_document_state: Starting for doc_id: xxxx
extract_document_state: Processing 5 blocks
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 0 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
====== STARTING BLOCK SORTING ======
Input children_map has 4 parent nodes

----- Sorting children of parent: tStG1d -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent tStG1d: []

----- Sorting children of parent: bRdTay -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent bRdTay: []

----- Sorting children of parent: m8OEVv -----
Parent has 3 children to sort
Mapped 3 valid blocks by ID
Block Mk_Gts assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block tStG1d assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block bRdTay assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Grouped blocks into 1 devices
  - Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 3 blocks
Block Mk_Gts has no prev_id
Block tStG1d has prev_id bRdTay
Block bRdTay has no prev_id
Built prev->next map with 1 entries
  - bRdTay has 1 next blocks: ["tStG1d"]
Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 2 root blocks: ["Mk_Gts", "bRdTay"]
Processing devices in order: ["4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"]

Processing device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Comparing root blocks: bRdTay (time: 2025-04-24T17:03:55.612881) vs Mk_Gts (time: 2025-04-24T17:04:05.077214)
Sorted roots for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a: ["bRdTay", "Mk_Gts"]
Starting chain from root: bRdTay
  Adding block bRdTay to sorted list
    Pushing tStG1d onto stack
  Adding block tStG1d to sorted list
  No next blocks for tStG1d
Starting chain from root: Mk_Gts
  Adding block Mk_Gts to sorted list
  No next blocks for Mk_Gts
No remaining blocks for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
No globally remaining blocks
Final sorted order for parent m8OEVv: ["bRdTay", "tStG1d", "Mk_Gts"]

----- Sorting children of parent: zhA_gK -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent zhA_gK: []
====== COMPLETED BLOCK SORTING ======
Final sorted children map has 4 parents
extract_document_state: Extracted 5 blocks and 4 parent-child relationships
get_document_state: Finished for doc_id: xxxx
flutter: Transaction done
apply_action: Starting with 1 actions for doc_id: xxxx
update_node: Updating block_id: tStG1d
deltas_to_json: Converting 1 deltas
apply_delta_to_text: Computing delta diff
apply_delta_to_text: Parsing delta diff from JSON
apply_delta_diff_to_text: Starting with 2 operations
update_node: Updated block_id: tStG1d
apply_action: Encoding state for doc_id: xxxx
apply_updates: Starting with 38 updates for doc_id: xxxx
apply_updates: Starting with 38 updates for doc_id: xxxx
apply_updates: Applying update for doc_id: xxxx
apply_updates: Finished for doc_id: xxxx
apply_updates: Successfully applied updates for doc_id: xxxx
get_document_state: Starting for doc_id: xxxx
extract_document_state: Starting for doc_id: xxxx
extract_document_state: Processing 5 blocks
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 0 deltas
====== STARTING BLOCK SORTING ======
Input children_map has 4 parent nodes

----- Sorting children of parent: zhA_gK -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent zhA_gK: []

----- Sorting children of parent: m8OEVv -----
Parent has 3 children to sort
Mapped 3 valid blocks by ID
Block bRdTay assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block Mk_Gts assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block tStG1d assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Grouped blocks into 1 devices
  - Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 3 blocks
Block bRdTay has no prev_id
Block Mk_Gts has no prev_id
Block tStG1d has prev_id bRdTay
Built prev->next map with 1 entries
  - bRdTay has 1 next blocks: ["tStG1d"]
Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 2 root blocks: ["bRdTay", "Mk_Gts"]
Processing devices in order: ["4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"]

Processing device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Comparing root blocks: Mk_Gts (time: 2025-04-24T17:04:05.077214) vs bRdTay (time: 2025-04-24T17:03:55.612881)
Sorted roots for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a: ["bRdTay", "Mk_Gts"]
Starting chain from root: bRdTay
  Adding block bRdTay to sorted list
    Pushing tStG1d onto stack
  Adding block tStG1d to sorted list
  No next blocks for tStG1d
Starting chain from root: Mk_Gts
  Adding block Mk_Gts to sorted list
  No next blocks for Mk_Gts
No remaining blocks for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
No globally remaining blocks
Final sorted order for parent m8OEVv: ["bRdTay", "tStG1d", "Mk_Gts"]

----- Sorting children of parent: bRdTay -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent bRdTay: []

----- Sorting children of parent: tStG1d -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent tStG1d: []
====== COMPLETED BLOCK SORTING ======
Final sorted children map has 4 parents
extract_document_state: Extracted 5 blocks and 4 parent-child relationships
get_document_state: Finished for doc_id: xxxx
flutter: Transaction done
apply_action: Starting with 1 actions for doc_id: xxxx
update_node: Updating block_id: tStG1d
deltas_to_json: Converting 1 deltas
apply_delta_to_text: Computing delta diff
apply_delta_to_text: Parsing delta diff from JSON
apply_delta_diff_to_text: Starting with 2 operations
update_node: Updated block_id: tStG1d
apply_action: Encoding state for doc_id: xxxx
apply_updates: Starting with 39 updates for doc_id: xxxx
apply_updates: Starting with 39 updates for doc_id: xxxx
apply_updates: Applying update for doc_id: xxxx
apply_updates: Finished for doc_id: xxxx
apply_updates: Successfully applied updates for doc_id: xxxx
get_document_state: Starting for doc_id: xxxx
extract_document_state: Starting for doc_id: xxxx
extract_document_state: Processing 5 blocks
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 0 deltas
====== STARTING BLOCK SORTING ======
Input children_map has 4 parent nodes

----- Sorting children of parent: m8OEVv -----
Parent has 3 children to sort
Mapped 3 valid blocks by ID
Block Mk_Gts assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block bRdTay assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block tStG1d assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Grouped blocks into 1 devices
  - Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 3 blocks
Block Mk_Gts has no prev_id
Block bRdTay has no prev_id
Block tStG1d has prev_id bRdTay
Built prev->next map with 1 entries
  - bRdTay has 1 next blocks: ["tStG1d"]
Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 2 root blocks: ["Mk_Gts", "bRdTay"]
Processing devices in order: ["4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"]

Processing device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Comparing root blocks: bRdTay (time: 2025-04-24T17:03:55.612881) vs Mk_Gts (time: 2025-04-24T17:04:05.077214)
Sorted roots for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a: ["bRdTay", "Mk_Gts"]
Starting chain from root: bRdTay
  Adding block bRdTay to sorted list
    Pushing tStG1d onto stack
  Adding block tStG1d to sorted list
  No next blocks for tStG1d
Starting chain from root: Mk_Gts
  Adding block Mk_Gts to sorted list
  No next blocks for Mk_Gts
No remaining blocks for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
No globally remaining blocks
Final sorted order for parent m8OEVv: ["bRdTay", "tStG1d", "Mk_Gts"]

----- Sorting children of parent: tStG1d -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent tStG1d: []

----- Sorting children of parent: zhA_gK -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent zhA_gK: []

----- Sorting children of parent: bRdTay -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent bRdTay: []
====== COMPLETED BLOCK SORTING ======
Final sorted children map has 4 parents
extract_document_state: Extracted 5 blocks and 4 parent-child relationships
get_document_state: Finished for doc_id: xxxx
flutter: Transaction done
apply_action: Starting with 1 actions for doc_id: xxxx
update_node: Updating block_id: tStG1d
deltas_to_json: Converting 1 deltas
apply_delta_to_text: Computing delta diff
apply_delta_to_text: Parsing delta diff from JSON
apply_delta_diff_to_text: Starting with 2 operations
update_node: Updated block_id: tStG1d
apply_action: Encoding state for doc_id: xxxx
apply_updates: Starting with 40 updates for doc_id: xxxx
apply_updates: Starting with 40 updates for doc_id: xxxx
apply_updates: Applying update for doc_id: xxxx
apply_updates: Finished for doc_id: xxxx
apply_updates: Successfully applied updates for doc_id: xxxx
get_document_state: Starting for doc_id: xxxx
extract_document_state: Starting for doc_id: xxxx
extract_document_state: Processing 5 blocks
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 0 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
====== STARTING BLOCK SORTING ======
Input children_map has 4 parent nodes

----- Sorting children of parent: bRdTay -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent bRdTay: []

----- Sorting children of parent: zhA_gK -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent zhA_gK: []

----- Sorting children of parent: tStG1d -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent tStG1d: []

----- Sorting children of parent: m8OEVv -----
Parent has 3 children to sort
Mapped 3 valid blocks by ID
Block tStG1d assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block Mk_Gts assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block bRdTay assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Grouped blocks into 1 devices
  - Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 3 blocks
Block tStG1d has prev_id bRdTay
Block Mk_Gts has no prev_id
Block bRdTay has no prev_id
Built prev->next map with 1 entries
  - bRdTay has 1 next blocks: ["tStG1d"]
Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 2 root blocks: ["Mk_Gts", "bRdTay"]
Processing devices in order: ["4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"]

Processing device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Comparing root blocks: bRdTay (time: 2025-04-24T17:03:55.612881) vs Mk_Gts (time: 2025-04-24T17:04:05.077214)
Sorted roots for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a: ["bRdTay", "Mk_Gts"]
Starting chain from root: bRdTay
  Adding block bRdTay to sorted list
    Pushing tStG1d onto stack
  Adding block tStG1d to sorted list
  No next blocks for tStG1d
Starting chain from root: Mk_Gts
  Adding block Mk_Gts to sorted list
  No next blocks for Mk_Gts
No remaining blocks for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
No globally remaining blocks
Final sorted order for parent m8OEVv: ["bRdTay", "tStG1d", "Mk_Gts"]
====== COMPLETED BLOCK SORTING ======
Final sorted children map has 4 parents
extract_document_state: Extracted 5 blocks and 4 parent-child relationships
get_document_state: Finished for doc_id: xxxx
flutter: Transaction done
apply_action: Starting with 1 actions for doc_id: xxxx
update_node: Updating block_id: tStG1d
deltas_to_json: Converting 1 deltas
apply_delta_to_text: Computing delta diff
apply_delta_to_text: Parsing delta diff from JSON
apply_delta_diff_to_text: Starting with 2 operations
update_node: Updated block_id: tStG1d
apply_action: Encoding state for doc_id: xxxx
apply_updates: Starting with 41 updates for doc_id: xxxx
apply_updates: Starting with 41 updates for doc_id: xxxx
apply_updates: Applying update for doc_id: xxxx
apply_updates: Finished for doc_id: xxxx
apply_updates: Successfully applied updates for doc_id: xxxx
get_document_state: Starting for doc_id: xxxx
extract_document_state: Starting for doc_id: xxxx
extract_document_state: Processing 5 blocks
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 0 deltas
deltas_to_json: Converting 1 deltas
====== STARTING BLOCK SORTING ======
Input children_map has 4 parent nodes

----- Sorting children of parent: m8OEVv -----
Parent has 3 children to sort
Mapped 3 valid blocks by ID
Block Mk_Gts assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block tStG1d assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block bRdTay assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Grouped blocks into 1 devices
  - Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 3 blocks
Block Mk_Gts has no prev_id
Block tStG1d has prev_id bRdTay
Block bRdTay has no prev_id
Built prev->next map with 1 entries
  - bRdTay has 1 next blocks: ["tStG1d"]
Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 2 root blocks: ["Mk_Gts", "bRdTay"]
Processing devices in order: ["4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"]

Processing device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Comparing root blocks: bRdTay (time: 2025-04-24T17:03:55.612881) vs Mk_Gts (time: 2025-04-24T17:04:05.077214)
Sorted roots for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a: ["bRdTay", "Mk_Gts"]
Starting chain from root: bRdTay
  Adding block bRdTay to sorted list
    Pushing tStG1d onto stack
  Adding block tStG1d to sorted list
  No next blocks for tStG1d
Starting chain from root: Mk_Gts
  Adding block Mk_Gts to sorted list
  No next blocks for Mk_Gts
No remaining blocks for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
No globally remaining blocks
Final sorted order for parent m8OEVv: ["bRdTay", "tStG1d", "Mk_Gts"]

----- Sorting children of parent: zhA_gK -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent zhA_gK: []

----- Sorting children of parent: bRdTay -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent bRdTay: []

----- Sorting children of parent: tStG1d -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent tStG1d: []
====== COMPLETED BLOCK SORTING ======
Final sorted children map has 4 parents
extract_document_state: Extracted 5 blocks and 4 parent-child relationships
get_document_state: Finished for doc_id: xxxx
flutter: Transaction done
apply_action: Starting with 1 actions for doc_id: xxxx
update_node: Updating block_id: tStG1d
deltas_to_json: Converting 1 deltas
apply_delta_to_text: Computing delta diff
apply_delta_to_text: Parsing delta diff from JSON
apply_delta_diff_to_text: Starting with 2 operations
update_node: Updated block_id: tStG1d
apply_action: Encoding state for doc_id: xxxx
apply_updates: Starting with 42 updates for doc_id: xxxx
apply_updates: Starting with 42 updates for doc_id: xxxx
apply_updates: Applying update for doc_id: xxxx
apply_updates: Finished for doc_id: xxxx
apply_updates: Successfully applied updates for doc_id: xxxx
get_document_state: Starting for doc_id: xxxx
extract_document_state: Starting for doc_id: xxxx
extract_document_state: Processing 5 blocks
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 0 deltas
deltas_to_json: Converting 1 deltas
====== STARTING BLOCK SORTING ======
Input children_map has 4 parent nodes

----- Sorting children of parent: bRdTay -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent bRdTay: []

----- Sorting children of parent: zhA_gK -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent zhA_gK: []

----- Sorting children of parent: tStG1d -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent tStG1d: []

----- Sorting children of parent: m8OEVv -----
Parent has 3 children to sort
Mapped 3 valid blocks by ID
Block bRdTay assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block tStG1d assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block Mk_Gts assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Grouped blocks into 1 devices
  - Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 3 blocks
Block bRdTay has no prev_id
Block tStG1d has prev_id bRdTay
Block Mk_Gts has no prev_id
Built prev->next map with 1 entries
  - bRdTay has 1 next blocks: ["tStG1d"]
Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 2 root blocks: ["bRdTay", "Mk_Gts"]
Processing devices in order: ["4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"]

Processing device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Comparing root blocks: Mk_Gts (time: 2025-04-24T17:04:05.077214) vs bRdTay (time: 2025-04-24T17:03:55.612881)
Sorted roots for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a: ["bRdTay", "Mk_Gts"]
Starting chain from root: bRdTay
  Adding block bRdTay to sorted list
    Pushing tStG1d onto stack
  Adding block tStG1d to sorted list
  No next blocks for tStG1d
Starting chain from root: Mk_Gts
  Adding block Mk_Gts to sorted list
  No next blocks for Mk_Gts
No remaining blocks for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
No globally remaining blocks
Final sorted order for parent m8OEVv: ["bRdTay", "tStG1d", "Mk_Gts"]
====== COMPLETED BLOCK SORTING ======
Final sorted children map has 4 parents
extract_document_state: Extracted 5 blocks and 4 parent-child relationships
get_document_state: Finished for doc_id: xxxx
flutter: Transaction done
apply_action: Starting with 1 actions for doc_id: xxxx
update_node: Updating block_id: tStG1d
deltas_to_json: Converting 1 deltas
apply_delta_to_text: Computing delta diff
apply_delta_to_text: Parsing delta diff from JSON
apply_delta_diff_to_text: Starting with 2 operations
update_node: Updated block_id: tStG1d
apply_action: Encoding state for doc_id: xxxx
apply_updates: Starting with 43 updates for doc_id: xxxx
apply_updates: Starting with 43 updates for doc_id: xxxx
apply_updates: Applying update for doc_id: xxxx
apply_updates: Finished for doc_id: xxxx
apply_updates: Successfully applied updates for doc_id: xxxx
get_document_state: Starting for doc_id: xxxx
extract_document_state: Starting for doc_id: xxxx
extract_document_state: Processing 5 blocks
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 0 deltas
====== STARTING BLOCK SORTING ======
Input children_map has 4 parent nodes

----- Sorting children of parent: zhA_gK -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent zhA_gK: []

----- Sorting children of parent: m8OEVv -----
Parent has 3 children to sort
Mapped 3 valid blocks by ID
Block bRdTay assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block tStG1d assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block Mk_Gts assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Grouped blocks into 1 devices
  - Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 3 blocks
Block bRdTay has no prev_id
Block tStG1d has prev_id bRdTay
Block Mk_Gts has no prev_id
Built prev->next map with 1 entries
  - bRdTay has 1 next blocks: ["tStG1d"]
Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 2 root blocks: ["bRdTay", "Mk_Gts"]
Processing devices in order: ["4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"]

Processing device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Comparing root blocks: Mk_Gts (time: 2025-04-24T17:04:05.077214) vs bRdTay (time: 2025-04-24T17:03:55.612881)
Sorted roots for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a: ["bRdTay", "Mk_Gts"]
Starting chain from root: bRdTay
  Adding block bRdTay to sorted list
    Pushing tStG1d onto stack
  Adding block tStG1d to sorted list
  No next blocks for tStG1d
Starting chain from root: Mk_Gts
  Adding block Mk_Gts to sorted list
  No next blocks for Mk_Gts
No remaining blocks for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
No globally remaining blocks
Final sorted order for parent m8OEVv: ["bRdTay", "tStG1d", "Mk_Gts"]

----- Sorting children of parent: tStG1d -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent tStG1d: []

----- Sorting children of parent: bRdTay -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent bRdTay: []
====== COMPLETED BLOCK SORTING ======
Final sorted children map has 4 parents
extract_document_state: Extracted 5 blocks and 4 parent-child relationships
get_document_state: Finished for doc_id: xxxx
flutter: Transaction done
apply_action: Starting with 1 actions for doc_id: xxxx
update_node: Updating block_id: tStG1d
deltas_to_json: Converting 1 deltas
apply_delta_to_text: Computing delta diff
apply_delta_to_text: Parsing delta diff from JSON
apply_delta_diff_to_text: Starting with 2 operations
update_node: Updated block_id: tStG1d
apply_action: Encoding state for doc_id: xxxx
apply_updates: Starting with 44 updates for doc_id: xxxx
apply_updates: Starting with 44 updates for doc_id: xxxx
apply_updates: Applying update for doc_id: xxxx
apply_updates: Finished for doc_id: xxxx
apply_updates: Successfully applied updates for doc_id: xxxx
get_document_state: Starting for doc_id: xxxx
extract_document_state: Starting for doc_id: xxxx
extract_document_state: Processing 5 blocks
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 0 deltas
====== STARTING BLOCK SORTING ======
Input children_map has 4 parent nodes

----- Sorting children of parent: zhA_gK -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent zhA_gK: []

----- Sorting children of parent: m8OEVv -----
Parent has 3 children to sort
Mapped 3 valid blocks by ID
Block Mk_Gts assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block tStG1d assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block bRdTay assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Grouped blocks into 1 devices
  - Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 3 blocks
Block Mk_Gts has no prev_id
Block tStG1d has prev_id bRdTay
Block bRdTay has no prev_id
Built prev->next map with 1 entries
  - bRdTay has 1 next blocks: ["tStG1d"]
Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 2 root blocks: ["Mk_Gts", "bRdTay"]
Processing devices in order: ["4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"]

Processing device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Comparing root blocks: bRdTay (time: 2025-04-24T17:03:55.612881) vs Mk_Gts (time: 2025-04-24T17:04:05.077214)
Sorted roots for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a: ["bRdTay", "Mk_Gts"]
Starting chain from root: bRdTay
  Adding block bRdTay to sorted list
    Pushing tStG1d onto stack
  Adding block tStG1d to sorted list
  No next blocks for tStG1d
Starting chain from root: Mk_Gts
  Adding block Mk_Gts to sorted list
  No next blocks for Mk_Gts
No remaining blocks for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
No globally remaining blocks
Final sorted order for parent m8OEVv: ["bRdTay", "tStG1d", "Mk_Gts"]

----- Sorting children of parent: bRdTay -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent bRdTay: []

----- Sorting children of parent: tStG1d -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent tStG1d: []
====== COMPLETED BLOCK SORTING ======
Final sorted children map has 4 parents
extract_document_state: Extracted 5 blocks and 4 parent-child relationships
get_document_state: Finished for doc_id: xxxx
flutter: Transaction done
apply_action: Starting with 1 actions for doc_id: xxxx
update_node: Updating block_id: tStG1d
deltas_to_json: Converting 1 deltas
apply_delta_to_text: Computing delta diff
apply_delta_to_text: Parsing delta diff from JSON
apply_delta_diff_to_text: Starting with 2 operations
update_node: Updated block_id: tStG1d
apply_action: Encoding state for doc_id: xxxx
apply_updates: Starting with 45 updates for doc_id: xxxx
apply_updates: Starting with 45 updates for doc_id: xxxx
apply_updates: Applying update for doc_id: xxxx
apply_updates: Finished for doc_id: xxxx
apply_updates: Successfully applied updates for doc_id: xxxx
get_document_state: Starting for doc_id: xxxx
extract_document_state: Starting for doc_id: xxxx
extract_document_state: Processing 5 blocks
deltas_to_json: Converting 0 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
====== STARTING BLOCK SORTING ======
Input children_map has 4 parent nodes

----- Sorting children of parent: tStG1d -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent tStG1d: []

----- Sorting children of parent: m8OEVv -----
Parent has 3 children to sort
Mapped 3 valid blocks by ID
Block Mk_Gts assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block tStG1d assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block bRdTay assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Grouped blocks into 1 devices
  - Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 3 blocks
Block Mk_Gts has no prev_id
Block tStG1d has prev_id bRdTay
Block bRdTay has no prev_id
Built prev->next map with 1 entries
  - bRdTay has 1 next blocks: ["tStG1d"]
Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 2 root blocks: ["Mk_Gts", "bRdTay"]
Processing devices in order: ["4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"]

Processing device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Comparing root blocks: bRdTay (time: 2025-04-24T17:03:55.612881) vs Mk_Gts (time: 2025-04-24T17:04:05.077214)
Sorted roots for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a: ["bRdTay", "Mk_Gts"]
Starting chain from root: bRdTay
  Adding block bRdTay to sorted list
    Pushing tStG1d onto stack
  Adding block tStG1d to sorted list
  No next blocks for tStG1d
Starting chain from root: Mk_Gts
  Adding block Mk_Gts to sorted list
  No next blocks for Mk_Gts
No remaining blocks for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
No globally remaining blocks
Final sorted order for parent m8OEVv: ["bRdTay", "tStG1d", "Mk_Gts"]

----- Sorting children of parent: zhA_gK -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent zhA_gK: []

----- Sorting children of parent: bRdTay -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent bRdTay: []
====== COMPLETED BLOCK SORTING ======
Final sorted children map has 4 parents
extract_document_state: Extracted 5 blocks and 4 parent-child relationships
get_document_state: Finished for doc_id: xxxx
merge_updates: Merging 8 updates
merge_updates: Successfully merged updates
apply_updates: Starting with 46 updates for doc_id: xxxx
apply_updates: Starting with 46 updates for doc_id: xxxx
apply_updates: Applying update for doc_id: xxxx
apply_updates: Finished for doc_id: xxxx
apply_updates: Successfully applied updates for doc_id: xxxx
get_document_state: Starting for doc_id: xxxx
extract_document_state: Starting for doc_id: xxxx
extract_document_state: Processing 5 blocks
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 0 deltas
deltas_to_json: Converting 1 deltas
====== STARTING BLOCK SORTING ======
Input children_map has 4 parent nodes

----- Sorting children of parent: zhA_gK -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent zhA_gK: []

----- Sorting children of parent: bRdTay -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent bRdTay: []

----- Sorting children of parent: m8OEVv -----
Parent has 3 children to sort
Mapped 3 valid blocks by ID
Block bRdTay assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block tStG1d assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block Mk_Gts assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Grouped blocks into 1 devices
  - Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 3 blocks
Block bRdTay has no prev_id
Block tStG1d has prev_id bRdTay
Block Mk_Gts has no prev_id
Built prev->next map with 1 entries
  - bRdTay has 1 next blocks: ["tStG1d"]
Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 2 root blocks: ["bRdTay", "Mk_Gts"]
Processing devices in order: ["4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"]

Processing device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Comparing root blocks: Mk_Gts (time: 2025-04-24T17:04:05.077214) vs bRdTay (time: 2025-04-24T17:03:55.612881)
Sorted roots for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a: ["bRdTay", "Mk_Gts"]
Starting chain from root: bRdTay
  Adding block bRdTay to sorted list
    Pushing tStG1d onto stack
  Adding block tStG1d to sorted list
  No next blocks for tStG1d
Starting chain from root: Mk_Gts
  Adding block Mk_Gts to sorted list
  No next blocks for Mk_Gts
No remaining blocks for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
No globally remaining blocks
Final sorted order for parent m8OEVv: ["bRdTay", "tStG1d", "Mk_Gts"]

----- Sorting children of parent: tStG1d -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent tStG1d: []
====== COMPLETED BLOCK SORTING ======
Final sorted children map has 4 parents
extract_document_state: Extracted 5 blocks and 4 parent-child relationships
get_document_state: Finished for doc_id: xxxx
flutter: Transaction done
apply_action: Starting with 1 actions for doc_id: xxxx
update_node: Updating block_id: tStG1d
deltas_to_json: Converting 1 deltas
apply_delta_to_text: Computing delta diff
apply_delta_to_text: Parsing delta diff from JSON
apply_delta_diff_to_text: Starting with 2 operations
update_node: Updated block_id: tStG1d
apply_action: Encoding state for doc_id: xxxx
apply_updates: Starting with 47 updates for doc_id: xxxx
apply_updates: Starting with 47 updates for doc_id: xxxx
apply_updates: Applying update for doc_id: xxxx
apply_updates: Finished for doc_id: xxxx
apply_updates: Successfully applied updates for doc_id: xxxx
get_document_state: Starting for doc_id: xxxx
extract_document_state: Starting for doc_id: xxxx
extract_document_state: Processing 5 blocks
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 0 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
====== STARTING BLOCK SORTING ======
Input children_map has 4 parent nodes

----- Sorting children of parent: zhA_gK -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent zhA_gK: []

----- Sorting children of parent: tStG1d -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent tStG1d: []

----- Sorting children of parent: m8OEVv -----
Parent has 3 children to sort
Mapped 3 valid blocks by ID
Block tStG1d assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block bRdTay assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block Mk_Gts assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Grouped blocks into 1 devices
  - Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 3 blocks
Block tStG1d has prev_id bRdTay
Block bRdTay has no prev_id
Block Mk_Gts has no prev_id
Built prev->next map with 1 entries
  - bRdTay has 1 next blocks: ["tStG1d"]
Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 2 root blocks: ["bRdTay", "Mk_Gts"]
Processing devices in order: ["4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"]

Processing device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Comparing root blocks: Mk_Gts (time: 2025-04-24T17:04:05.077214) vs bRdTay (time: 2025-04-24T17:03:55.612881)
Sorted roots for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a: ["bRdTay", "Mk_Gts"]
Starting chain from root: bRdTay
  Adding block bRdTay to sorted list
    Pushing tStG1d onto stack
  Adding block tStG1d to sorted list
  No next blocks for tStG1d
Starting chain from root: Mk_Gts
  Adding block Mk_Gts to sorted list
  No next blocks for Mk_Gts
No remaining blocks for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
No globally remaining blocks
Final sorted order for parent m8OEVv: ["bRdTay", "tStG1d", "Mk_Gts"]

----- Sorting children of parent: bRdTay -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent bRdTay: []
====== COMPLETED BLOCK SORTING ======
Final sorted children map has 4 parents
extract_document_state: Extracted 5 blocks and 4 parent-child relationships
get_document_state: Finished for doc_id: xxxx
merge_updates: Merging 1 updates
merge_updates: Successfully merged updates
apply_updates: Starting with 48 updates for doc_id: xxxx
apply_updates: Starting with 48 updates for doc_id: xxxx
apply_updates: Applying update for doc_id: xxxx
apply_updates: Finished for doc_id: xxxx
apply_updates: Successfully applied updates for doc_id: xxxx
get_document_state: Starting for doc_id: xxxx
extract_document_state: Starting for doc_id: xxxx
extract_document_state: Processing 5 blocks
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 0 deltas
====== STARTING BLOCK SORTING ======
Input children_map has 4 parent nodes

----- Sorting children of parent: zhA_gK -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent zhA_gK: []

----- Sorting children of parent: bRdTay -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent bRdTay: []

----- Sorting children of parent: m8OEVv -----
Parent has 3 children to sort
Mapped 3 valid blocks by ID
Block Mk_Gts assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block bRdTay assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block tStG1d assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Grouped blocks into 1 devices
  - Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 3 blocks
Block Mk_Gts has no prev_id
Block bRdTay has no prev_id
Block tStG1d has prev_id bRdTay
Built prev->next map with 1 entries
  - bRdTay has 1 next blocks: ["tStG1d"]
Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 2 root blocks: ["Mk_Gts", "bRdTay"]
Processing devices in order: ["4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"]

Processing device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Comparing root blocks: bRdTay (time: 2025-04-24T17:03:55.612881) vs Mk_Gts (time: 2025-04-24T17:04:05.077214)
Sorted roots for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a: ["bRdTay", "Mk_Gts"]
Starting chain from root: bRdTay
  Adding block bRdTay to sorted list
    Pushing tStG1d onto stack
  Adding block tStG1d to sorted list
  No next blocks for tStG1d
Starting chain from root: Mk_Gts
  Adding block Mk_Gts to sorted list
  No next blocks for Mk_Gts
No remaining blocks for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
No globally remaining blocks
Final sorted order for parent m8OEVv: ["bRdTay", "tStG1d", "Mk_Gts"]

----- Sorting children of parent: tStG1d -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent tStG1d: []
====== COMPLETED BLOCK SORTING ======
Final sorted children map has 4 parents
extract_document_state: Extracted 5 blocks and 4 parent-child relationships
get_document_state: Finished for doc_id: xxxx
flutter: Transaction done
apply_action: Starting with 1 actions for doc_id: xxxx
update_node: Updating block_id: bRdTay
deltas_to_json: Converting 1 deltas
apply_delta_to_text: Computing delta diff
apply_delta_to_text: Parsing delta diff from JSON
apply_delta_diff_to_text: Starting with 2 operations
update_node: Updated block_id: bRdTay
apply_action: Encoding state for doc_id: xxxx
apply_updates: Starting with 49 updates for doc_id: xxxx
apply_updates: Starting with 49 updates for doc_id: xxxx
apply_updates: Applying update for doc_id: xxxx
apply_updates: Finished for doc_id: xxxx
apply_updates: Successfully applied updates for doc_id: xxxx
get_document_state: Starting for doc_id: xxxx
extract_document_state: Starting for doc_id: xxxx
extract_document_state: Processing 5 blocks
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 0 deltas
deltas_to_json: Converting 1 deltas
====== STARTING BLOCK SORTING ======
Input children_map has 4 parent nodes

----- Sorting children of parent: tStG1d -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent tStG1d: []

----- Sorting children of parent: bRdTay -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent bRdTay: []

----- Sorting children of parent: zhA_gK -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent zhA_gK: []

----- Sorting children of parent: m8OEVv -----
Parent has 3 children to sort
Mapped 3 valid blocks by ID
Block Mk_Gts assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block tStG1d assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block bRdTay assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Grouped blocks into 1 devices
  - Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 3 blocks
Block Mk_Gts has no prev_id
Block tStG1d has prev_id bRdTay
Block bRdTay has no prev_id
Built prev->next map with 1 entries
  - bRdTay has 1 next blocks: ["tStG1d"]
Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 2 root blocks: ["Mk_Gts", "bRdTay"]
Processing devices in order: ["4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"]

Processing device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Comparing root blocks: bRdTay (time: 2025-04-24T17:03:55.612881) vs Mk_Gts (time: 2025-04-24T17:04:05.077214)
Sorted roots for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a: ["bRdTay", "Mk_Gts"]
Starting chain from root: bRdTay
  Adding block bRdTay to sorted list
    Pushing tStG1d onto stack
  Adding block tStG1d to sorted list
  No next blocks for tStG1d
Starting chain from root: Mk_Gts
  Adding block Mk_Gts to sorted list
  No next blocks for Mk_Gts
No remaining blocks for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
No globally remaining blocks
Final sorted order for parent m8OEVv: ["bRdTay", "tStG1d", "Mk_Gts"]
====== COMPLETED BLOCK SORTING ======
Final sorted children map has 4 parents
extract_document_state: Extracted 5 blocks and 4 parent-child relationships
get_document_state: Finished for doc_id: xxxx
flutter: Transaction done
apply_action: Starting with 1 actions for doc_id: xxxx
update_node: Updating block_id: bRdTay
deltas_to_json: Converting 1 deltas
apply_delta_to_text: Computing delta diff
apply_delta_to_text: Parsing delta diff from JSON
apply_delta_diff_to_text: Starting with 2 operations
update_node: Updated block_id: bRdTay
apply_action: Encoding state for doc_id: xxxx
apply_updates: Starting with 50 updates for doc_id: xxxx
apply_updates: Starting with 50 updates for doc_id: xxxx
apply_updates: Applying update for doc_id: xxxx
apply_updates: Finished for doc_id: xxxx
apply_updates: Successfully applied updates for doc_id: xxxx
get_document_state: Starting for doc_id: xxxx
extract_document_state: Starting for doc_id: xxxx
extract_document_state: Processing 5 blocks
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 0 deltas
====== STARTING BLOCK SORTING ======
Input children_map has 4 parent nodes

----- Sorting children of parent: bRdTay -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent bRdTay: []

----- Sorting children of parent: tStG1d -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent tStG1d: []

----- Sorting children of parent: zhA_gK -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent zhA_gK: []

----- Sorting children of parent: m8OEVv -----
Parent has 3 children to sort
Mapped 3 valid blocks by ID
Block Mk_Gts assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block tStG1d assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block bRdTay assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Grouped blocks into 1 devices
  - Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 3 blocks
Block Mk_Gts has no prev_id
Block tStG1d has prev_id bRdTay
Block bRdTay has no prev_id
Built prev->next map with 1 entries
  - bRdTay has 1 next blocks: ["tStG1d"]
Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 2 root blocks: ["Mk_Gts", "bRdTay"]
Processing devices in order: ["4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"]

Processing device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Comparing root blocks: bRdTay (time: 2025-04-24T17:03:55.612881) vs Mk_Gts (time: 2025-04-24T17:04:05.077214)
Sorted roots for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a: ["bRdTay", "Mk_Gts"]
Starting chain from root: bRdTay
  Adding block bRdTay to sorted list
    Pushing tStG1d onto stack
  Adding block tStG1d to sorted list
  No next blocks for tStG1d
Starting chain from root: Mk_Gts
  Adding block Mk_Gts to sorted list
  No next blocks for Mk_Gts
No remaining blocks for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
No globally remaining blocks
Final sorted order for parent m8OEVv: ["bRdTay", "tStG1d", "Mk_Gts"]
====== COMPLETED BLOCK SORTING ======
Final sorted children map has 4 parents
extract_document_state: Extracted 5 blocks and 4 parent-child relationships
get_document_state: Finished for doc_id: xxxx
merge_updates: Merging 2 updates
merge_updates: Successfully merged updates
apply_updates: Starting with 51 updates for doc_id: xxxx
apply_updates: Starting with 51 updates for doc_id: xxxx
apply_updates: Applying update for doc_id: xxxx
apply_updates: Finished for doc_id: xxxx
apply_updates: Successfully applied updates for doc_id: xxxx
get_document_state: Starting for doc_id: xxxx
extract_document_state: Starting for doc_id: xxxx
extract_document_state: Processing 5 blocks
deltas_to_json: Converting 0 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
====== STARTING BLOCK SORTING ======
Input children_map has 4 parent nodes

----- Sorting children of parent: m8OEVv -----
Parent has 3 children to sort
Mapped 3 valid blocks by ID
Block tStG1d assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block Mk_Gts assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block bRdTay assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Grouped blocks into 1 devices
  - Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 3 blocks
Block tStG1d has prev_id bRdTay
Block Mk_Gts has no prev_id
Block bRdTay has no prev_id
Built prev->next map with 1 entries
  - bRdTay has 1 next blocks: ["tStG1d"]
Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 2 root blocks: ["Mk_Gts", "bRdTay"]
Processing devices in order: ["4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"]

Processing device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Comparing root blocks: bRdTay (time: 2025-04-24T17:03:55.612881) vs Mk_Gts (time: 2025-04-24T17:04:05.077214)
Sorted roots for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a: ["bRdTay", "Mk_Gts"]
Starting chain from root: bRdTay
  Adding block bRdTay to sorted list
    Pushing tStG1d onto stack
  Adding block tStG1d to sorted list
  No next blocks for tStG1d
Starting chain from root: Mk_Gts
  Adding block Mk_Gts to sorted list
  No next blocks for Mk_Gts
No remaining blocks for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
No globally remaining blocks
Final sorted order for parent m8OEVv: ["bRdTay", "tStG1d", "Mk_Gts"]

----- Sorting children of parent: tStG1d -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent tStG1d: []

----- Sorting children of parent: zhA_gK -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent zhA_gK: []

----- Sorting children of parent: bRdTay -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent bRdTay: []
====== COMPLETED BLOCK SORTING ======
Final sorted children map has 4 parents
extract_document_state: Extracted 5 blocks and 4 parent-child relationships
get_document_state: Finished for doc_id: xxxx
flutter: Transaction done
apply_action: Starting with 2 actions for doc_id: xxxx
insert_node: Starting for block_id: Ps7gyS
deltas_to_json: Converting 0 deltas
apply_delta_to_text: Computing delta diff
apply_delta_to_text: Parsing delta diff from JSON
apply_delta_to_text: No changes to apply
handle_prev_id_chain: block_id=Ps7gyS, prev_id=Some("tStG1d")
  Finding blocks that reference prev_id: tStG1d
find_block_referencing_prev_id: Searching for blocks with prev_id = tStG1d
  Found 6 total blocks to check
  Checking block: Mk_Gts
    Block does not have prev_id
  Checking block: m8OEVv
    Block does not have prev_id
  Checking block: bRdTay
    Block does not have prev_id
  Checking block: Ps7gyS
    Block does not have prev_id
  Checking block: tStG1d
    Block has prev_id: bRdTay, matches target: false
  Checking block: zhA_gK
    Block has prev_id: tStG1d, matches target: true
find_block_referencing_prev_id: Found 1 blocks with prev_id = tStG1d: ["zhA_gK"]
  Found 1 blocks with prev_id tStG1d: ["zhA_gK"]
  Updating block zhA_gK to point to Ps7gyS (was pointing to tStG1d)
handle_prev_id_chain: Completed
handle_following_connection: block_id=Ps7gyS, next_id=None, prev_id=Some("tStG1d")
  Using prev_id strategy (prev_id=tStG1d)
find_block_referencing_prev_id: Searching for blocks with prev_id = tStG1d
  Found 6 total blocks to check
  Checking block: Mk_Gts
    Block does not have prev_id
  Checking block: m8OEVv
    Block does not have prev_id
  Checking block: bRdTay
    Block does not have prev_id
  Checking block: Ps7gyS
    Block does not have prev_id
  Checking block: tStG1d
    Block has prev_id: bRdTay, matches target: false
  Checking block: zhA_gK
    Block has prev_id: Ps7gyS, matches target: false
find_block_referencing_prev_id: Found 0 blocks with prev_id = tStG1d: []
  Found 0 nodes that reference prev_id tStG1d: []
  Finished prev_id strategy
  Setting prev_id of block Ps7gyS to tStG1d
insert_node: Finished for block_id: Ps7gyS
update_node: Updating block_id: tStG1d
deltas_to_json: Converting 1 deltas
apply_delta_to_text: Computing delta diff
apply_delta_to_text: Parsing delta diff from JSON
apply_delta_to_text: No changes to apply
update_node: Updated block_id: tStG1d
apply_action: Encoding state for doc_id: xxxx
apply_updates: Starting with 43 updates for doc_id: xxxx
apply_updates: Starting with 43 updates for doc_id: xxxx
apply_updates: Applying update for doc_id: xxxx
apply_updates: Finished for doc_id: xxxx
apply_updates: Successfully applied updates for doc_id: xxxx
get_document_state: Starting for doc_id: xxxx
extract_document_state: Starting for doc_id: xxxx
extract_document_state: Processing 6 blocks
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 0 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 0 deltas
====== STARTING BLOCK SORTING ======
Input children_map has 5 parent nodes

----- Sorting children of parent: m8OEVv -----
Parent has 4 children to sort
Mapped 4 valid blocks by ID
Block Mk_Gts assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block tStG1d assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block bRdTay assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block Ps7gyS assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Grouped blocks into 1 devices
  - Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 4 blocks
Block Mk_Gts has no prev_id
Block tStG1d has prev_id bRdTay
Block bRdTay has no prev_id
Block Ps7gyS has prev_id tStG1d
Built prev->next map with 2 entries
  - bRdTay has 1 next blocks: ["tStG1d"]
  - tStG1d has 1 next blocks: ["Ps7gyS"]
Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 2 root blocks: ["Mk_Gts", "bRdTay"]
Processing devices in order: ["4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"]

Processing device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Comparing root blocks: bRdTay (time: 2025-04-24T17:03:55.612881) vs Mk_Gts (time: 2025-04-24T17:04:05.077214)
Sorted roots for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a: ["bRdTay", "Mk_Gts"]
Starting chain from root: bRdTay
  Adding block bRdTay to sorted list
    Pushing tStG1d onto stack
  Adding block tStG1d to sorted list
    Pushing Ps7gyS onto stack
  Adding block Ps7gyS to sorted list
  No next blocks for Ps7gyS
Starting chain from root: Mk_Gts
  Adding block Mk_Gts to sorted list
  No next blocks for Mk_Gts
No remaining blocks for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
No globally remaining blocks
Final sorted order for parent m8OEVv: ["bRdTay", "tStG1d", "Ps7gyS", "Mk_Gts"]

----- Sorting children of parent: tStG1d -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent tStG1d: []

----- Sorting children of parent: zhA_gK -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent zhA_gK: []

----- Sorting children of parent: bRdTay -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent bRdTay: []

----- Sorting children of parent: Ps7gyS -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent Ps7gyS: []
====== COMPLETED BLOCK SORTING ======
Final sorted children map has 5 parents
extract_document_state: Extracted 6 blocks and 5 parent-child relationships
get_document_state: Finished for doc_id: xxxx
flutter: {
flutter:   "docId": "xxxx",
flutter:   "blocks": {
flutter:     "Ps7gyS": {
flutter:       "id": "Ps7gyS",
flutter:       "ty": "paragraph",
flutter:       "attributes": {
flutter:         "timestamp": "2025-04-24T17:05:13.710104",
flutter:         "delta": "[]",
flutter:         "device": "4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"
flutter:       },
flutter:       "delta": "[]",
flutter:       "parentId": "m8OEVv",
flutter:       "prevId": "tStG1d",
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "m8OEVv": {
flutter:       "id": "m8OEVv",
flutter:       "ty": "page",
flutter:       "attributes": {
flutter:         "device": "3a00f73e-0356-4c61-a6e1-cb439d9dbf33",
flutter:         "timestamp": "2025-04-24T17:01:59.905543"
flutter:       },
flutter:       "delta": null,
flutter:       "parentId": null,
flutter:       "prevId": null,
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "bRdTay": {
flutter:       "id": "bRdTay",
flutter:       "ty": "paragraph",
flutter:       "attributes": {
flutter:         "device": "4cb3899a-3fe4-4bb1-bbf4-edd464b0977a",
flutter:         "delta": "[]",
flutter:         "timestamp": "2025-04-24T17:03:55.612881"
flutter:       },
flutter:       "delta": "[{\"insert\":\"New Task 1\"}]",
flutter:       "parentId": "m8OEVv",
flutter:       "prevId": null,
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "tStG1d": {
flutter:       "id": "tStG1d",
flutter:       "ty": "paragraph",
flutter:       "attributes": {
flutter:         "delta": "[]",
flutter:         "device": "4cb3899a-3fe4-4bb1-bbf4-edd464b0977a",
flutter:         "timestamp": "2025-04-24T17:05:06.893741"
flutter:       },
flutter:       "delta": "[{\"insert\":\"New task 2\"}]",
flutter:       "parentId": "m8OEVv",
flutter:       "prevId": "bRdTay",
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "zhA_gK": {
flutter:       "id": "zhA_gK",
flutter:       "ty": "todo_list",
flutter:       "attributes": {
flutter:         "device": "4cb3899a-3fe4-4bb1-bbf4-edd464b0977a",
flutter:         "delta": "[]",
flutter:         "checked": "false",
flutter:         "timestamp": "2025-04-24T17:04:02.277720"
flutter:       },
flutter:       "delta": "[{\"insert\":\"Task is mine\"}]",
flutter:       "parentId": "m8OEVv",
flutter:       "prevId": "Ps7gyS",
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "Mk_Gts": {
flutter:       "id": "Mk_Gts",
flutter:       "ty": "",
flutter:       "attributes": {
flutter:         "timestamp": "2025-04-24T17:04:05.077214",
flutter:         "device": "4cb3899a-3fe4-4bb1-bbf4-edd464b0977a",
flutter:         "checked": "false"
flutter:       },
flutter:       "delta": "[]",
flutter:       "parentId": null,
flutter:       "prevId": null,
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     }
flutter:   },
flutter:   "childrenMap": {
flutter:     "m8OEVv": [
flutter:       "bRdTay",
flutter:       "tStG1d",
flutter:       "Ps7gyS",
flutter:       "Mk_Gts"
flutter:     ],
flutter:     "bRdTay": [],
flutter:     "zhA_gK": [],
flutter:     "Ps7gyS": [],
flutter:     "tStG1d": []
flutter:   },
flutter:   "rootId": "m8OEVv"
flutter: }
flutter: Transaction done
apply_action: Starting with 1 actions for doc_id: xxxx
update_node: Updating block_id: Ps7gyS
deltas_to_json: Converting 0 deltas
apply_delta_to_text: Computing delta diff
apply_delta_to_text: Parsing delta diff from JSON
apply_delta_diff_to_text: Starting with 1 operations
update_node: Updated block_id: Ps7gyS
apply_action: Encoding state for doc_id: xxxx
apply_updates: Starting with 44 updates for doc_id: xxxx
apply_updates: Starting with 44 updates for doc_id: xxxx
apply_updates: Applying update for doc_id: xxxx
apply_updates: Finished for doc_id: xxxx
apply_updates: Successfully applied updates for doc_id: xxxx
get_document_state: Starting for doc_id: xxxx
extract_document_state: Starting for doc_id: xxxx
extract_document_state: Processing 6 blocks
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 0 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
====== STARTING BLOCK SORTING ======
Input children_map has 5 parent nodes

----- Sorting children of parent: Ps7gyS -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent Ps7gyS: []

----- Sorting children of parent: bRdTay -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent bRdTay: []

----- Sorting children of parent: zhA_gK -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent zhA_gK: []

----- Sorting children of parent: tStG1d -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent tStG1d: []

----- Sorting children of parent: m8OEVv -----
Parent has 4 children to sort
Mapped 4 valid blocks by ID
Block tStG1d assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block Mk_Gts assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block Ps7gyS assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block bRdTay assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Grouped blocks into 1 devices
  - Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 4 blocks
Block tStG1d has prev_id bRdTay
Block Mk_Gts has no prev_id
Block Ps7gyS has prev_id tStG1d
Block bRdTay has no prev_id
Built prev->next map with 2 entries
  - tStG1d has 1 next blocks: ["Ps7gyS"]
  - bRdTay has 1 next blocks: ["tStG1d"]
Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 2 root blocks: ["Mk_Gts", "bRdTay"]
Processing devices in order: ["4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"]

Processing device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Comparing root blocks: bRdTay (time: 2025-04-24T17:03:55.612881) vs Mk_Gts (time: 2025-04-24T17:04:05.077214)
Sorted roots for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a: ["bRdTay", "Mk_Gts"]
Starting chain from root: bRdTay
  Adding block bRdTay to sorted list
    Pushing tStG1d onto stack
  Adding block tStG1d to sorted list
    Pushing Ps7gyS onto stack
  Adding block Ps7gyS to sorted list
  No next blocks for Ps7gyS
Starting chain from root: Mk_Gts
  Adding block Mk_Gts to sorted list
  No next blocks for Mk_Gts
No remaining blocks for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
No globally remaining blocks
Final sorted order for parent m8OEVv: ["bRdTay", "tStG1d", "Ps7gyS", "Mk_Gts"]
====== COMPLETED BLOCK SORTING ======
Final sorted children map has 5 parents
extract_document_state: Extracted 6 blocks and 5 parent-child relationships
get_document_state: Finished for doc_id: xxxx
flutter: Transaction done
apply_action: Starting with 1 actions for doc_id: xxxx
update_node: Updating block_id: Ps7gyS
deltas_to_json: Converting 1 deltas
apply_delta_to_text: Computing delta diff
apply_delta_to_text: Parsing delta diff from JSON
apply_delta_diff_to_text: Starting with 2 operations
update_node: Updated block_id: Ps7gyS
apply_action: Encoding state for doc_id: xxxx
apply_updates: Starting with 45 updates for doc_id: xxxx
apply_updates: Starting with 45 updates for doc_id: xxxx
apply_updates: Applying update for doc_id: xxxx
apply_updates: Finished for doc_id: xxxx
apply_updates: Successfully applied updates for doc_id: xxxx
get_document_state: Starting for doc_id: xxxx
extract_document_state: Starting for doc_id: xxxx
extract_document_state: Processing 6 blocks
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 0 deltas
====== STARTING BLOCK SORTING ======
Input children_map has 5 parent nodes

----- Sorting children of parent: zhA_gK -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent zhA_gK: []

----- Sorting children of parent: tStG1d -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent tStG1d: []

----- Sorting children of parent: Ps7gyS -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent Ps7gyS: []

----- Sorting children of parent: m8OEVv -----
Parent has 4 children to sort
Mapped 4 valid blocks by ID
Block tStG1d assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block Ps7gyS assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block bRdTay assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block Mk_Gts assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Grouped blocks into 1 devices
  - Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 4 blocks
Block tStG1d has prev_id bRdTay
Block Ps7gyS has prev_id tStG1d
Block bRdTay has no prev_id
Block Mk_Gts has no prev_id
Built prev->next map with 2 entries
  - bRdTay has 1 next blocks: ["tStG1d"]
  - tStG1d has 1 next blocks: ["Ps7gyS"]
Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 2 root blocks: ["bRdTay", "Mk_Gts"]
Processing devices in order: ["4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"]

Processing device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Comparing root blocks: Mk_Gts (time: 2025-04-24T17:04:05.077214) vs bRdTay (time: 2025-04-24T17:03:55.612881)
Sorted roots for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a: ["bRdTay", "Mk_Gts"]
Starting chain from root: bRdTay
  Adding block bRdTay to sorted list
    Pushing tStG1d onto stack
  Adding block tStG1d to sorted list
    Pushing Ps7gyS onto stack
  Adding block Ps7gyS to sorted list
  No next blocks for Ps7gyS
Starting chain from root: Mk_Gts
  Adding block Mk_Gts to sorted list
  No next blocks for Mk_Gts
No remaining blocks for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
No globally remaining blocks
Final sorted order for parent m8OEVv: ["bRdTay", "tStG1d", "Ps7gyS", "Mk_Gts"]

----- Sorting children of parent: bRdTay -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent bRdTay: []
====== COMPLETED BLOCK SORTING ======
Final sorted children map has 5 parents
extract_document_state: Extracted 6 blocks and 5 parent-child relationships
get_document_state: Finished for doc_id: xxxx
flutter: Transaction done
apply_action: Starting with 1 actions for doc_id: xxxx
update_node: Updating block_id: Ps7gyS
deltas_to_json: Converting 1 deltas
apply_delta_to_text: Computing delta diff
apply_delta_to_text: Parsing delta diff from JSON
apply_delta_diff_to_text: Starting with 2 operations
update_node: Updated block_id: Ps7gyS
apply_action: Encoding state for doc_id: xxxx
apply_updates: Starting with 46 updates for doc_id: xxxx
apply_updates: Starting with 46 updates for doc_id: xxxx
apply_updates: Applying update for doc_id: xxxx
apply_updates: Finished for doc_id: xxxx
apply_updates: Successfully applied updates for doc_id: xxxx
get_document_state: Starting for doc_id: xxxx
extract_document_state: Starting for doc_id: xxxx
extract_document_state: Processing 6 blocks
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 0 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
====== STARTING BLOCK SORTING ======
Input children_map has 5 parent nodes

----- Sorting children of parent: Ps7gyS -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent Ps7gyS: []

----- Sorting children of parent: m8OEVv -----
Parent has 4 children to sort
Mapped 4 valid blocks by ID
Block bRdTay assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block tStG1d assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block Ps7gyS assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block Mk_Gts assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Grouped blocks into 1 devices
  - Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 4 blocks
Block bRdTay has no prev_id
Block tStG1d has prev_id bRdTay
Block Ps7gyS has prev_id tStG1d
Block Mk_Gts has no prev_id
Built prev->next map with 2 entries
  - bRdTay has 1 next blocks: ["tStG1d"]
  - tStG1d has 1 next blocks: ["Ps7gyS"]
Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 2 root blocks: ["bRdTay", "Mk_Gts"]
Processing devices in order: ["4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"]

Processing device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Comparing root blocks: Mk_Gts (time: 2025-04-24T17:04:05.077214) vs bRdTay (time: 2025-04-24T17:03:55.612881)
Sorted roots for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a: ["bRdTay", "Mk_Gts"]
Starting chain from root: bRdTay
  Adding block bRdTay to sorted list
    Pushing tStG1d onto stack
  Adding block tStG1d to sorted list
    Pushing Ps7gyS onto stack
  Adding block Ps7gyS to sorted list
  No next blocks for Ps7gyS
Starting chain from root: Mk_Gts
  Adding block Mk_Gts to sorted list
  No next blocks for Mk_Gts
No remaining blocks for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
No globally remaining blocks
Final sorted order for parent m8OEVv: ["bRdTay", "tStG1d", "Ps7gyS", "Mk_Gts"]

----- Sorting children of parent: zhA_gK -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent zhA_gK: []

----- Sorting children of parent: bRdTay -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent bRdTay: []

----- Sorting children of parent: tStG1d -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent tStG1d: []
====== COMPLETED BLOCK SORTING ======
Final sorted children map has 5 parents
extract_document_state: Extracted 6 blocks and 5 parent-child relationships
get_document_state: Finished for doc_id: xxxx
flutter: Transaction done
apply_action: Starting with 1 actions for doc_id: xxxx
update_node: Updating block_id: Ps7gyS
deltas_to_json: Converting 1 deltas
apply_delta_to_text: Computing delta diff
apply_delta_to_text: Parsing delta diff from JSON
apply_delta_diff_to_text: Starting with 2 operations
update_node: Updated block_id: Ps7gyS
apply_action: Encoding state for doc_id: xxxx
apply_updates: Starting with 47 updates for doc_id: xxxx
apply_updates: Starting with 47 updates for doc_id: xxxx
apply_updates: Applying update for doc_id: xxxx
apply_updates: Finished for doc_id: xxxx
apply_updates: Successfully applied updates for doc_id: xxxx
get_document_state: Starting for doc_id: xxxx
extract_document_state: Starting for doc_id: xxxx
extract_document_state: Processing 6 blocks
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 0 deltas
deltas_to_json: Converting 1 deltas
====== STARTING BLOCK SORTING ======
Input children_map has 5 parent nodes

----- Sorting children of parent: Ps7gyS -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent Ps7gyS: []

----- Sorting children of parent: m8OEVv -----
Parent has 4 children to sort
Mapped 4 valid blocks by ID
Block Mk_Gts assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block tStG1d assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block Ps7gyS assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block bRdTay assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Grouped blocks into 1 devices
  - Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 4 blocks
Block Mk_Gts has no prev_id
Block tStG1d has prev_id bRdTay
Block Ps7gyS has prev_id tStG1d
Block bRdTay has no prev_id
Built prev->next map with 2 entries
  - bRdTay has 1 next blocks: ["tStG1d"]
  - tStG1d has 1 next blocks: ["Ps7gyS"]
Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 2 root blocks: ["Mk_Gts", "bRdTay"]
Processing devices in order: ["4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"]

Processing device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Comparing root blocks: bRdTay (time: 2025-04-24T17:03:55.612881) vs Mk_Gts (time: 2025-04-24T17:04:05.077214)
Sorted roots for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a: ["bRdTay", "Mk_Gts"]
Starting chain from root: bRdTay
  Adding block bRdTay to sorted list
    Pushing tStG1d onto stack
  Adding block tStG1d to sorted list
    Pushing Ps7gyS onto stack
  Adding block Ps7gyS to sorted list
  No next blocks for Ps7gyS
Starting chain from root: Mk_Gts
  Adding block Mk_Gts to sorted list
  No next blocks for Mk_Gts
No remaining blocks for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
No globally remaining blocks
Final sorted order for parent m8OEVv: ["bRdTay", "tStG1d", "Ps7gyS", "Mk_Gts"]

----- Sorting children of parent: zhA_gK -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent zhA_gK: []

----- Sorting children of parent: tStG1d -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent tStG1d: []

----- Sorting children of parent: bRdTay -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent bRdTay: []
====== COMPLETED BLOCK SORTING ======
Final sorted children map has 5 parents
extract_document_state: Extracted 6 blocks and 5 parent-child relationships
get_document_state: Finished for doc_id: xxxx
flutter: Transaction done
apply_action: Starting with 1 actions for doc_id: xxxx
update_node: Updating block_id: Ps7gyS
deltas_to_json: Converting 1 deltas
apply_delta_to_text: Computing delta diff
apply_delta_to_text: Parsing delta diff from JSON
apply_delta_diff_to_text: Starting with 2 operations
update_node: Updated block_id: Ps7gyS
apply_action: Encoding state for doc_id: xxxx
apply_updates: Starting with 48 updates for doc_id: xxxx
apply_updates: Starting with 48 updates for doc_id: xxxx
apply_updates: Applying update for doc_id: xxxx
apply_updates: Finished for doc_id: xxxx
apply_updates: Successfully applied updates for doc_id: xxxx
get_document_state: Starting for doc_id: xxxx
extract_document_state: Starting for doc_id: xxxx
extract_document_state: Processing 6 blocks
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 0 deltas
====== STARTING BLOCK SORTING ======
Input children_map has 5 parent nodes

----- Sorting children of parent: zhA_gK -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent zhA_gK: []

----- Sorting children of parent: tStG1d -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent tStG1d: []

----- Sorting children of parent: Ps7gyS -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent Ps7gyS: []

----- Sorting children of parent: m8OEVv -----
Parent has 4 children to sort
Mapped 4 valid blocks by ID
Block Mk_Gts assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block tStG1d assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block Ps7gyS assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block bRdTay assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Grouped blocks into 1 devices
  - Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 4 blocks
Block Mk_Gts has no prev_id
Block tStG1d has prev_id bRdTay
Block Ps7gyS has prev_id tStG1d
Block bRdTay has no prev_id
Built prev->next map with 2 entries
  - tStG1d has 1 next blocks: ["Ps7gyS"]
  - bRdTay has 1 next blocks: ["tStG1d"]
Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 2 root blocks: ["Mk_Gts", "bRdTay"]
Processing devices in order: ["4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"]

Processing device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Comparing root blocks: bRdTay (time: 2025-04-24T17:03:55.612881) vs Mk_Gts (time: 2025-04-24T17:04:05.077214)
Sorted roots for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a: ["bRdTay", "Mk_Gts"]
Starting chain from root: bRdTay
  Adding block bRdTay to sorted list
    Pushing tStG1d onto stack
  Adding block tStG1d to sorted list
    Pushing Ps7gyS onto stack
  Adding block Ps7gyS to sorted list
  No next blocks for Ps7gyS
Starting chain from root: Mk_Gts
  Adding block Mk_Gts to sorted list
  No next blocks for Mk_Gts
No remaining blocks for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
No globally remaining blocks
Final sorted order for parent m8OEVv: ["bRdTay", "tStG1d", "Ps7gyS", "Mk_Gts"]

----- Sorting children of parent: bRdTay -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent bRdTay: []
====== COMPLETED BLOCK SORTING ======
Final sorted children map has 5 parents
extract_document_state: Extracted 6 blocks and 5 parent-child relationships
get_document_state: Finished for doc_id: xxxx
flutter: Transaction done
apply_action: Starting with 1 actions for doc_id: xxxx
update_node: Updating block_id: Ps7gyS
deltas_to_json: Converting 1 deltas
apply_delta_to_text: Computing delta diff
apply_delta_to_text: Parsing delta diff from JSON
apply_delta_diff_to_text: Starting with 2 operations
update_node: Updated block_id: Ps7gyS
apply_action: Encoding state for doc_id: xxxx
apply_updates: Starting with 49 updates for doc_id: xxxx
apply_updates: Starting with 49 updates for doc_id: xxxx
apply_updates: Applying update for doc_id: xxxx
apply_updates: Finished for doc_id: xxxx
apply_updates: Successfully applied updates for doc_id: xxxx
get_document_state: Starting for doc_id: xxxx
extract_document_state: Starting for doc_id: xxxx
extract_document_state: Processing 6 blocks
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 0 deltas
====== STARTING BLOCK SORTING ======
Input children_map has 5 parent nodes

----- Sorting children of parent: Ps7gyS -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent Ps7gyS: []

----- Sorting children of parent: bRdTay -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent bRdTay: []

----- Sorting children of parent: tStG1d -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent tStG1d: []

----- Sorting children of parent: zhA_gK -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent zhA_gK: []

----- Sorting children of parent: m8OEVv -----
Parent has 4 children to sort
Mapped 4 valid blocks by ID
Block Ps7gyS assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block tStG1d assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block Mk_Gts assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block bRdTay assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Grouped blocks into 1 devices
  - Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 4 blocks
Block Ps7gyS has prev_id tStG1d
Block tStG1d has prev_id bRdTay
Block Mk_Gts has no prev_id
Block bRdTay has no prev_id
Built prev->next map with 2 entries
  - bRdTay has 1 next blocks: ["tStG1d"]
  - tStG1d has 1 next blocks: ["Ps7gyS"]
Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 2 root blocks: ["Mk_Gts", "bRdTay"]
Processing devices in order: ["4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"]

Processing device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Comparing root blocks: bRdTay (time: 2025-04-24T17:03:55.612881) vs Mk_Gts (time: 2025-04-24T17:04:05.077214)
Sorted roots for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a: ["bRdTay", "Mk_Gts"]
Starting chain from root: bRdTay
  Adding block bRdTay to sorted list
    Pushing tStG1d onto stack
  Adding block tStG1d to sorted list
    Pushing Ps7gyS onto stack
  Adding block Ps7gyS to sorted list
  No next blocks for Ps7gyS
Starting chain from root: Mk_Gts
  Adding block Mk_Gts to sorted list
  No next blocks for Mk_Gts
No remaining blocks for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
No globally remaining blocks
Final sorted order for parent m8OEVv: ["bRdTay", "tStG1d", "Ps7gyS", "Mk_Gts"]
====== COMPLETED BLOCK SORTING ======
Final sorted children map has 5 parents
extract_document_state: Extracted 6 blocks and 5 parent-child relationships
get_document_state: Finished for doc_id: xxxx
flutter: Transaction done
apply_action: Starting with 1 actions for doc_id: xxxx
update_node: Updating block_id: Ps7gyS
deltas_to_json: Converting 1 deltas
apply_delta_to_text: Computing delta diff
apply_delta_to_text: Parsing delta diff from JSON
apply_delta_diff_to_text: Starting with 2 operations
update_node: Updated block_id: Ps7gyS
apply_action: Encoding state for doc_id: xxxx
apply_updates: Starting with 50 updates for doc_id: xxxx
apply_updates: Starting with 50 updates for doc_id: xxxx
apply_updates: Applying update for doc_id: xxxx
apply_updates: Finished for doc_id: xxxx
apply_updates: Successfully applied updates for doc_id: xxxx
get_document_state: Starting for doc_id: xxxx
extract_document_state: Starting for doc_id: xxxx
extract_document_state: Processing 6 blocks
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 0 deltas
deltas_to_json: Converting 1 deltas
====== STARTING BLOCK SORTING ======
Input children_map has 5 parent nodes

----- Sorting children of parent: tStG1d -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent tStG1d: []

----- Sorting children of parent: zhA_gK -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent zhA_gK: []

----- Sorting children of parent: bRdTay -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent bRdTay: []

----- Sorting children of parent: Ps7gyS -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent Ps7gyS: []

----- Sorting children of parent: m8OEVv -----
Parent has 4 children to sort
Mapped 4 valid blocks by ID
Block Mk_Gts assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block bRdTay assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block tStG1d assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block Ps7gyS assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Grouped blocks into 1 devices
  - Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 4 blocks
Block Mk_Gts has no prev_id
Block bRdTay has no prev_id
Block tStG1d has prev_id bRdTay
Block Ps7gyS has prev_id tStG1d
Built prev->next map with 2 entries
  - bRdTay has 1 next blocks: ["tStG1d"]
  - tStG1d has 1 next blocks: ["Ps7gyS"]
Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 2 root blocks: ["Mk_Gts", "bRdTay"]
Processing devices in order: ["4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"]

Processing device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Comparing root blocks: bRdTay (time: 2025-04-24T17:03:55.612881) vs Mk_Gts (time: 2025-04-24T17:04:05.077214)
Sorted roots for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a: ["bRdTay", "Mk_Gts"]
Starting chain from root: bRdTay
  Adding block bRdTay to sorted list
    Pushing tStG1d onto stack
  Adding block tStG1d to sorted list
    Pushing Ps7gyS onto stack
  Adding block Ps7gyS to sorted list
  No next blocks for Ps7gyS
Starting chain from root: Mk_Gts
  Adding block Mk_Gts to sorted list
  No next blocks for Mk_Gts
No remaining blocks for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
No globally remaining blocks
Final sorted order for parent m8OEVv: ["bRdTay", "tStG1d", "Ps7gyS", "Mk_Gts"]
====== COMPLETED BLOCK SORTING ======
Final sorted children map has 5 parents
extract_document_state: Extracted 6 blocks and 5 parent-child relationships
get_document_state: Finished for doc_id: xxxx
flutter: Transaction done
apply_action: Starting with 1 actions for doc_id: xxxx
update_node: Updating block_id: Ps7gyS
deltas_to_json: Converting 1 deltas
apply_delta_to_text: Computing delta diff
apply_delta_to_text: Parsing delta diff from JSON
apply_delta_diff_to_text: Starting with 2 operations
update_node: Updated block_id: Ps7gyS
apply_action: Encoding state for doc_id: xxxx
apply_updates: Starting with 51 updates for doc_id: xxxx
apply_updates: Starting with 51 updates for doc_id: xxxx
apply_updates: Applying update for doc_id: xxxx
apply_updates: Finished for doc_id: xxxx
apply_updates: Successfully applied updates for doc_id: xxxx
get_document_state: Starting for doc_id: xxxx
extract_document_state: Starting for doc_id: xxxx
extract_document_state: Processing 6 blocks
deltas_to_json: Converting 0 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
====== STARTING BLOCK SORTING ======
Input children_map has 5 parent nodes

----- Sorting children of parent: m8OEVv -----
Parent has 4 children to sort
Mapped 4 valid blocks by ID
Block bRdTay assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block Ps7gyS assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block Mk_Gts assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block tStG1d assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Grouped blocks into 1 devices
  - Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 4 blocks
Block bRdTay has no prev_id
Block Ps7gyS has prev_id tStG1d
Block Mk_Gts has no prev_id
Block tStG1d has prev_id bRdTay
Built prev->next map with 2 entries
  - bRdTay has 1 next blocks: ["tStG1d"]
  - tStG1d has 1 next blocks: ["Ps7gyS"]
Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 2 root blocks: ["bRdTay", "Mk_Gts"]
Processing devices in order: ["4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"]

Processing device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Comparing root blocks: Mk_Gts (time: 2025-04-24T17:04:05.077214) vs bRdTay (time: 2025-04-24T17:03:55.612881)
Sorted roots for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a: ["bRdTay", "Mk_Gts"]
Starting chain from root: bRdTay
  Adding block bRdTay to sorted list
    Pushing tStG1d onto stack
  Adding block tStG1d to sorted list
    Pushing Ps7gyS onto stack
  Adding block Ps7gyS to sorted list
  No next blocks for Ps7gyS
Starting chain from root: Mk_Gts
  Adding block Mk_Gts to sorted list
  No next blocks for Mk_Gts
No remaining blocks for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
No globally remaining blocks
Final sorted order for parent m8OEVv: ["bRdTay", "tStG1d", "Ps7gyS", "Mk_Gts"]

----- Sorting children of parent: zhA_gK -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent zhA_gK: []

----- Sorting children of parent: Ps7gyS -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent Ps7gyS: []

----- Sorting children of parent: tStG1d -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent tStG1d: []

----- Sorting children of parent: bRdTay -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent bRdTay: []
====== COMPLETED BLOCK SORTING ======
Final sorted children map has 5 parents
extract_document_state: Extracted 6 blocks and 5 parent-child relationships
get_document_state: Finished for doc_id: xxxx
flutter: Transaction done
apply_action: Starting with 1 actions for doc_id: xxxx
update_node: Updating block_id: Ps7gyS
deltas_to_json: Converting 1 deltas
apply_delta_to_text: Computing delta diff
apply_delta_to_text: Parsing delta diff from JSON
apply_delta_diff_to_text: Starting with 2 operations
update_node: Updated block_id: Ps7gyS
apply_action: Encoding state for doc_id: xxxx
apply_updates: Starting with 52 updates for doc_id: xxxx
apply_updates: Starting with 52 updates for doc_id: xxxx
apply_updates: Applying update for doc_id: xxxx
apply_updates: Finished for doc_id: xxxx
apply_updates: Successfully applied updates for doc_id: xxxx
get_document_state: Starting for doc_id: xxxx
extract_document_state: Starting for doc_id: xxxx
extract_document_state: Processing 6 blocks
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 0 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
====== STARTING BLOCK SORTING ======
Input children_map has 5 parent nodes

----- Sorting children of parent: tStG1d -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent tStG1d: []

----- Sorting children of parent: m8OEVv -----
Parent has 4 children to sort
Mapped 4 valid blocks by ID
Block bRdTay assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block Mk_Gts assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block Ps7gyS assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block tStG1d assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Grouped blocks into 1 devices
  - Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 4 blocks
Block bRdTay has no prev_id
Block Mk_Gts has no prev_id
Block Ps7gyS has prev_id tStG1d
Block tStG1d has prev_id bRdTay
Built prev->next map with 2 entries
  - tStG1d has 1 next blocks: ["Ps7gyS"]
  - bRdTay has 1 next blocks: ["tStG1d"]
Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 2 root blocks: ["bRdTay", "Mk_Gts"]
Processing devices in order: ["4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"]

Processing device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Comparing root blocks: Mk_Gts (time: 2025-04-24T17:04:05.077214) vs bRdTay (time: 2025-04-24T17:03:55.612881)
Sorted roots for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a: ["bRdTay", "Mk_Gts"]
Starting chain from root: bRdTay
  Adding block bRdTay to sorted list
    Pushing tStG1d onto stack
  Adding block tStG1d to sorted list
    Pushing Ps7gyS onto stack
  Adding block Ps7gyS to sorted list
  No next blocks for Ps7gyS
Starting chain from root: Mk_Gts
  Adding block Mk_Gts to sorted list
  No next blocks for Mk_Gts
No remaining blocks for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
No globally remaining blocks
Final sorted order for parent m8OEVv: ["bRdTay", "tStG1d", "Ps7gyS", "Mk_Gts"]

----- Sorting children of parent: Ps7gyS -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent Ps7gyS: []

----- Sorting children of parent: zhA_gK -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent zhA_gK: []

----- Sorting children of parent: bRdTay -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent bRdTay: []
====== COMPLETED BLOCK SORTING ======
Final sorted children map has 5 parents
extract_document_state: Extracted 6 blocks and 5 parent-child relationships
get_document_state: Finished for doc_id: xxxx
flutter: Transaction done
apply_action: Starting with 1 actions for doc_id: xxxx
update_node: Updating block_id: Ps7gyS
deltas_to_json: Converting 1 deltas
apply_delta_to_text: Computing delta diff
apply_delta_to_text: Parsing delta diff from JSON
apply_delta_diff_to_text: Starting with 2 operations
update_node: Updated block_id: Ps7gyS
apply_action: Encoding state for doc_id: xxxx
apply_updates: Starting with 53 updates for doc_id: xxxx
apply_updates: Starting with 53 updates for doc_id: xxxx
apply_updates: Applying update for doc_id: xxxx
apply_updates: Finished for doc_id: xxxx
apply_updates: Successfully applied updates for doc_id: xxxx
get_document_state: Starting for doc_id: xxxx
extract_document_state: Starting for doc_id: xxxx
extract_document_state: Processing 6 blocks
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 0 deltas
====== STARTING BLOCK SORTING ======
Input children_map has 5 parent nodes

----- Sorting children of parent: tStG1d -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent tStG1d: []

----- Sorting children of parent: m8OEVv -----
Parent has 4 children to sort
Mapped 4 valid blocks by ID
Block bRdTay assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block Ps7gyS assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block tStG1d assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block Mk_Gts assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Grouped blocks into 1 devices
  - Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 4 blocks
Block bRdTay has no prev_id
Block Ps7gyS has prev_id tStG1d
Block tStG1d has prev_id bRdTay
Block Mk_Gts has no prev_id
Built prev->next map with 2 entries
  - bRdTay has 1 next blocks: ["tStG1d"]
  - tStG1d has 1 next blocks: ["Ps7gyS"]
Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 2 root blocks: ["bRdTay", "Mk_Gts"]
Processing devices in order: ["4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"]

Processing device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Comparing root blocks: Mk_Gts (time: 2025-04-24T17:04:05.077214) vs bRdTay (time: 2025-04-24T17:03:55.612881)
Sorted roots for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a: ["bRdTay", "Mk_Gts"]
Starting chain from root: bRdTay
  Adding block bRdTay to sorted list
    Pushing tStG1d onto stack
  Adding block tStG1d to sorted list
    Pushing Ps7gyS onto stack
  Adding block Ps7gyS to sorted list
  No next blocks for Ps7gyS
Starting chain from root: Mk_Gts
  Adding block Mk_Gts to sorted list
  No next blocks for Mk_Gts
No remaining blocks for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
No globally remaining blocks
Final sorted order for parent m8OEVv: ["bRdTay", "tStG1d", "Ps7gyS", "Mk_Gts"]

----- Sorting children of parent: bRdTay -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent bRdTay: []

----- Sorting children of parent: Ps7gyS -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent Ps7gyS: []

----- Sorting children of parent: zhA_gK -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent zhA_gK: []
====== COMPLETED BLOCK SORTING ======
Final sorted children map has 5 parents
extract_document_state: Extracted 6 blocks and 5 parent-child relationships
get_document_state: Finished for doc_id: xxxx
flutter: Transaction done
apply_action: Starting with 1 actions for doc_id: xxxx
update_node: Updating block_id: Ps7gyS
deltas_to_json: Converting 1 deltas
apply_delta_to_text: Computing delta diff
apply_delta_to_text: Parsing delta diff from JSON
apply_delta_diff_to_text: Starting with 2 operations
update_node: Updated block_id: Ps7gyS
apply_action: Encoding state for doc_id: xxxx
apply_updates: Starting with 54 updates for doc_id: xxxx
apply_updates: Starting with 54 updates for doc_id: xxxx
apply_updates: Applying update for doc_id: xxxx
apply_updates: Finished for doc_id: xxxx
apply_updates: Successfully applied updates for doc_id: xxxx
get_document_state: Starting for doc_id: xxxx
extract_document_state: Starting for doc_id: xxxx
extract_document_state: Processing 6 blocks
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 0 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
====== STARTING BLOCK SORTING ======
Input children_map has 5 parent nodes

----- Sorting children of parent: Ps7gyS -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent Ps7gyS: []

----- Sorting children of parent: bRdTay -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent bRdTay: []

----- Sorting children of parent: tStG1d -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent tStG1d: []

----- Sorting children of parent: zhA_gK -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent zhA_gK: []

----- Sorting children of parent: m8OEVv -----
Parent has 4 children to sort
Mapped 4 valid blocks by ID
Block bRdTay assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block Mk_Gts assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block Ps7gyS assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block tStG1d assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Grouped blocks into 1 devices
  - Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 4 blocks
Block bRdTay has no prev_id
Block Mk_Gts has no prev_id
Block Ps7gyS has prev_id tStG1d
Block tStG1d has prev_id bRdTay
Built prev->next map with 2 entries
  - tStG1d has 1 next blocks: ["Ps7gyS"]
  - bRdTay has 1 next blocks: ["tStG1d"]
Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 2 root blocks: ["bRdTay", "Mk_Gts"]
Processing devices in order: ["4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"]

Processing device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Comparing root blocks: Mk_Gts (time: 2025-04-24T17:04:05.077214) vs bRdTay (time: 2025-04-24T17:03:55.612881)
Sorted roots for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a: ["bRdTay", "Mk_Gts"]
Starting chain from root: bRdTay
  Adding block bRdTay to sorted list
    Pushing tStG1d onto stack
  Adding block tStG1d to sorted list
    Pushing Ps7gyS onto stack
  Adding block Ps7gyS to sorted list
  No next blocks for Ps7gyS
Starting chain from root: Mk_Gts
  Adding block Mk_Gts to sorted list
  No next blocks for Mk_Gts
No remaining blocks for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
No globally remaining blocks
Final sorted order for parent m8OEVv: ["bRdTay", "tStG1d", "Ps7gyS", "Mk_Gts"]
====== COMPLETED BLOCK SORTING ======
Final sorted children map has 5 parents
extract_document_state: Extracted 6 blocks and 5 parent-child relationships
get_document_state: Finished for doc_id: xxxx
flutter: Transaction done
apply_action: Starting with 1 actions for doc_id: xxxx
update_node: Updating block_id: Ps7gyS
deltas_to_json: Converting 1 deltas
apply_delta_to_text: Computing delta diff
apply_delta_to_text: Parsing delta diff from JSON
apply_delta_diff_to_text: Starting with 2 operations
update_node: Updated block_id: Ps7gyS
apply_action: Encoding state for doc_id: xxxx
apply_updates: Starting with 55 updates for doc_id: xxxx
apply_updates: Starting with 55 updates for doc_id: xxxx
apply_updates: Applying update for doc_id: xxxx
apply_updates: Finished for doc_id: xxxx
apply_updates: Successfully applied updates for doc_id: xxxx
get_document_state: Starting for doc_id: xxxx
extract_document_state: Starting for doc_id: xxxx
extract_document_state: Processing 6 blocks
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 0 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
====== STARTING BLOCK SORTING ======
Input children_map has 5 parent nodes

----- Sorting children of parent: m8OEVv -----
Parent has 4 children to sort
Mapped 4 valid blocks by ID
Block Mk_Gts assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block tStG1d assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block bRdTay assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block Ps7gyS assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Grouped blocks into 1 devices
  - Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 4 blocks
Block Mk_Gts has no prev_id
Block tStG1d has prev_id bRdTay
Block bRdTay has no prev_id
Block Ps7gyS has prev_id tStG1d
Built prev->next map with 2 entries
  - tStG1d has 1 next blocks: ["Ps7gyS"]
  - bRdTay has 1 next blocks: ["tStG1d"]
Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 2 root blocks: ["Mk_Gts", "bRdTay"]
Processing devices in order: ["4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"]

Processing device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Comparing root blocks: bRdTay (time: 2025-04-24T17:03:55.612881) vs Mk_Gts (time: 2025-04-24T17:04:05.077214)
Sorted roots for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a: ["bRdTay", "Mk_Gts"]
Starting chain from root: bRdTay
  Adding block bRdTay to sorted list
    Pushing tStG1d onto stack
  Adding block tStG1d to sorted list
    Pushing Ps7gyS onto stack
  Adding block Ps7gyS to sorted list
  No next blocks for Ps7gyS
Starting chain from root: Mk_Gts
  Adding block Mk_Gts to sorted list
  No next blocks for Mk_Gts
No remaining blocks for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
No globally remaining blocks
Final sorted order for parent m8OEVv: ["bRdTay", "tStG1d", "Ps7gyS", "Mk_Gts"]

----- Sorting children of parent: Ps7gyS -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent Ps7gyS: []

----- Sorting children of parent: bRdTay -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent bRdTay: []

----- Sorting children of parent: tStG1d -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent tStG1d: []

----- Sorting children of parent: zhA_gK -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent zhA_gK: []
====== COMPLETED BLOCK SORTING ======
Final sorted children map has 5 parents
extract_document_state: Extracted 6 blocks and 5 parent-child relationships
get_document_state: Finished for doc_id: xxxx
flutter: Transaction done
apply_action: Starting with 1 actions for doc_id: xxxx
update_node: Updating block_id: Ps7gyS
deltas_to_json: Converting 1 deltas
apply_delta_to_text: Computing delta diff
apply_delta_to_text: Parsing delta diff from JSON
apply_delta_diff_to_text: Starting with 2 operations
update_node: Updated block_id: Ps7gyS
apply_action: Encoding state for doc_id: xxxx
apply_updates: Starting with 56 updates for doc_id: xxxx
apply_updates: Starting with 56 updates for doc_id: xxxx
apply_updates: Applying update for doc_id: xxxx
apply_updates: Finished for doc_id: xxxx
apply_updates: Successfully applied updates for doc_id: xxxx
get_document_state: Starting for doc_id: xxxx
extract_document_state: Starting for doc_id: xxxx
extract_document_state: Processing 6 blocks
deltas_to_json: Converting 0 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
====== STARTING BLOCK SORTING ======
Input children_map has 5 parent nodes

----- Sorting children of parent: zhA_gK -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent zhA_gK: []

----- Sorting children of parent: Ps7gyS -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent Ps7gyS: []

----- Sorting children of parent: tStG1d -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent tStG1d: []

----- Sorting children of parent: bRdTay -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent bRdTay: []

----- Sorting children of parent: m8OEVv -----
Parent has 4 children to sort
Mapped 4 valid blocks by ID
Block Ps7gyS assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block tStG1d assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block Mk_Gts assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block bRdTay assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Grouped blocks into 1 devices
  - Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 4 blocks
Block Ps7gyS has prev_id tStG1d
Block tStG1d has prev_id bRdTay
Block Mk_Gts has no prev_id
Block bRdTay has no prev_id
Built prev->next map with 2 entries
  - bRdTay has 1 next blocks: ["tStG1d"]
  - tStG1d has 1 next blocks: ["Ps7gyS"]
Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 2 root blocks: ["Mk_Gts", "bRdTay"]
Processing devices in order: ["4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"]

Processing device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Comparing root blocks: bRdTay (time: 2025-04-24T17:03:55.612881) vs Mk_Gts (time: 2025-04-24T17:04:05.077214)
Sorted roots for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a: ["bRdTay", "Mk_Gts"]
Starting chain from root: bRdTay
  Adding block bRdTay to sorted list
    Pushing tStG1d onto stack
  Adding block tStG1d to sorted list
    Pushing Ps7gyS onto stack
  Adding block Ps7gyS to sorted list
  No next blocks for Ps7gyS
Starting chain from root: Mk_Gts
  Adding block Mk_Gts to sorted list
  No next blocks for Mk_Gts
No remaining blocks for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
No globally remaining blocks
Final sorted order for parent m8OEVv: ["bRdTay", "tStG1d", "Ps7gyS", "Mk_Gts"]
====== COMPLETED BLOCK SORTING ======
Final sorted children map has 5 parents
extract_document_state: Extracted 6 blocks and 5 parent-child relationships
get_document_state: Finished for doc_id: xxxx
flutter: Transaction done
apply_action: Starting with 1 actions for doc_id: xxxx
update_node: Updating block_id: Ps7gyS
deltas_to_json: Converting 1 deltas
apply_delta_to_text: Computing delta diff
apply_delta_to_text: Parsing delta diff from JSON
apply_delta_diff_to_text: Starting with 2 operations
update_node: Updated block_id: Ps7gyS
apply_action: Encoding state for doc_id: xxxx
apply_updates: Starting with 57 updates for doc_id: xxxx
apply_updates: Starting with 57 updates for doc_id: xxxx
apply_updates: Applying update for doc_id: xxxx
apply_updates: Finished for doc_id: xxxx
apply_updates: Successfully applied updates for doc_id: xxxx
get_document_state: Starting for doc_id: xxxx
extract_document_state: Starting for doc_id: xxxx
extract_document_state: Processing 6 blocks
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 0 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
====== STARTING BLOCK SORTING ======
Input children_map has 5 parent nodes

----- Sorting children of parent: tStG1d -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent tStG1d: []

----- Sorting children of parent: m8OEVv -----
Parent has 4 children to sort
Mapped 4 valid blocks by ID
Block tStG1d assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block Ps7gyS assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block bRdTay assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block Mk_Gts assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Grouped blocks into 1 devices
  - Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 4 blocks
Block tStG1d has prev_id bRdTay
Block Ps7gyS has prev_id tStG1d
Block bRdTay has no prev_id
Block Mk_Gts has no prev_id
Built prev->next map with 2 entries
  - bRdTay has 1 next blocks: ["tStG1d"]
  - tStG1d has 1 next blocks: ["Ps7gyS"]
Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 2 root blocks: ["bRdTay", "Mk_Gts"]
Processing devices in order: ["4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"]

Processing device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Comparing root blocks: Mk_Gts (time: 2025-04-24T17:04:05.077214) vs bRdTay (time: 2025-04-24T17:03:55.612881)
Sorted roots for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a: ["bRdTay", "Mk_Gts"]
Starting chain from root: bRdTay
  Adding block bRdTay to sorted list
    Pushing tStG1d onto stack
  Adding block tStG1d to sorted list
    Pushing Ps7gyS onto stack
  Adding block Ps7gyS to sorted list
  No next blocks for Ps7gyS
Starting chain from root: Mk_Gts
  Adding block Mk_Gts to sorted list
  No next blocks for Mk_Gts
No remaining blocks for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
No globally remaining blocks
Final sorted order for parent m8OEVv: ["bRdTay", "tStG1d", "Ps7gyS", "Mk_Gts"]

----- Sorting children of parent: zhA_gK -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent zhA_gK: []

----- Sorting children of parent: bRdTay -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent bRdTay: []

----- Sorting children of parent: Ps7gyS -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent Ps7gyS: []
====== COMPLETED BLOCK SORTING ======
Final sorted children map has 5 parents
extract_document_state: Extracted 6 blocks and 5 parent-child relationships
get_document_state: Finished for doc_id: xxxx
flutter: Transaction done
apply_action: Starting with 1 actions for doc_id: xxxx
update_node: Updating block_id: Ps7gyS
deltas_to_json: Converting 1 deltas
apply_delta_to_text: Computing delta diff
apply_delta_to_text: Parsing delta diff from JSON
apply_delta_diff_to_text: Starting with 2 operations
update_node: Updated block_id: Ps7gyS
apply_action: Encoding state for doc_id: xxxx
apply_updates: Starting with 58 updates for doc_id: xxxx
apply_updates: Starting with 58 updates for doc_id: xxxx
apply_updates: Applying update for doc_id: xxxx
apply_updates: Finished for doc_id: xxxx
apply_updates: Successfully applied updates for doc_id: xxxx
get_document_state: Starting for doc_id: xxxx
extract_document_state: Starting for doc_id: xxxx
extract_document_state: Processing 6 blocks
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 0 deltas
====== STARTING BLOCK SORTING ======
Input children_map has 5 parent nodes

----- Sorting children of parent: m8OEVv -----
Parent has 4 children to sort
Mapped 4 valid blocks by ID
Block bRdTay assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block Mk_Gts assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block tStG1d assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block Ps7gyS assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Grouped blocks into 1 devices
  - Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 4 blocks
Block bRdTay has no prev_id
Block Mk_Gts has no prev_id
Block tStG1d has prev_id bRdTay
Block Ps7gyS has prev_id tStG1d
Built prev->next map with 2 entries
  - bRdTay has 1 next blocks: ["tStG1d"]
  - tStG1d has 1 next blocks: ["Ps7gyS"]
Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 2 root blocks: ["bRdTay", "Mk_Gts"]
Processing devices in order: ["4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"]

Processing device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Comparing root blocks: Mk_Gts (time: 2025-04-24T17:04:05.077214) vs bRdTay (time: 2025-04-24T17:03:55.612881)
Sorted roots for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a: ["bRdTay", "Mk_Gts"]
Starting chain from root: bRdTay
  Adding block bRdTay to sorted list
    Pushing tStG1d onto stack
  Adding block tStG1d to sorted list
    Pushing Ps7gyS onto stack
  Adding block Ps7gyS to sorted list
  No next blocks for Ps7gyS
Starting chain from root: Mk_Gts
  Adding block Mk_Gts to sorted list
  No next blocks for Mk_Gts
No remaining blocks for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
No globally remaining blocks
Final sorted order for parent m8OEVv: ["bRdTay", "tStG1d", "Ps7gyS", "Mk_Gts"]

----- Sorting children of parent: Ps7gyS -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent Ps7gyS: []

----- Sorting children of parent: zhA_gK -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent zhA_gK: []

----- Sorting children of parent: tStG1d -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent tStG1d: []

----- Sorting children of parent: bRdTay -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent bRdTay: []
====== COMPLETED BLOCK SORTING ======
Final sorted children map has 5 parents
extract_document_state: Extracted 6 blocks and 5 parent-child relationships
get_document_state: Finished for doc_id: xxxx
flutter: Transaction done
apply_action: Starting with 1 actions for doc_id: xxxx
update_node: Updating block_id: Ps7gyS
deltas_to_json: Converting 1 deltas
apply_delta_to_text: Computing delta diff
apply_delta_to_text: Parsing delta diff from JSON
apply_delta_diff_to_text: Starting with 2 operations
update_node: Updated block_id: Ps7gyS
apply_action: Encoding state for doc_id: xxxx
apply_updates: Starting with 59 updates for doc_id: xxxx
apply_updates: Starting with 59 updates for doc_id: xxxx
apply_updates: Applying update for doc_id: xxxx
apply_updates: Finished for doc_id: xxxx
apply_updates: Successfully applied updates for doc_id: xxxx
get_document_state: Starting for doc_id: xxxx
extract_document_state: Starting for doc_id: xxxx
extract_document_state: Processing 6 blocks
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 0 deltas
====== STARTING BLOCK SORTING ======
Input children_map has 5 parent nodes

----- Sorting children of parent: Ps7gyS -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent Ps7gyS: []

----- Sorting children of parent: bRdTay -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent bRdTay: []

----- Sorting children of parent: tStG1d -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent tStG1d: []

----- Sorting children of parent: m8OEVv -----
Parent has 4 children to sort
Mapped 4 valid blocks by ID
Block Ps7gyS assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block tStG1d assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block bRdTay assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block Mk_Gts assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Grouped blocks into 1 devices
  - Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 4 blocks
Block Ps7gyS has prev_id tStG1d
Block tStG1d has prev_id bRdTay
Block bRdTay has no prev_id
Block Mk_Gts has no prev_id
Built prev->next map with 2 entries
  - tStG1d has 1 next blocks: ["Ps7gyS"]
  - bRdTay has 1 next blocks: ["tStG1d"]
Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 2 root blocks: ["bRdTay", "Mk_Gts"]
Processing devices in order: ["4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"]

Processing device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Comparing root blocks: Mk_Gts (time: 2025-04-24T17:04:05.077214) vs bRdTay (time: 2025-04-24T17:03:55.612881)
Sorted roots for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a: ["bRdTay", "Mk_Gts"]
Starting chain from root: bRdTay
  Adding block bRdTay to sorted list
    Pushing tStG1d onto stack
  Adding block tStG1d to sorted list
    Pushing Ps7gyS onto stack
  Adding block Ps7gyS to sorted list
  No next blocks for Ps7gyS
Starting chain from root: Mk_Gts
  Adding block Mk_Gts to sorted list
  No next blocks for Mk_Gts
No remaining blocks for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
No globally remaining blocks
Final sorted order for parent m8OEVv: ["bRdTay", "tStG1d", "Ps7gyS", "Mk_Gts"]

----- Sorting children of parent: zhA_gK -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent zhA_gK: []
====== COMPLETED BLOCK SORTING ======
Final sorted children map has 5 parents
extract_document_state: Extracted 6 blocks and 5 parent-child relationships
get_document_state: Finished for doc_id: xxxx
flutter: Transaction done
apply_action: Starting with 1 actions for doc_id: xxxx
update_node: Updating block_id: Ps7gyS
deltas_to_json: Converting 1 deltas
apply_delta_to_text: Computing delta diff
apply_delta_to_text: Parsing delta diff from JSON
apply_delta_diff_to_text: Starting with 2 operations
update_node: Updated block_id: Ps7gyS
apply_action: Encoding state for doc_id: xxxx
apply_updates: Starting with 60 updates for doc_id: xxxx
apply_updates: Starting with 60 updates for doc_id: xxxx
apply_updates: Applying update for doc_id: xxxx
apply_updates: Finished for doc_id: xxxx
apply_updates: Successfully applied updates for doc_id: xxxx
get_document_state: Starting for doc_id: xxxx
extract_document_state: Starting for doc_id: xxxx
extract_document_state: Processing 6 blocks
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 0 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
====== STARTING BLOCK SORTING ======
Input children_map has 5 parent nodes

----- Sorting children of parent: bRdTay -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent bRdTay: []

----- Sorting children of parent: tStG1d -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent tStG1d: []

----- Sorting children of parent: m8OEVv -----
Parent has 4 children to sort
Mapped 4 valid blocks by ID
Block bRdTay assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block Ps7gyS assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block tStG1d assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block Mk_Gts assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Grouped blocks into 1 devices
  - Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 4 blocks
Block bRdTay has no prev_id
Block Ps7gyS has prev_id tStG1d
Block tStG1d has prev_id bRdTay
Block Mk_Gts has no prev_id
Built prev->next map with 2 entries
  - tStG1d has 1 next blocks: ["Ps7gyS"]
  - bRdTay has 1 next blocks: ["tStG1d"]
Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 2 root blocks: ["bRdTay", "Mk_Gts"]
Processing devices in order: ["4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"]

Processing device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Comparing root blocks: Mk_Gts (time: 2025-04-24T17:04:05.077214) vs bRdTay (time: 2025-04-24T17:03:55.612881)
Sorted roots for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a: ["bRdTay", "Mk_Gts"]
Starting chain from root: bRdTay
  Adding block bRdTay to sorted list
    Pushing tStG1d onto stack
  Adding block tStG1d to sorted list
    Pushing Ps7gyS onto stack
  Adding block Ps7gyS to sorted list
  No next blocks for Ps7gyS
Starting chain from root: Mk_Gts
  Adding block Mk_Gts to sorted list
  No next blocks for Mk_Gts
No remaining blocks for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
No globally remaining blocks
Final sorted order for parent m8OEVv: ["bRdTay", "tStG1d", "Ps7gyS", "Mk_Gts"]

----- Sorting children of parent: zhA_gK -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent zhA_gK: []

----- Sorting children of parent: Ps7gyS -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent Ps7gyS: []
====== COMPLETED BLOCK SORTING ======
Final sorted children map has 5 parents
extract_document_state: Extracted 6 blocks and 5 parent-child relationships
get_document_state: Finished for doc_id: xxxx
flutter: Transaction done
apply_action: Starting with 1 actions for doc_id: xxxx
update_node: Updating block_id: Ps7gyS
deltas_to_json: Converting 1 deltas
apply_delta_to_text: Computing delta diff
apply_delta_to_text: Parsing delta diff from JSON
apply_delta_diff_to_text: Starting with 2 operations
update_node: Updated block_id: Ps7gyS
apply_action: Encoding state for doc_id: xxxx
apply_updates: Starting with 61 updates for doc_id: xxxx
apply_updates: Starting with 61 updates for doc_id: xxxx
apply_updates: Applying update for doc_id: xxxx
apply_updates: Finished for doc_id: xxxx
apply_updates: Successfully applied updates for doc_id: xxxx
get_document_state: Starting for doc_id: xxxx
extract_document_state: Starting for doc_id: xxxx
extract_document_state: Processing 6 blocks
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 0 deltas
deltas_to_json: Converting 1 deltas
====== STARTING BLOCK SORTING ======
Input children_map has 5 parent nodes

----- Sorting children of parent: zhA_gK -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent zhA_gK: []

----- Sorting children of parent: bRdTay -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent bRdTay: []

----- Sorting children of parent: Ps7gyS -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent Ps7gyS: []

----- Sorting children of parent: m8OEVv -----
Parent has 4 children to sort
Mapped 4 valid blocks by ID
Block Ps7gyS assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block Mk_Gts assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block tStG1d assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block bRdTay assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Grouped blocks into 1 devices
  - Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 4 blocks
Block Ps7gyS has prev_id tStG1d
Block Mk_Gts has no prev_id
Block tStG1d has prev_id bRdTay
Block bRdTay has no prev_id
Built prev->next map with 2 entries
  - bRdTay has 1 next blocks: ["tStG1d"]
  - tStG1d has 1 next blocks: ["Ps7gyS"]
Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 2 root blocks: ["Mk_Gts", "bRdTay"]
Processing devices in order: ["4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"]

Processing device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Comparing root blocks: bRdTay (time: 2025-04-24T17:03:55.612881) vs Mk_Gts (time: 2025-04-24T17:04:05.077214)
Sorted roots for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a: ["bRdTay", "Mk_Gts"]
Starting chain from root: bRdTay
  Adding block bRdTay to sorted list
    Pushing tStG1d onto stack
  Adding block tStG1d to sorted list
    Pushing Ps7gyS onto stack
  Adding block Ps7gyS to sorted list
  No next blocks for Ps7gyS
Starting chain from root: Mk_Gts
  Adding block Mk_Gts to sorted list
  No next blocks for Mk_Gts
No remaining blocks for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
No globally remaining blocks
Final sorted order for parent m8OEVv: ["bRdTay", "tStG1d", "Ps7gyS", "Mk_Gts"]

----- Sorting children of parent: tStG1d -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent tStG1d: []
====== COMPLETED BLOCK SORTING ======
Final sorted children map has 5 parents
extract_document_state: Extracted 6 blocks and 5 parent-child relationships
get_document_state: Finished for doc_id: xxxx
merge_updates: Merging 19 updates
merge_updates: Successfully merged updates
apply_updates: Starting with 62 updates for doc_id: xxxx
apply_updates: Starting with 62 updates for doc_id: xxxx
apply_updates: Applying update for doc_id: xxxx
apply_updates: Finished for doc_id: xxxx
apply_updates: Successfully applied updates for doc_id: xxxx
get_document_state: Starting for doc_id: xxxx
extract_document_state: Starting for doc_id: xxxx
extract_document_state: Processing 6 blocks
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 0 deltas
deltas_to_json: Converting 1 deltas
====== STARTING BLOCK SORTING ======
Input children_map has 5 parent nodes

----- Sorting children of parent: Ps7gyS -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent Ps7gyS: []

----- Sorting children of parent: m8OEVv -----
Parent has 4 children to sort
Mapped 4 valid blocks by ID
Block tStG1d assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block bRdTay assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block Ps7gyS assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block Mk_Gts assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Grouped blocks into 1 devices
  - Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 4 blocks
Block tStG1d has prev_id bRdTay
Block bRdTay has no prev_id
Block Ps7gyS has prev_id tStG1d
Block Mk_Gts has no prev_id
Built prev->next map with 2 entries
  - tStG1d has 1 next blocks: ["Ps7gyS"]
  - bRdTay has 1 next blocks: ["tStG1d"]
Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 2 root blocks: ["bRdTay", "Mk_Gts"]
Processing devices in order: ["4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"]

Processing device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Comparing root blocks: Mk_Gts (time: 2025-04-24T17:04:05.077214) vs bRdTay (time: 2025-04-24T17:03:55.612881)
Sorted roots for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a: ["bRdTay", "Mk_Gts"]
Starting chain from root: bRdTay
  Adding block bRdTay to sorted list
    Pushing tStG1d onto stack
  Adding block tStG1d to sorted list
    Pushing Ps7gyS onto stack
  Adding block Ps7gyS to sorted list
  No next blocks for Ps7gyS
Starting chain from root: Mk_Gts
  Adding block Mk_Gts to sorted list
  No next blocks for Mk_Gts
No remaining blocks for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
No globally remaining blocks
Final sorted order for parent m8OEVv: ["bRdTay", "tStG1d", "Ps7gyS", "Mk_Gts"]

----- Sorting children of parent: bRdTay -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent bRdTay: []

----- Sorting children of parent: zhA_gK -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent zhA_gK: []

----- Sorting children of parent: tStG1d -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent tStG1d: []
====== COMPLETED BLOCK SORTING ======
Final sorted children map has 5 parents
extract_document_state: Extracted 6 blocks and 5 parent-child relationships
get_document_state: Finished for doc_id: xxxx
flutter: onDragStarted
flutter: the drag offset is inside the block, dragOffset(Offset(132.6, 129.9)), globalBlockRect(Rect.fromLTRB(120.0, 94.0, 680.0, 132.0))
flutter: the drag offset is inside the block, dragOffset(Offset(130.8, 122.6)), globalBlockRect(Rect.fromLTRB(120.0, 94.0, 680.0, 132.0))
flutter: the drag offset is inside the block, dragOffset(Offset(130.8, 111.6)), globalBlockRect(Rect.fromLTRB(120.0, 94.0, 680.0, 132.0))
flutter: the drag offset is inside the block, dragOffset(Offset(130.8, 103.1)), globalBlockRect(Rect.fromLTRB(120.0, 94.0, 680.0, 132.0))
flutter: the drag offset is inside the block, dragOffset(Offset(130.8, 99.4)), globalBlockRect(Rect.fromLTRB(120.0, 94.0, 680.0, 132.0))
flutter: the drag offset is inside the block, dragOffset(Offset(131.5, 90.9)), globalBlockRect(Rect.fromLTRB(120.0, 56.0, 680.0, 94.0))
flutter: the drag offset is inside the block, dragOffset(Offset(132.9, 83.7)), globalBlockRect(Rect.fromLTRB(120.0, 56.0, 680.0, 94.0))
flutter: the drag offset is inside the block, dragOffset(Offset(132.9, 83.2)), globalBlockRect(Rect.fromLTRB(120.0, 56.0, 680.0, 94.0))
flutter: the drag offset is inside the block, dragOffset(Offset(133.5, 80.3)), globalBlockRect(Rect.fromLTRB(120.0, 56.0, 680.0, 94.0))
flutter: the drag offset is inside the block, dragOffset(Offset(133.5, 78.0)), globalBlockRect(Rect.fromLTRB(120.0, 56.0, 680.0, 94.0))
flutter: the drag offset is inside the block, dragOffset(Offset(133.5, 76.9)), globalBlockRect(Rect.fromLTRB(120.0, 56.0, 680.0, 94.0))
flutter: the drag offset is inside the block, dragOffset(Offset(134.0, 75.3)), globalBlockRect(Rect.fromLTRB(120.0, 56.0, 680.0, 94.0))
flutter: the drag offset is inside the block, dragOffset(Offset(134.3, 73.9)), globalBlockRect(Rect.fromLTRB(120.0, 56.0, 680.0, 94.0))
flutter: onDragEnd, acceptedPath([0])
flutter: the drag offset is inside the block, dragOffset(Offset(134.3, 73.9)), globalBlockRect(Rect.fromLTRB(120.0, 56.0, 680.0, 94.0))
flutter: Moving node(Node(id: Ps7gyS, type: paragraph, attributes: {delta: [{insert: New task 3}], timestamp: 2025-04-24T17:05:13.710104, device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a}, children: []), [2]) to path([0])
flutter: Transaction done
apply_action: Starting with 1 actions for doc_id: xxxx
move_block: Moving block_id: Ps7gyS from parent: m8OEVv to parent: m8OEVv
remove_block_from_prev_id_chain: Removing block Ps7gyS from chain
  Block Ps7gyS has prev_id: tStG1d
  Finding blocks that reference Ps7gyS as their prev_id
find_block_referencing_prev_id: Searching for blocks with prev_id = Ps7gyS
  Found 6 total blocks to check
  Checking block: bRdTay
    Block does not have prev_id
  Checking block: Ps7gyS
    Block has prev_id: tStG1d, matches target: false
  Checking block: m8OEVv
    Block does not have prev_id
  Checking block: tStG1d
    Block has prev_id: bRdTay, matches target: false
  Checking block: Mk_Gts
    Block does not have prev_id
  Checking block: zhA_gK
    Block has prev_id: Ps7gyS, matches target: true
find_block_referencing_prev_id: Found 1 blocks with prev_id = Ps7gyS: ["zhA_gK"]
  Found 1 next blocks: ["zhA_gK"]
  Updating next block zhA_gK to point to tStG1d (was pointing to Ps7gyS)
remove_block_from_prev_id_chain: Completed
handle_following_connection: block_id=Ps7gyS, next_id=Some("bRdTay"), prev_id=None
  Using next_id strategy (next_id=bRdTay)
  Setting prev_id of next block bRdTay to Ps7gyS
  Attempting to copy device and timestamp from next block bRdTay to Ps7gyS
  WARNING: Next block has no device attribute
  WARNING: Next block has no timestamp attribute
  Finished next_id strategy
handle_following_connection: Completed
move_block: Moved block within same parent
apply_action: Encoding state for doc_id: xxxx
apply_updates: Starting with 53 updates for doc_id: xxxx
apply_updates: Starting with 53 updates for doc_id: xxxx
apply_updates: Applying update for doc_id: xxxx
apply_updates: Finished for doc_id: xxxx
apply_updates: Successfully applied updates for doc_id: xxxx
get_document_state: Starting for doc_id: xxxx
extract_document_state: Starting for doc_id: xxxx
extract_document_state: Processing 6 blocks
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 0 deltas
====== STARTING BLOCK SORTING ======
Input children_map has 5 parent nodes

----- Sorting children of parent: bRdTay -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent bRdTay: []

----- Sorting children of parent: Ps7gyS -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent Ps7gyS: []

----- Sorting children of parent: m8OEVv -----
Parent has 4 children to sort
Mapped 4 valid blocks by ID
Block Mk_Gts assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block bRdTay assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block Ps7gyS assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block tStG1d assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Grouped blocks into 1 devices
  - Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 4 blocks
Block Mk_Gts has no prev_id
Block bRdTay has prev_id Ps7gyS
Block Ps7gyS has no prev_id
Block tStG1d has prev_id bRdTay
Built prev->next map with 2 entries
  - Ps7gyS has 1 next blocks: ["bRdTay"]
  - bRdTay has 1 next blocks: ["tStG1d"]
Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 2 root blocks: ["Mk_Gts", "Ps7gyS"]
Processing devices in order: ["4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"]

Processing device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Comparing root blocks: Ps7gyS (time: 2025-04-24T17:05:13.710104) vs Mk_Gts (time: 2025-04-24T17:04:05.077214)
Sorted roots for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a: ["Mk_Gts", "Ps7gyS"]
Starting chain from root: Mk_Gts
  Adding block Mk_Gts to sorted list
  No next blocks for Mk_Gts
Starting chain from root: Ps7gyS
  Adding block Ps7gyS to sorted list
    Pushing bRdTay onto stack
  Adding block bRdTay to sorted list
    Pushing tStG1d onto stack
  Adding block tStG1d to sorted list
  No next blocks for tStG1d
No remaining blocks for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
No globally remaining blocks
Final sorted order for parent m8OEVv: ["Mk_Gts", "Ps7gyS", "bRdTay", "tStG1d"]

----- Sorting children of parent: zhA_gK -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent zhA_gK: []

----- Sorting children of parent: tStG1d -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent tStG1d: []
====== COMPLETED BLOCK SORTING ======
Final sorted children map has 5 parents
extract_document_state: Extracted 6 blocks and 5 parent-child relationships
get_document_state: Finished for doc_id: xxxx
flutter: {
flutter:   "docId": "xxxx",
flutter:   "blocks": {
flutter:     "Mk_Gts": {
flutter:       "id": "Mk_Gts",
flutter:       "ty": "",
flutter:       "attributes": {
flutter:         "device": "4cb3899a-3fe4-4bb1-bbf4-edd464b0977a",
flutter:         "checked": "false",
flutter:         "timestamp": "2025-04-24T17:04:05.077214"
flutter:       },
flutter:       "delta": "[]",
flutter:       "parentId": null,
flutter:       "prevId": null,
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "zhA_gK": {
flutter:       "id": "zhA_gK",
flutter:       "ty": "todo_list",
flutter:       "attributes": {
flutter:         "timestamp": "2025-04-24T17:04:02.277720",
flutter:         "delta": "[]",
flutter:         "device": "4cb3899a-3fe4-4bb1-bbf4-edd464b0977a",
flutter:         "checked": "false"
flutter:       },
flutter:       "delta": "[{\"insert\":\"Task is mine\"}]",
flutter:       "parentId": "m8OEVv",
flutter:       "prevId": "tStG1d",
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "Ps7gyS": {
flutter:       "id": "Ps7gyS",
flutter:       "ty": "paragraph",
flutter:       "attributes": {
flutter:         "timestamp": "2025-04-24T17:05:13.710104",
flutter:         "device": "4cb3899a-3fe4-4bb1-bbf4-edd464b0977a",
flutter:         "delta": "[]"
flutter:       },
flutter:       "delta": "[{\"insert\":\"New task 3\"}]",
flutter:       "parentId": "m8OEVv",
flutter:       "prevId": null,
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "tStG1d": {
flutter:       "id": "tStG1d",
flutter:       "ty": "paragraph",
flutter:       "attributes": {
flutter:         "timestamp": "2025-04-24T17:05:06.893741",
flutter:         "device": "4cb3899a-3fe4-4bb1-bbf4-edd464b0977a",
flutter:         "delta": "[]"
flutter:       },
flutter:       "delta": "[{\"insert\":\"New task 2\"}]",
flutter:       "parentId": "m8OEVv",
flutter:       "prevId": "bRdTay",
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "bRdTay": {
flutter:       "id": "bRdTay",
flutter:       "ty": "paragraph",
flutter:       "attributes": {
flutter:         "timestamp": "2025-04-24T17:03:55.612881",
flutter:         "device": "4cb3899a-3fe4-4bb1-bbf4-edd464b0977a",
flutter:         "delta": "[]"
flutter:       },
flutter:       "delta": "[{\"insert\":\"New Task 1\"}]",
flutter:       "parentId": "m8OEVv",
flutter:       "prevId": "Ps7gyS",
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "m8OEVv": {
flutter:       "id": "m8OEVv",
flutter:       "ty": "page",
flutter:       "attributes": {
flutter:         "device": "3a00f73e-0356-4c61-a6e1-cb439d9dbf33",
flutter:         "timestamp": "2025-04-24T17:01:59.905543"
flutter:       },
flutter:       "delta": null,
flutter:       "parentId": null,
flutter:       "prevId": null,
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     }
flutter:   },
flutter:   "childrenMap": {
flutter:     "Ps7gyS": [],
flutter:     "m8OEVv": [
flutter:       "Mk_Gts",
flutter:       "Ps7gyS",
flutter:       "bRdTay",
flutter:       "tStG1d"
flutter:     ],
flutter:     "bRdTay": [],
flutter:     "zhA_gK": [],
flutter:     "tStG1d": []
flutter:   },
flutter:   "rootId": "m8OEVv"
flutter: }
merge_updates: Merging 1 updates
merge_updates: Successfully merged updates
apply_updates: Starting with 54 updates for doc_id: xxxx
apply_updates: Starting with 54 updates for doc_id: xxxx
apply_updates: Applying update for doc_id: xxxx
apply_updates: Finished for doc_id: xxxx
apply_updates: Successfully applied updates for doc_id: xxxx
get_document_state: Starting for doc_id: xxxx
extract_document_state: Starting for doc_id: xxxx
extract_document_state: Processing 6 blocks
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 0 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
====== STARTING BLOCK SORTING ======
Input children_map has 5 parent nodes

----- Sorting children of parent: zhA_gK -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent zhA_gK: []

----- Sorting children of parent: Ps7gyS -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent Ps7gyS: []

----- Sorting children of parent: bRdTay -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent bRdTay: []

----- Sorting children of parent: tStG1d -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent tStG1d: []

----- Sorting children of parent: m8OEVv -----
Parent has 4 children to sort
Mapped 4 valid blocks by ID
Block tStG1d assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block Ps7gyS assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block bRdTay assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block Mk_Gts assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Grouped blocks into 1 devices
  - Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 4 blocks
Block tStG1d has prev_id bRdTay
Block Ps7gyS has no prev_id
Block bRdTay has prev_id Ps7gyS
Block Mk_Gts has no prev_id
Built prev->next map with 2 entries
  - bRdTay has 1 next blocks: ["tStG1d"]
  - Ps7gyS has 1 next blocks: ["bRdTay"]
Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 2 root blocks: ["Ps7gyS", "Mk_Gts"]
Processing devices in order: ["4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"]

Processing device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Comparing root blocks: Mk_Gts (time: 2025-04-24T17:04:05.077214) vs Ps7gyS (time: 2025-04-24T17:05:13.710104)
Sorted roots for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a: ["Mk_Gts", "Ps7gyS"]
Starting chain from root: Mk_Gts
  Adding block Mk_Gts to sorted list
  No next blocks for Mk_Gts
Starting chain from root: Ps7gyS
  Adding block Ps7gyS to sorted list
    Pushing bRdTay onto stack
  Adding block bRdTay to sorted list
    Pushing tStG1d onto stack
  Adding block tStG1d to sorted list
  No next blocks for tStG1d
No remaining blocks for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
No globally remaining blocks
Final sorted order for parent m8OEVv: ["Mk_Gts", "Ps7gyS", "bRdTay", "tStG1d"]
====== COMPLETED BLOCK SORTING ======
Final sorted children map has 5 parents
extract_document_state: Extracted 6 blocks and 5 parent-child relationships
get_document_state: Finished for doc_id: xxxx
flutter: onDragStarted
flutter: the drag offset is inside the block, dragOffset(Offset(127.6, 122.7)), globalBlockRect(Rect.fromLTRB(120.0, 86.0, 680.0, 124.0))
flutter: the drag offset is inside the block, dragOffset(Offset(127.6, 121.6)), globalBlockRect(Rect.fromLTRB(120.0, 86.0, 680.0, 124.0))
flutter: the drag offset is inside the block, dragOffset(Offset(128.3, 120.6)), globalBlockRect(Rect.fromLTRB(120.0, 86.0, 680.0, 124.0))
flutter: the drag offset is inside the block, dragOffset(Offset(129.8, 117.7)), globalBlockRect(Rect.fromLTRB(120.0, 86.0, 680.0, 124.0))
flutter: the drag offset is inside the block, dragOffset(Offset(129.8, 117.2)), globalBlockRect(Rect.fromLTRB(120.0, 86.0, 680.0, 124.0))
flutter: the drag offset is inside the block, dragOffset(Offset(130.8, 115.5)), globalBlockRect(Rect.fromLTRB(120.0, 86.0, 680.0, 124.0))
flutter: the drag offset is inside the block, dragOffset(Offset(130.8, 115.3)), globalBlockRect(Rect.fromLTRB(120.0, 86.0, 680.0, 124.0))
flutter: the drag offset is inside the block, dragOffset(Offset(130.8, 115.0)), globalBlockRect(Rect.fromLTRB(120.0, 86.0, 680.0, 124.0))
flutter: the drag offset is inside the block, dragOffset(Offset(131.3, 114.5)), globalBlockRect(Rect.fromLTRB(120.0, 86.0, 680.0, 124.0))
flutter: the drag offset is inside the block, dragOffset(Offset(131.3, 114.3)), globalBlockRect(Rect.fromLTRB(120.0, 86.0, 680.0, 124.0))
flutter: the drag offset is inside the block, dragOffset(Offset(131.6, 113.1)), globalBlockRect(Rect.fromLTRB(120.0, 86.0, 680.0, 124.0))
flutter: the drag offset is inside the block, dragOffset(Offset(131.6, 112.0)), globalBlockRect(Rect.fromLTRB(120.0, 86.0, 680.0, 124.0))
flutter: the drag offset is inside the block, dragOffset(Offset(131.9, 111.0)), globalBlockRect(Rect.fromLTRB(120.0, 86.0, 680.0, 124.0))
flutter: the drag offset is inside the block, dragOffset(Offset(132.1, 110.7)), globalBlockRect(Rect.fromLTRB(120.0, 86.0, 680.0, 124.0))
flutter: the drag offset is inside the block, dragOffset(Offset(132.1, 110.5)), globalBlockRect(Rect.fromLTRB(120.0, 86.0, 680.0, 124.0))
flutter: the drag offset is inside the block, dragOffset(Offset(132.1, 109.7)), globalBlockRect(Rect.fromLTRB(120.0, 86.0, 680.0, 124.0))
flutter: the drag offset is inside the block, dragOffset(Offset(132.5, 108.6)), globalBlockRect(Rect.fromLTRB(120.0, 86.0, 680.0, 124.0))
flutter: the drag offset is inside the block, dragOffset(Offset(133.0, 107.5)), globalBlockRect(Rect.fromLTRB(120.0, 86.0, 680.0, 124.0))
flutter: the drag offset is inside the block, dragOffset(Offset(133.0, 107.3)), globalBlockRect(Rect.fromLTRB(120.0, 86.0, 680.0, 124.0))
flutter: the drag offset is inside the block, dragOffset(Offset(133.0, 106.5)), globalBlockRect(Rect.fromLTRB(120.0, 86.0, 680.0, 124.0))
flutter: the drag offset is inside the block, dragOffset(Offset(133.3, 105.5)), globalBlockRect(Rect.fromLTRB(120.0, 86.0, 680.0, 124.0))
flutter: the drag offset is inside the block, dragOffset(Offset(133.8, 105.0)), globalBlockRect(Rect.fromLTRB(120.0, 86.0, 680.0, 124.0))
flutter: the drag offset is inside the block, dragOffset(Offset(133.8, 103.6)), globalBlockRect(Rect.fromLTRB(120.0, 86.0, 680.0, 124.0))
flutter: the drag offset is inside the block, dragOffset(Offset(133.8, 102.8)), globalBlockRect(Rect.fromLTRB(120.0, 86.0, 680.0, 124.0))
flutter: the drag offset is inside the block, dragOffset(Offset(134.0, 102.3)), globalBlockRect(Rect.fromLTRB(120.0, 86.0, 680.0, 124.0))
flutter: the drag offset is inside the block, dragOffset(Offset(134.0, 102.1)), globalBlockRect(Rect.fromLTRB(120.0, 86.0, 680.0, 124.0))
flutter: onDragEnd, acceptedPath([1])
flutter: the drag offset is inside the block, dragOffset(Offset(134.0, 102.1)), globalBlockRect(Rect.fromLTRB(120.0, 86.0, 680.0, 124.0))
flutter: Moving node(Node(id: bRdTay, type: paragraph, attributes: {timestamp: 2025-04-24T17:03:55.612881, device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a, delta: [{insert: New Task 1}]}, children: []), [2]) to path([1])
flutter: Transaction done
apply_action: Starting with 1 actions for doc_id: xxxx
move_block: Moving block_id: bRdTay from parent: m8OEVv to parent: m8OEVv
remove_block_from_prev_id_chain: Removing block bRdTay from chain
  Block bRdTay has prev_id: Ps7gyS
  Finding blocks that reference bRdTay as their prev_id
find_block_referencing_prev_id: Searching for blocks with prev_id = bRdTay
  Found 6 total blocks to check
  Checking block: bRdTay
    Block has prev_id: Ps7gyS, matches target: false
  Checking block: Mk_Gts
    Block does not have prev_id
  Checking block: Ps7gyS
    Block does not have prev_id
  Checking block: m8OEVv
    Block does not have prev_id
  Checking block: zhA_gK
    Block has prev_id: tStG1d, matches target: false
  Checking block: tStG1d
    Block has prev_id: bRdTay, matches target: true
find_block_referencing_prev_id: Found 1 blocks with prev_id = bRdTay: ["tStG1d"]
  Found 1 next blocks: ["tStG1d"]
  Updating next block tStG1d to point to Ps7gyS (was pointing to bRdTay)
remove_block_from_prev_id_chain: Completed
handle_following_connection: block_id=bRdTay, next_id=Some("Ps7gyS"), prev_id=Some("Mk_Gts")
  Using prev_id strategy (prev_id=Mk_Gts)
find_block_referencing_prev_id: Searching for blocks with prev_id = Mk_Gts
  Found 6 total blocks to check
  Checking block: bRdTay
    Block has prev_id: Ps7gyS, matches target: false
  Checking block: Mk_Gts
    Block does not have prev_id
  Checking block: Ps7gyS
    Block does not have prev_id
  Checking block: m8OEVv
    Block does not have prev_id
  Checking block: zhA_gK
    Block has prev_id: tStG1d, matches target: false
  Checking block: tStG1d
    Block has prev_id: Ps7gyS, matches target: false
find_block_referencing_prev_id: Found 0 blocks with prev_id = Mk_Gts: []
  Found 0 nodes that reference prev_id Mk_Gts: []
  Finished prev_id strategy
move_block: Moved block within same parent
apply_action: Encoding state for doc_id: xxxx
apply_updates: Starting with 53 updates for doc_id: xxxx
apply_updates: Starting with 53 updates for doc_id: xxxx
apply_updates: Applying update for doc_id: xxxx
apply_updates: Finished for doc_id: xxxx
apply_updates: Successfully applied updates for doc_id: xxxx
get_document_state: Starting for doc_id: xxxx
extract_document_state: Starting for doc_id: xxxx
extract_document_state: Processing 6 blocks
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 0 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
====== STARTING BLOCK SORTING ======
Input children_map has 5 parent nodes

----- Sorting children of parent: m8OEVv -----
Parent has 4 children to sort
Mapped 4 valid blocks by ID
Block Mk_Gts assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block bRdTay assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block Ps7gyS assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block tStG1d assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Grouped blocks into 1 devices
  - Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 4 blocks
Block Mk_Gts has no prev_id
Block bRdTay has prev_id Mk_Gts
Block Ps7gyS has no prev_id
Block tStG1d has prev_id Ps7gyS
Built prev->next map with 2 entries
  - Mk_Gts has 1 next blocks: ["bRdTay"]
  - Ps7gyS has 1 next blocks: ["tStG1d"]
Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 2 root blocks: ["Mk_Gts", "Ps7gyS"]
Processing devices in order: ["4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"]

Processing device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Comparing root blocks: Ps7gyS (time: 2025-04-24T17:05:13.710104) vs Mk_Gts (time: 2025-04-24T17:04:05.077214)
Sorted roots for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a: ["Mk_Gts", "Ps7gyS"]
Starting chain from root: Mk_Gts
  Adding block Mk_Gts to sorted list
    Pushing bRdTay onto stack
  Adding block bRdTay to sorted list
  No next blocks for bRdTay
Starting chain from root: Ps7gyS
  Adding block Ps7gyS to sorted list
    Pushing tStG1d onto stack
  Adding block tStG1d to sorted list
  No next blocks for tStG1d
No remaining blocks for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
No globally remaining blocks
Final sorted order for parent m8OEVv: ["Mk_Gts", "bRdTay", "Ps7gyS", "tStG1d"]

----- Sorting children of parent: zhA_gK -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent zhA_gK: []

----- Sorting children of parent: Ps7gyS -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent Ps7gyS: []

----- Sorting children of parent: tStG1d -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent tStG1d: []

----- Sorting children of parent: bRdTay -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent bRdTay: []
====== COMPLETED BLOCK SORTING ======
Final sorted children map has 5 parents
extract_document_state: Extracted 6 blocks and 5 parent-child relationships
get_document_state: Finished for doc_id: xxxx
merge_updates: Merging 1 updates
merge_updates: Successfully merged updates
apply_updates: Starting with 54 updates for doc_id: xxxx
apply_updates: Starting with 54 updates for doc_id: xxxx
apply_updates: Applying update for doc_id: xxxx
apply_updates: Finished for doc_id: xxxx
apply_updates: Successfully applied updates for doc_id: xxxx
get_document_state: Starting for doc_id: xxxx
extract_document_state: Starting for doc_id: xxxx
extract_document_state: Processing 6 blocks
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 0 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
====== STARTING BLOCK SORTING ======
Input children_map has 5 parent nodes

----- Sorting children of parent: Ps7gyS -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent Ps7gyS: []

----- Sorting children of parent: m8OEVv -----
Parent has 4 children to sort
Mapped 4 valid blocks by ID
Block Mk_Gts assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block tStG1d assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block bRdTay assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block Ps7gyS assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Grouped blocks into 1 devices
  - Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 4 blocks
Block Mk_Gts has no prev_id
Block tStG1d has prev_id Ps7gyS
Block bRdTay has prev_id Mk_Gts
Block Ps7gyS has no prev_id
Built prev->next map with 2 entries
  - Mk_Gts has 1 next blocks: ["bRdTay"]
  - Ps7gyS has 1 next blocks: ["tStG1d"]
Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 2 root blocks: ["Mk_Gts", "Ps7gyS"]
Processing devices in order: ["4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"]

Processing device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Comparing root blocks: Ps7gyS (time: 2025-04-24T17:05:13.710104) vs Mk_Gts (time: 2025-04-24T17:04:05.077214)
Sorted roots for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a: ["Mk_Gts", "Ps7gyS"]
Starting chain from root: Mk_Gts
  Adding block Mk_Gts to sorted list
    Pushing bRdTay onto stack
  Adding block bRdTay to sorted list
  No next blocks for bRdTay
Starting chain from root: Ps7gyS
  Adding block Ps7gyS to sorted list
    Pushing tStG1d onto stack
  Adding block tStG1d to sorted list
  No next blocks for tStG1d
No remaining blocks for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
No globally remaining blocks
Final sorted order for parent m8OEVv: ["Mk_Gts", "bRdTay", "Ps7gyS", "tStG1d"]

----- Sorting children of parent: tStG1d -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent tStG1d: []

----- Sorting children of parent: bRdTay -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent bRdTay: []

----- Sorting children of parent: zhA_gK -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent zhA_gK: []
====== COMPLETED BLOCK SORTING ======
Final sorted children map has 5 parents
extract_document_state: Extracted 6 blocks and 5 parent-child relationships
get_document_state: Finished for doc_id: xxxx
flutter: onDragStarted
flutter: the drag offset is inside the block, dragOffset(Offset(130.6, 155.9)), globalBlockRect(Rect.fromLTRB(120.0, 124.0, 680.0, 162.0))
flutter: the drag offset is inside the block, dragOffset(Offset(131.4, 146.1)), globalBlockRect(Rect.fromLTRB(120.0, 124.0, 680.0, 162.0))
flutter: the drag offset is inside the block, dragOffset(Offset(133.9, 141.2)), globalBlockRect(Rect.fromLTRB(120.0, 124.0, 680.0, 162.0))
flutter: the drag offset is inside the block, dragOffset(Offset(135.9, 135.2)), globalBlockRect(Rect.fromLTRB(120.0, 124.0, 680.0, 162.0))
flutter: the drag offset is inside the block, dragOffset(Offset(136.3, 134.1)), globalBlockRect(Rect.fromLTRB(120.0, 124.0, 680.0, 162.0))
flutter: the drag offset is inside the block, dragOffset(Offset(137.8, 130.6)), globalBlockRect(Rect.fromLTRB(120.0, 124.0, 680.0, 162.0))
flutter: the drag offset is inside the block, dragOffset(Offset(138.8, 129.0)), globalBlockRect(Rect.fromLTRB(120.0, 124.0, 680.0, 162.0))
flutter: the drag offset is inside the block, dragOffset(Offset(138.8, 128.7)), globalBlockRect(Rect.fromLTRB(120.0, 124.0, 680.0, 162.0))
flutter: the drag offset is inside the block, dragOffset(Offset(138.8, 127.1)), globalBlockRect(Rect.fromLTRB(120.0, 124.0, 680.0, 162.0))
flutter: the drag offset is inside the block, dragOffset(Offset(139.6, 125.9)), globalBlockRect(Rect.fromLTRB(120.0, 124.0, 680.0, 162.0))
flutter: the drag offset is inside the block, dragOffset(Offset(139.6, 125.7)), globalBlockRect(Rect.fromLTRB(120.0, 124.0, 680.0, 162.0))
flutter: onDragEnd, acceptedPath([2])
flutter: the drag offset is inside the block, dragOffset(Offset(139.6, 125.7)), globalBlockRect(Rect.fromLTRB(120.0, 124.0, 680.0, 162.0))
flutter: Moving node(Node(id: tStG1d, type: paragraph, attributes: {timestamp: 2025-04-24T17:05:06.893741, device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a, delta: [{insert: New task 2}]}, children: []), [3]) to path([2])
flutter: Transaction done
apply_action: Starting with 1 actions for doc_id: xxxx
move_block: Moving block_id: tStG1d from parent: m8OEVv to parent: m8OEVv
remove_block_from_prev_id_chain: Removing block tStG1d from chain
  Block tStG1d has prev_id: Ps7gyS
  Finding blocks that reference tStG1d as their prev_id
find_block_referencing_prev_id: Searching for blocks with prev_id = tStG1d
  Found 6 total blocks to check
  Checking block: zhA_gK
    Block has prev_id: tStG1d, matches target: true
  Checking block: tStG1d
    Block has prev_id: Ps7gyS, matches target: false
  Checking block: m8OEVv
    Block does not have prev_id
  Checking block: Mk_Gts
    Block does not have prev_id
  Checking block: Ps7gyS
    Block does not have prev_id
  Checking block: bRdTay
    Block has prev_id: Mk_Gts, matches target: false
find_block_referencing_prev_id: Found 1 blocks with prev_id = tStG1d: ["zhA_gK"]
  Found 1 next blocks: ["zhA_gK"]
  Updating next block zhA_gK to point to Ps7gyS (was pointing to tStG1d)
remove_block_from_prev_id_chain: Completed
handle_following_connection: block_id=tStG1d, next_id=Some("Ps7gyS"), prev_id=Some("bRdTay")
  Using prev_id strategy (prev_id=bRdTay)
find_block_referencing_prev_id: Searching for blocks with prev_id = bRdTay
  Found 6 total blocks to check
  Checking block: zhA_gK
    Block has prev_id: Ps7gyS, matches target: false
  Checking block: tStG1d
    Block has prev_id: Ps7gyS, matches target: false
  Checking block: m8OEVv
    Block does not have prev_id
  Checking block: Mk_Gts
    Block does not have prev_id
  Checking block: Ps7gyS
    Block does not have prev_id
  Checking block: bRdTay
    Block has prev_id: Mk_Gts, matches target: false
find_block_referencing_prev_id: Found 0 blocks with prev_id = bRdTay: []
  Found 0 nodes that reference prev_id bRdTay: []
  Finished prev_id strategy
move_block: Moved block within same parent
apply_action: Encoding state for doc_id: xxxx
apply_updates: Starting with 36 updates for doc_id: xxxx
apply_updates: Starting with 36 updates for doc_id: xxxx
apply_updates: Applying update for doc_id: xxxx
apply_updates: Finished for doc_id: xxxx
apply_updates: Successfully applied updates for doc_id: xxxx
get_document_state: Starting for doc_id: xxxx
extract_document_state: Starting for doc_id: xxxx
extract_document_state: Processing 6 blocks
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 0 deltas
====== STARTING BLOCK SORTING ======
Input children_map has 5 parent nodes

----- Sorting children of parent: m8OEVv -----
Parent has 4 children to sort
Mapped 4 valid blocks by ID
Block bRdTay assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block Ps7gyS assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block Mk_Gts assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block tStG1d assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Grouped blocks into 1 devices
  - Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 4 blocks
Block bRdTay has prev_id Mk_Gts
Block Ps7gyS has no prev_id
Block Mk_Gts has no prev_id
Block tStG1d has prev_id bRdTay
Built prev->next map with 2 entries
  - bRdTay has 1 next blocks: ["tStG1d"]
  - Mk_Gts has 1 next blocks: ["bRdTay"]
Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 2 root blocks: ["Ps7gyS", "Mk_Gts"]
Processing devices in order: ["4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"]

Processing device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Comparing root blocks: Mk_Gts (time: 2025-04-24T17:04:05.077214) vs Ps7gyS (time: 2025-04-24T17:05:13.710104)
Sorted roots for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a: ["Mk_Gts", "Ps7gyS"]
Starting chain from root: Mk_Gts
  Adding block Mk_Gts to sorted list
    Pushing bRdTay onto stack
  Adding block bRdTay to sorted list
    Pushing tStG1d onto stack
  Adding block tStG1d to sorted list
  No next blocks for tStG1d
Starting chain from root: Ps7gyS
  Adding block Ps7gyS to sorted list
  No next blocks for Ps7gyS
No remaining blocks for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
No globally remaining blocks
Final sorted order for parent m8OEVv: ["Mk_Gts", "bRdTay", "tStG1d", "Ps7gyS"]

----- Sorting children of parent: tStG1d -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent tStG1d: []

----- Sorting children of parent: Ps7gyS -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent Ps7gyS: []

----- Sorting children of parent: bRdTay -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent bRdTay: []

----- Sorting children of parent: zhA_gK -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent zhA_gK: []
====== COMPLETED BLOCK SORTING ======
Final sorted children map has 5 parents
extract_document_state: Extracted 6 blocks and 5 parent-child relationships
get_document_state: Finished for doc_id: xxxx
merge_updates: Merging 1 updates
merge_updates: Successfully merged updates
apply_updates: Starting with 37 updates for doc_id: xxxx
apply_updates: Starting with 37 updates for doc_id: xxxx
apply_updates: Applying update for doc_id: xxxx
apply_updates: Finished for doc_id: xxxx
apply_updates: Successfully applied updates for doc_id: xxxx
get_document_state: Starting for doc_id: xxxx
extract_document_state: Starting for doc_id: xxxx
extract_document_state: Processing 6 blocks
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 0 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
====== STARTING BLOCK SORTING ======
Input children_map has 5 parent nodes

----- Sorting children of parent: tStG1d -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent tStG1d: []

----- Sorting children of parent: m8OEVv -----
Parent has 4 children to sort
Mapped 4 valid blocks by ID
Block tStG1d assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block bRdTay assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block Mk_Gts assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block Ps7gyS assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Grouped blocks into 1 devices
  - Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 4 blocks
Block tStG1d has prev_id bRdTay
Block bRdTay has prev_id Mk_Gts
Block Mk_Gts has no prev_id
Block Ps7gyS has no prev_id
Built prev->next map with 2 entries
  - Mk_Gts has 1 next blocks: ["bRdTay"]
  - bRdTay has 1 next blocks: ["tStG1d"]
Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 2 root blocks: ["Mk_Gts", "Ps7gyS"]
Processing devices in order: ["4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"]

Processing device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Comparing root blocks: Ps7gyS (time: 2025-04-24T17:05:13.710104) vs Mk_Gts (time: 2025-04-24T17:04:05.077214)
Sorted roots for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a: ["Mk_Gts", "Ps7gyS"]
Starting chain from root: Mk_Gts
  Adding block Mk_Gts to sorted list
    Pushing bRdTay onto stack
  Adding block bRdTay to sorted list
    Pushing tStG1d onto stack
  Adding block tStG1d to sorted list
  No next blocks for tStG1d
Starting chain from root: Ps7gyS
  Adding block Ps7gyS to sorted list
  No next blocks for Ps7gyS
No remaining blocks for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
No globally remaining blocks
Final sorted order for parent m8OEVv: ["Mk_Gts", "bRdTay", "tStG1d", "Ps7gyS"]

----- Sorting children of parent: Ps7gyS -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent Ps7gyS: []

----- Sorting children of parent: bRdTay -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent bRdTay: []

----- Sorting children of parent: zhA_gK -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent zhA_gK: []
====== COMPLETED BLOCK SORTING ======
Final sorted children map has 5 parents
extract_document_state: Extracted 6 blocks and 5 parent-child relationships
get_document_state: Finished for doc_id: xxxx
flutter: onDragStarted
flutter: the drag offset is inside the block, dragOffset(Offset(133.9, 162.1)), globalBlockRect(Rect.fromLTRB(120.0, 162.0, 680.0, 200.0))
flutter: the drag offset is inside the block, dragOffset(Offset(133.9, 164.5)), globalBlockRect(Rect.fromLTRB(120.0, 162.0, 680.0, 200.0))
flutter: the drag offset is inside the block, dragOffset(Offset(133.9, 166.8)), globalBlockRect(Rect.fromLTRB(120.0, 162.0, 680.0, 200.0))
flutter: the drag offset is inside the block, dragOffset(Offset(133.9, 168.4)), globalBlockRect(Rect.fromLTRB(120.0, 162.0, 680.0, 200.0))
flutter: the drag offset is inside the block, dragOffset(Offset(133.9, 169.5)), globalBlockRect(Rect.fromLTRB(120.0, 162.0, 680.0, 200.0))
flutter: the drag offset is inside the block, dragOffset(Offset(133.9, 170.3)), globalBlockRect(Rect.fromLTRB(120.0, 162.0, 680.0, 200.0))
flutter: the drag offset is inside the block, dragOffset(Offset(133.9, 171.0)), globalBlockRect(Rect.fromLTRB(120.0, 162.0, 680.0, 200.0))
flutter: the drag offset is inside the block, dragOffset(Offset(133.9, 172.1)), globalBlockRect(Rect.fromLTRB(120.0, 162.0, 680.0, 200.0))
flutter: the drag offset is inside the block, dragOffset(Offset(133.9, 172.9)), globalBlockRect(Rect.fromLTRB(120.0, 162.0, 680.0, 200.0))
flutter: the drag offset is inside the block, dragOffset(Offset(133.9, 173.7)), globalBlockRect(Rect.fromLTRB(120.0, 162.0, 680.0, 200.0))
flutter: the drag offset is inside the block, dragOffset(Offset(133.9, 173.9)), globalBlockRect(Rect.fromLTRB(120.0, 162.0, 680.0, 200.0))
flutter: the drag offset is inside the block, dragOffset(Offset(133.9, 174.4)), globalBlockRect(Rect.fromLTRB(120.0, 162.0, 680.0, 200.0))
flutter: the drag offset is inside the block, dragOffset(Offset(133.9, 175.2)), globalBlockRect(Rect.fromLTRB(120.0, 162.0, 680.0, 200.0))
flutter: the drag offset is inside the block, dragOffset(Offset(133.9, 175.4)), globalBlockRect(Rect.fromLTRB(120.0, 162.0, 680.0, 200.0))
flutter: the drag offset is inside the block, dragOffset(Offset(133.9, 176.2)), globalBlockRect(Rect.fromLTRB(120.0, 162.0, 680.0, 200.0))
flutter: the drag offset is inside the block, dragOffset(Offset(134.3, 177.3)), globalBlockRect(Rect.fromLTRB(120.0, 162.0, 680.0, 200.0))
flutter: the drag offset is inside the block, dragOffset(Offset(134.3, 177.8)), globalBlockRect(Rect.fromLTRB(120.0, 162.0, 680.0, 200.0))
flutter: the drag offset is inside the block, dragOffset(Offset(134.3, 178.1)), globalBlockRect(Rect.fromLTRB(120.0, 162.0, 680.0, 200.0))
flutter: the drag offset is inside the block, dragOffset(Offset(134.3, 178.6)), globalBlockRect(Rect.fromLTRB(120.0, 162.0, 680.0, 200.0))
flutter: the drag offset is inside the block, dragOffset(Offset(134.3, 180.0)), globalBlockRect(Rect.fromLTRB(120.0, 162.0, 680.0, 200.0))
flutter: the drag offset is inside the block, dragOffset(Offset(134.7, 182.2)), globalBlockRect(Rect.fromLTRB(120.0, 162.0, 680.0, 200.0))
flutter: the drag offset is inside the block, dragOffset(Offset(134.7, 183.3)), globalBlockRect(Rect.fromLTRB(120.0, 162.0, 680.0, 200.0))
flutter: the drag offset is inside the block, dragOffset(Offset(135.2, 184.4)), globalBlockRect(Rect.fromLTRB(120.0, 162.0, 680.0, 200.0))
flutter: the drag offset is inside the block, dragOffset(Offset(135.2, 184.9)), globalBlockRect(Rect.fromLTRB(120.0, 162.0, 680.0, 200.0))
flutter: the drag offset is inside the block, dragOffset(Offset(135.2, 185.4)), globalBlockRect(Rect.fromLTRB(120.0, 162.0, 680.0, 200.0))
flutter: the drag offset is inside the block, dragOffset(Offset(135.2, 186.1)), globalBlockRect(Rect.fromLTRB(120.0, 162.0, 680.0, 200.0))
flutter: the drag offset is inside the block, dragOffset(Offset(135.4, 186.6)), globalBlockRect(Rect.fromLTRB(120.0, 162.0, 680.0, 200.0))
flutter: the drag offset is inside the block, dragOffset(Offset(135.4, 187.1)), globalBlockRect(Rect.fromLTRB(120.0, 162.0, 680.0, 200.0))
flutter: the drag offset is inside the block, dragOffset(Offset(135.9, 187.7)), globalBlockRect(Rect.fromLTRB(120.0, 162.0, 680.0, 200.0))
flutter: the drag offset is inside the block, dragOffset(Offset(135.9, 187.9)), globalBlockRect(Rect.fromLTRB(120.0, 162.0, 680.0, 200.0))
flutter: the drag offset is inside the block, dragOffset(Offset(135.9, 188.4)), globalBlockRect(Rect.fromLTRB(120.0, 162.0, 680.0, 200.0))
flutter: the drag offset is inside the block, dragOffset(Offset(135.9, 188.7)), globalBlockRect(Rect.fromLTRB(120.0, 162.0, 680.0, 200.0))
flutter: onDragEnd, acceptedPath([4])
flutter: the drag offset is inside the block, dragOffset(Offset(135.9, 188.7)), globalBlockRect(Rect.fromLTRB(120.0, 162.0, 680.0, 200.0))
flutter: Moving node(Node(id: tStG1d, type: paragraph, attributes: {timestamp: 2025-04-24T17:05:06.893741, device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a, delta: [{insert: New task 2}]}, children: []), [2]) to path([3])
flutter: Transaction done
apply_action: Starting with 1 actions for doc_id: xxxx
move_block: Moving block_id: tStG1d from parent: m8OEVv to parent: m8OEVv
remove_block_from_prev_id_chain: Removing block tStG1d from chain
  Block tStG1d has prev_id: bRdTay
  Finding blocks that reference tStG1d as their prev_id
find_block_referencing_prev_id: Searching for blocks with prev_id = tStG1d
  Found 6 total blocks to check
  Checking block: zhA_gK
    Block has prev_id: Ps7gyS, matches target: false
  Checking block: m8OEVv
    Block does not have prev_id
  Checking block: Mk_Gts
    Block does not have prev_id
  Checking block: Ps7gyS
    Block does not have prev_id
  Checking block: tStG1d
    Block has prev_id: bRdTay, matches target: false
  Checking block: bRdTay
    Block has prev_id: Mk_Gts, matches target: false
find_block_referencing_prev_id: Found 0 blocks with prev_id = tStG1d: []
  Found 0 next blocks: []
remove_block_from_prev_id_chain: Completed
handle_following_connection: block_id=tStG1d, next_id=None, prev_id=Some("Ps7gyS")
  Using prev_id strategy (prev_id=Ps7gyS)
find_block_referencing_prev_id: Searching for blocks with prev_id = Ps7gyS
  Found 6 total blocks to check
  Checking block: zhA_gK
    Block has prev_id: Ps7gyS, matches target: true
  Checking block: m8OEVv
    Block does not have prev_id
  Checking block: Mk_Gts
    Block does not have prev_id
  Checking block: Ps7gyS
    Block does not have prev_id
  Checking block: tStG1d
    Block has prev_id: bRdTay, matches target: false
  Checking block: bRdTay
    Block has prev_id: Mk_Gts, matches target: false
find_block_referencing_prev_id: Found 1 blocks with prev_id = Ps7gyS: ["zhA_gK"]
  Found 1 nodes that reference prev_id Ps7gyS: ["zhA_gK"]
  Updating block zhA_gK to point to tStG1d
  Finished prev_id strategy
move_block: Moved block within same parent
apply_action: Encoding state for doc_id: xxxx
apply_updates: Starting with 37 updates for doc_id: xxxx
apply_updates: Starting with 37 updates for doc_id: xxxx
apply_updates: Applying update for doc_id: xxxx
apply_updates: Finished for doc_id: xxxx
apply_updates: Successfully applied updates for doc_id: xxxx
get_document_state: Starting for doc_id: xxxx
extract_document_state: Starting for doc_id: xxxx
extract_document_state: Processing 6 blocks
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 0 deltas
====== STARTING BLOCK SORTING ======
Input children_map has 5 parent nodes

----- Sorting children of parent: Ps7gyS -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent Ps7gyS: []

----- Sorting children of parent: m8OEVv -----
Parent has 4 children to sort
Mapped 4 valid blocks by ID
Block bRdTay assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block tStG1d assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block Mk_Gts assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block Ps7gyS assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Grouped blocks into 1 devices
  - Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 4 blocks
Block bRdTay has prev_id Mk_Gts
Block tStG1d has prev_id Ps7gyS
Block Mk_Gts has no prev_id
Block Ps7gyS has no prev_id
Built prev->next map with 2 entries
  - Mk_Gts has 1 next blocks: ["bRdTay"]
  - Ps7gyS has 1 next blocks: ["tStG1d"]
Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 2 root blocks: ["Mk_Gts", "Ps7gyS"]
Processing devices in order: ["4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"]

Processing device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Comparing root blocks: Ps7gyS (time: 2025-04-24T17:05:13.710104) vs Mk_Gts (time: 2025-04-24T17:04:05.077214)
Sorted roots for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a: ["Mk_Gts", "Ps7gyS"]
Starting chain from root: Mk_Gts
  Adding block Mk_Gts to sorted list
    Pushing bRdTay onto stack
  Adding block bRdTay to sorted list
  No next blocks for bRdTay
Starting chain from root: Ps7gyS
  Adding block Ps7gyS to sorted list
    Pushing tStG1d onto stack
  Adding block tStG1d to sorted list
  No next blocks for tStG1d
No remaining blocks for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
No globally remaining blocks
Final sorted order for parent m8OEVv: ["Mk_Gts", "bRdTay", "Ps7gyS", "tStG1d"]

----- Sorting children of parent: bRdTay -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent bRdTay: []

----- Sorting children of parent: tStG1d -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent tStG1d: []

----- Sorting children of parent: zhA_gK -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent zhA_gK: []
====== COMPLETED BLOCK SORTING ======
Final sorted children map has 5 parents
extract_document_state: Extracted 6 blocks and 5 parent-child relationships
get_document_state: Finished for doc_id: xxxx
merge_updates: Merging 1 updates
merge_updates: Successfully merged updates
apply_updates: Starting with 38 updates for doc_id: xxxx
apply_updates: Starting with 38 updates for doc_id: xxxx
apply_updates: Applying update for doc_id: xxxx
apply_updates: Finished for doc_id: xxxx
apply_updates: Successfully applied updates for doc_id: xxxx
get_document_state: Starting for doc_id: xxxx
extract_document_state: Starting for doc_id: xxxx
extract_document_state: Processing 6 blocks
deltas_to_json: Converting 0 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
====== STARTING BLOCK SORTING ======
Input children_map has 5 parent nodes

----- Sorting children of parent: tStG1d -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent tStG1d: []

----- Sorting children of parent: bRdTay -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent bRdTay: []

----- Sorting children of parent: Ps7gyS -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent Ps7gyS: []

----- Sorting children of parent: m8OEVv -----
Parent has 4 children to sort
Mapped 4 valid blocks by ID
Block Ps7gyS assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block tStG1d assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block Mk_Gts assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block bRdTay assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Grouped blocks into 1 devices
  - Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 4 blocks
Block Ps7gyS has no prev_id
Block tStG1d has prev_id Ps7gyS
Block Mk_Gts has no prev_id
Block bRdTay has prev_id Mk_Gts
Built prev->next map with 2 entries
  - Mk_Gts has 1 next blocks: ["bRdTay"]
  - Ps7gyS has 1 next blocks: ["tStG1d"]
Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 2 root blocks: ["Ps7gyS", "Mk_Gts"]
Processing devices in order: ["4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"]

Processing device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Comparing root blocks: Mk_Gts (time: 2025-04-24T17:04:05.077214) vs Ps7gyS (time: 2025-04-24T17:05:13.710104)
Sorted roots for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a: ["Mk_Gts", "Ps7gyS"]
Starting chain from root: Mk_Gts
  Adding block Mk_Gts to sorted list
    Pushing bRdTay onto stack
  Adding block bRdTay to sorted list
  No next blocks for bRdTay
Starting chain from root: Ps7gyS
  Adding block Ps7gyS to sorted list
    Pushing tStG1d onto stack
  Adding block tStG1d to sorted list
  No next blocks for tStG1d
No remaining blocks for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
No globally remaining blocks
Final sorted order for parent m8OEVv: ["Mk_Gts", "bRdTay", "Ps7gyS", "tStG1d"]

----- Sorting children of parent: zhA_gK -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent zhA_gK: []
====== COMPLETED BLOCK SORTING ======
Final sorted children map has 5 parents
extract_document_state: Extracted 6 blocks and 5 parent-child relationships
get_document_state: Finished for doc_id: xxxx
flutter: onDragStarted
flutter: the drag offset is inside the block, dragOffset(Offset(131.9, 126.4)), globalBlockRect(Rect.fromLTRB(120.0, 124.0, 680.0, 162.0))
flutter: the drag offset is inside the block, dragOffset(Offset(131.9, 138.7)), globalBlockRect(Rect.fromLTRB(120.0, 124.0, 680.0, 162.0))
flutter: the drag offset is inside the block, dragOffset(Offset(131.9, 143.6)), globalBlockRect(Rect.fromLTRB(120.0, 124.0, 680.0, 162.0))
flutter: the drag offset is inside the block, dragOffset(Offset(133.5, 153.3)), globalBlockRect(Rect.fromLTRB(120.0, 124.0, 680.0, 162.0))
flutter: the drag offset is inside the block, dragOffset(Offset(134.3, 160.6)), globalBlockRect(Rect.fromLTRB(120.0, 124.0, 680.0, 162.0))
flutter: the drag offset is inside the block, dragOffset(Offset(134.3, 162.9)), globalBlockRect(Rect.fromLTRB(120.0, 162.0, 680.0, 200.0))
flutter: the drag offset is inside the block, dragOffset(Offset(134.8, 164.6)), globalBlockRect(Rect.fromLTRB(120.0, 162.0, 680.0, 200.0))
flutter: the drag offset is inside the block, dragOffset(Offset(134.8, 165.9)), globalBlockRect(Rect.fromLTRB(120.0, 162.0, 680.0, 200.0))
flutter: the drag offset is inside the block, dragOffset(Offset(134.8, 167.1)), globalBlockRect(Rect.fromLTRB(120.0, 162.0, 680.0, 200.0))
flutter: the drag offset is inside the block, dragOffset(Offset(135.0, 168.1)), globalBlockRect(Rect.fromLTRB(120.0, 162.0, 680.0, 200.0))
flutter: the drag offset is inside the block, dragOffset(Offset(135.0, 170.3)), globalBlockRect(Rect.fromLTRB(120.0, 162.0, 680.0, 200.0))
flutter: the drag offset is inside the block, dragOffset(Offset(135.5, 170.8)), globalBlockRect(Rect.fromLTRB(120.0, 162.0, 680.0, 200.0))
flutter: the drag offset is inside the block, dragOffset(Offset(135.5, 172.2)), globalBlockRect(Rect.fromLTRB(120.0, 162.0, 680.0, 200.0))
flutter: the drag offset is inside the block, dragOffset(Offset(135.5, 173.2)), globalBlockRect(Rect.fromLTRB(120.0, 162.0, 680.0, 200.0))
flutter: the drag offset is inside the block, dragOffset(Offset(135.5, 173.5)), globalBlockRect(Rect.fromLTRB(120.0, 162.0, 680.0, 200.0))
flutter: the drag offset is inside the block, dragOffset(Offset(135.8, 174.2)), globalBlockRect(Rect.fromLTRB(120.0, 162.0, 680.0, 200.0))
flutter: the drag offset is inside the block, dragOffset(Offset(135.8, 174.5)), globalBlockRect(Rect.fromLTRB(120.0, 162.0, 680.0, 200.0))
flutter: the drag offset is inside the block, dragOffset(Offset(135.8, 175.6)), globalBlockRect(Rect.fromLTRB(120.0, 162.0, 680.0, 200.0))
flutter: the drag offset is inside the block, dragOffset(Offset(137.0, 178.0)), globalBlockRect(Rect.fromLTRB(120.0, 162.0, 680.0, 200.0))
flutter: the drag offset is inside the block, dragOffset(Offset(137.0, 178.7)), globalBlockRect(Rect.fromLTRB(120.0, 162.0, 680.0, 200.0))
flutter: the drag offset is inside the block, dragOffset(Offset(137.0, 179.8)), globalBlockRect(Rect.fromLTRB(120.0, 162.0, 680.0, 200.0))
flutter: the drag offset is inside the block, dragOffset(Offset(137.0, 181.1)), globalBlockRect(Rect.fromLTRB(120.0, 162.0, 680.0, 200.0))
flutter: the drag offset is inside the block, dragOffset(Offset(137.0, 181.6)), globalBlockRect(Rect.fromLTRB(120.0, 162.0, 680.0, 200.0))
flutter: the drag offset is inside the block, dragOffset(Offset(137.2, 182.7)), globalBlockRect(Rect.fromLTRB(120.0, 162.0, 680.0, 200.0))
flutter: the drag offset is inside the block, dragOffset(Offset(137.7, 183.4)), globalBlockRect(Rect.fromLTRB(120.0, 162.0, 680.0, 200.0))
flutter: the drag offset is inside the block, dragOffset(Offset(137.7, 184.5)), globalBlockRect(Rect.fromLTRB(120.0, 162.0, 680.0, 200.0))
flutter: the drag offset is inside the block, dragOffset(Offset(138.5, 189.3)), globalBlockRect(Rect.fromLTRB(120.0, 162.0, 680.0, 200.0))
flutter: the drag offset is inside the block, dragOffset(Offset(138.5, 192.8)), globalBlockRect(Rect.fromLTRB(120.0, 162.0, 680.0, 200.0))
flutter: the drag offset is inside the block, dragOffset(Offset(138.5, 193.9)), globalBlockRect(Rect.fromLTRB(120.0, 162.0, 680.0, 200.0))
flutter: the drag offset is inside the block, dragOffset(Offset(139.0, 194.7)), globalBlockRect(Rect.fromLTRB(120.0, 162.0, 680.0, 200.0))
flutter: the drag offset is inside the block, dragOffset(Offset(139.0, 195.7)), globalBlockRect(Rect.fromLTRB(120.0, 162.0, 680.0, 200.0))
flutter: the drag offset is inside the block, dragOffset(Offset(139.0, 195.9)), globalBlockRect(Rect.fromLTRB(120.0, 162.0, 680.0, 200.0))
flutter: the drag offset is inside the block, dragOffset(Offset(139.0, 196.2)), globalBlockRect(Rect.fromLTRB(120.0, 162.0, 680.0, 200.0))
flutter: the drag offset is inside the block, dragOffset(Offset(139.0, 196.7)), globalBlockRect(Rect.fromLTRB(120.0, 162.0, 680.0, 200.0))
flutter: onDragEnd, acceptedPath([4])
flutter: the drag offset is inside the block, dragOffset(Offset(139.0, 196.7)), globalBlockRect(Rect.fromLTRB(120.0, 162.0, 680.0, 200.0))
flutter: Moving node(Node(id: bRdTay, type: paragraph, attributes: {timestamp: 2025-04-24T17:03:55.612881, device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a, delta: [{insert: New Task 1}]}, children: []), [1]) to path([3])
flutter: Transaction done
apply_action: Starting with 1 actions for doc_id: xxxx
move_block: Moving block_id: bRdTay from parent: m8OEVv to parent: m8OEVv
remove_block_from_prev_id_chain: Removing block bRdTay from chain
  Block bRdTay has prev_id: Mk_Gts
  Finding blocks that reference bRdTay as their prev_id
find_block_referencing_prev_id: Searching for blocks with prev_id = bRdTay
  Found 6 total blocks to check
  Checking block: Mk_Gts
    Block does not have prev_id
  Checking block: Ps7gyS
    Block does not have prev_id
  Checking block: m8OEVv
    Block does not have prev_id
  Checking block: bRdTay
    Block has prev_id: Mk_Gts, matches target: false
  Checking block: tStG1d
    Block has prev_id: Ps7gyS, matches target: false
  Checking block: zhA_gK
    Block has prev_id: tStG1d, matches target: false
find_block_referencing_prev_id: Found 0 blocks with prev_id = bRdTay: []
  Found 0 next blocks: []
remove_block_from_prev_id_chain: Completed
handle_following_connection: block_id=bRdTay, next_id=None, prev_id=Some("tStG1d")
  Using prev_id strategy (prev_id=tStG1d)
find_block_referencing_prev_id: Searching for blocks with prev_id = tStG1d
  Found 6 total blocks to check
  Checking block: Mk_Gts
    Block does not have prev_id
  Checking block: Ps7gyS
    Block does not have prev_id
  Checking block: m8OEVv
    Block does not have prev_id
  Checking block: bRdTay
    Block has prev_id: Mk_Gts, matches target: false
  Checking block: tStG1d
    Block has prev_id: Ps7gyS, matches target: false
  Checking block: zhA_gK
    Block has prev_id: tStG1d, matches target: true
find_block_referencing_prev_id: Found 1 blocks with prev_id = tStG1d: ["zhA_gK"]
  Found 1 nodes that reference prev_id tStG1d: ["zhA_gK"]
  Updating block zhA_gK to point to bRdTay
  Finished prev_id strategy
move_block: Moved block within same parent
apply_action: Encoding state for doc_id: xxxx
apply_updates: Starting with 39 updates for doc_id: xxxx
apply_updates: Starting with 39 updates for doc_id: xxxx
apply_updates: Applying update for doc_id: xxxx
apply_updates: Finished for doc_id: xxxx
apply_updates: Successfully applied updates for doc_id: xxxx
get_document_state: Starting for doc_id: xxxx
extract_document_state: Starting for doc_id: xxxx
extract_document_state: Processing 6 blocks
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 0 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
====== STARTING BLOCK SORTING ======
Input children_map has 5 parent nodes

----- Sorting children of parent: zhA_gK -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent zhA_gK: []

----- Sorting children of parent: m8OEVv -----
Parent has 4 children to sort
Mapped 4 valid blocks by ID
Block Ps7gyS assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block Mk_Gts assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block bRdTay assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block tStG1d assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Grouped blocks into 1 devices
  - Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 4 blocks
Block Ps7gyS has no prev_id
Block Mk_Gts has no prev_id
Block bRdTay has prev_id tStG1d
Block tStG1d has prev_id Ps7gyS
Built prev->next map with 2 entries
  - tStG1d has 1 next blocks: ["bRdTay"]
  - Ps7gyS has 1 next blocks: ["tStG1d"]
Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 2 root blocks: ["Ps7gyS", "Mk_Gts"]
Processing devices in order: ["4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"]

Processing device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Comparing root blocks: Mk_Gts (time: 2025-04-24T17:04:05.077214) vs Ps7gyS (time: 2025-04-24T17:05:13.710104)
Sorted roots for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a: ["Mk_Gts", "Ps7gyS"]
Starting chain from root: Mk_Gts
  Adding block Mk_Gts to sorted list
  No next blocks for Mk_Gts
Starting chain from root: Ps7gyS
  Adding block Ps7gyS to sorted list
    Pushing tStG1d onto stack
  Adding block tStG1d to sorted list
    Pushing bRdTay onto stack
  Adding block bRdTay to sorted list
  No next blocks for bRdTay
No remaining blocks for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
No globally remaining blocks
Final sorted order for parent m8OEVv: ["Mk_Gts", "Ps7gyS", "tStG1d", "bRdTay"]

----- Sorting children of parent: tStG1d -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent tStG1d: []

----- Sorting children of parent: bRdTay -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent bRdTay: []

----- Sorting children of parent: Ps7gyS -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent Ps7gyS: []
====== COMPLETED BLOCK SORTING ======
Final sorted children map has 5 parents
extract_document_state: Extracted 6 blocks and 5 parent-child relationships
get_document_state: Finished for doc_id: xxxx
merge_updates: Merging 1 updates
merge_updates: Successfully merged updates
apply_updates: Starting with 40 updates for doc_id: xxxx
apply_updates: Starting with 40 updates for doc_id: xxxx
apply_updates: Applying update for doc_id: xxxx
apply_updates: Finished for doc_id: xxxx
apply_updates: Successfully applied updates for doc_id: xxxx
get_document_state: Starting for doc_id: xxxx
extract_document_state: Starting for doc_id: xxxx
extract_document_state: Processing 6 blocks
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 0 deltas
deltas_to_json: Converting 1 deltas
====== STARTING BLOCK SORTING ======
Input children_map has 5 parent nodes

----- Sorting children of parent: Ps7gyS -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent Ps7gyS: []

----- Sorting children of parent: zhA_gK -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent zhA_gK: []

----- Sorting children of parent: m8OEVv -----
Parent has 4 children to sort
Mapped 4 valid blocks by ID
Block Mk_Gts assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block tStG1d assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block bRdTay assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block Ps7gyS assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Grouped blocks into 1 devices
  - Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 4 blocks
Block Mk_Gts has no prev_id
Block tStG1d has prev_id Ps7gyS
Block bRdTay has prev_id tStG1d
Block Ps7gyS has no prev_id
Built prev->next map with 2 entries
  - tStG1d has 1 next blocks: ["bRdTay"]
  - Ps7gyS has 1 next blocks: ["tStG1d"]
Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 2 root blocks: ["Mk_Gts", "Ps7gyS"]
Processing devices in order: ["4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"]

Processing device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Comparing root blocks: Ps7gyS (time: 2025-04-24T17:05:13.710104) vs Mk_Gts (time: 2025-04-24T17:04:05.077214)
Sorted roots for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a: ["Mk_Gts", "Ps7gyS"]
Starting chain from root: Mk_Gts
  Adding block Mk_Gts to sorted list
  No next blocks for Mk_Gts
Starting chain from root: Ps7gyS
  Adding block Ps7gyS to sorted list
    Pushing tStG1d onto stack
  Adding block tStG1d to sorted list
    Pushing bRdTay onto stack
  Adding block bRdTay to sorted list
  No next blocks for bRdTay
No remaining blocks for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
No globally remaining blocks
Final sorted order for parent m8OEVv: ["Mk_Gts", "Ps7gyS", "tStG1d", "bRdTay"]

----- Sorting children of parent: bRdTay -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent bRdTay: []

----- Sorting children of parent: tStG1d -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent tStG1d: []
====== COMPLETED BLOCK SORTING ======
Final sorted children map has 5 parents
extract_document_state: Extracted 6 blocks and 5 parent-child relationships
get_document_state: Finished for doc_id: xxxx
flutter: onDragStarted
flutter: the drag offset is inside the block, dragOffset(Offset(163.5, 160.1)), globalBlockRect(Rect.fromLTRB(120.0, 124.0, 680.0, 162.0))
flutter: the drag offset is inside the block, dragOffset(Offset(164.6, 159.7)), globalBlockRect(Rect.fromLTRB(120.0, 124.0, 680.0, 162.0))
flutter: the drag offset is inside the block, dragOffset(Offset(166.0, 159.1)), globalBlockRect(Rect.fromLTRB(120.0, 124.0, 680.0, 162.0))
flutter: the drag offset is inside the block, dragOffset(Offset(166.2, 159.1)), globalBlockRect(Rect.fromLTRB(120.0, 124.0, 680.0, 162.0))
flutter: the drag offset is inside the block, dragOffset(Offset(166.5, 158.8)), globalBlockRect(Rect.fromLTRB(120.0, 124.0, 680.0, 162.0))
flutter: the drag offset is inside the block, dragOffset(Offset(167.0, 158.8)), globalBlockRect(Rect.fromLTRB(120.0, 124.0, 680.0, 162.0))
flutter: the drag offset is inside the block, dragOffset(Offset(167.5, 158.3)), globalBlockRect(Rect.fromLTRB(120.0, 124.0, 680.0, 162.0))
flutter: the drag offset is inside the block, dragOffset(Offset(168.0, 158.3)), globalBlockRect(Rect.fromLTRB(120.0, 124.0, 680.0, 162.0))
flutter: the drag offset is inside the block, dragOffset(Offset(168.8, 158.3)), globalBlockRect(Rect.fromLTRB(120.0, 124.0, 680.0, 162.0))
flutter: the drag offset is inside the block, dragOffset(Offset(169.5, 158.1)), globalBlockRect(Rect.fromLTRB(120.0, 124.0, 680.0, 162.0))
flutter: the drag offset is inside the block, dragOffset(Offset(170.0, 158.1)), globalBlockRect(Rect.fromLTRB(120.0, 124.0, 680.0, 162.0))
flutter: the drag offset is inside the block, dragOffset(Offset(170.8, 157.6)), globalBlockRect(Rect.fromLTRB(120.0, 124.0, 680.0, 162.0))
flutter: the drag offset is inside the block, dragOffset(Offset(173.0, 157.2)), globalBlockRect(Rect.fromLTRB(120.0, 124.0, 680.0, 162.0))
flutter: the drag offset is inside the block, dragOffset(Offset(175.9, 155.0)), globalBlockRect(Rect.fromLTRB(120.0, 124.0, 680.0, 162.0))
flutter: the drag offset is inside the block, dragOffset(Offset(178.8, 153.9)), globalBlockRect(Rect.fromLTRB(120.0, 124.0, 680.0, 162.0))
flutter: the drag offset is inside the block, dragOffset(Offset(181.2, 152.7)), globalBlockRect(Rect.fromLTRB(120.0, 124.0, 680.0, 162.0))
flutter: the drag offset is inside the block, dragOffset(Offset(182.8, 151.8)), globalBlockRect(Rect.fromLTRB(120.0, 124.0, 680.0, 162.0))
flutter: the drag offset is inside the block, dragOffset(Offset(185.7, 151.2)), globalBlockRect(Rect.fromLTRB(120.0, 124.0, 680.0, 162.0))
flutter: the drag offset is inside the block, dragOffset(Offset(186.2, 150.7)), globalBlockRect(Rect.fromLTRB(120.0, 124.0, 680.0, 162.0))
flutter: the drag offset is inside the block, dragOffset(Offset(187.2, 150.5)), globalBlockRect(Rect.fromLTRB(120.0, 124.0, 680.0, 162.0))
flutter: the drag offset is inside the block, dragOffset(Offset(188.2, 150.0)), globalBlockRect(Rect.fromLTRB(120.0, 124.0, 680.0, 162.0))
flutter: the drag offset is inside the block, dragOffset(Offset(189.9, 149.7)), globalBlockRect(Rect.fromLTRB(120.0, 124.0, 680.0, 162.0))
flutter: the drag offset is inside the block, dragOffset(Offset(190.4, 149.7)), globalBlockRect(Rect.fromLTRB(120.0, 124.0, 680.0, 162.0))
flutter: the drag offset is inside the block, dragOffset(Offset(192.0, 148.8)), globalBlockRect(Rect.fromLTRB(120.0, 124.0, 680.0, 162.0))
flutter: the drag offset is inside the block, dragOffset(Offset(193.0, 148.3)), globalBlockRect(Rect.fromLTRB(120.0, 124.0, 680.0, 162.0))
flutter: the drag offset is inside the block, dragOffset(Offset(193.3, 148.3)), globalBlockRect(Rect.fromLTRB(120.0, 124.0, 680.0, 162.0))
flutter: the drag offset is inside the block, dragOffset(Offset(194.4, 147.9)), globalBlockRect(Rect.fromLTRB(120.0, 124.0, 680.0, 162.0))
flutter: the drag offset is inside the block, dragOffset(Offset(194.9, 147.9)), globalBlockRect(Rect.fromLTRB(120.0, 124.0, 680.0, 162.0))
flutter: the drag offset is inside the block, dragOffset(Offset(195.2, 147.9)), globalBlockRect(Rect.fromLTRB(120.0, 124.0, 680.0, 162.0))
flutter: the drag offset is inside the block, dragOffset(Offset(197.5, 147.3)), globalBlockRect(Rect.fromLTRB(120.0, 124.0, 680.0, 162.0))
flutter: the drag offset is inside the block, dragOffset(Offset(197.8, 147.1)), globalBlockRect(Rect.fromLTRB(120.0, 124.0, 680.0, 162.0))
flutter: onDragEnd, acceptedPath([3])
flutter: the drag offset is inside the block, dragOffset(Offset(197.8, 147.1)), globalBlockRect(Rect.fromLTRB(120.0, 124.0, 680.0, 162.0))
flutter: Moving node(Node(id: bRdTay, type: paragraph, attributes: {timestamp: 2025-04-24T17:03:55.612881, device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a, delta: [{insert: New Task 1}]}, children: []), [3]) to path([2])
flutter: Transaction done
apply_action: Starting with 1 actions for doc_id: xxxx
move_block: Moving block_id: bRdTay from parent: m8OEVv to parent: tStG1d
remove_block_from_prev_id_chain: Removing block bRdTay from chain
  Block bRdTay has prev_id: tStG1d
  Finding blocks that reference bRdTay as their prev_id
find_block_referencing_prev_id: Searching for blocks with prev_id = bRdTay
  Found 6 total blocks to check
  Checking block: tStG1d
    Block has prev_id: Ps7gyS, matches target: false
  Checking block: m8OEVv
    Block does not have prev_id
  Checking block: bRdTay
    Block has prev_id: tStG1d, matches target: false
  Checking block: zhA_gK
    Block has prev_id: bRdTay, matches target: true
  Checking block: Mk_Gts
    Block does not have prev_id
  Checking block: Ps7gyS
    Block does not have prev_id
find_block_referencing_prev_id: Found 1 blocks with prev_id = bRdTay: ["zhA_gK"]
  Found 1 next blocks: ["zhA_gK"]
  Updating next block zhA_gK to point to tStG1d (was pointing to bRdTay)
remove_block_from_prev_id_chain: Completed
handle_following_connection: block_id=bRdTay, next_id=None, prev_id=None
  No prev_id or next_id provided, nothing to handle
handle_following_connection: Completed
move_block: Moved block between parents
apply_action: Encoding state for doc_id: xxxx
apply_updates: Starting with 40 updates for doc_id: xxxx
apply_updates: Starting with 40 updates for doc_id: xxxx
apply_updates: Applying update for doc_id: xxxx
apply_updates: Finished for doc_id: xxxx
apply_updates: Successfully applied updates for doc_id: xxxx
get_document_state: Starting for doc_id: xxxx
extract_document_state: Starting for doc_id: xxxx
extract_document_state: Processing 6 blocks
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 0 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
====== STARTING BLOCK SORTING ======
Input children_map has 5 parent nodes

----- Sorting children of parent: tStG1d -----
Parent has 1 children to sort
Mapped 1 valid blocks by ID
Block bRdTay assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Grouped blocks into 1 devices
  - Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 1 blocks
Block bRdTay has no prev_id
Built prev->next map with 0 entries
Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 1 root blocks: ["bRdTay"]
Processing devices in order: ["4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"]

Processing device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Sorted roots for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a: ["bRdTay"]
Starting chain from root: bRdTay
  Adding block bRdTay to sorted list
  No next blocks for bRdTay
No remaining blocks for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
No globally remaining blocks
Final sorted order for parent tStG1d: ["bRdTay"]

----- Sorting children of parent: bRdTay -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent bRdTay: []

----- Sorting children of parent: zhA_gK -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent zhA_gK: []

----- Sorting children of parent: Ps7gyS -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent Ps7gyS: []

----- Sorting children of parent: m8OEVv -----
Parent has 3 children to sort
Mapped 3 valid blocks by ID
Block Ps7gyS assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block bRdTay assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block tStG1d assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Grouped blocks into 1 devices
  - Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 3 blocks
Block Ps7gyS has no prev_id
Block bRdTay has no prev_id
Block tStG1d has prev_id Ps7gyS
Built prev->next map with 1 entries
  - Ps7gyS has 1 next blocks: ["tStG1d"]
Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 2 root blocks: ["Ps7gyS", "bRdTay"]
Processing devices in order: ["4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"]

Processing device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Comparing root blocks: bRdTay (time: 2025-04-24T17:03:55.612881) vs Ps7gyS (time: 2025-04-24T17:05:13.710104)
Sorted roots for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a: ["bRdTay", "Ps7gyS"]
Starting chain from root: bRdTay
  Adding block bRdTay to sorted list
  No next blocks for bRdTay
Starting chain from root: Ps7gyS
  Adding block Ps7gyS to sorted list
    Pushing tStG1d onto stack
  Adding block tStG1d to sorted list
  No next blocks for tStG1d
No remaining blocks for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
No globally remaining blocks
Final sorted order for parent m8OEVv: ["bRdTay", "Ps7gyS", "tStG1d"]
====== COMPLETED BLOCK SORTING ======
Final sorted children map has 5 parents
extract_document_state: Extracted 6 blocks and 5 parent-child relationships
get_document_state: Finished for doc_id: xxxx
flutter: {
flutter:   "docId": "xxxx",
flutter:   "blocks": {
flutter:     "Mk_Gts": {
flutter:       "id": "Mk_Gts",
flutter:       "ty": "",
flutter:       "attributes": {
flutter:         "device": "4cb3899a-3fe4-4bb1-bbf4-edd464b0977a",
flutter:         "checked": "false",
flutter:         "timestamp": "2025-04-24T17:04:05.077214"
flutter:       },
flutter:       "delta": "[]",
flutter:       "parentId": null,
flutter:       "prevId": null,
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "bRdTay": {
flutter:       "id": "bRdTay",
flutter:       "ty": "paragraph",
flutter:       "attributes": {
flutter:         "timestamp": "2025-04-24T17:03:55.612881",
flutter:         "device": "4cb3899a-3fe4-4bb1-bbf4-edd464b0977a",
flutter:         "delta": "[]"
flutter:       },
flutter:       "delta": "[{\"insert\":\"New Task 1\"}]",
flutter:       "parentId": "tStG1d",
flutter:       "prevId": null,
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "tStG1d": {
flutter:       "id": "tStG1d",
flutter:       "ty": "paragraph",
flutter:       "attributes": {
flutter:         "device": "4cb3899a-3fe4-4bb1-bbf4-edd464b0977a",
flutter:         "timestamp": "2025-04-24T17:05:06.893741",
flutter:         "delta": "[]"
flutter:       },
flutter:       "delta": "[{\"insert\":\"New task 2\"}]",
flutter:       "parentId": "m8OEVv",
flutter:       "prevId": "Ps7gyS",
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "Ps7gyS": {
flutter:       "id": "Ps7gyS",
flutter:       "ty": "paragraph",
flutter:       "attributes": {
flutter:         "delta": "[]",
flutter:         "timestamp": "2025-04-24T17:05:13.710104",
flutter:         "device": "4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"
flutter:       },
flutter:       "delta": "[{\"insert\":\"New task 3\"}]",
flutter:       "parentId": "m8OEVv",
flutter:       "prevId": null,
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "m8OEVv": {
flutter:       "id": "m8OEVv",
flutter:       "ty": "page",
flutter:       "attributes": {
flutter:         "timestamp": "2025-04-24T17:01:59.905543",
flutter:         "device": "3a00f73e-0356-4c61-a6e1-cb439d9dbf33"
flutter:       },
flutter:       "delta": null,
flutter:       "parentId": null,
flutter:       "prevId": null,
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "zhA_gK": {
flutter:       "id": "zhA_gK",
flutter:       "ty": "todo_list",
flutter:       "attributes": {
flutter:         "checked": "false",
flutter:         "timestamp": "2025-04-24T17:04:02.277720",
flutter:         "device": "4cb3899a-3fe4-4bb1-bbf4-edd464b0977a",
flutter:         "delta": "[]"
flutter:       },
flutter:       "delta": "[{\"insert\":\"Task is mine\"}]",
flutter:       "parentId": "m8OEVv",
flutter:       "prevId": "tStG1d",
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     }
flutter:   },
flutter:   "childrenMap": {
flutter:     "m8OEVv": [
flutter:       "bRdTay",
flutter:       "Ps7gyS",
flutter:       "tStG1d"
flutter:     ],
flutter:     "bRdTay": [],
flutter:     "Ps7gyS": [],
flutter:     "tStG1d": [
flutter:       "bRdTay"
flutter:     ],
flutter:     "zhA_gK": []
flutter:   },
flutter:   "rootId": "m8OEVv"
flutter: }
merge_updates: Merging 1 updates
merge_updates: Successfully merged updates
apply_updates: Starting with 41 updates for doc_id: xxxx
apply_updates: Starting with 41 updates for doc_id: xxxx
apply_updates: Applying update for doc_id: xxxx
apply_updates: Finished for doc_id: xxxx
apply_updates: Successfully applied updates for doc_id: xxxx
get_document_state: Starting for doc_id: xxxx
extract_document_state: Starting for doc_id: xxxx
extract_document_state: Processing 6 blocks
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 0 deltas
deltas_to_json: Converting 1 deltas
====== STARTING BLOCK SORTING ======
Input children_map has 5 parent nodes

----- Sorting children of parent: Ps7gyS -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent Ps7gyS: []

----- Sorting children of parent: zhA_gK -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent zhA_gK: []

----- Sorting children of parent: tStG1d -----
Parent has 1 children to sort
Mapped 1 valid blocks by ID
Block bRdTay assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Grouped blocks into 1 devices
  - Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 1 blocks
Block bRdTay has no prev_id
Built prev->next map with 0 entries
Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 1 root blocks: ["bRdTay"]
Processing devices in order: ["4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"]

Processing device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Sorted roots for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a: ["bRdTay"]
Starting chain from root: bRdTay
  Adding block bRdTay to sorted list
  No next blocks for bRdTay
No remaining blocks for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
No globally remaining blocks
Final sorted order for parent tStG1d: ["bRdTay"]

----- Sorting children of parent: bRdTay -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent bRdTay: []

----- Sorting children of parent: m8OEVv -----
Parent has 3 children to sort
Mapped 3 valid blocks by ID
Block tStG1d assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block bRdTay assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block Ps7gyS assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Grouped blocks into 1 devices
  - Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 3 blocks
Block tStG1d has prev_id Ps7gyS
Block bRdTay has no prev_id
Block Ps7gyS has no prev_id
Built prev->next map with 1 entries
  - Ps7gyS has 1 next blocks: ["tStG1d"]
Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 2 root blocks: ["bRdTay", "Ps7gyS"]
Processing devices in order: ["4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"]

Processing device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Comparing root blocks: Ps7gyS (time: 2025-04-24T17:05:13.710104) vs bRdTay (time: 2025-04-24T17:03:55.612881)
Sorted roots for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a: ["bRdTay", "Ps7gyS"]
Starting chain from root: bRdTay
  Adding block bRdTay to sorted list
  No next blocks for bRdTay
Starting chain from root: Ps7gyS
  Adding block Ps7gyS to sorted list
    Pushing tStG1d onto stack
  Adding block tStG1d to sorted list
  No next blocks for tStG1d
No remaining blocks for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
No globally remaining blocks
Final sorted order for parent m8OEVv: ["bRdTay", "Ps7gyS", "tStG1d"]
====== COMPLETED BLOCK SORTING ======
Final sorted children map has 5 parents
extract_document_state: Extracted 6 blocks and 5 parent-child relationships
get_document_state: Finished for doc_id: xxxx
flutter: Transaction done
apply_action: Starting with 3 actions for doc_id: xxxx
delete_node: Starting for block_id: bRdTay
remove_block_from_prev_id_chain: Removing block bRdTay from chain
  Finding blocks that reference bRdTay as their prev_id
find_block_referencing_prev_id: Searching for blocks with prev_id = bRdTay
  Found 6 total blocks to check
  Checking block: bRdTay
    Block does not have prev_id
  Checking block: zhA_gK
    Block has prev_id: tStG1d, matches target: false
  Checking block: m8OEVv
    Block does not have prev_id
  Checking block: tStG1d
    Block has prev_id: Ps7gyS, matches target: false
  Checking block: Mk_Gts
    Block does not have prev_id
  Checking block: Ps7gyS
    Block does not have prev_id
find_block_referencing_prev_id: Found 0 blocks with prev_id = bRdTay: []
  Found 0 next blocks: []
remove_block_from_prev_id_chain: Completed
delete_node: Successfully deleted block_id: bRdTay
delete_node: Starting for block_id: Ps7gyS
remove_block_from_prev_id_chain: Removing block Ps7gyS from chain
  Finding blocks that reference Ps7gyS as their prev_id
find_block_referencing_prev_id: Searching for blocks with prev_id = Ps7gyS
  Found 5 total blocks to check
  Checking block: zhA_gK
    Block has prev_id: tStG1d, matches target: false
  Checking block: m8OEVv
    Block does not have prev_id
  Checking block: tStG1d
    Block has prev_id: Ps7gyS, matches target: true
  Checking block: Mk_Gts
    Block does not have prev_id
  Checking block: Ps7gyS
    Block does not have prev_id
find_block_referencing_prev_id: Found 1 blocks with prev_id = Ps7gyS: ["tStG1d"]
  Found 1 next blocks: ["tStG1d"]
  Removing prev_id from next block tStG1d (was pointing to Ps7gyS)
remove_block_from_prev_id_chain: Completed
delete_node: Successfully deleted block_id: Ps7gyS
delete_node: Starting for block_id: tStG1d
remove_block_from_prev_id_chain: Removing block tStG1d from chain
  Finding blocks that reference tStG1d as their prev_id
find_block_referencing_prev_id: Searching for blocks with prev_id = tStG1d
  Found 4 total blocks to check
  Checking block: zhA_gK
    Block has prev_id: tStG1d, matches target: true
  Checking block: m8OEVv
    Block does not have prev_id
  Checking block: tStG1d
    Block does not have prev_id
  Checking block: Mk_Gts
    Block does not have prev_id
find_block_referencing_prev_id: Found 1 blocks with prev_id = tStG1d: ["zhA_gK"]
  Found 1 next blocks: ["zhA_gK"]
  Removing prev_id from next block zhA_gK (was pointing to tStG1d)
remove_block_from_prev_id_chain: Completed
delete_node: Starting for block_id: bRdTay
remove_block_from_prev_id_chain: Removing block bRdTay from chain
  Finding blocks that reference bRdTay as their prev_id
find_block_referencing_prev_id: Searching for blocks with prev_id = bRdTay
  Found 5 total blocks to check
  Checking block: bRdTay
    Block does not have prev_id
  Checking block: zhA_gK
    Block does not have prev_id
  Checking block: m8OEVv
    Block does not have prev_id
  Checking block: tStG1d
    Block does not have prev_id
  Checking block: Mk_Gts
    Block does not have prev_id
find_block_referencing_prev_id: Found 0 blocks with prev_id = bRdTay: []
  Found 0 next blocks: []
remove_block_from_prev_id_chain: Completed
delete_node: Successfully deleted block_id: bRdTay
delete_node: Successfully deleted block_id: tStG1d
apply_action: Encoding state for doc_id: xxxx
apply_updates: Starting with 41 updates for doc_id: xxxx
apply_updates: Starting with 41 updates for doc_id: xxxx
apply_updates: Applying update for doc_id: xxxx
apply_updates: Finished for doc_id: xxxx
apply_updates: Successfully applied updates for doc_id: xxxx
get_document_state: Starting for doc_id: xxxx
extract_document_state: Starting for doc_id: xxxx
extract_document_state: Processing 3 blocks
deltas_to_json: Converting 0 deltas
deltas_to_json: Converting 1 deltas
====== STARTING BLOCK SORTING ======
Input children_map has 2 parent nodes

----- Sorting children of parent: m8OEVv -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent m8OEVv: []

----- Sorting children of parent: zhA_gK -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent zhA_gK: []
====== COMPLETED BLOCK SORTING ======
Final sorted children map has 2 parents
extract_document_state: Extracted 3 blocks and 2 parent-child relationships
get_document_state: Finished for doc_id: xxxx
merge_updates: Merging 1 updates
merge_updates: Successfully merged updates
apply_updates: Starting with 42 updates for doc_id: xxxx
apply_updates: Starting with 42 updates for doc_id: xxxx
apply_updates: Applying update for doc_id: xxxx
apply_updates: Finished for doc_id: xxxx
apply_updates: Successfully applied updates for doc_id: xxxx
get_document_state: Starting for doc_id: xxxx
extract_document_state: Starting for doc_id: xxxx
extract_document_state: Processing 3 blocks
deltas_to_json: Converting 0 deltas
deltas_to_json: Converting 1 deltas
====== STARTING BLOCK SORTING ======
Input children_map has 2 parent nodes

----- Sorting children of parent: zhA_gK -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent zhA_gK: []

----- Sorting children of parent: m8OEVv -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent m8OEVv: []
====== COMPLETED BLOCK SORTING ======
Final sorted children map has 2 parents
extract_document_state: Extracted 3 blocks and 2 parent-child relationships
get_document_state: Finished for doc_id: xxxx
flutter: Transaction done
apply_action: Starting with 1 actions for doc_id: xxxx
insert_node: Starting for block_id: ujx855
deltas_to_json: Converting 0 deltas
apply_delta_to_text: Computing delta diff
apply_delta_to_text: Parsing delta diff from JSON
apply_delta_to_text: No changes to apply
handle_prev_id_chain: block_id=ujx855, prev_id=None
  No prev_id provided, nothing to handle
handle_prev_id_chain: Completed
handle_following_connection: block_id=ujx855, next_id=None, prev_id=None
  No prev_id or next_id provided, nothing to handle
handle_following_connection: Completed
insert_node: Finished for block_id: ujx855
apply_action: Encoding state for doc_id: xxxx
apply_updates: Starting with 40 updates for doc_id: xxxx
apply_updates: Starting with 40 updates for doc_id: xxxx
apply_updates: Applying update for doc_id: xxxx
apply_updates: Finished for doc_id: xxxx
apply_updates: Successfully applied updates for doc_id: xxxx
get_document_state: Starting for doc_id: xxxx
extract_document_state: Starting for doc_id: xxxx
extract_document_state: Processing 4 blocks
deltas_to_json: Converting 0 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 0 deltas
====== STARTING BLOCK SORTING ======
Input children_map has 3 parent nodes

----- Sorting children of parent: zhA_gK -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent zhA_gK: []

----- Sorting children of parent: ujx855 -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent ujx855: []

----- Sorting children of parent: m8OEVv -----
Parent has 1 children to sort
Mapped 1 valid blocks by ID
Block ujx855 assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Grouped blocks into 1 devices
  - Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 1 blocks
Block ujx855 has no prev_id
Built prev->next map with 0 entries
Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 1 root blocks: ["ujx855"]
Processing devices in order: ["4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"]

Processing device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Sorted roots for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a: ["ujx855"]
Starting chain from root: ujx855
  Adding block ujx855 to sorted list
  No next blocks for ujx855
No remaining blocks for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
No globally remaining blocks
Final sorted order for parent m8OEVv: ["ujx855"]
====== COMPLETED BLOCK SORTING ======
Final sorted children map has 3 parents
extract_document_state: Extracted 4 blocks and 3 parent-child relationships
get_document_state: Finished for doc_id: xxxx
flutter: {
flutter:   "docId": "xxxx",
flutter:   "blocks": {
flutter:     "Mk_Gts": {
flutter:       "id": "Mk_Gts",
flutter:       "ty": "",
flutter:       "attributes": {
flutter:         "checked": "false",
flutter:         "timestamp": "2025-04-24T17:04:05.077214",
flutter:         "device": "4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"
flutter:       },
flutter:       "delta": "[]",
flutter:       "parentId": null,
flutter:       "prevId": null,
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "ujx855": {
flutter:       "id": "ujx855",
flutter:       "ty": "paragraph",
flutter:       "attributes": {
flutter:         "timestamp": "2025-04-24T17:06:34.210998",
flutter:         "delta": "[]",
flutter:         "device": "4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"
flutter:       },
flutter:       "delta": "[]",
flutter:       "parentId": "m8OEVv",
flutter:       "prevId": null,
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "m8OEVv": {
flutter:       "id": "m8OEVv",
flutter:       "ty": "page",
flutter:       "attributes": {
flutter:         "timestamp": "2025-04-24T17:01:59.905543",
flutter:         "device": "3a00f73e-0356-4c61-a6e1-cb439d9dbf33"
flutter:       },
flutter:       "delta": null,
flutter:       "parentId": null,
flutter:       "prevId": null,
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "zhA_gK": {
flutter:       "id": "zhA_gK",
flutter:       "ty": "todo_list",
flutter:       "attributes": {
flutter:         "checked": "false",
flutter:         "timestamp": "2025-04-24T17:04:02.277720",
flutter:         "device": "4cb3899a-3fe4-4bb1-bbf4-edd464b0977a",
flutter:         "delta": "[]"
flutter:       },
flutter:       "delta": "[{\"insert\":\"Task is mine\"}]",
flutter:       "parentId": "m8OEVv",
flutter:       "prevId": null,
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     }
flutter:   },
flutter:   "childrenMap": {
flutter:     "ujx855": [],
flutter:     "m8OEVv": [
flutter:       "ujx855"
flutter:     ],
flutter:     "zhA_gK": []
flutter:   },
flutter:   "rootId": "m8OEVv"
flutter: }
merge_updates: Merging 1 updates
merge_updates: Successfully merged updates
apply_updates: Starting with 41 updates for doc_id: xxxx
apply_updates: Starting with 41 updates for doc_id: xxxx
apply_updates: Applying update for doc_id: xxxx
apply_updates: Finished for doc_id: xxxx
apply_updates: Successfully applied updates for doc_id: xxxx
get_document_state: Starting for doc_id: xxxx
extract_document_state: Starting for doc_id: xxxx
extract_document_state: Processing 4 blocks
deltas_to_json: Converting 0 deltas
deltas_to_json: Converting 0 deltas
deltas_to_json: Converting 1 deltas
====== STARTING BLOCK SORTING ======
Input children_map has 3 parent nodes

----- Sorting children of parent: zhA_gK -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent zhA_gK: []

----- Sorting children of parent: ujx855 -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent ujx855: []

----- Sorting children of parent: m8OEVv -----
Parent has 1 children to sort
Mapped 1 valid blocks by ID
Block ujx855 assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Grouped blocks into 1 devices
  - Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 1 blocks
Block ujx855 has no prev_id
Built prev->next map with 0 entries
Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 1 root blocks: ["ujx855"]
Processing devices in order: ["4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"]

Processing device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Sorted roots for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a: ["ujx855"]
Starting chain from root: ujx855
  Adding block ujx855 to sorted list
  No next blocks for ujx855
No remaining blocks for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
No globally remaining blocks
Final sorted order for parent m8OEVv: ["ujx855"]
====== COMPLETED BLOCK SORTING ======
Final sorted children map has 3 parents
extract_document_state: Extracted 4 blocks and 3 parent-child relationships
get_document_state: Finished for doc_id: xxxx
flutter: Transaction done
apply_action: Starting with 1 actions for doc_id: xxxx
update_node: Updating block_id: ujx855
deltas_to_json: Converting 0 deltas
apply_delta_to_text: Computing delta diff
apply_delta_to_text: Parsing delta diff from JSON
apply_delta_diff_to_text: Starting with 1 operations
update_node: Updated block_id: ujx855
apply_action: Encoding state for doc_id: xxxx
apply_updates: Starting with 42 updates for doc_id: xxxx
apply_updates: Starting with 42 updates for doc_id: xxxx
apply_updates: Applying update for doc_id: xxxx
apply_updates: Finished for doc_id: xxxx
apply_updates: Successfully applied updates for doc_id: xxxx
get_document_state: Starting for doc_id: xxxx
extract_document_state: Starting for doc_id: xxxx
extract_document_state: Processing 4 blocks
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 0 deltas
deltas_to_json: Converting 1 deltas
====== STARTING BLOCK SORTING ======
Input children_map has 3 parent nodes

----- Sorting children of parent: ujx855 -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent ujx855: []

----- Sorting children of parent: zhA_gK -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent zhA_gK: []

----- Sorting children of parent: m8OEVv -----
Parent has 1 children to sort
Mapped 1 valid blocks by ID
Block ujx855 assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Grouped blocks into 1 devices
  - Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 1 blocks
Block ujx855 has no prev_id
Built prev->next map with 0 entries
Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 1 root blocks: ["ujx855"]
Processing devices in order: ["4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"]

Processing device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Sorted roots for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a: ["ujx855"]
Starting chain from root: ujx855
  Adding block ujx855 to sorted list
  No next blocks for ujx855
No remaining blocks for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
No globally remaining blocks
Final sorted order for parent m8OEVv: ["ujx855"]
====== COMPLETED BLOCK SORTING ======
Final sorted children map has 3 parents
extract_document_state: Extracted 4 blocks and 3 parent-child relationships
get_document_state: Finished for doc_id: xxxx
flutter: Transaction done
apply_action: Starting with 1 actions for doc_id: xxxx
update_node: Updating block_id: ujx855
deltas_to_json: Converting 1 deltas
apply_delta_to_text: Computing delta diff
apply_delta_to_text: Parsing delta diff from JSON
apply_delta_diff_to_text: Starting with 2 operations
update_node: Updated block_id: ujx855
apply_action: Encoding state for doc_id: xxxx
apply_updates: Starting with 43 updates for doc_id: xxxx
apply_updates: Starting with 43 updates for doc_id: xxxx
apply_updates: Applying update for doc_id: xxxx
apply_updates: Finished for doc_id: xxxx
apply_updates: Successfully applied updates for doc_id: xxxx
get_document_state: Starting for doc_id: xxxx
extract_document_state: Starting for doc_id: xxxx
extract_document_state: Processing 4 blocks
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 0 deltas
====== STARTING BLOCK SORTING ======
Input children_map has 3 parent nodes

----- Sorting children of parent: m8OEVv -----
Parent has 1 children to sort
Mapped 1 valid blocks by ID
Block ujx855 assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Grouped blocks into 1 devices
  - Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 1 blocks
Block ujx855 has no prev_id
Built prev->next map with 0 entries
Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 1 root blocks: ["ujx855"]
Processing devices in order: ["4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"]

Processing device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Sorted roots for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a: ["ujx855"]
Starting chain from root: ujx855
  Adding block ujx855 to sorted list
  No next blocks for ujx855
No remaining blocks for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
No globally remaining blocks
Final sorted order for parent m8OEVv: ["ujx855"]

----- Sorting children of parent: zhA_gK -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent zhA_gK: []

----- Sorting children of parent: ujx855 -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent ujx855: []
====== COMPLETED BLOCK SORTING ======
Final sorted children map has 3 parents
extract_document_state: Extracted 4 blocks and 3 parent-child relationships
get_document_state: Finished for doc_id: xxxx
flutter: Transaction done
apply_action: Starting with 1 actions for doc_id: xxxx
update_node: Updating block_id: ujx855
deltas_to_json: Converting 1 deltas
apply_delta_to_text: Computing delta diff
apply_delta_to_text: Parsing delta diff from JSON
apply_delta_diff_to_text: Starting with 2 operations
update_node: Updated block_id: ujx855
apply_action: Encoding state for doc_id: xxxx
apply_updates: Starting with 44 updates for doc_id: xxxx
apply_updates: Starting with 44 updates for doc_id: xxxx
apply_updates: Applying update for doc_id: xxxx
apply_updates: Finished for doc_id: xxxx
apply_updates: Successfully applied updates for doc_id: xxxx
get_document_state: Starting for doc_id: xxxx
extract_document_state: Starting for doc_id: xxxx
extract_document_state: Processing 4 blocks
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 0 deltas
deltas_to_json: Converting 1 deltas
====== STARTING BLOCK SORTING ======
Input children_map has 3 parent nodes

----- Sorting children of parent: ujx855 -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent ujx855: []

----- Sorting children of parent: m8OEVv -----
Parent has 1 children to sort
Mapped 1 valid blocks by ID
Block ujx855 assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Grouped blocks into 1 devices
  - Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 1 blocks
Block ujx855 has no prev_id
Built prev->next map with 0 entries
Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 1 root blocks: ["ujx855"]
Processing devices in order: ["4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"]

Processing device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Sorted roots for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a: ["ujx855"]
Starting chain from root: ujx855
  Adding block ujx855 to sorted list
  No next blocks for ujx855
No remaining blocks for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
No globally remaining blocks
Final sorted order for parent m8OEVv: ["ujx855"]

----- Sorting children of parent: zhA_gK -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent zhA_gK: []
====== COMPLETED BLOCK SORTING ======
Final sorted children map has 3 parents
extract_document_state: Extracted 4 blocks and 3 parent-child relationships
get_document_state: Finished for doc_id: xxxx
flutter: Transaction done
apply_action: Starting with 1 actions for doc_id: xxxx
update_node: Updating block_id: ujx855
deltas_to_json: Converting 1 deltas
apply_delta_to_text: Computing delta diff
apply_delta_to_text: Parsing delta diff from JSON
apply_delta_diff_to_text: Starting with 2 operations
update_node: Updated block_id: ujx855
apply_action: Encoding state for doc_id: xxxx
apply_updates: Starting with 45 updates for doc_id: xxxx
apply_updates: Starting with 45 updates for doc_id: xxxx
apply_updates: Applying update for doc_id: xxxx
apply_updates: Finished for doc_id: xxxx
apply_updates: Successfully applied updates for doc_id: xxxx
get_document_state: Starting for doc_id: xxxx
extract_document_state: Starting for doc_id: xxxx
extract_document_state: Processing 4 blocks
deltas_to_json: Converting 0 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
====== STARTING BLOCK SORTING ======
Input children_map has 3 parent nodes

----- Sorting children of parent: zhA_gK -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent zhA_gK: []

----- Sorting children of parent: ujx855 -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent ujx855: []

----- Sorting children of parent: m8OEVv -----
Parent has 1 children to sort
Mapped 1 valid blocks by ID
Block ujx855 assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Grouped blocks into 1 devices
  - Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 1 blocks
Block ujx855 has no prev_id
Built prev->next map with 0 entries
Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 1 root blocks: ["ujx855"]
Processing devices in order: ["4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"]

Processing device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Sorted roots for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a: ["ujx855"]
Starting chain from root: ujx855
  Adding block ujx855 to sorted list
  No next blocks for ujx855
No remaining blocks for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
No globally remaining blocks
Final sorted order for parent m8OEVv: ["ujx855"]
====== COMPLETED BLOCK SORTING ======
Final sorted children map has 3 parents
extract_document_state: Extracted 4 blocks and 3 parent-child relationships
get_document_state: Finished for doc_id: xxxx
flutter: Transaction done
apply_action: Starting with 1 actions for doc_id: xxxx
update_node: Updating block_id: ujx855
deltas_to_json: Converting 1 deltas
apply_delta_to_text: Computing delta diff
apply_delta_to_text: Parsing delta diff from JSON
apply_delta_diff_to_text: Starting with 2 operations
update_node: Updated block_id: ujx855
apply_action: Encoding state for doc_id: xxxx
apply_updates: Starting with 46 updates for doc_id: xxxx
apply_updates: Starting with 46 updates for doc_id: xxxx
apply_updates: Applying update for doc_id: xxxx
apply_updates: Finished for doc_id: xxxx
apply_updates: Successfully applied updates for doc_id: xxxx
get_document_state: Starting for doc_id: xxxx
extract_document_state: Starting for doc_id: xxxx
extract_document_state: Processing 4 blocks
deltas_to_json: Converting 0 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
====== STARTING BLOCK SORTING ======
Input children_map has 3 parent nodes

----- Sorting children of parent: ujx855 -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent ujx855: []

----- Sorting children of parent: m8OEVv -----
Parent has 1 children to sort
Mapped 1 valid blocks by ID
Block ujx855 assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Grouped blocks into 1 devices
  - Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 1 blocks
Block ujx855 has no prev_id
Built prev->next map with 0 entries
Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 1 root blocks: ["ujx855"]
Processing devices in order: ["4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"]

Processing device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Sorted roots for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a: ["ujx855"]
Starting chain from root: ujx855
  Adding block ujx855 to sorted list
  No next blocks for ujx855
No remaining blocks for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
No globally remaining blocks
Final sorted order for parent m8OEVv: ["ujx855"]

----- Sorting children of parent: zhA_gK -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent zhA_gK: []
====== COMPLETED BLOCK SORTING ======
Final sorted children map has 3 parents
extract_document_state: Extracted 4 blocks and 3 parent-child relationships
get_document_state: Finished for doc_id: xxxx
flutter: Transaction done
apply_action: Starting with 1 actions for doc_id: xxxx
update_node: Updating block_id: ujx855
deltas_to_json: Converting 1 deltas
apply_delta_to_text: Computing delta diff
apply_delta_to_text: Parsing delta diff from JSON
apply_delta_diff_to_text: Starting with 2 operations
update_node: Updated block_id: ujx855
apply_action: Encoding state for doc_id: xxxx
apply_updates: Starting with 47 updates for doc_id: xxxx
apply_updates: Starting with 47 updates for doc_id: xxxx
apply_updates: Applying update for doc_id: xxxx
apply_updates: Finished for doc_id: xxxx
apply_updates: Successfully applied updates for doc_id: xxxx
get_document_state: Starting for doc_id: xxxx
extract_document_state: Starting for doc_id: xxxx
extract_document_state: Processing 4 blocks
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 0 deltas
deltas_to_json: Converting 1 deltas
====== STARTING BLOCK SORTING ======
Input children_map has 3 parent nodes

----- Sorting children of parent: ujx855 -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent ujx855: []

----- Sorting children of parent: m8OEVv -----
Parent has 1 children to sort
Mapped 1 valid blocks by ID
Block ujx855 assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Grouped blocks into 1 devices
  - Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 1 blocks
Block ujx855 has no prev_id
Built prev->next map with 0 entries
Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 1 root blocks: ["ujx855"]
Processing devices in order: ["4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"]

Processing device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Sorted roots for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a: ["ujx855"]
Starting chain from root: ujx855
  Adding block ujx855 to sorted list
  No next blocks for ujx855
No remaining blocks for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
No globally remaining blocks
Final sorted order for parent m8OEVv: ["ujx855"]

----- Sorting children of parent: zhA_gK -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent zhA_gK: []
====== COMPLETED BLOCK SORTING ======
Final sorted children map has 3 parents
extract_document_state: Extracted 4 blocks and 3 parent-child relationships
get_document_state: Finished for doc_id: xxxx
flutter: Transaction done
apply_action: Starting with 1 actions for doc_id: xxxx
update_node: Updating block_id: ujx855
deltas_to_json: Converting 1 deltas
apply_delta_to_text: Computing delta diff
apply_delta_to_text: Parsing delta diff from JSON
apply_delta_diff_to_text: Starting with 2 operations
update_node: Updated block_id: ujx855
apply_action: Encoding state for doc_id: xxxx
apply_updates: Starting with 48 updates for doc_id: xxxx
apply_updates: Starting with 48 updates for doc_id: xxxx
apply_updates: Applying update for doc_id: xxxx
apply_updates: Finished for doc_id: xxxx
apply_updates: Successfully applied updates for doc_id: xxxx
get_document_state: Starting for doc_id: xxxx
extract_document_state: Starting for doc_id: xxxx
extract_document_state: Processing 4 blocks
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 0 deltas
====== STARTING BLOCK SORTING ======
Input children_map has 3 parent nodes

----- Sorting children of parent: ujx855 -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent ujx855: []

----- Sorting children of parent: m8OEVv -----
Parent has 1 children to sort
Mapped 1 valid blocks by ID
Block ujx855 assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Grouped blocks into 1 devices
  - Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 1 blocks
Block ujx855 has no prev_id
Built prev->next map with 0 entries
Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 1 root blocks: ["ujx855"]
Processing devices in order: ["4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"]

Processing device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Sorted roots for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a: ["ujx855"]
Starting chain from root: ujx855
  Adding block ujx855 to sorted list
  No next blocks for ujx855
No remaining blocks for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
No globally remaining blocks
Final sorted order for parent m8OEVv: ["ujx855"]

----- Sorting children of parent: zhA_gK -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent zhA_gK: []
====== COMPLETED BLOCK SORTING ======
Final sorted children map has 3 parents
extract_document_state: Extracted 4 blocks and 3 parent-child relationships
get_document_state: Finished for doc_id: xxxx
flutter: Transaction done
apply_action: Starting with 1 actions for doc_id: xxxx
update_node: Updating block_id: ujx855
deltas_to_json: Converting 1 deltas
apply_delta_to_text: Computing delta diff
apply_delta_to_text: Parsing delta diff from JSON
apply_delta_diff_to_text: Starting with 2 operations
update_node: Updated block_id: ujx855
apply_action: Encoding state for doc_id: xxxx
apply_updates: Starting with 49 updates for doc_id: xxxx
apply_updates: Starting with 49 updates for doc_id: xxxx
apply_updates: Applying update for doc_id: xxxx
apply_updates: Finished for doc_id: xxxx
apply_updates: Successfully applied updates for doc_id: xxxx
get_document_state: Starting for doc_id: xxxx
extract_document_state: Starting for doc_id: xxxx
extract_document_state: Processing 4 blocks
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 0 deltas
deltas_to_json: Converting 1 deltas
====== STARTING BLOCK SORTING ======
Input children_map has 3 parent nodes

----- Sorting children of parent: zhA_gK -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent zhA_gK: []

----- Sorting children of parent: m8OEVv -----
Parent has 1 children to sort
Mapped 1 valid blocks by ID
Block ujx855 assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Grouped blocks into 1 devices
  - Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 1 blocks
Block ujx855 has no prev_id
Built prev->next map with 0 entries
Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 1 root blocks: ["ujx855"]
Processing devices in order: ["4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"]

Processing device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Sorted roots for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a: ["ujx855"]
Starting chain from root: ujx855
  Adding block ujx855 to sorted list
  No next blocks for ujx855
No remaining blocks for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
No globally remaining blocks
Final sorted order for parent m8OEVv: ["ujx855"]

----- Sorting children of parent: ujx855 -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent ujx855: []
====== COMPLETED BLOCK SORTING ======
Final sorted children map has 3 parents
extract_document_state: Extracted 4 blocks and 3 parent-child relationships
get_document_state: Finished for doc_id: xxxx
flutter: Transaction done
apply_action: Starting with 1 actions for doc_id: xxxx
update_node: Updating block_id: ujx855
deltas_to_json: Converting 1 deltas
apply_delta_to_text: Computing delta diff
apply_delta_to_text: Parsing delta diff from JSON
apply_delta_diff_to_text: Starting with 2 operations
update_node: Updated block_id: ujx855
apply_action: Encoding state for doc_id: xxxx
apply_updates: Starting with 50 updates for doc_id: xxxx
apply_updates: Starting with 50 updates for doc_id: xxxx
apply_updates: Applying update for doc_id: xxxx
apply_updates: Finished for doc_id: xxxx
apply_updates: Successfully applied updates for doc_id: xxxx
get_document_state: Starting for doc_id: xxxx
extract_document_state: Starting for doc_id: xxxx
extract_document_state: Processing 4 blocks
deltas_to_json: Converting 0 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
====== STARTING BLOCK SORTING ======
Input children_map has 3 parent nodes

----- Sorting children of parent: m8OEVv -----
Parent has 1 children to sort
Mapped 1 valid blocks by ID
Block ujx855 assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Grouped blocks into 1 devices
  - Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 1 blocks
Block ujx855 has no prev_id
Built prev->next map with 0 entries
Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 1 root blocks: ["ujx855"]
Processing devices in order: ["4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"]

Processing device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Sorted roots for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a: ["ujx855"]
Starting chain from root: ujx855
  Adding block ujx855 to sorted list
  No next blocks for ujx855
No remaining blocks for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
No globally remaining blocks
Final sorted order for parent m8OEVv: ["ujx855"]

----- Sorting children of parent: ujx855 -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent ujx855: []

----- Sorting children of parent: zhA_gK -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent zhA_gK: []
====== COMPLETED BLOCK SORTING ======
Final sorted children map has 3 parents
extract_document_state: Extracted 4 blocks and 3 parent-child relationships
get_document_state: Finished for doc_id: xxxx
flutter: Transaction done
apply_action: Starting with 1 actions for doc_id: xxxx
update_node: Updating block_id: ujx855
deltas_to_json: Converting 1 deltas
apply_delta_to_text: Computing delta diff
apply_delta_to_text: Parsing delta diff from JSON
apply_delta_diff_to_text: Starting with 2 operations
update_node: Updated block_id: ujx855
apply_action: Encoding state for doc_id: xxxx
apply_updates: Starting with 51 updates for doc_id: xxxx
apply_updates: Starting with 51 updates for doc_id: xxxx
apply_updates: Applying update for doc_id: xxxx
apply_updates: Finished for doc_id: xxxx
apply_updates: Successfully applied updates for doc_id: xxxx
get_document_state: Starting for doc_id: xxxx
extract_document_state: Starting for doc_id: xxxx
extract_document_state: Processing 4 blocks
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 0 deltas
deltas_to_json: Converting 1 deltas
====== STARTING BLOCK SORTING ======
Input children_map has 3 parent nodes

----- Sorting children of parent: zhA_gK -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent zhA_gK: []

----- Sorting children of parent: m8OEVv -----
Parent has 1 children to sort
Mapped 1 valid blocks by ID
Block ujx855 assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Grouped blocks into 1 devices
  - Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 1 blocks
Block ujx855 has no prev_id
Built prev->next map with 0 entries
Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 1 root blocks: ["ujx855"]
Processing devices in order: ["4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"]

Processing device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Sorted roots for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a: ["ujx855"]
Starting chain from root: ujx855
  Adding block ujx855 to sorted list
  No next blocks for ujx855
No remaining blocks for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
No globally remaining blocks
Final sorted order for parent m8OEVv: ["ujx855"]

----- Sorting children of parent: ujx855 -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent ujx855: []
====== COMPLETED BLOCK SORTING ======
Final sorted children map has 3 parents
extract_document_state: Extracted 4 blocks and 3 parent-child relationships
get_document_state: Finished for doc_id: xxxx
flutter: Transaction done
apply_action: Starting with 2 actions for doc_id: xxxx
insert_node: Starting for block_id: VC6SQw
deltas_to_json: Converting 0 deltas
apply_delta_to_text: Computing delta diff
apply_delta_to_text: Parsing delta diff from JSON
apply_delta_to_text: No changes to apply
handle_prev_id_chain: block_id=VC6SQw, prev_id=Some("ujx855")
  Finding blocks that reference prev_id: ujx855
find_block_referencing_prev_id: Searching for blocks with prev_id = ujx855
  Found 5 total blocks to check
  Checking block: zhA_gK
    Block does not have prev_id
  Checking block: m8OEVv
    Block does not have prev_id
  Checking block: Mk_Gts
    Block does not have prev_id
  Checking block: ujx855
    Block does not have prev_id
  Checking block: VC6SQw
    Block does not have prev_id
find_block_referencing_prev_id: Found 0 blocks with prev_id = ujx855: []
  Found 0 blocks with prev_id ujx855: []
handle_prev_id_chain: Completed
handle_following_connection: block_id=VC6SQw, next_id=None, prev_id=Some("ujx855")
  Using prev_id strategy (prev_id=ujx855)
find_block_referencing_prev_id: Searching for blocks with prev_id = ujx855
  Found 5 total blocks to check
  Checking block: zhA_gK
    Block does not have prev_id
  Checking block: m8OEVv
    Block does not have prev_id
  Checking block: Mk_Gts
    Block does not have prev_id
  Checking block: ujx855
    Block does not have prev_id
  Checking block: VC6SQw
    Block does not have prev_id
find_block_referencing_prev_id: Found 0 blocks with prev_id = ujx855: []
  Found 0 nodes that reference prev_id ujx855: []
  Finished prev_id strategy
  Setting prev_id of block VC6SQw to ujx855
insert_node: Finished for block_id: VC6SQw
update_node: Updating block_id: ujx855
deltas_to_json: Converting 1 deltas
apply_delta_to_text: Computing delta diff
apply_delta_to_text: Parsing delta diff from JSON
apply_delta_to_text: No changes to apply
update_node: Updated block_id: ujx855
apply_action: Encoding state for doc_id: xxxx
apply_updates: Starting with 52 updates for doc_id: xxxx
apply_updates: Starting with 52 updates for doc_id: xxxx
apply_updates: Applying update for doc_id: xxxx
apply_updates: Finished for doc_id: xxxx
apply_updates: Successfully applied updates for doc_id: xxxx
get_document_state: Starting for doc_id: xxxx
extract_document_state: Starting for doc_id: xxxx
extract_document_state: Processing 5 blocks
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 0 deltas
deltas_to_json: Converting 0 deltas
deltas_to_json: Converting 1 deltas
====== STARTING BLOCK SORTING ======
Input children_map has 4 parent nodes

----- Sorting children of parent: ujx855 -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent ujx855: []

----- Sorting children of parent: VC6SQw -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent VC6SQw: []

----- Sorting children of parent: m8OEVv -----
Parent has 2 children to sort
Mapped 2 valid blocks by ID
Block ujx855 assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block VC6SQw assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Grouped blocks into 1 devices
  - Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 2 blocks
Block ujx855 has no prev_id
Block VC6SQw has prev_id ujx855
Built prev->next map with 1 entries
  - ujx855 has 1 next blocks: ["VC6SQw"]
Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 1 root blocks: ["ujx855"]
Processing devices in order: ["4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"]

Processing device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Sorted roots for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a: ["ujx855"]
Starting chain from root: ujx855
  Adding block ujx855 to sorted list
    Pushing VC6SQw onto stack
  Adding block VC6SQw to sorted list
  No next blocks for VC6SQw
No remaining blocks for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
No globally remaining blocks
Final sorted order for parent m8OEVv: ["ujx855", "VC6SQw"]

----- Sorting children of parent: zhA_gK -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent zhA_gK: []
====== COMPLETED BLOCK SORTING ======
Final sorted children map has 4 parents
extract_document_state: Extracted 5 blocks and 4 parent-child relationships
get_document_state: Finished for doc_id: xxxx
flutter: {
flutter:   "docId": "xxxx",
flutter:   "blocks": {
flutter:     "ujx855": {
flutter:       "id": "ujx855",
flutter:       "ty": "paragraph",
flutter:       "attributes": {
flutter:         "device": "4cb3899a-3fe4-4bb1-bbf4-edd464b0977a",
flutter:         "timestamp": "2025-04-24T17:06:34.210998",
flutter:         "delta": "[]"
flutter:       },
flutter:       "delta": "[{\"insert\":\"New task 1\"}]",
flutter:       "parentId": "m8OEVv",
flutter:       "prevId": null,
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "zhA_gK": {
flutter:       "id": "zhA_gK",
flutter:       "ty": "todo_list",
flutter:       "attributes": {
flutter:         "delta": "[]",
flutter:         "timestamp": "2025-04-24T17:04:02.277720",
flutter:         "device": "4cb3899a-3fe4-4bb1-bbf4-edd464b0977a",
flutter:         "checked": "false"
flutter:       },
flutter:       "delta": "[{\"insert\":\"Task is mine\"}]",
flutter:       "parentId": "m8OEVv",
flutter:       "prevId": null,
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "m8OEVv": {
flutter:       "id": "m8OEVv",
flutter:       "ty": "page",
flutter:       "attributes": {
flutter:         "timestamp": "2025-04-24T17:01:59.905543",
flutter:         "device": "3a00f73e-0356-4c61-a6e1-cb439d9dbf33"
flutter:       },
flutter:       "delta": null,
flutter:       "parentId": null,
flutter:       "prevId": null,
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "VC6SQw": {
flutter:       "id": "VC6SQw",
flutter:       "ty": "paragraph",
flutter:       "attributes": {
flutter:         "delta": "[]",
flutter:         "timestamp": "2025-04-24T17:06:36.796878",
flutter:         "device": "4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"
flutter:       },
flutter:       "delta": "[]",
flutter:       "parentId": "m8OEVv",
flutter:       "prevId": "ujx855",
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "Mk_Gts": {
flutter:       "id": "Mk_Gts",
flutter:       "ty": "",
flutter:       "attributes": {
flutter:         "device": "4cb3899a-3fe4-4bb1-bbf4-edd464b0977a",
flutter:         "checked": "false",
flutter:         "timestamp": "2025-04-24T17:04:05.077214"
flutter:       },
flutter:       "delta": "[]",
flutter:       "parentId": null,
flutter:       "prevId": null,
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     }
flutter:   },
flutter:   "childrenMap": {
flutter:     "zhA_gK": [],
flutter:     "VC6SQw": [],
flutter:     "ujx855": [],
flutter:     "m8OEVv": [
flutter:       "ujx855",
flutter:       "VC6SQw"
flutter:     ]
flutter:   },
flutter:   "rootId": "m8OEVv"
flutter: }
merge_updates: Merging 11 updates
merge_updates: Successfully merged updates
apply_updates: Starting with 53 updates for doc_id: xxxx
apply_updates: Starting with 53 updates for doc_id: xxxx
apply_updates: Applying update for doc_id: xxxx
apply_updates: Finished for doc_id: xxxx
apply_updates: Successfully applied updates for doc_id: xxxx
get_document_state: Starting for doc_id: xxxx
extract_document_state: Starting for doc_id: xxxx
extract_document_state: Processing 5 blocks
deltas_to_json: Converting 0 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 0 deltas
====== STARTING BLOCK SORTING ======
Input children_map has 4 parent nodes

----- Sorting children of parent: ujx855 -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent ujx855: []

----- Sorting children of parent: VC6SQw -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent VC6SQw: []

----- Sorting children of parent: m8OEVv -----
Parent has 2 children to sort
Mapped 2 valid blocks by ID
Block ujx855 assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block VC6SQw assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Grouped blocks into 1 devices
  - Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 2 blocks
Block ujx855 has no prev_id
Block VC6SQw has prev_id ujx855
Built prev->next map with 1 entries
  - ujx855 has 1 next blocks: ["VC6SQw"]
Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 1 root blocks: ["ujx855"]
Processing devices in order: ["4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"]

Processing device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Sorted roots for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a: ["ujx855"]
Starting chain from root: ujx855
  Adding block ujx855 to sorted list
    Pushing VC6SQw onto stack
  Adding block VC6SQw to sorted list
  No next blocks for VC6SQw
No remaining blocks for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
No globally remaining blocks
Final sorted order for parent m8OEVv: ["ujx855", "VC6SQw"]

----- Sorting children of parent: zhA_gK -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent zhA_gK: []
====== COMPLETED BLOCK SORTING ======
Final sorted children map has 4 parents
extract_document_state: Extracted 5 blocks and 4 parent-child relationships
get_document_state: Finished for doc_id: xxxx
flutter: Transaction done
apply_action: Starting with 1 actions for doc_id: xxxx
update_node: Updating block_id: VC6SQw
deltas_to_json: Converting 0 deltas
apply_delta_to_text: Computing delta diff
apply_delta_to_text: Parsing delta diff from JSON
apply_delta_diff_to_text: Starting with 1 operations
update_node: Updated block_id: VC6SQw
apply_action: Encoding state for doc_id: xxxx
apply_updates: Starting with 54 updates for doc_id: xxxx
apply_updates: Starting with 54 updates for doc_id: xxxx
apply_updates: Applying update for doc_id: xxxx
apply_updates: Finished for doc_id: xxxx
apply_updates: Successfully applied updates for doc_id: xxxx
get_document_state: Starting for doc_id: xxxx
extract_document_state: Starting for doc_id: xxxx
extract_document_state: Processing 5 blocks
deltas_to_json: Converting 0 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
====== STARTING BLOCK SORTING ======
Input children_map has 4 parent nodes

----- Sorting children of parent: m8OEVv -----
Parent has 2 children to sort
Mapped 2 valid blocks by ID
Block VC6SQw assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block ujx855 assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Grouped blocks into 1 devices
  - Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 2 blocks
Block VC6SQw has prev_id ujx855
Block ujx855 has no prev_id
Built prev->next map with 1 entries
  - ujx855 has 1 next blocks: ["VC6SQw"]
Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 1 root blocks: ["ujx855"]
Processing devices in order: ["4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"]

Processing device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Sorted roots for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a: ["ujx855"]
Starting chain from root: ujx855
  Adding block ujx855 to sorted list
    Pushing VC6SQw onto stack
  Adding block VC6SQw to sorted list
  No next blocks for VC6SQw
No remaining blocks for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
No globally remaining blocks
Final sorted order for parent m8OEVv: ["ujx855", "VC6SQw"]

----- Sorting children of parent: VC6SQw -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent VC6SQw: []

----- Sorting children of parent: ujx855 -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent ujx855: []

----- Sorting children of parent: zhA_gK -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent zhA_gK: []
====== COMPLETED BLOCK SORTING ======
Final sorted children map has 4 parents
extract_document_state: Extracted 5 blocks and 4 parent-child relationships
get_document_state: Finished for doc_id: xxxx
flutter: Transaction done
apply_action: Starting with 1 actions for doc_id: xxxx
update_node: Updating block_id: VC6SQw
deltas_to_json: Converting 1 deltas
apply_delta_to_text: Computing delta diff
apply_delta_to_text: Parsing delta diff from JSON
apply_delta_diff_to_text: Starting with 2 operations
update_node: Updated block_id: VC6SQw
apply_action: Encoding state for doc_id: xxxx
apply_updates: Starting with 55 updates for doc_id: xxxx
apply_updates: Starting with 55 updates for doc_id: xxxx
apply_updates: Applying update for doc_id: xxxx
apply_updates: Finished for doc_id: xxxx
apply_updates: Successfully applied updates for doc_id: xxxx
get_document_state: Starting for doc_id: xxxx
extract_document_state: Starting for doc_id: xxxx
extract_document_state: Processing 5 blocks
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 0 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
====== STARTING BLOCK SORTING ======
Input children_map has 4 parent nodes

----- Sorting children of parent: m8OEVv -----
Parent has 2 children to sort
Mapped 2 valid blocks by ID
Block ujx855 assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block VC6SQw assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Grouped blocks into 1 devices
  - Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 2 blocks
Block ujx855 has no prev_id
Block VC6SQw has prev_id ujx855
Built prev->next map with 1 entries
  - ujx855 has 1 next blocks: ["VC6SQw"]
Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 1 root blocks: ["ujx855"]
Processing devices in order: ["4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"]

Processing device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Sorted roots for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a: ["ujx855"]
Starting chain from root: ujx855
  Adding block ujx855 to sorted list
    Pushing VC6SQw onto stack
  Adding block VC6SQw to sorted list
  No next blocks for VC6SQw
No remaining blocks for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
No globally remaining blocks
Final sorted order for parent m8OEVv: ["ujx855", "VC6SQw"]

----- Sorting children of parent: ujx855 -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent ujx855: []

----- Sorting children of parent: VC6SQw -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent VC6SQw: []

----- Sorting children of parent: zhA_gK -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent zhA_gK: []
====== COMPLETED BLOCK SORTING ======
Final sorted children map has 4 parents
extract_document_state: Extracted 5 blocks and 4 parent-child relationships
get_document_state: Finished for doc_id: xxxx
flutter: Transaction done
apply_action: Starting with 1 actions for doc_id: xxxx
update_node: Updating block_id: VC6SQw
deltas_to_json: Converting 1 deltas
apply_delta_to_text: Computing delta diff
apply_delta_to_text: Parsing delta diff from JSON
apply_delta_diff_to_text: Starting with 2 operations
update_node: Updated block_id: VC6SQw
apply_action: Encoding state for doc_id: xxxx
apply_updates: Starting with 56 updates for doc_id: xxxx
apply_updates: Starting with 56 updates for doc_id: xxxx
apply_updates: Applying update for doc_id: xxxx
apply_updates: Finished for doc_id: xxxx
apply_updates: Successfully applied updates for doc_id: xxxx
get_document_state: Starting for doc_id: xxxx
extract_document_state: Starting for doc_id: xxxx
extract_document_state: Processing 5 blocks
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 0 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
====== STARTING BLOCK SORTING ======
Input children_map has 4 parent nodes

----- Sorting children of parent: zhA_gK -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent zhA_gK: []

----- Sorting children of parent: m8OEVv -----
Parent has 2 children to sort
Mapped 2 valid blocks by ID
Block VC6SQw assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block ujx855 assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Grouped blocks into 1 devices
  - Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 2 blocks
Block VC6SQw has prev_id ujx855
Block ujx855 has no prev_id
Built prev->next map with 1 entries
  - ujx855 has 1 next blocks: ["VC6SQw"]
Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 1 root blocks: ["ujx855"]
Processing devices in order: ["4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"]

Processing device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Sorted roots for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a: ["ujx855"]
Starting chain from root: ujx855
  Adding block ujx855 to sorted list
    Pushing VC6SQw onto stack
  Adding block VC6SQw to sorted list
  No next blocks for VC6SQw
No remaining blocks for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
No globally remaining blocks
Final sorted order for parent m8OEVv: ["ujx855", "VC6SQw"]

----- Sorting children of parent: ujx855 -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent ujx855: []

----- Sorting children of parent: VC6SQw -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent VC6SQw: []
====== COMPLETED BLOCK SORTING ======
Final sorted children map has 4 parents
extract_document_state: Extracted 5 blocks and 4 parent-child relationships
get_document_state: Finished for doc_id: xxxx
flutter: Transaction done
apply_action: Starting with 1 actions for doc_id: xxxx
update_node: Updating block_id: VC6SQw
deltas_to_json: Converting 1 deltas
apply_delta_to_text: Computing delta diff
apply_delta_to_text: Parsing delta diff from JSON
apply_delta_diff_to_text: Starting with 2 operations
update_node: Updated block_id: VC6SQw
apply_action: Encoding state for doc_id: xxxx
apply_updates: Starting with 57 updates for doc_id: xxxx
apply_updates: Starting with 57 updates for doc_id: xxxx
apply_updates: Applying update for doc_id: xxxx
apply_updates: Finished for doc_id: xxxx
apply_updates: Successfully applied updates for doc_id: xxxx
get_document_state: Starting for doc_id: xxxx
extract_document_state: Starting for doc_id: xxxx
extract_document_state: Processing 5 blocks
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 0 deltas
deltas_to_json: Converting 1 deltas
====== STARTING BLOCK SORTING ======
Input children_map has 4 parent nodes

----- Sorting children of parent: zhA_gK -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent zhA_gK: []

----- Sorting children of parent: VC6SQw -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent VC6SQw: []

----- Sorting children of parent: ujx855 -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent ujx855: []

----- Sorting children of parent: m8OEVv -----
Parent has 2 children to sort
Mapped 2 valid blocks by ID
Block ujx855 assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block VC6SQw assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Grouped blocks into 1 devices
  - Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 2 blocks
Block ujx855 has no prev_id
Block VC6SQw has prev_id ujx855
Built prev->next map with 1 entries
  - ujx855 has 1 next blocks: ["VC6SQw"]
Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 1 root blocks: ["ujx855"]
Processing devices in order: ["4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"]

Processing device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Sorted roots for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a: ["ujx855"]
Starting chain from root: ujx855
  Adding block ujx855 to sorted list
    Pushing VC6SQw onto stack
  Adding block VC6SQw to sorted list
  No next blocks for VC6SQw
No remaining blocks for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
No globally remaining blocks
Final sorted order for parent m8OEVv: ["ujx855", "VC6SQw"]
====== COMPLETED BLOCK SORTING ======
Final sorted children map has 4 parents
extract_document_state: Extracted 5 blocks and 4 parent-child relationships
get_document_state: Finished for doc_id: xxxx
flutter: Transaction done
apply_action: Starting with 1 actions for doc_id: xxxx
update_node: Updating block_id: VC6SQw
deltas_to_json: Converting 1 deltas
apply_delta_to_text: Computing delta diff
apply_delta_to_text: Parsing delta diff from JSON
apply_delta_diff_to_text: Starting with 2 operations
update_node: Updated block_id: VC6SQw
apply_action: Encoding state for doc_id: xxxx
apply_updates: Starting with 58 updates for doc_id: xxxx
apply_updates: Starting with 58 updates for doc_id: xxxx
apply_updates: Applying update for doc_id: xxxx
apply_updates: Finished for doc_id: xxxx
apply_updates: Successfully applied updates for doc_id: xxxx
get_document_state: Starting for doc_id: xxxx
extract_document_state: Starting for doc_id: xxxx
extract_document_state: Processing 5 blocks
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 0 deltas
====== STARTING BLOCK SORTING ======
Input children_map has 4 parent nodes

----- Sorting children of parent: zhA_gK -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent zhA_gK: []

----- Sorting children of parent: m8OEVv -----
Parent has 2 children to sort
Mapped 2 valid blocks by ID
Block ujx855 assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block VC6SQw assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Grouped blocks into 1 devices
  - Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 2 blocks
Block ujx855 has no prev_id
Block VC6SQw has prev_id ujx855
Built prev->next map with 1 entries
  - ujx855 has 1 next blocks: ["VC6SQw"]
Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 1 root blocks: ["ujx855"]
Processing devices in order: ["4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"]

Processing device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Sorted roots for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a: ["ujx855"]
Starting chain from root: ujx855
  Adding block ujx855 to sorted list
    Pushing VC6SQw onto stack
  Adding block VC6SQw to sorted list
  No next blocks for VC6SQw
No remaining blocks for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
No globally remaining blocks
Final sorted order for parent m8OEVv: ["ujx855", "VC6SQw"]

----- Sorting children of parent: ujx855 -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent ujx855: []

----- Sorting children of parent: VC6SQw -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent VC6SQw: []
====== COMPLETED BLOCK SORTING ======
Final sorted children map has 4 parents
extract_document_state: Extracted 5 blocks and 4 parent-child relationships
get_document_state: Finished for doc_id: xxxx
merge_updates: Merging 5 updates
merge_updates: Successfully merged updates
flutter: Transaction done
apply_action: Starting with 1 actions for doc_id: xxxx
update_node: Updating block_id: VC6SQw
deltas_to_json: Converting 1 deltas
apply_delta_to_text: Computing delta diff
apply_delta_to_text: Parsing delta diff from JSON
apply_delta_diff_to_text: Starting with 2 operations
update_node: Updated block_id: VC6SQw
apply_action: Encoding state for doc_id: xxxx
apply_updates: Starting with 59 updates for doc_id: xxxx
apply_updates: Starting with 59 updates for doc_id: xxxx
apply_updates: Applying update for doc_id: xxxx
apply_updates: Finished for doc_id: xxxx
apply_updates: Successfully applied updates for doc_id: xxxx
get_document_state: Starting for doc_id: xxxx
extract_document_state: Starting for doc_id: xxxx
extract_document_state: Processing 5 blocks
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 0 deltas
====== STARTING BLOCK SORTING ======
Input children_map has 4 parent nodes

----- Sorting children of parent: m8OEVv -----
Parent has 2 children to sort
Mapped 2 valid blocks by ID
Block ujx855 assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block VC6SQw assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Grouped blocks into 1 devices
  - Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 2 blocks
Block ujx855 has no prev_id
Block VC6SQw has prev_id ujx855
Built prev->next map with 1 entries
  - ujx855 has 1 next blocks: ["VC6SQw"]
Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 1 root blocks: ["ujx855"]
Processing devices in order: ["4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"]

Processing device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Sorted roots for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a: ["ujx855"]
Starting chain from root: ujx855
  Adding block ujx855 to sorted list
    Pushing VC6SQw onto stack
  Adding block VC6SQw to sorted list
  No next blocks for VC6SQw
No remaining blocks for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
No globally remaining blocks
Final sorted order for parent m8OEVv: ["ujx855", "VC6SQw"]

----- Sorting children of parent: ujx855 -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent ujx855: []

----- Sorting children of parent: VC6SQw -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent VC6SQw: []

----- Sorting children of parent: zhA_gK -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent zhA_gK: []
====== COMPLETED BLOCK SORTING ======
Final sorted children map has 4 parents
extract_document_state: Extracted 5 blocks and 4 parent-child relationships
get_document_state: Finished for doc_id: xxxx
apply_updates: Starting with 60 updates for doc_id: xxxx
apply_updates: Starting with 60 updates for doc_id: xxxx
apply_updates: Applying update for doc_id: xxxx
apply_updates: Finished for doc_id: xxxx
apply_updates: Successfully applied updates for doc_id: xxxx
get_document_state: Starting for doc_id: xxxx
extract_document_state: Starting for doc_id: xxxx
extract_document_state: Processing 5 blocks
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 0 deltas
deltas_to_json: Converting 1 deltas
====== STARTING BLOCK SORTING ======
Input children_map has 4 parent nodes

----- Sorting children of parent: ujx855 -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent ujx855: []

----- Sorting children of parent: VC6SQw -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent VC6SQw: []

----- Sorting children of parent: zhA_gK -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent zhA_gK: []

----- Sorting children of parent: m8OEVv -----
Parent has 2 children to sort
Mapped 2 valid blocks by ID
Block VC6SQw assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block ujx855 assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Grouped blocks into 1 devices
  - Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 2 blocks
Block VC6SQw has prev_id ujx855
Block ujx855 has no prev_id
Built prev->next map with 1 entries
  - ujx855 has 1 next blocks: ["VC6SQw"]
Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 1 root blocks: ["ujx855"]
Processing devices in order: ["4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"]

Processing device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Sorted roots for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a: ["ujx855"]
Starting chain from root: ujx855
  Adding block ujx855 to sorted list
    Pushing VC6SQw onto stack
  Adding block VC6SQw to sorted list
  No next blocks for VC6SQw
No remaining blocks for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
No globally remaining blocks
Final sorted order for parent m8OEVv: ["ujx855", "VC6SQw"]
====== COMPLETED BLOCK SORTING ======
Final sorted children map has 4 parents
extract_document_state: Extracted 5 blocks and 4 parent-child relationships
get_document_state: Finished for doc_id: xxxx
flutter: Transaction done
apply_action: Starting with 1 actions for doc_id: xxxx
update_node: Updating block_id: VC6SQw
deltas_to_json: Converting 1 deltas
apply_delta_to_text: Computing delta diff
apply_delta_to_text: Parsing delta diff from JSON
apply_delta_diff_to_text: Starting with 2 operations
update_node: Updated block_id: VC6SQw
apply_action: Encoding state for doc_id: xxxx
apply_updates: Starting with 61 updates for doc_id: xxxx
apply_updates: Starting with 61 updates for doc_id: xxxx
apply_updates: Applying update for doc_id: xxxx
apply_updates: Finished for doc_id: xxxx
apply_updates: Successfully applied updates for doc_id: xxxx
get_document_state: Starting for doc_id: xxxx
extract_document_state: Starting for doc_id: xxxx
extract_document_state: Processing 5 blocks
deltas_to_json: Converting 0 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
====== STARTING BLOCK SORTING ======
Input children_map has 4 parent nodes

----- Sorting children of parent: zhA_gK -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent zhA_gK: []

----- Sorting children of parent: m8OEVv -----
Parent has 2 children to sort
Mapped 2 valid blocks by ID
Block ujx855 assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block VC6SQw assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Grouped blocks into 1 devices
  - Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 2 blocks
Block ujx855 has no prev_id
Block VC6SQw has prev_id ujx855
Built prev->next map with 1 entries
  - ujx855 has 1 next blocks: ["VC6SQw"]
Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 1 root blocks: ["ujx855"]
Processing devices in order: ["4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"]

Processing device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Sorted roots for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a: ["ujx855"]
Starting chain from root: ujx855
  Adding block ujx855 to sorted list
    Pushing VC6SQw onto stack
  Adding block VC6SQw to sorted list
  No next blocks for VC6SQw
No remaining blocks for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
No globally remaining blocks
Final sorted order for parent m8OEVv: ["ujx855", "VC6SQw"]

----- Sorting children of parent: VC6SQw -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent VC6SQw: []

----- Sorting children of parent: ujx855 -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent ujx855: []
====== COMPLETED BLOCK SORTING ======
Final sorted children map has 4 parents
extract_document_state: Extracted 5 blocks and 4 parent-child relationships
get_document_state: Finished for doc_id: xxxx
flutter: Transaction done
apply_action: Starting with 1 actions for doc_id: xxxx
update_node: Updating block_id: VC6SQw
deltas_to_json: Converting 1 deltas
apply_delta_to_text: Computing delta diff
apply_delta_to_text: Parsing delta diff from JSON
apply_delta_diff_to_text: Starting with 2 operations
update_node: Updated block_id: VC6SQw
apply_action: Encoding state for doc_id: xxxx
apply_updates: Starting with 62 updates for doc_id: xxxx
apply_updates: Starting with 62 updates for doc_id: xxxx
apply_updates: Applying update for doc_id: xxxx
apply_updates: Finished for doc_id: xxxx
apply_updates: Successfully applied updates for doc_id: xxxx
get_document_state: Starting for doc_id: xxxx
extract_document_state: Starting for doc_id: xxxx
extract_document_state: Processing 5 blocks
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 0 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
====== STARTING BLOCK SORTING ======
Input children_map has 4 parent nodes

----- Sorting children of parent: VC6SQw -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent VC6SQw: []

----- Sorting children of parent: ujx855 -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent ujx855: []

----- Sorting children of parent: zhA_gK -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent zhA_gK: []

----- Sorting children of parent: m8OEVv -----
Parent has 2 children to sort
Mapped 2 valid blocks by ID
Block VC6SQw assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block ujx855 assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Grouped blocks into 1 devices
  - Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 2 blocks
Block VC6SQw has prev_id ujx855
Block ujx855 has no prev_id
Built prev->next map with 1 entries
  - ujx855 has 1 next blocks: ["VC6SQw"]
Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 1 root blocks: ["ujx855"]
Processing devices in order: ["4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"]

Processing device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Sorted roots for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a: ["ujx855"]
Starting chain from root: ujx855
  Adding block ujx855 to sorted list
    Pushing VC6SQw onto stack
  Adding block VC6SQw to sorted list
  No next blocks for VC6SQw
No remaining blocks for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
No globally remaining blocks
Final sorted order for parent m8OEVv: ["ujx855", "VC6SQw"]
====== COMPLETED BLOCK SORTING ======
Final sorted children map has 4 parents
extract_document_state: Extracted 5 blocks and 4 parent-child relationships
get_document_state: Finished for doc_id: xxxx
flutter: Transaction done
apply_action: Starting with 1 actions for doc_id: xxxx
update_node: Updating block_id: VC6SQw
deltas_to_json: Converting 1 deltas
apply_delta_to_text: Computing delta diff
apply_delta_to_text: Parsing delta diff from JSON
apply_delta_diff_to_text: Starting with 2 operations
update_node: Updated block_id: VC6SQw
apply_action: Encoding state for doc_id: xxxx
apply_updates: Starting with 63 updates for doc_id: xxxx
apply_updates: Starting with 63 updates for doc_id: xxxx
apply_updates: Applying update for doc_id: xxxx
apply_updates: Finished for doc_id: xxxx
apply_updates: Successfully applied updates for doc_id: xxxx
get_document_state: Starting for doc_id: xxxx
extract_document_state: Starting for doc_id: xxxx
extract_document_state: Processing 5 blocks
deltas_to_json: Converting 0 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
====== STARTING BLOCK SORTING ======
Input children_map has 4 parent nodes

----- Sorting children of parent: ujx855 -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent ujx855: []

----- Sorting children of parent: m8OEVv -----
Parent has 2 children to sort
Mapped 2 valid blocks by ID
Block ujx855 assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block VC6SQw assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Grouped blocks into 1 devices
  - Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 2 blocks
Block ujx855 has no prev_id
Block VC6SQw has prev_id ujx855
Built prev->next map with 1 entries
  - ujx855 has 1 next blocks: ["VC6SQw"]
Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 1 root blocks: ["ujx855"]
Processing devices in order: ["4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"]

Processing device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Sorted roots for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a: ["ujx855"]
Starting chain from root: ujx855
  Adding block ujx855 to sorted list
    Pushing VC6SQw onto stack
  Adding block VC6SQw to sorted list
  No next blocks for VC6SQw
No remaining blocks for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
No globally remaining blocks
Final sorted order for parent m8OEVv: ["ujx855", "VC6SQw"]

----- Sorting children of parent: VC6SQw -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent VC6SQw: []

----- Sorting children of parent: zhA_gK -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent zhA_gK: []
====== COMPLETED BLOCK SORTING ======
Final sorted children map has 4 parents
extract_document_state: Extracted 5 blocks and 4 parent-child relationships
get_document_state: Finished for doc_id: xxxx
flutter: Transaction done
apply_action: Starting with 2 actions for doc_id: xxxx
insert_node: Starting for block_id: iT1F-F
deltas_to_json: Converting 0 deltas
apply_delta_to_text: Computing delta diff
apply_delta_to_text: Parsing delta diff from JSON
apply_delta_to_text: No changes to apply
handle_prev_id_chain: block_id=iT1F-F, prev_id=Some("VC6SQw")
  Finding blocks that reference prev_id: VC6SQw
find_block_referencing_prev_id: Searching for blocks with prev_id = VC6SQw
  Found 6 total blocks to check
  Checking block: iT1F-F
    Block does not have prev_id
  Checking block: Mk_Gts
    Block does not have prev_id
  Checking block: VC6SQw
    Block has prev_id: ujx855, matches target: false
  Checking block: m8OEVv
    Block does not have prev_id
  Checking block: zhA_gK
    Block does not have prev_id
  Checking block: ujx855
    Block does not have prev_id
find_block_referencing_prev_id: Found 0 blocks with prev_id = VC6SQw: []
  Found 0 blocks with prev_id VC6SQw: []
handle_prev_id_chain: Completed
handle_following_connection: block_id=iT1F-F, next_id=None, prev_id=Some("VC6SQw")
  Using prev_id strategy (prev_id=VC6SQw)
find_block_referencing_prev_id: Searching for blocks with prev_id = VC6SQw
  Found 6 total blocks to check
  Checking block: iT1F-F
    Block does not have prev_id
  Checking block: Mk_Gts
    Block does not have prev_id
  Checking block: VC6SQw
    Block has prev_id: ujx855, matches target: false
  Checking block: m8OEVv
    Block does not have prev_id
  Checking block: zhA_gK
    Block does not have prev_id
  Checking block: ujx855
    Block does not have prev_id
find_block_referencing_prev_id: Found 0 blocks with prev_id = VC6SQw: []
  Found 0 nodes that reference prev_id VC6SQw: []
  Finished prev_id strategy
  Setting prev_id of block iT1F-F to VC6SQw
insert_node: Finished for block_id: iT1F-F
update_node: Updating block_id: VC6SQw
deltas_to_json: Converting 1 deltas
apply_delta_to_text: Computing delta diff
apply_delta_to_text: Parsing delta diff from JSON
apply_delta_to_text: No changes to apply
update_node: Updated block_id: VC6SQw
apply_action: Encoding state for doc_id: xxxx
apply_updates: Starting with 64 updates for doc_id: xxxx
apply_updates: Starting with 64 updates for doc_id: xxxx
apply_updates: Applying update for doc_id: xxxx
apply_updates: Finished for doc_id: xxxx
apply_updates: Successfully applied updates for doc_id: xxxx
get_document_state: Starting for doc_id: xxxx
extract_document_state: Starting for doc_id: xxxx
extract_document_state: Processing 6 blocks
deltas_to_json: Converting 0 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 0 deltas
deltas_to_json: Converting 1 deltas
====== STARTING BLOCK SORTING ======
Input children_map has 5 parent nodes

----- Sorting children of parent: m8OEVv -----
Parent has 3 children to sort
Mapped 3 valid blocks by ID
Block ujx855 assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block VC6SQw assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block iT1F-F assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Grouped blocks into 1 devices
  - Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 3 blocks
Block ujx855 has no prev_id
Block VC6SQw has prev_id ujx855
Block iT1F-F has prev_id VC6SQw
Built prev->next map with 2 entries
  - ujx855 has 1 next blocks: ["VC6SQw"]
  - VC6SQw has 1 next blocks: ["iT1F-F"]
Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 1 root blocks: ["ujx855"]
Processing devices in order: ["4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"]

Processing device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Sorted roots for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a: ["ujx855"]
Starting chain from root: ujx855
  Adding block ujx855 to sorted list
    Pushing VC6SQw onto stack
  Adding block VC6SQw to sorted list
    Pushing iT1F-F onto stack
  Adding block iT1F-F to sorted list
  No next blocks for iT1F-F
No remaining blocks for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
No globally remaining blocks
Final sorted order for parent m8OEVv: ["ujx855", "VC6SQw", "iT1F-F"]

----- Sorting children of parent: iT1F-F -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent iT1F-F: []

----- Sorting children of parent: zhA_gK -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent zhA_gK: []

----- Sorting children of parent: ujx855 -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent ujx855: []

----- Sorting children of parent: VC6SQw -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent VC6SQw: []
====== COMPLETED BLOCK SORTING ======
Final sorted children map has 5 parents
extract_document_state: Extracted 6 blocks and 5 parent-child relationships
get_document_state: Finished for doc_id: xxxx
flutter: {
flutter:   "docId": "xxxx",
flutter:   "blocks": {
flutter:     "zhA_gK": {
flutter:       "id": "zhA_gK",
flutter:       "ty": "todo_list",
flutter:       "attributes": {
flutter:         "timestamp": "2025-04-24T17:04:02.277720",
flutter:         "delta": "[]",
flutter:         "checked": "false",
flutter:         "device": "4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"
flutter:       },
flutter:       "delta": "[{\"insert\":\"Task is mine\"}]",
flutter:       "parentId": "m8OEVv",
flutter:       "prevId": null,
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "Mk_Gts": {
flutter:       "id": "Mk_Gts",
flutter:       "ty": "",
flutter:       "attributes": {
flutter:         "timestamp": "2025-04-24T17:04:05.077214",
flutter:         "checked": "false",
flutter:         "device": "4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"
flutter:       },
flutter:       "delta": "[]",
flutter:       "parentId": null,
flutter:       "prevId": null,
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "ujx855": {
flutter:       "id": "ujx855",
flutter:       "ty": "paragraph",
flutter:       "attributes": {
flutter:         "device": "4cb3899a-3fe4-4bb1-bbf4-edd464b0977a",
flutter:         "delta": "[]",
flutter:         "timestamp": "2025-04-24T17:06:34.210998"
flutter:       },
flutter:       "delta": "[{\"insert\":\"New task 1\"}]",
flutter:       "parentId": "m8OEVv",
flutter:       "prevId": null,
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "iT1F-F": {
flutter:       "id": "iT1F-F",
flutter:       "ty": "paragraph",
flutter:       "attributes": {
flutter:         "device": "4cb3899a-3fe4-4bb1-bbf4-edd464b0977a",
flutter:         "timestamp": "2025-04-24T17:06:39.424851",
flutter:         "delta": "[]"
flutter:       },
flutter:       "delta": "[]",
flutter:       "parentId": "m8OEVv",
flutter:       "prevId": "VC6SQw",
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "m8OEVv": {
flutter:       "id": "m8OEVv",
flutter:       "ty": "page",
flutter:       "attributes": {
flutter:         "timestamp": "2025-04-24T17:01:59.905543",
flutter:         "device": "3a00f73e-0356-4c61-a6e1-cb439d9dbf33"
flutter:       },
flutter:       "delta": null,
flutter:       "parentId": null,
flutter:       "prevId": null,
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "VC6SQw": {
flutter:       "id": "VC6SQw",
flutter:       "ty": "paragraph",
flutter:       "attributes": {
flutter:         "timestamp": "2025-04-24T17:06:36.796878",
flutter:         "delta": "[]",
flutter:         "device": "4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"
flutter:       },
flutter:       "delta": "[{\"insert\":\"NewTask 2\"}]",
flutter:       "parentId": "m8OEVv",
flutter:       "prevId": "ujx855",
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     }
flutter:   },
flutter:   "childrenMap": {
flutter:     "zhA_gK": [],
flutter:     "m8OEVv": [
flutter:       "ujx855",
flutter:       "VC6SQw",
flutter:       "iT1F-F"
flutter:     ],
flutter:     "iT1F-F": [],
flutter:     "ujx855": [],
flutter:     "VC6SQw": []
flutter:   },
flutter:   "rootId": "m8OEVv"
flutter: }
merge_updates: Merging 5 updates
merge_updates: Successfully merged updates
flutter: Transaction done
apply_action: Starting with 1 actions for doc_id: xxxx
update_node: Updating block_id: iT1F-F
deltas_to_json: Converting 0 deltas
apply_delta_to_text: Computing delta diff
apply_delta_to_text: Parsing delta diff from JSON
apply_delta_diff_to_text: Starting with 1 operations
update_node: Updated block_id: iT1F-F
apply_action: Encoding state for doc_id: xxxx
apply_updates: Starting with 63 updates for doc_id: xxxx
apply_updates: Starting with 63 updates for doc_id: xxxx
apply_updates: Applying update for doc_id: xxxx
apply_updates: Finished for doc_id: xxxx
apply_updates: Successfully applied updates for doc_id: xxxx
get_document_state: Starting for doc_id: xxxx
extract_document_state: Starting for doc_id: xxxx
extract_document_state: Processing 6 blocks
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 0 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
====== STARTING BLOCK SORTING ======
Input children_map has 5 parent nodes

----- Sorting children of parent: iT1F-F -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent iT1F-F: []

----- Sorting children of parent: ujx855 -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent ujx855: []

----- Sorting children of parent: zhA_gK -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent zhA_gK: []

----- Sorting children of parent: VC6SQw -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent VC6SQw: []

----- Sorting children of parent: m8OEVv -----
Parent has 3 children to sort
Mapped 3 valid blocks by ID
Block VC6SQw assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block ujx855 assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block iT1F-F assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Grouped blocks into 1 devices
  - Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 3 blocks
Block VC6SQw has prev_id ujx855
Block ujx855 has no prev_id
Block iT1F-F has prev_id VC6SQw
Built prev->next map with 2 entries
  - VC6SQw has 1 next blocks: ["iT1F-F"]
  - ujx855 has 1 next blocks: ["VC6SQw"]
Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 1 root blocks: ["ujx855"]
Processing devices in order: ["4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"]

Processing device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Sorted roots for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a: ["ujx855"]
Starting chain from root: ujx855
  Adding block ujx855 to sorted list
    Pushing VC6SQw onto stack
  Adding block VC6SQw to sorted list
    Pushing iT1F-F onto stack
  Adding block iT1F-F to sorted list
  No next blocks for iT1F-F
No remaining blocks for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
No globally remaining blocks
Final sorted order for parent m8OEVv: ["ujx855", "VC6SQw", "iT1F-F"]
====== COMPLETED BLOCK SORTING ======
Final sorted children map has 5 parents
extract_document_state: Extracted 6 blocks and 5 parent-child relationships
get_document_state: Finished for doc_id: xxxx
apply_updates: Starting with 64 updates for doc_id: xxxx
apply_updates: Starting with 64 updates for doc_id: xxxx
apply_updates: Applying update for doc_id: xxxx
apply_updates: Finished for doc_id: xxxx
apply_updates: Successfully applied updates for doc_id: xxxx
get_document_state: Starting for doc_id: xxxx
extract_document_state: Starting for doc_id: xxxx
extract_document_state: Processing 6 blocks
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 0 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
====== STARTING BLOCK SORTING ======
Input children_map has 5 parent nodes

----- Sorting children of parent: ujx855 -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent ujx855: []

----- Sorting children of parent: zhA_gK -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent zhA_gK: []

----- Sorting children of parent: m8OEVv -----
Parent has 3 children to sort
Mapped 3 valid blocks by ID
Block iT1F-F assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block VC6SQw assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block ujx855 assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Grouped blocks into 1 devices
  - Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 3 blocks
Block iT1F-F has prev_id VC6SQw
Block VC6SQw has prev_id ujx855
Block ujx855 has no prev_id
Built prev->next map with 2 entries
  - ujx855 has 1 next blocks: ["VC6SQw"]
  - VC6SQw has 1 next blocks: ["iT1F-F"]
Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 1 root blocks: ["ujx855"]
Processing devices in order: ["4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"]

Processing device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Sorted roots for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a: ["ujx855"]
Starting chain from root: ujx855
  Adding block ujx855 to sorted list
    Pushing VC6SQw onto stack
  Adding block VC6SQw to sorted list
    Pushing iT1F-F onto stack
  Adding block iT1F-F to sorted list
  No next blocks for iT1F-F
No remaining blocks for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
No globally remaining blocks
Final sorted order for parent m8OEVv: ["ujx855", "VC6SQw", "iT1F-F"]

----- Sorting children of parent: VC6SQw -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent VC6SQw: []

----- Sorting children of parent: iT1F-F -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent iT1F-F: []
====== COMPLETED BLOCK SORTING ======
Final sorted children map has 5 parents
extract_document_state: Extracted 6 blocks and 5 parent-child relationships
get_document_state: Finished for doc_id: xxxx
flutter: Transaction done
apply_action: Starting with 1 actions for doc_id: xxxx
update_node: Updating block_id: iT1F-F
deltas_to_json: Converting 1 deltas
apply_delta_to_text: Computing delta diff
apply_delta_to_text: Parsing delta diff from JSON
apply_delta_diff_to_text: Starting with 2 operations
update_node: Updated block_id: iT1F-F
apply_action: Encoding state for doc_id: xxxx
apply_updates: Starting with 65 updates for doc_id: xxxx
apply_updates: Starting with 65 updates for doc_id: xxxx
apply_updates: Applying update for doc_id: xxxx
apply_updates: Finished for doc_id: xxxx
apply_updates: Successfully applied updates for doc_id: xxxx
get_document_state: Starting for doc_id: xxxx
extract_document_state: Starting for doc_id: xxxx
extract_document_state: Processing 6 blocks
deltas_to_json: Converting 0 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
====== STARTING BLOCK SORTING ======
Input children_map has 5 parent nodes

----- Sorting children of parent: zhA_gK -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent zhA_gK: []

----- Sorting children of parent: VC6SQw -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent VC6SQw: []

----- Sorting children of parent: iT1F-F -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent iT1F-F: []

----- Sorting children of parent: ujx855 -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent ujx855: []

----- Sorting children of parent: m8OEVv -----
Parent has 3 children to sort
Mapped 3 valid blocks by ID
Block VC6SQw assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block iT1F-F assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block ujx855 assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Grouped blocks into 1 devices
  - Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 3 blocks
Block VC6SQw has prev_id ujx855
Block iT1F-F has prev_id VC6SQw
Block ujx855 has no prev_id
Built prev->next map with 2 entries
  - VC6SQw has 1 next blocks: ["iT1F-F"]
  - ujx855 has 1 next blocks: ["VC6SQw"]
Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 1 root blocks: ["ujx855"]
Processing devices in order: ["4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"]

Processing device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Sorted roots for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a: ["ujx855"]
Starting chain from root: ujx855
  Adding block ujx855 to sorted list
    Pushing VC6SQw onto stack
  Adding block VC6SQw to sorted list
    Pushing iT1F-F onto stack
  Adding block iT1F-F to sorted list
  No next blocks for iT1F-F
No remaining blocks for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
No globally remaining blocks
Final sorted order for parent m8OEVv: ["ujx855", "VC6SQw", "iT1F-F"]
====== COMPLETED BLOCK SORTING ======
Final sorted children map has 5 parents
extract_document_state: Extracted 6 blocks and 5 parent-child relationships
get_document_state: Finished for doc_id: xxxx
flutter: Transaction done
apply_action: Starting with 1 actions for doc_id: xxxx
update_node: Updating block_id: iT1F-F
deltas_to_json: Converting 1 deltas
apply_delta_to_text: Computing delta diff
apply_delta_to_text: Parsing delta diff from JSON
apply_delta_diff_to_text: Starting with 2 operations
update_node: Updated block_id: iT1F-F
apply_action: Encoding state for doc_id: xxxx
apply_updates: Starting with 66 updates for doc_id: xxxx
apply_updates: Starting with 66 updates for doc_id: xxxx
apply_updates: Applying update for doc_id: xxxx
apply_updates: Finished for doc_id: xxxx
apply_updates: Successfully applied updates for doc_id: xxxx
get_document_state: Starting for doc_id: xxxx
extract_document_state: Starting for doc_id: xxxx
extract_document_state: Processing 6 blocks
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 0 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
====== STARTING BLOCK SORTING ======
Input children_map has 5 parent nodes

----- Sorting children of parent: m8OEVv -----
Parent has 3 children to sort
Mapped 3 valid blocks by ID
Block ujx855 assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block VC6SQw assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block iT1F-F assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Grouped blocks into 1 devices
  - Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 3 blocks
Block ujx855 has no prev_id
Block VC6SQw has prev_id ujx855
Block iT1F-F has prev_id VC6SQw
Built prev->next map with 2 entries
  - VC6SQw has 1 next blocks: ["iT1F-F"]
  - ujx855 has 1 next blocks: ["VC6SQw"]
Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 1 root blocks: ["ujx855"]
Processing devices in order: ["4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"]

Processing device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Sorted roots for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a: ["ujx855"]
Starting chain from root: ujx855
  Adding block ujx855 to sorted list
    Pushing VC6SQw onto stack
  Adding block VC6SQw to sorted list
    Pushing iT1F-F onto stack
  Adding block iT1F-F to sorted list
  No next blocks for iT1F-F
No remaining blocks for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
No globally remaining blocks
Final sorted order for parent m8OEVv: ["ujx855", "VC6SQw", "iT1F-F"]

----- Sorting children of parent: ujx855 -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent ujx855: []

----- Sorting children of parent: zhA_gK -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent zhA_gK: []

----- Sorting children of parent: VC6SQw -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent VC6SQw: []

----- Sorting children of parent: iT1F-F -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent iT1F-F: []
====== COMPLETED BLOCK SORTING ======
Final sorted children map has 5 parents
extract_document_state: Extracted 6 blocks and 5 parent-child relationships
get_document_state: Finished for doc_id: xxxx
flutter: Transaction done
apply_action: Starting with 1 actions for doc_id: xxxx
update_node: Updating block_id: iT1F-F
deltas_to_json: Converting 1 deltas
apply_delta_to_text: Computing delta diff
apply_delta_to_text: Parsing delta diff from JSON
apply_delta_diff_to_text: Starting with 2 operations
update_node: Updated block_id: iT1F-F
apply_action: Encoding state for doc_id: xxxx
apply_updates: Starting with 67 updates for doc_id: xxxx
apply_updates: Starting with 67 updates for doc_id: xxxx
apply_updates: Applying update for doc_id: xxxx
apply_updates: Finished for doc_id: xxxx
apply_updates: Successfully applied updates for doc_id: xxxx
get_document_state: Starting for doc_id: xxxx
extract_document_state: Starting for doc_id: xxxx
extract_document_state: Processing 6 blocks
deltas_to_json: Converting 0 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
====== STARTING BLOCK SORTING ======
Input children_map has 5 parent nodes

----- Sorting children of parent: iT1F-F -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent iT1F-F: []

----- Sorting children of parent: ujx855 -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent ujx855: []

----- Sorting children of parent: VC6SQw -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent VC6SQw: []

----- Sorting children of parent: zhA_gK -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent zhA_gK: []

----- Sorting children of parent: m8OEVv -----
Parent has 3 children to sort
Mapped 3 valid blocks by ID
Block ujx855 assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block iT1F-F assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block VC6SQw assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Grouped blocks into 1 devices
  - Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 3 blocks
Block ujx855 has no prev_id
Block iT1F-F has prev_id VC6SQw
Block VC6SQw has prev_id ujx855
Built prev->next map with 2 entries
  - VC6SQw has 1 next blocks: ["iT1F-F"]
  - ujx855 has 1 next blocks: ["VC6SQw"]
Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 1 root blocks: ["ujx855"]
Processing devices in order: ["4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"]

Processing device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Sorted roots for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a: ["ujx855"]
Starting chain from root: ujx855
  Adding block ujx855 to sorted list
    Pushing VC6SQw onto stack
  Adding block VC6SQw to sorted list
    Pushing iT1F-F onto stack
  Adding block iT1F-F to sorted list
  No next blocks for iT1F-F
No remaining blocks for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
No globally remaining blocks
Final sorted order for parent m8OEVv: ["ujx855", "VC6SQw", "iT1F-F"]
====== COMPLETED BLOCK SORTING ======
Final sorted children map has 5 parents
extract_document_state: Extracted 6 blocks and 5 parent-child relationships
get_document_state: Finished for doc_id: xxxx
flutter: Transaction done
apply_action: Starting with 1 actions for doc_id: xxxx
update_node: Updating block_id: iT1F-F
deltas_to_json: Converting 1 deltas
apply_delta_to_text: Computing delta diff
apply_delta_to_text: Parsing delta diff from JSON
apply_delta_diff_to_text: Starting with 2 operations
update_node: Updated block_id: iT1F-F
apply_action: Encoding state for doc_id: xxxx
apply_updates: Starting with 68 updates for doc_id: xxxx
apply_updates: Starting with 68 updates for doc_id: xxxx
apply_updates: Applying update for doc_id: xxxx
apply_updates: Finished for doc_id: xxxx
apply_updates: Successfully applied updates for doc_id: xxxx
get_document_state: Starting for doc_id: xxxx
extract_document_state: Starting for doc_id: xxxx
extract_document_state: Processing 6 blocks
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 0 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
====== STARTING BLOCK SORTING ======
Input children_map has 5 parent nodes

----- Sorting children of parent: zhA_gK -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent zhA_gK: []

----- Sorting children of parent: iT1F-F -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent iT1F-F: []

----- Sorting children of parent: ujx855 -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent ujx855: []

----- Sorting children of parent: VC6SQw -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent VC6SQw: []

----- Sorting children of parent: m8OEVv -----
Parent has 3 children to sort
Mapped 3 valid blocks by ID
Block ujx855 assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block VC6SQw assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block iT1F-F assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Grouped blocks into 1 devices
  - Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 3 blocks
Block ujx855 has no prev_id
Block VC6SQw has prev_id ujx855
Block iT1F-F has prev_id VC6SQw
Built prev->next map with 2 entries
  - ujx855 has 1 next blocks: ["VC6SQw"]
  - VC6SQw has 1 next blocks: ["iT1F-F"]
Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 1 root blocks: ["ujx855"]
Processing devices in order: ["4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"]

Processing device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Sorted roots for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a: ["ujx855"]
Starting chain from root: ujx855
  Adding block ujx855 to sorted list
    Pushing VC6SQw onto stack
  Adding block VC6SQw to sorted list
    Pushing iT1F-F onto stack
  Adding block iT1F-F to sorted list
  No next blocks for iT1F-F
No remaining blocks for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
No globally remaining blocks
Final sorted order for parent m8OEVv: ["ujx855", "VC6SQw", "iT1F-F"]
====== COMPLETED BLOCK SORTING ======
Final sorted children map has 5 parents
extract_document_state: Extracted 6 blocks and 5 parent-child relationships
get_document_state: Finished for doc_id: xxxx
flutter: Transaction done
apply_action: Starting with 1 actions for doc_id: xxxx
update_node: Updating block_id: iT1F-F
deltas_to_json: Converting 1 deltas
apply_delta_to_text: Computing delta diff
apply_delta_to_text: Parsing delta diff from JSON
apply_delta_diff_to_text: Starting with 2 operations
update_node: Updated block_id: iT1F-F
apply_action: Encoding state for doc_id: xxxx
apply_updates: Starting with 69 updates for doc_id: xxxx
apply_updates: Starting with 69 updates for doc_id: xxxx
apply_updates: Applying update for doc_id: xxxx
apply_updates: Finished for doc_id: xxxx
apply_updates: Successfully applied updates for doc_id: xxxx
get_document_state: Starting for doc_id: xxxx
extract_document_state: Starting for doc_id: xxxx
extract_document_state: Processing 6 blocks
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 0 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
====== STARTING BLOCK SORTING ======
Input children_map has 5 parent nodes

----- Sorting children of parent: ujx855 -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent ujx855: []

----- Sorting children of parent: iT1F-F -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent iT1F-F: []

----- Sorting children of parent: zhA_gK -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent zhA_gK: []

----- Sorting children of parent: VC6SQw -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent VC6SQw: []

----- Sorting children of parent: m8OEVv -----
Parent has 3 children to sort
Mapped 3 valid blocks by ID
Block ujx855 assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block VC6SQw assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block iT1F-F assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Grouped blocks into 1 devices
  - Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 3 blocks
Block ujx855 has no prev_id
Block VC6SQw has prev_id ujx855
Block iT1F-F has prev_id VC6SQw
Built prev->next map with 2 entries
  - ujx855 has 1 next blocks: ["VC6SQw"]
  - VC6SQw has 1 next blocks: ["iT1F-F"]
Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 1 root blocks: ["ujx855"]
Processing devices in order: ["4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"]

Processing device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Sorted roots for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a: ["ujx855"]
Starting chain from root: ujx855
  Adding block ujx855 to sorted list
    Pushing VC6SQw onto stack
  Adding block VC6SQw to sorted list
    Pushing iT1F-F onto stack
  Adding block iT1F-F to sorted list
  No next blocks for iT1F-F
No remaining blocks for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
No globally remaining blocks
Final sorted order for parent m8OEVv: ["ujx855", "VC6SQw", "iT1F-F"]
====== COMPLETED BLOCK SORTING ======
Final sorted children map has 5 parents
extract_document_state: Extracted 6 blocks and 5 parent-child relationships
get_document_state: Finished for doc_id: xxxx
flutter: Transaction done
apply_action: Starting with 1 actions for doc_id: xxxx
update_node: Updating block_id: iT1F-F
deltas_to_json: Converting 1 deltas
apply_delta_to_text: Computing delta diff
apply_delta_to_text: Parsing delta diff from JSON
apply_delta_diff_to_text: Starting with 2 operations
update_node: Updated block_id: iT1F-F
apply_action: Encoding state for doc_id: xxxx
apply_updates: Starting with 70 updates for doc_id: xxxx
apply_updates: Starting with 70 updates for doc_id: xxxx
apply_updates: Applying update for doc_id: xxxx
apply_updates: Finished for doc_id: xxxx
apply_updates: Successfully applied updates for doc_id: xxxx
get_document_state: Starting for doc_id: xxxx
extract_document_state: Starting for doc_id: xxxx
extract_document_state: Processing 6 blocks
deltas_to_json: Converting 0 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
====== STARTING BLOCK SORTING ======
Input children_map has 5 parent nodes

----- Sorting children of parent: m8OEVv -----
Parent has 3 children to sort
Mapped 3 valid blocks by ID
Block ujx855 assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block VC6SQw assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block iT1F-F assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Grouped blocks into 1 devices
  - Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 3 blocks
Block ujx855 has no prev_id
Block VC6SQw has prev_id ujx855
Block iT1F-F has prev_id VC6SQw
Built prev->next map with 2 entries
  - ujx855 has 1 next blocks: ["VC6SQw"]
  - VC6SQw has 1 next blocks: ["iT1F-F"]
Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 1 root blocks: ["ujx855"]
Processing devices in order: ["4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"]

Processing device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Sorted roots for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a: ["ujx855"]
Starting chain from root: ujx855
  Adding block ujx855 to sorted list
    Pushing VC6SQw onto stack
  Adding block VC6SQw to sorted list
    Pushing iT1F-F onto stack
  Adding block iT1F-F to sorted list
  No next blocks for iT1F-F
No remaining blocks for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
No globally remaining blocks
Final sorted order for parent m8OEVv: ["ujx855", "VC6SQw", "iT1F-F"]

----- Sorting children of parent: ujx855 -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent ujx855: []

----- Sorting children of parent: VC6SQw -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent VC6SQw: []

----- Sorting children of parent: zhA_gK -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent zhA_gK: []

----- Sorting children of parent: iT1F-F -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent iT1F-F: []
====== COMPLETED BLOCK SORTING ======
Final sorted children map has 5 parents
extract_document_state: Extracted 6 blocks and 5 parent-child relationships
get_document_state: Finished for doc_id: xxxx
flutter: Transaction done
apply_action: Starting with 1 actions for doc_id: xxxx
update_node: Updating block_id: iT1F-F
deltas_to_json: Converting 1 deltas
apply_delta_to_text: Computing delta diff
apply_delta_to_text: Parsing delta diff from JSON
apply_delta_diff_to_text: Starting with 2 operations
update_node: Updated block_id: iT1F-F
apply_action: Encoding state for doc_id: xxxx
apply_updates: Starting with 71 updates for doc_id: xxxx
apply_updates: Starting with 71 updates for doc_id: xxxx
apply_updates: Applying update for doc_id: xxxx
apply_updates: Finished for doc_id: xxxx
apply_updates: Successfully applied updates for doc_id: xxxx
get_document_state: Starting for doc_id: xxxx
extract_document_state: Starting for doc_id: xxxx
extract_document_state: Processing 6 blocks
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 0 deltas
deltas_to_json: Converting 1 deltas
====== STARTING BLOCK SORTING ======
Input children_map has 5 parent nodes

----- Sorting children of parent: VC6SQw -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent VC6SQw: []

----- Sorting children of parent: ujx855 -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent ujx855: []

----- Sorting children of parent: zhA_gK -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent zhA_gK: []

----- Sorting children of parent: iT1F-F -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent iT1F-F: []

----- Sorting children of parent: m8OEVv -----
Parent has 3 children to sort
Mapped 3 valid blocks by ID
Block iT1F-F assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block ujx855 assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block VC6SQw assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Grouped blocks into 1 devices
  - Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 3 blocks
Block iT1F-F has prev_id VC6SQw
Block ujx855 has no prev_id
Block VC6SQw has prev_id ujx855
Built prev->next map with 2 entries
  - VC6SQw has 1 next blocks: ["iT1F-F"]
  - ujx855 has 1 next blocks: ["VC6SQw"]
Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 1 root blocks: ["ujx855"]
Processing devices in order: ["4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"]

Processing device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Sorted roots for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a: ["ujx855"]
Starting chain from root: ujx855
  Adding block ujx855 to sorted list
    Pushing VC6SQw onto stack
  Adding block VC6SQw to sorted list
    Pushing iT1F-F onto stack
  Adding block iT1F-F to sorted list
  No next blocks for iT1F-F
No remaining blocks for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
No globally remaining blocks
Final sorted order for parent m8OEVv: ["ujx855", "VC6SQw", "iT1F-F"]
====== COMPLETED BLOCK SORTING ======
Final sorted children map has 5 parents
extract_document_state: Extracted 6 blocks and 5 parent-child relationships
get_document_state: Finished for doc_id: xxxx
merge_updates: Merging 8 updates
merge_updates: Successfully merged updates
apply_updates: Starting with 72 updates for doc_id: xxxx
apply_updates: Starting with 72 updates for doc_id: xxxx
apply_updates: Applying update for doc_id: xxxx
apply_updates: Finished for doc_id: xxxx
apply_updates: Successfully applied updates for doc_id: xxxx
get_document_state: Starting for doc_id: xxxx
extract_document_state: Starting for doc_id: xxxx
extract_document_state: Processing 6 blocks
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 0 deltas
====== STARTING BLOCK SORTING ======
Input children_map has 5 parent nodes

----- Sorting children of parent: zhA_gK -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent zhA_gK: []

----- Sorting children of parent: ujx855 -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent ujx855: []

----- Sorting children of parent: m8OEVv -----
Parent has 3 children to sort
Mapped 3 valid blocks by ID
Block ujx855 assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block iT1F-F assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block VC6SQw assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Grouped blocks into 1 devices
  - Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 3 blocks
Block ujx855 has no prev_id
Block iT1F-F has prev_id VC6SQw
Block VC6SQw has prev_id ujx855
Built prev->next map with 2 entries
  - VC6SQw has 1 next blocks: ["iT1F-F"]
  - ujx855 has 1 next blocks: ["VC6SQw"]
Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 1 root blocks: ["ujx855"]
Processing devices in order: ["4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"]

Processing device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Sorted roots for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a: ["ujx855"]
Starting chain from root: ujx855
  Adding block ujx855 to sorted list
    Pushing VC6SQw onto stack
  Adding block VC6SQw to sorted list
    Pushing iT1F-F onto stack
  Adding block iT1F-F to sorted list
  No next blocks for iT1F-F
No remaining blocks for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
No globally remaining blocks
Final sorted order for parent m8OEVv: ["ujx855", "VC6SQw", "iT1F-F"]

----- Sorting children of parent: VC6SQw -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent VC6SQw: []

----- Sorting children of parent: iT1F-F -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent iT1F-F: []
====== COMPLETED BLOCK SORTING ======
Final sorted children map has 5 parents
extract_document_state: Extracted 6 blocks and 5 parent-child relationships
get_document_state: Finished for doc_id: xxxx
flutter: Transaction done
apply_action: Starting with 1 actions for doc_id: xxxx
update_node: Updating block_id: iT1F-F
deltas_to_json: Converting 1 deltas
apply_delta_to_text: Computing delta diff
apply_delta_to_text: Parsing delta diff from JSON
apply_delta_diff_to_text: Starting with 2 operations
update_node: Updated block_id: iT1F-F
apply_action: Encoding state for doc_id: xxxx
apply_updates: Starting with 73 updates for doc_id: xxxx
apply_updates: Starting with 73 updates for doc_id: xxxx
apply_updates: Applying update for doc_id: xxxx
apply_updates: Finished for doc_id: xxxx
apply_updates: Successfully applied updates for doc_id: xxxx
get_document_state: Starting for doc_id: xxxx
extract_document_state: Starting for doc_id: xxxx
extract_document_state: Processing 6 blocks
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 0 deltas
deltas_to_json: Converting 1 deltas
====== STARTING BLOCK SORTING ======
Input children_map has 5 parent nodes

----- Sorting children of parent: zhA_gK -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent zhA_gK: []

----- Sorting children of parent: m8OEVv -----
Parent has 3 children to sort
Mapped 3 valid blocks by ID
Block ujx855 assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block iT1F-F assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block VC6SQw assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Grouped blocks into 1 devices
  - Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 3 blocks
Block ujx855 has no prev_id
Block iT1F-F has prev_id VC6SQw
Block VC6SQw has prev_id ujx855
Built prev->next map with 2 entries
  - VC6SQw has 1 next blocks: ["iT1F-F"]
  - ujx855 has 1 next blocks: ["VC6SQw"]
Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 1 root blocks: ["ujx855"]
Processing devices in order: ["4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"]

Processing device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Sorted roots for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a: ["ujx855"]
Starting chain from root: ujx855
  Adding block ujx855 to sorted list
    Pushing VC6SQw onto stack
  Adding block VC6SQw to sorted list
    Pushing iT1F-F onto stack
  Adding block iT1F-F to sorted list
  No next blocks for iT1F-F
No remaining blocks for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
No globally remaining blocks
Final sorted order for parent m8OEVv: ["ujx855", "VC6SQw", "iT1F-F"]

----- Sorting children of parent: iT1F-F -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent iT1F-F: []

----- Sorting children of parent: ujx855 -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent ujx855: []

----- Sorting children of parent: VC6SQw -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent VC6SQw: []
====== COMPLETED BLOCK SORTING ======
Final sorted children map has 5 parents
extract_document_state: Extracted 6 blocks and 5 parent-child relationships
get_document_state: Finished for doc_id: xxxx
merge_updates: Merging 1 updates
merge_updates: Successfully merged updates
apply_updates: Starting with 74 updates for doc_id: xxxx
apply_updates: Starting with 74 updates for doc_id: xxxx
apply_updates: Applying update for doc_id: xxxx
apply_updates: Finished for doc_id: xxxx
apply_updates: Successfully applied updates for doc_id: xxxx
get_document_state: Starting for doc_id: xxxx
extract_document_state: Starting for doc_id: xxxx
extract_document_state: Processing 6 blocks
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 0 deltas
====== STARTING BLOCK SORTING ======
Input children_map has 5 parent nodes

----- Sorting children of parent: zhA_gK -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent zhA_gK: []

----- Sorting children of parent: m8OEVv -----
Parent has 3 children to sort
Mapped 3 valid blocks by ID
Block iT1F-F assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block ujx855 assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block VC6SQw assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Grouped blocks into 1 devices
  - Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 3 blocks
Block iT1F-F has prev_id VC6SQw
Block ujx855 has no prev_id
Block VC6SQw has prev_id ujx855
Built prev->next map with 2 entries
  - VC6SQw has 1 next blocks: ["iT1F-F"]
  - ujx855 has 1 next blocks: ["VC6SQw"]
Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 1 root blocks: ["ujx855"]
Processing devices in order: ["4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"]

Processing device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Sorted roots for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a: ["ujx855"]
Starting chain from root: ujx855
  Adding block ujx855 to sorted list
    Pushing VC6SQw onto stack
  Adding block VC6SQw to sorted list
    Pushing iT1F-F onto stack
  Adding block iT1F-F to sorted list
  No next blocks for iT1F-F
No remaining blocks for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
No globally remaining blocks
Final sorted order for parent m8OEVv: ["ujx855", "VC6SQw", "iT1F-F"]

----- Sorting children of parent: ujx855 -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent ujx855: []

----- Sorting children of parent: VC6SQw -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent VC6SQw: []

----- Sorting children of parent: iT1F-F -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent iT1F-F: []
====== COMPLETED BLOCK SORTING ======
Final sorted children map has 5 parents
extract_document_state: Extracted 6 blocks and 5 parent-child relationships
get_document_state: Finished for doc_id: xxxx
flutter: onDragStarted
flutter: the drag offset is inside the block, dragOffset(Offset(131.6, 127.5)), globalBlockRect(Rect.fromLTRB(120.0, 94.0, 680.0, 132.0))
flutter: the drag offset is inside the block, dragOffset(Offset(134.4, 111.5)), globalBlockRect(Rect.fromLTRB(120.0, 94.0, 680.0, 132.0))
flutter: the drag offset is inside the block, dragOffset(Offset(136.3, 98.0)), globalBlockRect(Rect.fromLTRB(120.0, 94.0, 680.0, 132.0))
flutter: the drag offset is inside the block, dragOffset(Offset(136.3, 91.8)), globalBlockRect(Rect.fromLTRB(120.0, 56.0, 680.0, 94.0))
flutter: the drag offset is inside the block, dragOffset(Offset(136.3, 82.1)), globalBlockRect(Rect.fromLTRB(120.0, 56.0, 680.0, 94.0))
flutter: the drag offset is inside the block, dragOffset(Offset(136.3, 77.3)), globalBlockRect(Rect.fromLTRB(120.0, 56.0, 680.0, 94.0))
flutter: the drag offset is inside the block, dragOffset(Offset(136.3, 76.2)), globalBlockRect(Rect.fromLTRB(120.0, 56.0, 680.0, 94.0))
flutter: the drag offset is inside the block, dragOffset(Offset(136.3, 73.9)), globalBlockRect(Rect.fromLTRB(120.0, 56.0, 680.0, 94.0))
flutter: the drag offset is inside the block, dragOffset(Offset(136.3, 72.9)), globalBlockRect(Rect.fromLTRB(120.0, 56.0, 680.0, 94.0))
flutter: the drag offset is inside the block, dragOffset(Offset(136.3, 72.4)), globalBlockRect(Rect.fromLTRB(120.0, 56.0, 680.0, 94.0))
flutter: the drag offset is inside the block, dragOffset(Offset(136.3, 72.2)), globalBlockRect(Rect.fromLTRB(120.0, 56.0, 680.0, 94.0))
flutter: the drag offset is inside the block, dragOffset(Offset(136.3, 71.6)), globalBlockRect(Rect.fromLTRB(120.0, 56.0, 680.0, 94.0))
flutter: onDragEnd, acceptedPath([0])
flutter: the drag offset is inside the block, dragOffset(Offset(136.3, 71.6)), globalBlockRect(Rect.fromLTRB(120.0, 56.0, 680.0, 94.0))
flutter: Moving node(Node(id: iT1F-F, type: paragraph, attributes: {delta: [{insert: New Task3}], device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a, timestamp: 2025-04-24T17:06:39.424851}, children: []), [2]) to path([0])
flutter: Transaction done
apply_action: Starting with 1 actions for doc_id: xxxx
move_block: Moving block_id: iT1F-F from parent: m8OEVv to parent: m8OEVv
remove_block_from_prev_id_chain: Removing block iT1F-F from chain
  Block iT1F-F has prev_id: VC6SQw
  Finding blocks that reference iT1F-F as their prev_id
find_block_referencing_prev_id: Searching for blocks with prev_id = iT1F-F
  Found 6 total blocks to check
  Checking block: ujx855
    Block does not have prev_id
  Checking block: m8OEVv
    Block does not have prev_id
  Checking block: zhA_gK
    Block does not have prev_id
  Checking block: VC6SQw
    Block has prev_id: ujx855, matches target: false
  Checking block: iT1F-F
    Block has prev_id: VC6SQw, matches target: false
  Checking block: Mk_Gts
    Block does not have prev_id
find_block_referencing_prev_id: Found 0 blocks with prev_id = iT1F-F: []
  Found 0 next blocks: []
remove_block_from_prev_id_chain: Completed
handle_following_connection: block_id=iT1F-F, next_id=Some("ujx855"), prev_id=None
  Using next_id strategy (next_id=ujx855)
  Setting prev_id of next block ujx855 to iT1F-F
  Attempting to copy device and timestamp from next block ujx855 to iT1F-F
  WARNING: Next block has no device attribute
  WARNING: Next block has no timestamp attribute
  Finished next_id strategy
handle_following_connection: Completed
move_block: Moved block within same parent
apply_action: Encoding state for doc_id: xxxx
apply_updates: Starting with 75 updates for doc_id: xxxx
apply_updates: Starting with 75 updates for doc_id: xxxx
apply_updates: Applying update for doc_id: xxxx
apply_updates: Finished for doc_id: xxxx
apply_updates: Successfully applied updates for doc_id: xxxx
get_document_state: Starting for doc_id: xxxx
extract_document_state: Starting for doc_id: xxxx
extract_document_state: Processing 6 blocks
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 0 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
====== STARTING BLOCK SORTING ======
Input children_map has 5 parent nodes

----- Sorting children of parent: ujx855 -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent ujx855: []

----- Sorting children of parent: zhA_gK -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent zhA_gK: []

----- Sorting children of parent: VC6SQw -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent VC6SQw: []

----- Sorting children of parent: m8OEVv -----
Parent has 3 children to sort
Mapped 3 valid blocks by ID
Block iT1F-F assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block ujx855 assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block VC6SQw assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Grouped blocks into 1 devices
  - Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 3 blocks
Block iT1F-F has no prev_id
Block ujx855 has prev_id iT1F-F
Block VC6SQw has prev_id ujx855
Built prev->next map with 2 entries
  - iT1F-F has 1 next blocks: ["ujx855"]
  - ujx855 has 1 next blocks: ["VC6SQw"]
Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 1 root blocks: ["iT1F-F"]
Processing devices in order: ["4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"]

Processing device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Sorted roots for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a: ["iT1F-F"]
Starting chain from root: iT1F-F
  Adding block iT1F-F to sorted list
    Pushing ujx855 onto stack
  Adding block ujx855 to sorted list
    Pushing VC6SQw onto stack
  Adding block VC6SQw to sorted list
  No next blocks for VC6SQw
No remaining blocks for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
No globally remaining blocks
Final sorted order for parent m8OEVv: ["iT1F-F", "ujx855", "VC6SQw"]

----- Sorting children of parent: iT1F-F -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent iT1F-F: []
====== COMPLETED BLOCK SORTING ======
Final sorted children map has 5 parents
extract_document_state: Extracted 6 blocks and 5 parent-child relationships
get_document_state: Finished for doc_id: xxxx
merge_updates: Merging 1 updates
merge_updates: Successfully merged updates
apply_updates: Starting with 76 updates for doc_id: xxxx
apply_updates: Starting with 76 updates for doc_id: xxxx
apply_updates: Applying update for doc_id: xxxx
apply_updates: Finished for doc_id: xxxx
apply_updates: Successfully applied updates for doc_id: xxxx
get_document_state: Starting for doc_id: xxxx
extract_document_state: Starting for doc_id: xxxx
extract_document_state: Processing 6 blocks
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 0 deltas
deltas_to_json: Converting 1 deltas
====== STARTING BLOCK SORTING ======
Input children_map has 5 parent nodes

----- Sorting children of parent: m8OEVv -----
Parent has 3 children to sort
Mapped 3 valid blocks by ID
Block iT1F-F assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block ujx855 assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block VC6SQw assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Grouped blocks into 1 devices
  - Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 3 blocks
Block iT1F-F has no prev_id
Block ujx855 has prev_id iT1F-F
Block VC6SQw has prev_id ujx855
Built prev->next map with 2 entries
  - iT1F-F has 1 next blocks: ["ujx855"]
  - ujx855 has 1 next blocks: ["VC6SQw"]
Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 1 root blocks: ["iT1F-F"]
Processing devices in order: ["4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"]

Processing device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Sorted roots for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a: ["iT1F-F"]
Starting chain from root: iT1F-F
  Adding block iT1F-F to sorted list
    Pushing ujx855 onto stack
  Adding block ujx855 to sorted list
    Pushing VC6SQw onto stack
  Adding block VC6SQw to sorted list
  No next blocks for VC6SQw
No remaining blocks for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
No globally remaining blocks
Final sorted order for parent m8OEVv: ["iT1F-F", "ujx855", "VC6SQw"]

----- Sorting children of parent: ujx855 -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent ujx855: []

----- Sorting children of parent: VC6SQw -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent VC6SQw: []

----- Sorting children of parent: iT1F-F -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent iT1F-F: []

----- Sorting children of parent: zhA_gK -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent zhA_gK: []
====== COMPLETED BLOCK SORTING ======
Final sorted children map has 5 parents
extract_document_state: Extracted 6 blocks and 5 parent-child relationships
get_document_state: Finished for doc_id: xxxx
flutter: onDragStarted
flutter: the drag offset is inside the block, dragOffset(Offset(128.4, 130.2)), globalBlockRect(Rect.fromLTRB(120.0, 94.0, 680.0, 132.0))
flutter: the drag offset is inside the block, dragOffset(Offset(128.4, 115.5)), globalBlockRect(Rect.fromLTRB(120.0, 94.0, 680.0, 132.0))
flutter: the drag offset is inside the block, dragOffset(Offset(128.4, 114.4)), globalBlockRect(Rect.fromLTRB(120.0, 94.0, 680.0, 132.0))
flutter: the drag offset is inside the block, dragOffset(Offset(129.9, 109.7)), globalBlockRect(Rect.fromLTRB(120.0, 94.0, 680.0, 132.0))
flutter: the drag offset is inside the block, dragOffset(Offset(129.9, 108.3)), globalBlockRect(Rect.fromLTRB(120.0, 94.0, 680.0, 132.0))
flutter: the drag offset is inside the block, dragOffset(Offset(129.9, 107.8)), globalBlockRect(Rect.fromLTRB(120.0, 94.0, 680.0, 132.0))
flutter: the drag offset is inside the block, dragOffset(Offset(129.9, 107.2)), globalBlockRect(Rect.fromLTRB(120.0, 94.0, 680.0, 132.0))
flutter: the drag offset is inside the block, dragOffset(Offset(130.2, 107.0)), globalBlockRect(Rect.fromLTRB(120.0, 94.0, 680.0, 132.0))
flutter: the drag offset is inside the block, dragOffset(Offset(130.2, 106.7)), globalBlockRect(Rect.fromLTRB(120.0, 94.0, 680.0, 132.0))
flutter: onDragEnd, acceptedPath([1])
flutter: the drag offset is inside the block, dragOffset(Offset(130.2, 106.7)), globalBlockRect(Rect.fromLTRB(120.0, 94.0, 680.0, 132.0))
flutter: Moving node(Node(id: VC6SQw, type: paragraph, attributes: {delta: [{insert: NewTask 2}], timestamp: 2025-04-24T17:06:36.796878, device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a}, children: []), [2]) to path([1])
flutter: Transaction done
apply_action: Starting with 1 actions for doc_id: xxxx
move_block: Moving block_id: VC6SQw from parent: m8OEVv to parent: m8OEVv
remove_block_from_prev_id_chain: Removing block VC6SQw from chain
  Block VC6SQw has prev_id: ujx855
  Finding blocks that reference VC6SQw as their prev_id
find_block_referencing_prev_id: Searching for blocks with prev_id = VC6SQw
  Found 6 total blocks to check
  Checking block: iT1F-F
    Block does not have prev_id
  Checking block: VC6SQw
    Block has prev_id: ujx855, matches target: false
  Checking block: zhA_gK
    Block does not have prev_id
  Checking block: m8OEVv
    Block does not have prev_id
  Checking block: Mk_Gts
    Block does not have prev_id
  Checking block: ujx855
    Block has prev_id: iT1F-F, matches target: false
find_block_referencing_prev_id: Found 0 blocks with prev_id = VC6SQw: []
  Found 0 next blocks: []
remove_block_from_prev_id_chain: Completed
handle_following_connection: block_id=VC6SQw, next_id=Some("ujx855"), prev_id=Some("iT1F-F")
  Using prev_id strategy (prev_id=iT1F-F)
find_block_referencing_prev_id: Searching for blocks with prev_id = iT1F-F
  Found 6 total blocks to check
  Checking block: iT1F-F
    Block does not have prev_id
  Checking block: VC6SQw
    Block has prev_id: ujx855, matches target: false
  Checking block: zhA_gK
    Block does not have prev_id
  Checking block: m8OEVv
    Block does not have prev_id
  Checking block: Mk_Gts
    Block does not have prev_id
  Checking block: ujx855
    Block has prev_id: iT1F-F, matches target: true
find_block_referencing_prev_id: Found 1 blocks with prev_id = iT1F-F: ["ujx855"]
  Found 1 nodes that reference prev_id iT1F-F: ["ujx855"]
  Updating block ujx855 to point to VC6SQw
  Finished prev_id strategy
move_block: Moved block within same parent
apply_action: Encoding state for doc_id: xxxx
apply_updates: Starting with 56 updates for doc_id: xxxx
apply_updates: Starting with 56 updates for doc_id: xxxx
apply_updates: Applying update for doc_id: xxxx
apply_updates: Finished for doc_id: xxxx
apply_updates: Successfully applied updates for doc_id: xxxx
get_document_state: Starting for doc_id: xxxx
extract_document_state: Starting for doc_id: xxxx
extract_document_state: Processing 6 blocks
deltas_to_json: Converting 0 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
====== STARTING BLOCK SORTING ======
Input children_map has 5 parent nodes

----- Sorting children of parent: VC6SQw -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent VC6SQw: []

----- Sorting children of parent: m8OEVv -----
Parent has 3 children to sort
Mapped 3 valid blocks by ID
Block VC6SQw assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block iT1F-F assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block ujx855 assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Grouped blocks into 1 devices
  - Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 3 blocks
Block VC6SQw has prev_id iT1F-F
Block iT1F-F has no prev_id
Block ujx855 has prev_id VC6SQw
Built prev->next map with 2 entries
  - VC6SQw has 1 next blocks: ["ujx855"]
  - iT1F-F has 1 next blocks: ["VC6SQw"]
Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 1 root blocks: ["iT1F-F"]
Processing devices in order: ["4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"]

Processing device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Sorted roots for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a: ["iT1F-F"]
Starting chain from root: iT1F-F
  Adding block iT1F-F to sorted list
    Pushing VC6SQw onto stack
  Adding block VC6SQw to sorted list
    Pushing ujx855 onto stack
  Adding block ujx855 to sorted list
  No next blocks for ujx855
No remaining blocks for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
No globally remaining blocks
Final sorted order for parent m8OEVv: ["iT1F-F", "VC6SQw", "ujx855"]

----- Sorting children of parent: zhA_gK -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent zhA_gK: []

----- Sorting children of parent: ujx855 -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent ujx855: []

----- Sorting children of parent: iT1F-F -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent iT1F-F: []
====== COMPLETED BLOCK SORTING ======
Final sorted children map has 5 parents
extract_document_state: Extracted 6 blocks and 5 parent-child relationships
get_document_state: Finished for doc_id: xxxx
merge_updates: Merging 1 updates
merge_updates: Successfully merged updates
apply_updates: Starting with 57 updates for doc_id: xxxx
apply_updates: Starting with 57 updates for doc_id: xxxx
apply_updates: Applying update for doc_id: xxxx
apply_updates: Finished for doc_id: xxxx
apply_updates: Successfully applied updates for doc_id: xxxx
get_document_state: Starting for doc_id: xxxx
extract_document_state: Starting for doc_id: xxxx
extract_document_state: Processing 6 blocks
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 0 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
====== STARTING BLOCK SORTING ======
Input children_map has 5 parent nodes

----- Sorting children of parent: ujx855 -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent ujx855: []

----- Sorting children of parent: m8OEVv -----
Parent has 3 children to sort
Mapped 3 valid blocks by ID
Block iT1F-F assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block ujx855 assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block VC6SQw assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Grouped blocks into 1 devices
  - Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 3 blocks
Block iT1F-F has no prev_id
Block ujx855 has prev_id VC6SQw
Block VC6SQw has prev_id iT1F-F
Built prev->next map with 2 entries
  - iT1F-F has 1 next blocks: ["VC6SQw"]
  - VC6SQw has 1 next blocks: ["ujx855"]
Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 1 root blocks: ["iT1F-F"]
Processing devices in order: ["4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"]

Processing device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Sorted roots for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a: ["iT1F-F"]
Starting chain from root: iT1F-F
  Adding block iT1F-F to sorted list
    Pushing VC6SQw onto stack
  Adding block VC6SQw to sorted list
    Pushing ujx855 onto stack
  Adding block ujx855 to sorted list
  No next blocks for ujx855
No remaining blocks for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
No globally remaining blocks
Final sorted order for parent m8OEVv: ["iT1F-F", "VC6SQw", "ujx855"]

----- Sorting children of parent: VC6SQw -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent VC6SQw: []

----- Sorting children of parent: iT1F-F -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent iT1F-F: []

----- Sorting children of parent: zhA_gK -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent zhA_gK: []
====== COMPLETED BLOCK SORTING ======
Final sorted children map has 5 parents
extract_document_state: Extracted 6 blocks and 5 parent-child relationships
get_document_state: Finished for doc_id: xxxx
flutter: onDragStarted
flutter: the drag offset is inside the block, dragOffset(Offset(180.2, 131.9)), globalBlockRect(Rect.fromLTRB(120.0, 94.0, 680.0, 132.0))
flutter: the drag offset is inside the block, dragOffset(Offset(182.6, 130.7)), globalBlockRect(Rect.fromLTRB(120.0, 94.0, 680.0, 132.0))
flutter: the drag offset is inside the block, dragOffset(Offset(184.2, 130.1)), globalBlockRect(Rect.fromLTRB(120.0, 94.0, 680.0, 132.0))
flutter: the drag offset is inside the block, dragOffset(Offset(185.2, 129.6)), globalBlockRect(Rect.fromLTRB(120.0, 94.0, 680.0, 132.0))
flutter: the drag offset is inside the block, dragOffset(Offset(185.5, 129.6)), globalBlockRect(Rect.fromLTRB(120.0, 94.0, 680.0, 132.0))
flutter: the drag offset is inside the block, dragOffset(Offset(185.7, 129.6)), globalBlockRect(Rect.fromLTRB(120.0, 94.0, 680.0, 132.0))
flutter: the drag offset is inside the block, dragOffset(Offset(186.0, 129.3)), globalBlockRect(Rect.fromLTRB(120.0, 94.0, 680.0, 132.0))
flutter: the drag offset is inside the block, dragOffset(Offset(187.4, 129.1)), globalBlockRect(Rect.fromLTRB(120.0, 94.0, 680.0, 132.0))
flutter: the drag offset is inside the block, dragOffset(Offset(187.6, 128.8)), globalBlockRect(Rect.fromLTRB(120.0, 94.0, 680.0, 132.0))
flutter: the drag offset is inside the block, dragOffset(Offset(192.4, 127.3)), globalBlockRect(Rect.fromLTRB(120.0, 94.0, 680.0, 132.0))
flutter: the drag offset is inside the block, dragOffset(Offset(195.3, 125.1)), globalBlockRect(Rect.fromLTRB(120.0, 94.0, 680.0, 132.0))
flutter: the drag offset is inside the block, dragOffset(Offset(196.6, 124.5)), globalBlockRect(Rect.fromLTRB(120.0, 94.0, 680.0, 132.0))
flutter: the drag offset is inside the block, dragOffset(Offset(198.4, 122.7)), globalBlockRect(Rect.fromLTRB(120.0, 94.0, 680.0, 132.0))
flutter: the drag offset is inside the block, dragOffset(Offset(201.3, 120.6)), globalBlockRect(Rect.fromLTRB(120.0, 94.0, 680.0, 132.0))
flutter: the drag offset is inside the block, dragOffset(Offset(201.6, 120.3)), globalBlockRect(Rect.fromLTRB(120.0, 94.0, 680.0, 132.0))
flutter: the drag offset is inside the block, dragOffset(Offset(202.1, 120.3)), globalBlockRect(Rect.fromLTRB(120.0, 94.0, 680.0, 132.0))
flutter: the drag offset is inside the block, dragOffset(Offset(202.6, 119.8)), globalBlockRect(Rect.fromLTRB(120.0, 94.0, 680.0, 132.0))
flutter: onDragEnd, acceptedPath([2])
flutter: the drag offset is inside the block, dragOffset(Offset(202.6, 119.8)), globalBlockRect(Rect.fromLTRB(120.0, 94.0, 680.0, 132.0))
flutter: Moving node(Node(id: ujx855, type: paragraph, attributes: {delta: [{insert: New task 1}], timestamp: 2025-04-24T17:06:34.210998, device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a}, children: []), [2]) to path([1])
flutter: Transaction done
apply_action: Starting with 1 actions for doc_id: xxxx
move_block: Moving block_id: ujx855 from parent: m8OEVv to parent: VC6SQw
remove_block_from_prev_id_chain: Removing block ujx855 from chain
  Block ujx855 has prev_id: VC6SQw
  Finding blocks that reference ujx855 as their prev_id
find_block_referencing_prev_id: Searching for blocks with prev_id = ujx855
  Found 6 total blocks to check
  Checking block: VC6SQw
    Block has prev_id: iT1F-F, matches target: false
  Checking block: ujx855
    Block has prev_id: VC6SQw, matches target: false
  Checking block: Mk_Gts
    Block does not have prev_id
  Checking block: iT1F-F
    Block does not have prev_id
  Checking block: zhA_gK
    Block does not have prev_id
  Checking block: m8OEVv
    Block does not have prev_id
find_block_referencing_prev_id: Found 0 blocks with prev_id = ujx855: []
  Found 0 next blocks: []
remove_block_from_prev_id_chain: Completed
handle_following_connection: block_id=ujx855, next_id=None, prev_id=None
  No prev_id or next_id provided, nothing to handle
handle_following_connection: Completed
move_block: Moved block between parents
apply_action: Encoding state for doc_id: xxxx
apply_updates: Starting with 49 updates for doc_id: xxxx
apply_updates: Starting with 49 updates for doc_id: xxxx
apply_updates: Applying update for doc_id: xxxx
apply_updates: Finished for doc_id: xxxx
apply_updates: Successfully applied updates for doc_id: xxxx
get_document_state: Starting for doc_id: xxxx
extract_document_state: Starting for doc_id: xxxx
extract_document_state: Processing 6 blocks
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 0 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
====== STARTING BLOCK SORTING ======
Input children_map has 5 parent nodes

----- Sorting children of parent: ujx855 -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent ujx855: []

----- Sorting children of parent: zhA_gK -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent zhA_gK: []

----- Sorting children of parent: iT1F-F -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent iT1F-F: []

----- Sorting children of parent: m8OEVv -----
Parent has 2 children to sort
Mapped 2 valid blocks by ID
Block iT1F-F assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block VC6SQw assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Grouped blocks into 1 devices
  - Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 2 blocks
Block iT1F-F has no prev_id
Block VC6SQw has prev_id iT1F-F
Built prev->next map with 1 entries
  - iT1F-F has 1 next blocks: ["VC6SQw"]
Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 1 root blocks: ["iT1F-F"]
Processing devices in order: ["4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"]

Processing device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Sorted roots for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a: ["iT1F-F"]
Starting chain from root: iT1F-F
  Adding block iT1F-F to sorted list
    Pushing VC6SQw onto stack
  Adding block VC6SQw to sorted list
  No next blocks for VC6SQw
No remaining blocks for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
No globally remaining blocks
Final sorted order for parent m8OEVv: ["iT1F-F", "VC6SQw"]

----- Sorting children of parent: VC6SQw -----
Parent has 1 children to sort
Mapped 1 valid blocks by ID
Block ujx855 assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Grouped blocks into 1 devices
  - Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 1 blocks
Block ujx855 has no prev_id
Built prev->next map with 0 entries
Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 1 root blocks: ["ujx855"]
Processing devices in order: ["4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"]

Processing device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Sorted roots for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a: ["ujx855"]
Starting chain from root: ujx855
  Adding block ujx855 to sorted list
  No next blocks for ujx855
No remaining blocks for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
No globally remaining blocks
Final sorted order for parent VC6SQw: ["ujx855"]
====== COMPLETED BLOCK SORTING ======
Final sorted children map has 5 parents
extract_document_state: Extracted 6 blocks and 5 parent-child relationships
get_document_state: Finished for doc_id: xxxx
merge_updates: Merging 1 updates
merge_updates: Successfully merged updates
apply_updates: Starting with 50 updates for doc_id: xxxx
apply_updates: Starting with 50 updates for doc_id: xxxx
apply_updates: Applying update for doc_id: xxxx
apply_updates: Finished for doc_id: xxxx
apply_updates: Successfully applied updates for doc_id: xxxx
get_document_state: Starting for doc_id: xxxx
extract_document_state: Starting for doc_id: xxxx
extract_document_state: Processing 6 blocks
deltas_to_json: Converting 0 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
====== STARTING BLOCK SORTING ======
Input children_map has 5 parent nodes

----- Sorting children of parent: iT1F-F -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent iT1F-F: []

----- Sorting children of parent: zhA_gK -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent zhA_gK: []

----- Sorting children of parent: m8OEVv -----
Parent has 2 children to sort
Mapped 2 valid blocks by ID
Block iT1F-F assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block VC6SQw assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Grouped blocks into 1 devices
  - Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 2 blocks
Block iT1F-F has no prev_id
Block VC6SQw has prev_id iT1F-F
Built prev->next map with 1 entries
  - iT1F-F has 1 next blocks: ["VC6SQw"]
Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 1 root blocks: ["iT1F-F"]
Processing devices in order: ["4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"]

Processing device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Sorted roots for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a: ["iT1F-F"]
Starting chain from root: iT1F-F
  Adding block iT1F-F to sorted list
    Pushing VC6SQw onto stack
  Adding block VC6SQw to sorted list
  No next blocks for VC6SQw
No remaining blocks for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
No globally remaining blocks
Final sorted order for parent m8OEVv: ["iT1F-F", "VC6SQw"]

----- Sorting children of parent: VC6SQw -----
Parent has 1 children to sort
Mapped 1 valid blocks by ID
Block ujx855 assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Grouped blocks into 1 devices
  - Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 1 blocks
Block ujx855 has no prev_id
Built prev->next map with 0 entries
Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 1 root blocks: ["ujx855"]
Processing devices in order: ["4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"]

Processing device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Sorted roots for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a: ["ujx855"]
Starting chain from root: ujx855
  Adding block ujx855 to sorted list
  No next blocks for ujx855
No remaining blocks for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
No globally remaining blocks
Final sorted order for parent VC6SQw: ["ujx855"]

----- Sorting children of parent: ujx855 -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent ujx855: []
====== COMPLETED BLOCK SORTING ======
Final sorted children map has 5 parents
extract_document_state: Extracted 6 blocks and 5 parent-child relationships
get_document_state: Finished for doc_id: xxxx
flutter: onDragStarted
flutter: the drag offset is inside the block, dragOffset(Offset(134.8, 93.9)), globalBlockRect(Rect.fromLTRB(120.0, 56.0, 680.0, 94.0))
flutter: the drag offset is inside the block, dragOffset(Offset(135.2, 92.6)), globalBlockRect(Rect.fromLTRB(120.0, 56.0, 680.0, 94.0))
flutter: the drag offset is inside the block, dragOffset(Offset(136.9, 90.3)), globalBlockRect(Rect.fromLTRB(120.0, 56.0, 680.0, 94.0))
flutter: the drag offset is inside the block, dragOffset(Offset(136.9, 90.0)), globalBlockRect(Rect.fromLTRB(120.0, 56.0, 680.0, 94.0))
flutter: the drag offset is inside the block, dragOffset(Offset(137.2, 89.0)), globalBlockRect(Rect.fromLTRB(120.0, 56.0, 680.0, 94.0))
flutter: the drag offset is inside the block, dragOffset(Offset(138.4, 86.6)), globalBlockRect(Rect.fromLTRB(120.0, 56.0, 680.0, 94.0))
flutter: the drag offset is inside the block, dragOffset(Offset(138.4, 86.3)), globalBlockRect(Rect.fromLTRB(120.0, 56.0, 680.0, 94.0))
flutter: the drag offset is inside the block, dragOffset(Offset(138.6, 85.3)), globalBlockRect(Rect.fromLTRB(120.0, 56.0, 680.0, 94.0))
flutter: the drag offset is inside the block, dragOffset(Offset(138.9, 85.1)), globalBlockRect(Rect.fromLTRB(120.0, 56.0, 680.0, 94.0))
flutter: the drag offset is inside the block, dragOffset(Offset(138.9, 84.3)), globalBlockRect(Rect.fromLTRB(120.0, 56.0, 680.0, 94.0))
flutter: the drag offset is inside the block, dragOffset(Offset(139.3, 82.9)), globalBlockRect(Rect.fromLTRB(120.0, 56.0, 680.0, 94.0))
flutter: the drag offset is inside the block, dragOffset(Offset(139.3, 82.1)), globalBlockRect(Rect.fromLTRB(120.0, 56.0, 680.0, 94.0))
flutter: the drag offset is inside the block, dragOffset(Offset(139.3, 81.6)), globalBlockRect(Rect.fromLTRB(120.0, 56.0, 680.0, 94.0))
flutter: the drag offset is inside the block, dragOffset(Offset(139.3, 80.2)), globalBlockRect(Rect.fromLTRB(120.0, 56.0, 680.0, 94.0))
flutter: the drag offset is inside the block, dragOffset(Offset(139.3, 79.7)), globalBlockRect(Rect.fromLTRB(120.0, 56.0, 680.0, 94.0))
flutter: the drag offset is inside the block, dragOffset(Offset(140.0, 78.6)), globalBlockRect(Rect.fromLTRB(120.0, 56.0, 680.0, 94.0))
flutter: the drag offset is inside the block, dragOffset(Offset(140.0, 78.4)), globalBlockRect(Rect.fromLTRB(120.0, 56.0, 680.0, 94.0))
flutter: the drag offset is inside the block, dragOffset(Offset(140.0, 77.6)), globalBlockRect(Rect.fromLTRB(120.0, 56.0, 680.0, 94.0))
flutter: the drag offset is inside the block, dragOffset(Offset(140.0, 77.1)), globalBlockRect(Rect.fromLTRB(120.0, 56.0, 680.0, 94.0))
flutter: the drag offset is inside the block, dragOffset(Offset(140.0, 76.6)), globalBlockRect(Rect.fromLTRB(120.0, 56.0, 680.0, 94.0))
flutter: the drag offset is inside the block, dragOffset(Offset(140.3, 76.0)), globalBlockRect(Rect.fromLTRB(120.0, 56.0, 680.0, 94.0))
flutter: the drag offset is inside the block, dragOffset(Offset(140.3, 75.5)), globalBlockRect(Rect.fromLTRB(120.0, 56.0, 680.0, 94.0))
flutter: the drag offset is inside the block, dragOffset(Offset(140.3, 75.0)), globalBlockRect(Rect.fromLTRB(120.0, 56.0, 680.0, 94.0))
flutter: the drag offset is inside the block, dragOffset(Offset(140.3, 74.5)), globalBlockRect(Rect.fromLTRB(120.0, 56.0, 680.0, 94.0))
flutter: the drag offset is inside the block, dragOffset(Offset(140.6, 73.4)), globalBlockRect(Rect.fromLTRB(120.0, 56.0, 680.0, 94.0))
flutter: the drag offset is inside the block, dragOffset(Offset(140.9, 73.1)), globalBlockRect(Rect.fromLTRB(120.0, 56.0, 680.0, 94.0))
flutter: the drag offset is inside the block, dragOffset(Offset(140.9, 72.6)), globalBlockRect(Rect.fromLTRB(120.0, 56.0, 680.0, 94.0))
flutter: the drag offset is inside the block, dragOffset(Offset(140.9, 72.1)), globalBlockRect(Rect.fromLTRB(120.0, 56.0, 680.0, 94.0))
flutter: the drag offset is inside the block, dragOffset(Offset(140.9, 71.3)), globalBlockRect(Rect.fromLTRB(120.0, 56.0, 680.0, 94.0))
flutter: the drag offset is inside the block, dragOffset(Offset(140.6, 70.6)), globalBlockRect(Rect.fromLTRB(120.0, 56.0, 680.0, 94.0))
flutter: the drag offset is inside the block, dragOffset(Offset(140.6, 70.3)), globalBlockRect(Rect.fromLTRB(120.0, 56.0, 680.0, 94.0))
flutter: the drag offset is inside the block, dragOffset(Offset(140.6, 69.8)), globalBlockRect(Rect.fromLTRB(120.0, 56.0, 680.0, 94.0))
flutter: the drag offset is inside the block, dragOffset(Offset(140.4, 69.3)), globalBlockRect(Rect.fromLTRB(120.0, 56.0, 680.0, 94.0))
flutter: the drag offset is inside the block, dragOffset(Offset(140.1, 69.0)), globalBlockRect(Rect.fromLTRB(120.0, 56.0, 680.0, 94.0))
flutter: the drag offset is inside the block, dragOffset(Offset(140.1, 68.8)), globalBlockRect(Rect.fromLTRB(120.0, 56.0, 680.0, 94.0))
flutter: the drag offset is inside the block, dragOffset(Offset(140.1, 68.2)), globalBlockRect(Rect.fromLTRB(120.0, 56.0, 680.0, 94.0))
flutter: onDragEnd, acceptedPath([0])
flutter: the drag offset is inside the block, dragOffset(Offset(140.1, 68.2)), globalBlockRect(Rect.fromLTRB(120.0, 56.0, 680.0, 94.0))
flutter: Moving node(Node(id: VC6SQw, type: paragraph, attributes: {delta: [{insert: NewTask 2}], timestamp: 2025-04-24T17:06:36.796878, device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a}, children: [Node(id: ujx855, type: paragraph, attributes: {delta: [{insert: New task 1}], timestamp: 2025-04-24T17:06:34.210998, device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a}, children: [])]), [1]) to path([0])
flutter: Transaction done
apply_action: Starting with 1 actions for doc_id: xxxx
move_block: Moving block_id: VC6SQw from parent: m8OEVv to parent: m8OEVv
remove_block_from_prev_id_chain: Removing block VC6SQw from chain
  Block VC6SQw has prev_id: iT1F-F
  Finding blocks that reference VC6SQw as their prev_id
find_block_referencing_prev_id: Searching for blocks with prev_id = VC6SQw
  Found 6 total blocks to check
  Checking block: m8OEVv
    Block does not have prev_id
  Checking block: Mk_Gts
    Block does not have prev_id
  Checking block: VC6SQw
    Block has prev_id: iT1F-F, matches target: false
  Checking block: iT1F-F
    Block does not have prev_id
  Checking block: zhA_gK
    Block does not have prev_id
  Checking block: ujx855
    Block does not have prev_id
find_block_referencing_prev_id: Found 0 blocks with prev_id = VC6SQw: []
  Found 0 next blocks: []
remove_block_from_prev_id_chain: Completed
handle_following_connection: block_id=VC6SQw, next_id=Some("iT1F-F"), prev_id=None
  Using next_id strategy (next_id=iT1F-F)
  Setting prev_id of next block iT1F-F to VC6SQw
  Attempting to copy device and timestamp from next block iT1F-F to VC6SQw
  WARNING: Next block has no device attribute
  WARNING: Next block has no timestamp attribute
  Finished next_id strategy
handle_following_connection: Completed
move_block: Moved block within same parent
apply_action: Encoding state for doc_id: xxxx
apply_updates: Starting with 50 updates for doc_id: xxxx
apply_updates: Starting with 50 updates for doc_id: xxxx
apply_updates: Applying update for doc_id: xxxx
apply_updates: Finished for doc_id: xxxx
apply_updates: Successfully applied updates for doc_id: xxxx
get_document_state: Starting for doc_id: xxxx
extract_document_state: Starting for doc_id: xxxx
extract_document_state: Processing 6 blocks
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 0 deltas
deltas_to_json: Converting 1 deltas
====== STARTING BLOCK SORTING ======
Input children_map has 5 parent nodes

----- Sorting children of parent: zhA_gK -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent zhA_gK: []

----- Sorting children of parent: iT1F-F -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent iT1F-F: []

----- Sorting children of parent: m8OEVv -----
Parent has 2 children to sort
Mapped 2 valid blocks by ID
Block VC6SQw assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block iT1F-F assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Grouped blocks into 1 devices
  - Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 2 blocks
Block VC6SQw has no prev_id
Block iT1F-F has prev_id VC6SQw
Built prev->next map with 1 entries
  - VC6SQw has 1 next blocks: ["iT1F-F"]
Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 1 root blocks: ["VC6SQw"]
Processing devices in order: ["4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"]

Processing device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Sorted roots for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a: ["VC6SQw"]
Starting chain from root: VC6SQw
  Adding block VC6SQw to sorted list
    Pushing iT1F-F onto stack
  Adding block iT1F-F to sorted list
  No next blocks for iT1F-F
No remaining blocks for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
No globally remaining blocks
Final sorted order for parent m8OEVv: ["VC6SQw", "iT1F-F"]

----- Sorting children of parent: VC6SQw -----
Parent has 1 children to sort
Mapped 1 valid blocks by ID
Block ujx855 assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Grouped blocks into 1 devices
  - Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 1 blocks
Block ujx855 has no prev_id
Built prev->next map with 0 entries
Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 1 root blocks: ["ujx855"]
Processing devices in order: ["4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"]

Processing device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Sorted roots for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a: ["ujx855"]
Starting chain from root: ujx855
  Adding block ujx855 to sorted list
  No next blocks for ujx855
No remaining blocks for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
No globally remaining blocks
Final sorted order for parent VC6SQw: ["ujx855"]

----- Sorting children of parent: ujx855 -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent ujx855: []
====== COMPLETED BLOCK SORTING ======
Final sorted children map has 5 parents
extract_document_state: Extracted 6 blocks and 5 parent-child relationships
get_document_state: Finished for doc_id: xxxx
merge_updates: Merging 1 updates
merge_updates: Successfully merged updates
apply_updates: Starting with 51 updates for doc_id: xxxx
apply_updates: Starting with 51 updates for doc_id: xxxx
apply_updates: Applying update for doc_id: xxxx
apply_updates: Finished for doc_id: xxxx
apply_updates: Successfully applied updates for doc_id: xxxx
get_document_state: Starting for doc_id: xxxx
extract_document_state: Starting for doc_id: xxxx
extract_document_state: Processing 6 blocks
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 0 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
====== STARTING BLOCK SORTING ======
Input children_map has 5 parent nodes

----- Sorting children of parent: zhA_gK -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent zhA_gK: []

----- Sorting children of parent: ujx855 -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent ujx855: []

----- Sorting children of parent: iT1F-F -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent iT1F-F: []

----- Sorting children of parent: m8OEVv -----
Parent has 2 children to sort
Mapped 2 valid blocks by ID
Block iT1F-F assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block VC6SQw assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Grouped blocks into 1 devices
  - Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 2 blocks
Block iT1F-F has prev_id VC6SQw
Block VC6SQw has no prev_id
Built prev->next map with 1 entries
  - VC6SQw has 1 next blocks: ["iT1F-F"]
Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 1 root blocks: ["VC6SQw"]
Processing devices in order: ["4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"]

Processing device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Sorted roots for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a: ["VC6SQw"]
Starting chain from root: VC6SQw
  Adding block VC6SQw to sorted list
    Pushing iT1F-F onto stack
  Adding block iT1F-F to sorted list
  No next blocks for iT1F-F
No remaining blocks for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
No globally remaining blocks
Final sorted order for parent m8OEVv: ["VC6SQw", "iT1F-F"]

----- Sorting children of parent: VC6SQw -----
Parent has 1 children to sort
Mapped 1 valid blocks by ID
Block ujx855 assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Grouped blocks into 1 devices
  - Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 1 blocks
Block ujx855 has no prev_id
Built prev->next map with 0 entries
Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 1 root blocks: ["ujx855"]
Processing devices in order: ["4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"]

Processing device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Sorted roots for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a: ["ujx855"]
Starting chain from root: ujx855
  Adding block ujx855 to sorted list
  No next blocks for ujx855
No remaining blocks for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
No globally remaining blocks
Final sorted order for parent VC6SQw: ["ujx855"]
====== COMPLETED BLOCK SORTING ======
Final sorted children map has 5 parents
extract_document_state: Extracted 6 blocks and 5 parent-child relationships
get_document_state: Finished for doc_id: xxxx
flutter: onDragStarted
flutter: the drag offset is inside the block, dragOffset(Offset(125.1, 134.9)), globalBlockRect(Rect.fromLTRB(120.0, 132.0, 680.0, 170.0))
flutter: the drag offset is inside the block, dragOffset(Offset(125.9, 137.1)), globalBlockRect(Rect.fromLTRB(120.0, 132.0, 680.0, 170.0))
flutter: the drag offset is inside the block, dragOffset(Offset(126.4, 137.6)), globalBlockRect(Rect.fromLTRB(120.0, 132.0, 680.0, 170.0))
flutter: the drag offset is inside the block, dragOffset(Offset(126.4, 139.0)), globalBlockRect(Rect.fromLTRB(120.0, 132.0, 680.0, 170.0))
flutter: the drag offset is inside the block, dragOffset(Offset(126.7, 139.8)), globalBlockRect(Rect.fromLTRB(120.0, 132.0, 680.0, 170.0))
flutter: the drag offset is inside the block, dragOffset(Offset(126.7, 140.3)), globalBlockRect(Rect.fromLTRB(120.0, 132.0, 680.0, 170.0))
flutter: the drag offset is inside the block, dragOffset(Offset(126.7, 140.5)), globalBlockRect(Rect.fromLTRB(120.0, 132.0, 680.0, 170.0))
flutter: the drag offset is inside the block, dragOffset(Offset(126.9, 140.8)), globalBlockRect(Rect.fromLTRB(120.0, 132.0, 680.0, 170.0))
flutter: the drag offset is inside the block, dragOffset(Offset(127.2, 141.0)), globalBlockRect(Rect.fromLTRB(120.0, 132.0, 680.0, 170.0))
flutter: the drag offset is inside the block, dragOffset(Offset(127.2, 141.8)), globalBlockRect(Rect.fromLTRB(120.0, 132.0, 680.0, 170.0))
flutter: the drag offset is inside the block, dragOffset(Offset(127.2, 142.1)), globalBlockRect(Rect.fromLTRB(120.0, 132.0, 680.0, 170.0))
flutter: the drag offset is inside the block, dragOffset(Offset(127.2, 143.7)), globalBlockRect(Rect.fromLTRB(120.0, 132.0, 680.0, 170.0))
flutter: the drag offset is inside the block, dragOffset(Offset(127.4, 144.2)), globalBlockRect(Rect.fromLTRB(120.0, 132.0, 680.0, 170.0))
flutter: the drag offset is inside the block, dragOffset(Offset(127.4, 144.4)), globalBlockRect(Rect.fromLTRB(120.0, 132.0, 680.0, 170.0))
flutter: the drag offset is inside the block, dragOffset(Offset(127.4, 145.2)), globalBlockRect(Rect.fromLTRB(120.0, 132.0, 680.0, 170.0))
flutter: the drag offset is inside the block, dragOffset(Offset(128.5, 147.1)), globalBlockRect(Rect.fromLTRB(120.0, 132.0, 680.0, 170.0))
flutter: the drag offset is inside the block, dragOffset(Offset(128.5, 147.3)), globalBlockRect(Rect.fromLTRB(120.0, 132.0, 680.0, 170.0))
flutter: the drag offset is inside the block, dragOffset(Offset(128.5, 148.5)), globalBlockRect(Rect.fromLTRB(120.0, 132.0, 680.0, 170.0))
flutter: the drag offset is inside the block, dragOffset(Offset(129.0, 149.0)), globalBlockRect(Rect.fromLTRB(120.0, 132.0, 680.0, 170.0))
flutter: the drag offset is inside the block, dragOffset(Offset(129.0, 149.2)), globalBlockRect(Rect.fromLTRB(120.0, 132.0, 680.0, 170.0))
flutter: the drag offset is inside the block, dragOffset(Offset(129.0, 149.5)), globalBlockRect(Rect.fromLTRB(120.0, 132.0, 680.0, 170.0))
flutter: the drag offset is inside the block, dragOffset(Offset(129.0, 150.0)), globalBlockRect(Rect.fromLTRB(120.0, 132.0, 680.0, 170.0))
flutter: the drag offset is inside the block, dragOffset(Offset(129.0, 150.7)), globalBlockRect(Rect.fromLTRB(120.0, 132.0, 680.0, 170.0))
flutter: the drag offset is inside the block, dragOffset(Offset(129.3, 151.5)), globalBlockRect(Rect.fromLTRB(120.0, 132.0, 680.0, 170.0))
flutter: the drag offset is inside the block, dragOffset(Offset(129.3, 151.8)), globalBlockRect(Rect.fromLTRB(120.0, 132.0, 680.0, 170.0))
flutter: the drag offset is inside the block, dragOffset(Offset(129.3, 152.5)), globalBlockRect(Rect.fromLTRB(120.0, 132.0, 680.0, 170.0))
flutter: the drag offset is inside the block, dragOffset(Offset(129.8, 153.5)), globalBlockRect(Rect.fromLTRB(120.0, 132.0, 680.0, 170.0))
flutter: the drag offset is inside the block, dragOffset(Offset(129.8, 154.0)), globalBlockRect(Rect.fromLTRB(120.0, 132.0, 680.0, 170.0))
flutter: the drag offset is inside the block, dragOffset(Offset(129.8, 154.8)), globalBlockRect(Rect.fromLTRB(120.0, 132.0, 680.0, 170.0))
flutter: the drag offset is inside the block, dragOffset(Offset(129.8, 155.3)), globalBlockRect(Rect.fromLTRB(120.0, 132.0, 680.0, 170.0))
flutter: the drag offset is inside the block, dragOffset(Offset(129.8, 155.6)), globalBlockRect(Rect.fromLTRB(120.0, 132.0, 680.0, 170.0))
flutter: the drag offset is inside the block, dragOffset(Offset(129.8, 156.1)), globalBlockRect(Rect.fromLTRB(120.0, 132.0, 680.0, 170.0))
flutter: the drag offset is inside the block, dragOffset(Offset(129.8, 156.3)), globalBlockRect(Rect.fromLTRB(120.0, 132.0, 680.0, 170.0))
flutter: the drag offset is inside the block, dragOffset(Offset(129.8, 156.8)), globalBlockRect(Rect.fromLTRB(120.0, 132.0, 680.0, 170.0))
flutter: onDragEnd, acceptedPath([2])
flutter: the drag offset is inside the block, dragOffset(Offset(129.8, 156.8)), globalBlockRect(Rect.fromLTRB(120.0, 132.0, 680.0, 170.0))
flutter: Moving node(Node(id: VC6SQw, type: paragraph, attributes: {delta: [{insert: NewTask 2}], timestamp: 2025-04-24T17:06:36.796878, device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a}, children: [Node(id: ujx855, type: paragraph, attributes: {delta: [{insert: New task 1}], timestamp: 2025-04-24T17:06:34.210998, device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a}, children: [])]), [0]) to path([1])
flutter: Transaction done
apply_action: Starting with 1 actions for doc_id: xxxx
move_block: Moving block_id: VC6SQw from parent: m8OEVv to parent: m8OEVv
remove_block_from_prev_id_chain: Removing block VC6SQw from chain
  Finding blocks that reference VC6SQw as their prev_id
find_block_referencing_prev_id: Searching for blocks with prev_id = VC6SQw
  Found 6 total blocks to check
  Checking block: zhA_gK
    Block does not have prev_id
  Checking block: VC6SQw
    Block does not have prev_id
  Checking block: Mk_Gts
    Block does not have prev_id
  Checking block: m8OEVv
    Block does not have prev_id
  Checking block: iT1F-F
    Block has prev_id: VC6SQw, matches target: true
  Checking block: ujx855
    Block does not have prev_id
find_block_referencing_prev_id: Found 1 blocks with prev_id = VC6SQw: ["iT1F-F"]
  Found 1 next blocks: ["iT1F-F"]
  Removing prev_id from next block iT1F-F (was pointing to VC6SQw)
remove_block_from_prev_id_chain: Completed
handle_following_connection: block_id=VC6SQw, next_id=None, prev_id=Some("iT1F-F")
  Using prev_id strategy (prev_id=iT1F-F)
find_block_referencing_prev_id: Searching for blocks with prev_id = iT1F-F
  Found 6 total blocks to check
  Checking block: zhA_gK
    Block does not have prev_id
  Checking block: VC6SQw
    Block does not have prev_id
  Checking block: Mk_Gts
    Block does not have prev_id
  Checking block: m8OEVv
    Block does not have prev_id
  Checking block: iT1F-F
    Block does not have prev_id
  Checking block: ujx855
    Block does not have prev_id
find_block_referencing_prev_id: Found 0 blocks with prev_id = iT1F-F: []
  Found 0 nodes that reference prev_id iT1F-F: []
  Finished prev_id strategy
move_block: Moved block within same parent
apply_action: Encoding state for doc_id: xxxx
apply_updates: Starting with 50 updates for doc_id: xxxx
apply_updates: Starting with 50 updates for doc_id: xxxx
apply_updates: Applying update for doc_id: xxxx
apply_updates: Finished for doc_id: xxxx
apply_updates: Successfully applied updates for doc_id: xxxx
get_document_state: Starting for doc_id: xxxx
extract_document_state: Starting for doc_id: xxxx
extract_document_state: Processing 6 blocks
deltas_to_json: Converting 0 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
====== STARTING BLOCK SORTING ======
Input children_map has 5 parent nodes

----- Sorting children of parent: m8OEVv -----
Parent has 2 children to sort
Mapped 2 valid blocks by ID
Block iT1F-F assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block VC6SQw assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Grouped blocks into 1 devices
  - Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 2 blocks
Block iT1F-F has no prev_id
Block VC6SQw has prev_id iT1F-F
Built prev->next map with 1 entries
  - iT1F-F has 1 next blocks: ["VC6SQw"]
Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 1 root blocks: ["iT1F-F"]
Processing devices in order: ["4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"]

Processing device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Sorted roots for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a: ["iT1F-F"]
Starting chain from root: iT1F-F
  Adding block iT1F-F to sorted list
    Pushing VC6SQw onto stack
  Adding block VC6SQw to sorted list
  No next blocks for VC6SQw
No remaining blocks for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
No globally remaining blocks
Final sorted order for parent m8OEVv: ["iT1F-F", "VC6SQw"]

----- Sorting children of parent: iT1F-F -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent iT1F-F: []

----- Sorting children of parent: VC6SQw -----
Parent has 1 children to sort
Mapped 1 valid blocks by ID
Block ujx855 assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Grouped blocks into 1 devices
  - Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 1 blocks
Block ujx855 has no prev_id
Built prev->next map with 0 entries
Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 1 root blocks: ["ujx855"]
Processing devices in order: ["4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"]

Processing device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Sorted roots for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a: ["ujx855"]
Starting chain from root: ujx855
  Adding block ujx855 to sorted list
  No next blocks for ujx855
No remaining blocks for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
No globally remaining blocks
Final sorted order for parent VC6SQw: ["ujx855"]

----- Sorting children of parent: zhA_gK -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent zhA_gK: []

----- Sorting children of parent: ujx855 -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent ujx855: []
====== COMPLETED BLOCK SORTING ======
Final sorted children map has 5 parents
extract_document_state: Extracted 6 blocks and 5 parent-child relationships
get_document_state: Finished for doc_id: xxxx
merge_updates: Merging 1 updates
merge_updates: Successfully merged updates
apply_updates: Starting with 51 updates for doc_id: xxxx
apply_updates: Starting with 51 updates for doc_id: xxxx
apply_updates: Applying update for doc_id: xxxx
apply_updates: Finished for doc_id: xxxx
apply_updates: Successfully applied updates for doc_id: xxxx
get_document_state: Starting for doc_id: xxxx
extract_document_state: Starting for doc_id: xxxx
extract_document_state: Processing 6 blocks
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 0 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
====== STARTING BLOCK SORTING ======
Input children_map has 5 parent nodes

----- Sorting children of parent: zhA_gK -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent zhA_gK: []

----- Sorting children of parent: iT1F-F -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent iT1F-F: []

----- Sorting children of parent: ujx855 -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent ujx855: []

----- Sorting children of parent: VC6SQw -----
Parent has 1 children to sort
Mapped 1 valid blocks by ID
Block ujx855 assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Grouped blocks into 1 devices
  - Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 1 blocks
Block ujx855 has no prev_id
Built prev->next map with 0 entries
Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 1 root blocks: ["ujx855"]
Processing devices in order: ["4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"]

Processing device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Sorted roots for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a: ["ujx855"]
Starting chain from root: ujx855
  Adding block ujx855 to sorted list
  No next blocks for ujx855
No remaining blocks for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
No globally remaining blocks
Final sorted order for parent VC6SQw: ["ujx855"]

----- Sorting children of parent: m8OEVv -----
Parent has 2 children to sort
Mapped 2 valid blocks by ID
Block iT1F-F assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block VC6SQw assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Grouped blocks into 1 devices
  - Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 2 blocks
Block iT1F-F has no prev_id
Block VC6SQw has prev_id iT1F-F
Built prev->next map with 1 entries
  - iT1F-F has 1 next blocks: ["VC6SQw"]
Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 1 root blocks: ["iT1F-F"]
Processing devices in order: ["4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"]

Processing device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Sorted roots for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a: ["iT1F-F"]
Starting chain from root: iT1F-F
  Adding block iT1F-F to sorted list
    Pushing VC6SQw onto stack
  Adding block VC6SQw to sorted list
  No next blocks for VC6SQw
No remaining blocks for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
No globally remaining blocks
Final sorted order for parent m8OEVv: ["iT1F-F", "VC6SQw"]
====== COMPLETED BLOCK SORTING ======
Final sorted children map has 5 parents
extract_document_state: Extracted 6 blocks and 5 parent-child relationships
get_document_state: Finished for doc_id: xxxx
flutter: onDragStarted
flutter: the drag offset is inside the block, dragOffset(Offset(163.3, 93.5)), globalBlockRect(Rect.fromLTRB(120.0, 56.0, 680.0, 94.0))
flutter: the drag offset is inside the block, dragOffset(Offset(163.5, 93.2)), globalBlockRect(Rect.fromLTRB(120.0, 56.0, 680.0, 94.0))
flutter: the drag offset is inside the block, dragOffset(Offset(163.8, 93.0)), globalBlockRect(Rect.fromLTRB(120.0, 56.0, 680.0, 94.0))
flutter: the drag offset is inside the block, dragOffset(Offset(164.9, 92.6)), globalBlockRect(Rect.fromLTRB(120.0, 56.0, 680.0, 94.0))
flutter: the drag offset is inside the block, dragOffset(Offset(165.2, 92.6)), globalBlockRect(Rect.fromLTRB(120.0, 56.0, 680.0, 94.0))
flutter: the drag offset is inside the block, dragOffset(Offset(166.3, 92.2)), globalBlockRect(Rect.fromLTRB(120.0, 56.0, 680.0, 94.0))
flutter: the drag offset is inside the block, dragOffset(Offset(166.5, 92.0)), globalBlockRect(Rect.fromLTRB(120.0, 56.0, 680.0, 94.0))
flutter: the drag offset is inside the block, dragOffset(Offset(169.2, 91.4)), globalBlockRect(Rect.fromLTRB(120.0, 56.0, 680.0, 94.0))
flutter: the drag offset is inside the block, dragOffset(Offset(172.7, 90.6)), globalBlockRect(Rect.fromLTRB(120.0, 56.0, 680.0, 94.0))
flutter: the drag offset is inside the block, dragOffset(Offset(173.2, 90.4)), globalBlockRect(Rect.fromLTRB(120.0, 56.0, 680.0, 94.0))
flutter: the drag offset is inside the block, dragOffset(Offset(177.9, 88.6)), globalBlockRect(Rect.fromLTRB(120.0, 56.0, 680.0, 94.0))
flutter: the drag offset is inside the block, dragOffset(Offset(180.1, 87.5)), globalBlockRect(Rect.fromLTRB(120.0, 56.0, 680.0, 94.0))
flutter: the drag offset is inside the block, dragOffset(Offset(183.0, 87.5)), globalBlockRect(Rect.fromLTRB(120.0, 56.0, 680.0, 94.0))
flutter: the drag offset is inside the block, dragOffset(Offset(185.7, 86.3)), globalBlockRect(Rect.fromLTRB(120.0, 56.0, 680.0, 94.0))
flutter: the drag offset is inside the block, dragOffset(Offset(186.2, 86.0)), globalBlockRect(Rect.fromLTRB(120.0, 56.0, 680.0, 94.0))
flutter: the drag offset is inside the block, dragOffset(Offset(186.9, 86.0)), globalBlockRect(Rect.fromLTRB(120.0, 56.0, 680.0, 94.0))
flutter: the drag offset is inside the block, dragOffset(Offset(187.7, 85.8)), globalBlockRect(Rect.fromLTRB(120.0, 56.0, 680.0, 94.0))
flutter: the drag offset is inside the block, dragOffset(Offset(187.9, 85.5)), globalBlockRect(Rect.fromLTRB(120.0, 56.0, 680.0, 94.0))
flutter: onDragEnd, acceptedPath([1])
flutter: the drag offset is inside the block, dragOffset(Offset(187.9, 85.5)), globalBlockRect(Rect.fromLTRB(120.0, 56.0, 680.0, 94.0))
flutter: Moving node(Node(id: VC6SQw, type: paragraph, attributes: {delta: [{insert: NewTask 2}], timestamp: 2025-04-24T17:06:36.796878, device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a}, children: [Node(id: ujx855, type: paragraph, attributes: {delta: [{insert: New task 1}], timestamp: 2025-04-24T17:06:34.210998, device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a}, children: [])]), [1]) to path([0])
flutter: Transaction done
apply_action: Starting with 1 actions for doc_id: xxxx
move_block: Moving block_id: VC6SQw from parent: m8OEVv to parent: iT1F-F
remove_block_from_prev_id_chain: Removing block VC6SQw from chain
  Block VC6SQw has prev_id: iT1F-F
  Finding blocks that reference VC6SQw as their prev_id
find_block_referencing_prev_id: Searching for blocks with prev_id = VC6SQw
  Found 6 total blocks to check
  Checking block: m8OEVv
    Block does not have prev_id
  Checking block: zhA_gK
    Block does not have prev_id
  Checking block: VC6SQw
    Block has prev_id: iT1F-F, matches target: false
  Checking block: Mk_Gts
    Block does not have prev_id
  Checking block: ujx855
    Block does not have prev_id
  Checking block: iT1F-F
    Block does not have prev_id
find_block_referencing_prev_id: Found 0 blocks with prev_id = VC6SQw: []
  Found 0 next blocks: []
remove_block_from_prev_id_chain: Completed
handle_following_connection: block_id=VC6SQw, next_id=None, prev_id=None
  No prev_id or next_id provided, nothing to handle
handle_following_connection: Completed
move_block: Moved block between parents
apply_action: Encoding state for doc_id: xxxx
apply_updates: Starting with 52 updates for doc_id: xxxx
apply_updates: Starting with 52 updates for doc_id: xxxx
apply_updates: Applying update for doc_id: xxxx
apply_updates: Finished for doc_id: xxxx
apply_updates: Successfully applied updates for doc_id: xxxx
get_document_state: Starting for doc_id: xxxx
extract_document_state: Starting for doc_id: xxxx
extract_document_state: Processing 6 blocks
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 0 deltas
====== STARTING BLOCK SORTING ======
Input children_map has 5 parent nodes

----- Sorting children of parent: m8OEVv -----
Parent has 1 children to sort
Mapped 1 valid blocks by ID
Block VC6SQw assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Grouped blocks into 1 devices
  - Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 1 blocks
Block VC6SQw has no prev_id
Built prev->next map with 0 entries
Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 1 root blocks: ["VC6SQw"]
Processing devices in order: ["4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"]

Processing device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Sorted roots for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a: ["VC6SQw"]
Starting chain from root: VC6SQw
  Adding block VC6SQw to sorted list
  No next blocks for VC6SQw
No remaining blocks for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
No globally remaining blocks
Final sorted order for parent m8OEVv: ["VC6SQw"]

----- Sorting children of parent: zhA_gK -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent zhA_gK: []

----- Sorting children of parent: VC6SQw -----
Parent has 1 children to sort
Mapped 1 valid blocks by ID
Block ujx855 assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Grouped blocks into 1 devices
  - Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 1 blocks
Block ujx855 has no prev_id
Built prev->next map with 0 entries
Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 1 root blocks: ["ujx855"]
Processing devices in order: ["4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"]

Processing device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Sorted roots for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a: ["ujx855"]
Starting chain from root: ujx855
  Adding block ujx855 to sorted list
  No next blocks for ujx855
No remaining blocks for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
No globally remaining blocks
Final sorted order for parent VC6SQw: ["ujx855"]

----- Sorting children of parent: ujx855 -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent ujx855: []

----- Sorting children of parent: iT1F-F -----
Parent has 1 children to sort
Mapped 1 valid blocks by ID
Block VC6SQw assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Grouped blocks into 1 devices
  - Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 1 blocks
Block VC6SQw has no prev_id
Built prev->next map with 0 entries
Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 1 root blocks: ["VC6SQw"]
Processing devices in order: ["4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"]

Processing device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Sorted roots for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a: ["VC6SQw"]
Starting chain from root: VC6SQw
  Adding block VC6SQw to sorted list
  No next blocks for VC6SQw
No remaining blocks for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
No globally remaining blocks
Final sorted order for parent iT1F-F: ["VC6SQw"]
====== COMPLETED BLOCK SORTING ======
Final sorted children map has 5 parents
extract_document_state: Extracted 6 blocks and 5 parent-child relationships
get_document_state: Finished for doc_id: xxxx
flutter: {
flutter:   "docId": "xxxx",
flutter:   "blocks": {
flutter:     "m8OEVv": {
flutter:       "id": "m8OEVv",
flutter:       "ty": "page",
flutter:       "attributes": {
flutter:         "device": "3a00f73e-0356-4c61-a6e1-cb439d9dbf33",
flutter:         "timestamp": "2025-04-24T17:01:59.905543"
flutter:       },
flutter:       "delta": null,
flutter:       "parentId": null,
flutter:       "prevId": null,
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "Mk_Gts": {
flutter:       "id": "Mk_Gts",
flutter:       "ty": "",
flutter:       "attributes": {
flutter:         "checked": "false",
flutter:         "device": "4cb3899a-3fe4-4bb1-bbf4-edd464b0977a",
flutter:         "timestamp": "2025-04-24T17:04:05.077214"
flutter:       },
flutter:       "delta": "[]",
flutter:       "parentId": null,
flutter:       "prevId": null,
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "iT1F-F": {
flutter:       "id": "iT1F-F",
flutter:       "ty": "paragraph",
flutter:       "attributes": {
flutter:         "device": "4cb3899a-3fe4-4bb1-bbf4-edd464b0977a",
flutter:         "timestamp": "2025-04-24T17:06:39.424851",
flutter:         "delta": "[]"
flutter:       },
flutter:       "delta": "[{\"insert\":\"New Task3\"}]",
flutter:       "parentId": "m8OEVv",
flutter:       "prevId": null,
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "zhA_gK": {
flutter:       "id": "zhA_gK",
flutter:       "ty": "todo_list",
flutter:       "attributes": {
flutter:         "device": "4cb3899a-3fe4-4bb1-bbf4-edd464b0977a",
flutter:         "timestamp": "2025-04-24T17:04:02.277720",
flutter:         "delta": "[]",
flutter:         "checked": "false"
flutter:       },
flutter:       "delta": "[{\"insert\":\"Task is mine\"}]",
flutter:       "parentId": "m8OEVv",
flutter:       "prevId": null,
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "ujx855": {
flutter:       "id": "ujx855",
flutter:       "ty": "paragraph",
flutter:       "attributes": {
flutter:         "delta": "[]",
flutter:         "device": "4cb3899a-3fe4-4bb1-bbf4-edd464b0977a",
flutter:         "timestamp": "2025-04-24T17:06:34.210998"
flutter:       },
flutter:       "delta": "[{\"insert\":\"New task 1\"}]",
flutter:       "parentId": "VC6SQw",
flutter:       "prevId": null,
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "VC6SQw": {
flutter:       "id": "VC6SQw",
flutter:       "ty": "paragraph",
flutter:       "attributes": {
flutter:         "timestamp": "2025-04-24T17:06:36.796878",
flutter:         "delta": "[]",
flutter:         "device": "4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"
flutter:       },
flutter:       "delta": "[{\"insert\":\"NewTask 2\"}]",
flutter:       "parentId": "iT1F-F",
flutter:       "prevId": null,
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     }
flutter:   },
flutter:   "childrenMap": {
flutter:     "ujx855": [],
flutter:     "iT1F-F": [
flutter:       "VC6SQw"
flutter:     ],
flutter:     "zhA_gK": [],
flutter:     "VC6SQw": [
flutter:       "ujx855"
flutter:     ],
flutter:     "m8OEVv": [
flutter:       "VC6SQw"
flutter:     ]
flutter:   },
flutter:   "rootId": "m8OEVv"
flutter: }
merge_updates: Merging 1 updates
merge_updates: Successfully merged updates
apply_updates: Starting with 53 updates for doc_id: xxxx
apply_updates: Starting with 53 updates for doc_id: xxxx
apply_updates: Applying update for doc_id: xxxx
apply_updates: Finished for doc_id: xxxx
apply_updates: Successfully applied updates for doc_id: xxxx
get_document_state: Starting for doc_id: xxxx
extract_document_state: Starting for doc_id: xxxx
extract_document_state: Processing 6 blocks
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 0 deltas
====== STARTING BLOCK SORTING ======
Input children_map has 5 parent nodes

----- Sorting children of parent: VC6SQw -----
Parent has 1 children to sort
Mapped 1 valid blocks by ID
Block ujx855 assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Grouped blocks into 1 devices
  - Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 1 blocks
Block ujx855 has no prev_id
Built prev->next map with 0 entries
Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 1 root blocks: ["ujx855"]
Processing devices in order: ["4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"]

Processing device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Sorted roots for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a: ["ujx855"]
Starting chain from root: ujx855
  Adding block ujx855 to sorted list
  No next blocks for ujx855
No remaining blocks for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
No globally remaining blocks
Final sorted order for parent VC6SQw: ["ujx855"]

----- Sorting children of parent: iT1F-F -----
Parent has 1 children to sort
Mapped 1 valid blocks by ID
Block VC6SQw assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Grouped blocks into 1 devices
  - Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 1 blocks
Block VC6SQw has no prev_id
Built prev->next map with 0 entries
Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 1 root blocks: ["VC6SQw"]
Processing devices in order: ["4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"]

Processing device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Sorted roots for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a: ["VC6SQw"]
Starting chain from root: VC6SQw
  Adding block VC6SQw to sorted list
  No next blocks for VC6SQw
No remaining blocks for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
No globally remaining blocks
Final sorted order for parent iT1F-F: ["VC6SQw"]

----- Sorting children of parent: m8OEVv -----
Parent has 1 children to sort
Mapped 1 valid blocks by ID
Block VC6SQw assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Grouped blocks into 1 devices
  - Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 1 blocks
Block VC6SQw has no prev_id
Built prev->next map with 0 entries
Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 1 root blocks: ["VC6SQw"]
Processing devices in order: ["4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"]

Processing device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Sorted roots for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a: ["VC6SQw"]
Starting chain from root: VC6SQw
  Adding block VC6SQw to sorted list
  No next blocks for VC6SQw
No remaining blocks for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
No globally remaining blocks
Final sorted order for parent m8OEVv: ["VC6SQw"]

----- Sorting children of parent: ujx855 -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent ujx855: []

----- Sorting children of parent: zhA_gK -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent zhA_gK: []
====== COMPLETED BLOCK SORTING ======
Final sorted children map has 5 parents
extract_document_state: Extracted 6 blocks and 5 parent-child relationships
get_document_state: Finished for doc_id: xxxx
flutter: onTap, path([0, 0]), beforeSelection(null)
flutter: onTap(2), set selection to block
flutter: onTap, path([0, 0]), beforeSelection(null)
flutter: onTap(2), set selection to block
