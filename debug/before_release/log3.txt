Input children_map has 9 parent nodes

----- Sorting children of parent: iT1F-F -----
Parent has 1 children to sort
WARNING: Block with ID VC6SQw not found in blocks map
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
Adding 1 globally remaining blocks: ["VC6SQw"]
  Adding remaining block VC6SQw to sorted list
Final sorted order for parent iT1F-F: ["VC6SQw"]

----- Sorting children of parent: Cbb2Xg -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent Cbb2Xg: []

----- Sorting children of parent: zhA_gK -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent zhA_gK: []

----- Sorting children of parent: eYz-nn -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent eYz-nn: []

----- Sorting children of parent: m8OEVv -----
Parent has 5 children to sort
Mapped 5 valid blocks by ID
Block Cbb2Xg assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block ixjcxC assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block jmAIx4 assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block HYvdCr assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block eYz-nn assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Grouped blocks into 1 devices
  - Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 5 blocks
Block Cbb2Xg has no prev_id
Block ixjcxC has prev_id Cbb2Xg
Block jmAIx4 has prev_id eYz-nn
Block HYvdCr has prev_id jmAIx4
Block eYz-nn has prev_id ixjcxC
Built prev->next map with 4 entries
  - Cbb2Xg has 1 next blocks: ["ixjcxC"]
  - eYz-nn has 1 next blocks: ["jmAIx4"]
  - jmAIx4 has 1 next blocks: ["HYvdCr"]
  - ixjcxC has 1 next blocks: ["eYz-nn"]
Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 1 root blocks: ["Cbb2Xg"]
Processing devices in order: ["4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"]

Processing device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Sorted roots for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a: ["Cbb2Xg"]
Starting chain from root: Cbb2Xg
  Adding block Cbb2Xg to sorted list
    Pushing ixjcxC onto stack
  Adding block ixjcxC to sorted list
    Pushing eYz-nn onto stack
  Adding block eYz-nn to sorted list
    Pushing jmAIx4 onto stack
  Adding block jmAIx4 to sorted list
    Pushing HYvdCr onto stack
  Adding block HYvdCr to sorted list
  No next blocks for HYvdCr
No remaining blocks for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
No globally remaining blocks
Final sorted order for parent m8OEVv: ["Cbb2Xg", "ixjcxC", "eYz-nn", "jmAIx4", "HYvdCr"]

----- Sorting children of parent: ixjcxC -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent ixjcxC: []

----- Sorting children of parent: HYvdCr -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent HYvdCr: []

----- Sorting children of parent: Z3TeKI -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent Z3TeKI: []

----- Sorting children of parent: jmAIx4 -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent jmAIx4: []
====== COMPLETED BLOCK SORTING ======
Final sorted children map has 9 parents
extract_document_state: Extracted 10 blocks and 9 parent-child relationships
get_document_state: Finished for doc_id: xxxx
flutter: {
flutter:   "docId": "xxxx",
flutter:   "blocks": {
flutter:     "jmAIx4": {
flutter:       "id": "jmAIx4",
flutter:       "ty": "paragraph",
flutter:       "attributes": {
flutter:         "delta": "[]",
flutter:         "timestamp": "2025-04-24T17:14:28.087127",
flutter:         "device": "4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"
flutter:       },
flutter:       "delta": "[]",
flutter:       "parentId": "m8OEVv",
flutter:       "prevId": "eYz-nn",
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "HYvdCr": {
flutter:       "id": "HYvdCr",
flutter:       "ty": "paragraph",
flutter:       "attributes": {
flutter:         "device": "4cb3899a-3fe4-4bb1-bbf4-edd464b0977a",
flutter:         "timestamp": "2025-04-24T17:14:28.685801",
flutter:         "delta": "[]"
flutter:       },
flutter:       "delta": "[]",
flutter:       "parentId": "m8OEVv",
flutter:       "prevId": "jmAIx4",
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "m8OEVv": {
flutter:       "id": "m8OEVv",
flutter:       "ty": "page",
flutter:       "attributes": {
flutter:         "device": "3a00f73e-0356-4c61-a6e1-cb439d9dbf33",
flutter:         "timestamp": "2025-04-24T17:01:59.905543"
flutter:       },
flutter:       "delta": null,
flutter:       "parentId": null,
flutter:       "prevId": null,
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "Z3TeKI": {
flutter:       "id": "Z3TeKI",
flutter:       "ty": "paragraph",
flutter:       "attributes": {
flutter:         "device": "4cb3899a-3fe4-4bb1-bbf4-edd464b0977a",
flutter:         "timestamp": "2025-04-24T17:12:28.114539",
flutter:         "delta": "[]"
flutter:       },
flutter:       "delta": "[{\"insert\":\"Task 2\"}]",
flutter:       "parentId": "m8OEVv",
flutter:       "prevId": null,
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "iT1F-F": {
flutter:       "id": "iT1F-F",
flutter:       "ty": "paragraph",
flutter:       "attributes": {
flutter:         "delta": "[]",
flutter:         "device": "4cb3899a-3fe4-4bb1-bbf4-edd464b0977a",
flutter:         "timestamp": "2025-04-24T17:06:39.424851"
flutter:       },
flutter:       "delta": "[{\"insert\":\"New Task3\"}]",
flutter:       "parentId": "m8OEVv",
flutter:       "prevId": null,
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "Cbb2Xg": {
flutter:       "id": "Cbb2Xg",
flutter:       "ty": "paragraph",
flutter:       "attributes": {
flutter:         "timestamp": "2025-04-24T17:13:22.923334",
flutter:         "device": "4cb3899a-3fe4-4bb1-bbf4-edd464b0977a",
flutter:         "delta": "[]"
flutter:       },
flutter:       "delta": "[{\"insert\":\"New Element 1\"}]",
flutter:       "parentId": "m8OEVv",
flutter:       "prevId": null,
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "eYz-nn": {
flutter:       "id": "eYz-nn",
flutter:       "ty": "paragraph",
flutter:       "attributes": {
flutter:         "timestamp": "2025-04-24T17:14:23.263975",
flutter:         "device": "4cb3899a-3fe4-4bb1-bbf4-edd464b0977a",
flutter:         "delta": "[]"
flutter:       },
flutter:       "delta": "[{\"insert\":\"New Element 3\"}]",
flutter:       "parentId": "m8OEVv",
flutter:       "prevId": "ixjcxC",
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "zhA_gK": {
flutter:       "id": "zhA_gK",
flutter:       "ty": "todo_list",
flutter:       "attributes": {
flutter:         "delta": "[]",
flutter:         "timestamp": "2025-04-24T17:04:02.277720",
flutter:         "checked": "false",
flutter:         "device": "4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"
flutter:       },
flutter:       "delta": "[{\"insert\":\"Task is mine\"}]",
flutter:       "parentId": "m8OEVv",
flutter:       "prevId": null,
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "Mk_Gts": {
flutter:       "id": "Mk_Gts",
flutter:       "ty": "",
flutter:       "attributes": {
flutter:         "device": "4cb3899a-3fe4-4bb1-bbf4-edd464b0977a",
flutter:         "checked": "false",
flutter:         "timestamp": "2025-04-24T17:04:05.077214"
flutter:       },
flutter:       "delta": "[]",
flutter:       "parentId": null,
flutter:       "prevId": null,
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "ixjcxC": {
flutter:       "id": "ixjcxC",
flutter:       "ty": "paragraph",
flutter:       "attributes": {
flutter:         "timestamp": "2025-04-24T17:14:19.029895",
flutter:         "device": "4cb3899a-3fe4-4bb1-bbf4-edd464b0977a",
flutter:         "delta": "[]"
flutter:       },
flutter:       "delta": "[{\"insert\":\"New Element 2\"}]",
flutter:       "parentId": "m8OEVv",
flutter:       "prevId": "Cbb2Xg",
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     }
flutter:   },
flutter:   "childrenMap": {
flutter:     "m8OEVv": [
flutter:       "Cbb2Xg",
flutter:       "ixjcxC",
flutter:       "eYz-nn",
flutter:       "jmAIx4",
flutter:       "HYvdCr"
flutter:     ],
flutter:     "iT1F-F": [
flutter:       "VC6SQw"
flutter:     ],
flutter:     "jmAIx4": [],
flutter:     "zhA_gK": [],
flutter:     "ixjcxC": [],
flutter:     "HYvdCr": [],
flutter:     "Z3TeKI": [],
flutter:     "eYz-nn": [],
flutter:     "Cbb2Xg": []
flutter:   },
flutter:   "rootId": "m8OEVv"
flutter: }
merge_updates: Merging 1 updates
merge_updates: Successfully merged updates
flutter: Transaction done
apply_action: Starting with 1 actions for doc_id: xxxx
update_node: Updating block_id: HYvdCr
deltas_to_json: Converting 0 deltas
apply_delta_to_text: Computing delta diff
apply_delta_to_text: Parsing delta diff from JSON
apply_delta_diff_to_text: Starting with 1 operations
update_node: Updated block_id: HYvdCr
apply_action: Encoding state for doc_id: xxxx
apply_updates: Starting with 133 updates for doc_id: xxxx
apply_updates: Starting with 133 updates for doc_id: xxxx
apply_updates: Applying update for doc_id: xxxx
apply_updates: Finished for doc_id: xxxx
apply_updates: Successfully applied updates for doc_id: xxxx
get_document_state: Starting for doc_id: xxxx
extract_document_state: Starting for doc_id: xxxx
extract_document_state: Processing 10 blocks
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 0 deltas
deltas_to_json: Converting 0 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
====== STARTING BLOCK SORTING ======
Input children_map has 9 parent nodes

----- Sorting children of parent: zhA_gK -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent zhA_gK: []

----- Sorting children of parent: HYvdCr -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent HYvdCr: []

----- Sorting children of parent: iT1F-F -----
Parent has 1 children to sort
WARNING: Block with ID VC6SQw not found in blocks map
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
Adding 1 globally remaining blocks: ["VC6SQw"]
  Adding remaining block VC6SQw to sorted list
Final sorted order for parent iT1F-F: ["VC6SQw"]

----- Sorting children of parent: Cbb2Xg -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent Cbb2Xg: []

----- Sorting children of parent: jmAIx4 -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent jmAIx4: []

----- Sorting children of parent: m8OEVv -----
Parent has 5 children to sort
Mapped 5 valid blocks by ID
Block ixjcxC assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block jmAIx4 assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block HYvdCr assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block Cbb2Xg assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block eYz-nn assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Grouped blocks into 1 devices
  - Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 5 blocks
Block ixjcxC has prev_id Cbb2Xg
Block jmAIx4 has prev_id eYz-nn
Block HYvdCr has prev_id jmAIx4
Block Cbb2Xg has no prev_id
Block eYz-nn has prev_id ixjcxC
Built prev->next map with 4 entries
  - jmAIx4 has 1 next blocks: ["HYvdCr"]
  - Cbb2Xg has 1 next blocks: ["ixjcxC"]
  - eYz-nn has 1 next blocks: ["jmAIx4"]
  - ixjcxC has 1 next blocks: ["eYz-nn"]
Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 1 root blocks: ["Cbb2Xg"]
Processing devices in order: ["4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"]

Processing device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Sorted roots for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a: ["Cbb2Xg"]
Starting chain from root: Cbb2Xg
  Adding block Cbb2Xg to sorted list
    Pushing ixjcxC onto stack
  Adding block ixjcxC to sorted list
    Pushing eYz-nn onto stack
  Adding block eYz-nn to sorted list
    Pushing jmAIx4 onto stack
  Adding block jmAIx4 to sorted list
    Pushing HYvdCr onto stack
  Adding block HYvdCr to sorted list
  No next blocks for HYvdCr
No remaining blocks for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
No globally remaining blocks
Final sorted order for parent m8OEVv: ["Cbb2Xg", "ixjcxC", "eYz-nn", "jmAIx4", "HYvdCr"]

----- Sorting children of parent: Z3TeKI -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent Z3TeKI: []

----- Sorting children of parent: ixjcxC -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent ixjcxC: []

----- Sorting children of parent: eYz-nn -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent eYz-nn: []
====== COMPLETED BLOCK SORTING ======
Final sorted children map has 9 parents
extract_document_state: Extracted 10 blocks and 9 parent-child relationships
get_document_state: Finished for doc_id: xxxx
flutter: Transaction done
apply_action: Starting with 1 actions for doc_id: xxxx
update_node: Updating block_id: HYvdCr
deltas_to_json: Converting 1 deltas
apply_delta_to_text: Computing delta diff
apply_delta_to_text: Parsing delta diff from JSON
apply_delta_diff_to_text: Starting with 2 operations
update_node: Updated block_id: HYvdCr
apply_action: Encoding state for doc_id: xxxx
apply_updates: Starting with 134 updates for doc_id: xxxx
apply_updates: Starting with 134 updates for doc_id: xxxx
apply_updates: Applying update for doc_id: xxxx
apply_updates: Finished for doc_id: xxxx
apply_updates: Successfully applied updates for doc_id: xxxx
get_document_state: Starting for doc_id: xxxx
extract_document_state: Starting for doc_id: xxxx
extract_document_state: Processing 10 blocks
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 0 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 0 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
====== STARTING BLOCK SORTING ======
Input children_map has 9 parent nodes

----- Sorting children of parent: ixjcxC -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent ixjcxC: []

----- Sorting children of parent: Cbb2Xg -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent Cbb2Xg: []

----- Sorting children of parent: jmAIx4 -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent jmAIx4: []

----- Sorting children of parent: eYz-nn -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent eYz-nn: []

----- Sorting children of parent: HYvdCr -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent HYvdCr: []

----- Sorting children of parent: m8OEVv -----
Parent has 5 children to sort
Mapped 5 valid blocks by ID
Block eYz-nn assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block ixjcxC assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block jmAIx4 assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block Cbb2Xg assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block HYvdCr assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Grouped blocks into 1 devices
  - Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 5 blocks
Block eYz-nn has prev_id ixjcxC
Block ixjcxC has prev_id Cbb2Xg
Block jmAIx4 has prev_id eYz-nn
Block Cbb2Xg has no prev_id
Block HYvdCr has prev_id jmAIx4
Built prev->next map with 4 entries
  - Cbb2Xg has 1 next blocks: ["ixjcxC"]
  - eYz-nn has 1 next blocks: ["jmAIx4"]
  - ixjcxC has 1 next blocks: ["eYz-nn"]
  - jmAIx4 has 1 next blocks: ["HYvdCr"]
Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 1 root blocks: ["Cbb2Xg"]
Processing devices in order: ["4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"]

Processing device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Sorted roots for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a: ["Cbb2Xg"]
Starting chain from root: Cbb2Xg
  Adding block Cbb2Xg to sorted list
    Pushing ixjcxC onto stack
  Adding block ixjcxC to sorted list
    Pushing eYz-nn onto stack
  Adding block eYz-nn to sorted list
    Pushing jmAIx4 onto stack
  Adding block jmAIx4 to sorted list
    Pushing HYvdCr onto stack
  Adding block HYvdCr to sorted list
  No next blocks for HYvdCr
No remaining blocks for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
No globally remaining blocks
Final sorted order for parent m8OEVv: ["Cbb2Xg", "ixjcxC", "eYz-nn", "jmAIx4", "HYvdCr"]

----- Sorting children of parent: Z3TeKI -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent Z3TeKI: []

----- Sorting children of parent: zhA_gK -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent zhA_gK: []

----- Sorting children of parent: iT1F-F -----
Parent has 1 children to sort
WARNING: Block with ID VC6SQw not found in blocks map
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
Adding 1 globally remaining blocks: ["VC6SQw"]
  Adding remaining block VC6SQw to sorted list
Final sorted order for parent iT1F-F: ["VC6SQw"]
====== COMPLETED BLOCK SORTING ======
Final sorted children map has 9 parents
extract_document_state: Extracted 10 blocks and 9 parent-child relationships
get_document_state: Finished for doc_id: xxxx
flutter: Transaction done
apply_action: Starting with 1 actions for doc_id: xxxx
update_node: Updating block_id: HYvdCr
deltas_to_json: Converting 1 deltas
apply_delta_to_text: Computing delta diff
apply_delta_to_text: Parsing delta diff from JSON
apply_delta_diff_to_text: Starting with 2 operations
update_node: Updated block_id: HYvdCr
apply_action: Encoding state for doc_id: xxxx
apply_updates: Starting with 135 updates for doc_id: xxxx
apply_updates: Starting with 135 updates for doc_id: xxxx
apply_updates: Applying update for doc_id: xxxx
apply_updates: Finished for doc_id: xxxx
apply_updates: Successfully applied updates for doc_id: xxxx
get_document_state: Starting for doc_id: xxxx
extract_document_state: Starting for doc_id: xxxx
extract_document_state: Processing 10 blocks
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 0 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 0 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
====== STARTING BLOCK SORTING ======
Input children_map has 9 parent nodes

----- Sorting children of parent: iT1F-F -----
Parent has 1 children to sort
WARNING: Block with ID VC6SQw not found in blocks map
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
Adding 1 globally remaining blocks: ["VC6SQw"]
  Adding remaining block VC6SQw to sorted list
Final sorted order for parent iT1F-F: ["VC6SQw"]

----- Sorting children of parent: Cbb2Xg -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent Cbb2Xg: []

----- Sorting children of parent: eYz-nn -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent eYz-nn: []

----- Sorting children of parent: Z3TeKI -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent Z3TeKI: []

----- Sorting children of parent: zhA_gK -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent zhA_gK: []

----- Sorting children of parent: ixjcxC -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent ixjcxC: []

----- Sorting children of parent: jmAIx4 -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent jmAIx4: []

----- Sorting children of parent: HYvdCr -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent HYvdCr: []

----- Sorting children of parent: m8OEVv -----
Parent has 5 children to sort
Mapped 5 valid blocks by ID
Block jmAIx4 assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block Cbb2Xg assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block ixjcxC assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block HYvdCr assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block eYz-nn assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Grouped blocks into 1 devices
  - Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 5 blocks
Block jmAIx4 has prev_id eYz-nn
Block Cbb2Xg has no prev_id
Block ixjcxC has prev_id Cbb2Xg
Block HYvdCr has prev_id jmAIx4
Block eYz-nn has prev_id ixjcxC
Built prev->next map with 4 entries
  - eYz-nn has 1 next blocks: ["jmAIx4"]
  - jmAIx4 has 1 next blocks: ["HYvdCr"]
  - Cbb2Xg has 1 next blocks: ["ixjcxC"]
  - ixjcxC has 1 next blocks: ["eYz-nn"]
Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 1 root blocks: ["Cbb2Xg"]
Processing devices in order: ["4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"]

Processing device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Sorted roots for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a: ["Cbb2Xg"]
Starting chain from root: Cbb2Xg
  Adding block Cbb2Xg to sorted list
    Pushing ixjcxC onto stack
  Adding block ixjcxC to sorted list
    Pushing eYz-nn onto stack
  Adding block eYz-nn to sorted list
    Pushing jmAIx4 onto stack
  Adding block jmAIx4 to sorted list
    Pushing HYvdCr onto stack
  Adding block HYvdCr to sorted list
  No next blocks for HYvdCr
No remaining blocks for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
No globally remaining blocks
Final sorted order for parent m8OEVv: ["Cbb2Xg", "ixjcxC", "eYz-nn", "jmAIx4", "HYvdCr"]
====== COMPLETED BLOCK SORTING ======
Final sorted children map has 9 parents
extract_document_state: Extracted 10 blocks and 9 parent-child relationships
get_document_state: Finished for doc_id: xxxx
flutter: Transaction done
apply_action: Starting with 1 actions for doc_id: xxxx
update_node: Updating block_id: HYvdCr
deltas_to_json: Converting 1 deltas
apply_delta_to_text: Computing delta diff
apply_delta_to_text: Parsing delta diff from JSON
apply_delta_diff_to_text: Starting with 2 operations
update_node: Updated block_id: HYvdCr
apply_action: Encoding state for doc_id: xxxx
apply_updates: Starting with 136 updates for doc_id: xxxx
apply_updates: Starting with 136 updates for doc_id: xxxx
apply_updates: Applying update for doc_id: xxxx
apply_updates: Finished for doc_id: xxxx
apply_updates: Successfully applied updates for doc_id: xxxx
get_document_state: Starting for doc_id: xxxx
extract_document_state: Starting for doc_id: xxxx
extract_document_state: Processing 10 blocks
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 0 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 0 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
====== STARTING BLOCK SORTING ======
Input children_map has 9 parent nodes

----- Sorting children of parent: m8OEVv -----
Parent has 5 children to sort
Mapped 5 valid blocks by ID
Block HYvdCr assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block Cbb2Xg assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block jmAIx4 assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block eYz-nn assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block ixjcxC assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Grouped blocks into 1 devices
  - Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 5 blocks
Block HYvdCr has prev_id jmAIx4
Block Cbb2Xg has no prev_id
Block jmAIx4 has prev_id eYz-nn
Block eYz-nn has prev_id ixjcxC
Block ixjcxC has prev_id Cbb2Xg
Built prev->next map with 4 entries
  - Cbb2Xg has 1 next blocks: ["ixjcxC"]
  - eYz-nn has 1 next blocks: ["jmAIx4"]
  - jmAIx4 has 1 next blocks: ["HYvdCr"]
  - ixjcxC has 1 next blocks: ["eYz-nn"]
Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 1 root blocks: ["Cbb2Xg"]
Processing devices in order: ["4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"]

Processing device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Sorted roots for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a: ["Cbb2Xg"]
Starting chain from root: Cbb2Xg
  Adding block Cbb2Xg to sorted list
    Pushing ixjcxC onto stack
  Adding block ixjcxC to sorted list
    Pushing eYz-nn onto stack
  Adding block eYz-nn to sorted list
    Pushing jmAIx4 onto stack
  Adding block jmAIx4 to sorted list
    Pushing HYvdCr onto stack
  Adding block HYvdCr to sorted list
  No next blocks for HYvdCr
No remaining blocks for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
No globally remaining blocks
Final sorted order for parent m8OEVv: ["Cbb2Xg", "ixjcxC", "eYz-nn", "jmAIx4", "HYvdCr"]

----- Sorting children of parent: ixjcxC -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent ixjcxC: []

----- Sorting children of parent: Cbb2Xg -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent Cbb2Xg: []

----- Sorting children of parent: zhA_gK -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent zhA_gK: []

----- Sorting children of parent: Z3TeKI -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent Z3TeKI: []

----- Sorting children of parent: HYvdCr -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent HYvdCr: []

----- Sorting children of parent: iT1F-F -----
Parent has 1 children to sort
WARNING: Block with ID VC6SQw not found in blocks map
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
Adding 1 globally remaining blocks: ["VC6SQw"]
  Adding remaining block VC6SQw to sorted list
Final sorted order for parent iT1F-F: ["VC6SQw"]

----- Sorting children of parent: jmAIx4 -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent jmAIx4: []

----- Sorting children of parent: eYz-nn -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent eYz-nn: []
====== COMPLETED BLOCK SORTING ======
Final sorted children map has 9 parents
extract_document_state: Extracted 10 blocks and 9 parent-child relationships
get_document_state: Finished for doc_id: xxxx
flutter: Transaction done
apply_action: Starting with 1 actions for doc_id: xxxx
update_node: Updating block_id: HYvdCr
deltas_to_json: Converting 1 deltas
apply_delta_to_text: Computing delta diff
apply_delta_to_text: Parsing delta diff from JSON
apply_delta_diff_to_text: Starting with 2 operations
update_node: Updated block_id: HYvdCr
apply_action: Encoding state for doc_id: xxxx
apply_updates: Starting with 137 updates for doc_id: xxxx
apply_updates: Starting with 137 updates for doc_id: xxxx
apply_updates: Applying update for doc_id: xxxx
apply_updates: Finished for doc_id: xxxx
apply_updates: Successfully applied updates for doc_id: xxxx
get_document_state: Starting for doc_id: xxxx
extract_document_state: Starting for doc_id: xxxx
extract_document_state: Processing 10 blocks
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 0 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 0 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
====== STARTING BLOCK SORTING ======
Input children_map has 9 parent nodes

----- Sorting children of parent: m8OEVv -----
Parent has 5 children to sort
Mapped 5 valid blocks by ID
Block Cbb2Xg assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block eYz-nn assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block HYvdCr assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block ixjcxC assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block jmAIx4 assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Grouped blocks into 1 devices
  - Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 5 blocks
Block Cbb2Xg has no prev_id
Block eYz-nn has prev_id ixjcxC
Block HYvdCr has prev_id jmAIx4
Block ixjcxC has prev_id Cbb2Xg
Block jmAIx4 has prev_id eYz-nn
Built prev->next map with 4 entries
  - ixjcxC has 1 next blocks: ["eYz-nn"]
  - Cbb2Xg has 1 next blocks: ["ixjcxC"]
  - eYz-nn has 1 next blocks: ["jmAIx4"]
  - jmAIx4 has 1 next blocks: ["HYvdCr"]
Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 1 root blocks: ["Cbb2Xg"]
Processing devices in order: ["4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"]

Processing device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Sorted roots for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a: ["Cbb2Xg"]
Starting chain from root: Cbb2Xg
  Adding block Cbb2Xg to sorted list
    Pushing ixjcxC onto stack
  Adding block ixjcxC to sorted list
    Pushing eYz-nn onto stack
  Adding block eYz-nn to sorted list
    Pushing jmAIx4 onto stack
  Adding block jmAIx4 to sorted list
    Pushing HYvdCr onto stack
  Adding block HYvdCr to sorted list
  No next blocks for HYvdCr
No remaining blocks for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
No globally remaining blocks
Final sorted order for parent m8OEVv: ["Cbb2Xg", "ixjcxC", "eYz-nn", "jmAIx4", "HYvdCr"]

----- Sorting children of parent: jmAIx4 -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent jmAIx4: []

----- Sorting children of parent: eYz-nn -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent eYz-nn: []

----- Sorting children of parent: ixjcxC -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent ixjcxC: []

----- Sorting children of parent: zhA_gK -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent zhA_gK: []

----- Sorting children of parent: iT1F-F -----
Parent has 1 children to sort
WARNING: Block with ID VC6SQw not found in blocks map
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
Adding 1 globally remaining blocks: ["VC6SQw"]
  Adding remaining block VC6SQw to sorted list
Final sorted order for parent iT1F-F: ["VC6SQw"]

----- Sorting children of parent: HYvdCr -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent HYvdCr: []

----- Sorting children of parent: Cbb2Xg -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent Cbb2Xg: []

----- Sorting children of parent: Z3TeKI -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent Z3TeKI: []
====== COMPLETED BLOCK SORTING ======
Final sorted children map has 9 parents
extract_document_state: Extracted 10 blocks and 9 parent-child relationships
get_document_state: Finished for doc_id: xxxx
flutter: Transaction done
apply_action: Starting with 1 actions for doc_id: xxxx
update_node: Updating block_id: HYvdCr
deltas_to_json: Converting 1 deltas
apply_delta_to_text: Computing delta diff
apply_delta_to_text: Parsing delta diff from JSON
apply_delta_diff_to_text: Starting with 2 operations
update_node: Updated block_id: HYvdCr
apply_action: Encoding state for doc_id: xxxx
apply_updates: Starting with 138 updates for doc_id: xxxx
apply_updates: Starting with 138 updates for doc_id: xxxx
apply_updates: Applying update for doc_id: xxxx
apply_updates: Finished for doc_id: xxxx
apply_updates: Successfully applied updates for doc_id: xxxx
get_document_state: Starting for doc_id: xxxx
extract_document_state: Starting for doc_id: xxxx
extract_document_state: Processing 10 blocks
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 0 deltas
deltas_to_json: Converting 0 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
====== STARTING BLOCK SORTING ======
Input children_map has 9 parent nodes

----- Sorting children of parent: eYz-nn -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent eYz-nn: []

----- Sorting children of parent: iT1F-F -----
Parent has 1 children to sort
WARNING: Block with ID VC6SQw not found in blocks map
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
Adding 1 globally remaining blocks: ["VC6SQw"]
  Adding remaining block VC6SQw to sorted list
Final sorted order for parent iT1F-F: ["VC6SQw"]

----- Sorting children of parent: ixjcxC -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent ixjcxC: []

----- Sorting children of parent: Z3TeKI -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent Z3TeKI: []

----- Sorting children of parent: zhA_gK -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent zhA_gK: []

----- Sorting children of parent: Cbb2Xg -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent Cbb2Xg: []

----- Sorting children of parent: HYvdCr -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent HYvdCr: []

----- Sorting children of parent: m8OEVv -----
Parent has 5 children to sort
Mapped 5 valid blocks by ID
Block jmAIx4 assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block eYz-nn assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block ixjcxC assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block Cbb2Xg assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block HYvdCr assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Grouped blocks into 1 devices
  - Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 5 blocks
Block jmAIx4 has prev_id eYz-nn
Block eYz-nn has prev_id ixjcxC
Block ixjcxC has prev_id Cbb2Xg
Block Cbb2Xg has no prev_id
Block HYvdCr has prev_id jmAIx4
Built prev->next map with 4 entries
  - ixjcxC has 1 next blocks: ["eYz-nn"]
  - Cbb2Xg has 1 next blocks: ["ixjcxC"]
  - eYz-nn has 1 next blocks: ["jmAIx4"]
  - jmAIx4 has 1 next blocks: ["HYvdCr"]
Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 1 root blocks: ["Cbb2Xg"]
Processing devices in order: ["4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"]

Processing device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Sorted roots for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a: ["Cbb2Xg"]
Starting chain from root: Cbb2Xg
  Adding block Cbb2Xg to sorted list
    Pushing ixjcxC onto stack
  Adding block ixjcxC to sorted list
    Pushing eYz-nn onto stack
  Adding block eYz-nn to sorted list
    Pushing jmAIx4 onto stack
  Adding block jmAIx4 to sorted list
    Pushing HYvdCr onto stack
  Adding block HYvdCr to sorted list
  No next blocks for HYvdCr
No remaining blocks for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
No globally remaining blocks
Final sorted order for parent m8OEVv: ["Cbb2Xg", "ixjcxC", "eYz-nn", "jmAIx4", "HYvdCr"]

----- Sorting children of parent: jmAIx4 -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent jmAIx4: []
====== COMPLETED BLOCK SORTING ======
Final sorted children map has 9 parents
extract_document_state: Extracted 10 blocks and 9 parent-child relationships
get_document_state: Finished for doc_id: xxxx
flutter: Transaction done
apply_action: Starting with 2 actions for doc_id: xxxx
insert_node: Starting for block_id: aSFOYm
deltas_to_json: Converting 0 deltas
apply_delta_to_text: Computing delta diff
apply_delta_to_text: Parsing delta diff from JSON
apply_delta_to_text: No changes to apply
handle_prev_id_chain: block_id=aSFOYm, prev_id=Some("HYvdCr")
  Finding blocks that reference prev_id: HYvdCr
find_block_referencing_prev_id: Searching for blocks with prev_id = HYvdCr
  Found 11 total blocks to check
  Checking block: aSFOYm
    Block does not have prev_id
  Checking block: iT1F-F
    Block does not have prev_id
  Checking block: eYz-nn
    Block has prev_id: ixjcxC, matches target: false
  Checking block: Mk_Gts
    Block does not have prev_id
  Checking block: jmAIx4
    Block has prev_id: eYz-nn, matches target: false
  Checking block: Cbb2Xg
    Block does not have prev_id
  Checking block: zhA_gK
    Block does not have prev_id
  Checking block: ixjcxC
    Block has prev_id: Cbb2Xg, matches target: false
  Checking block: HYvdCr
    Block has prev_id: jmAIx4, matches target: false
  Checking block: m8OEVv
    Block does not have prev_id
  Checking block: Z3TeKI
    Block does not have prev_id
find_block_referencing_prev_id: Found 0 blocks with prev_id = HYvdCr: []
  Found 0 blocks with prev_id HYvdCr: []
handle_prev_id_chain: Completed
handle_following_connection: block_id=aSFOYm, next_id=None, prev_id=Some("HYvdCr")
  Using prev_id strategy (prev_id=HYvdCr)
find_block_referencing_prev_id: Searching for blocks with prev_id = HYvdCr
  Found 11 total blocks to check
  Checking block: aSFOYm
    Block does not have prev_id
  Checking block: iT1F-F
    Block does not have prev_id
  Checking block: eYz-nn
    Block has prev_id: ixjcxC, matches target: false
  Checking block: Mk_Gts
    Block does not have prev_id
  Checking block: jmAIx4
    Block has prev_id: eYz-nn, matches target: false
  Checking block: Cbb2Xg
    Block does not have prev_id
  Checking block: zhA_gK
    Block does not have prev_id
  Checking block: ixjcxC
    Block has prev_id: Cbb2Xg, matches target: false
  Checking block: HYvdCr
    Block has prev_id: jmAIx4, matches target: false
  Checking block: m8OEVv
    Block does not have prev_id
  Checking block: Z3TeKI
    Block does not have prev_id
find_block_referencing_prev_id: Found 0 blocks with prev_id = HYvdCr: []
  Found 0 nodes that reference prev_id HYvdCr: []
  Finished prev_id strategy
  Setting prev_id of block aSFOYm to HYvdCr
insert_node: Finished for block_id: aSFOYm
update_node: Updating block_id: HYvdCr
deltas_to_json: Converting 1 deltas
apply_delta_to_text: Computing delta diff
apply_delta_to_text: Parsing delta diff from JSON
apply_delta_to_text: No changes to apply
update_node: Updated block_id: HYvdCr
apply_action: Encoding state for doc_id: xxxx
apply_updates: Starting with 139 updates for doc_id: xxxx
apply_updates: Starting with 139 updates for doc_id: xxxx
apply_updates: Applying update for doc_id: xxxx
apply_updates: Finished for doc_id: xxxx
apply_updates: Successfully applied updates for doc_id: xxxx
get_document_state: Starting for doc_id: xxxx
extract_document_state: Starting for doc_id: xxxx
extract_document_state: Processing 11 blocks
deltas_to_json: Converting 0 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 0 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 0 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
====== STARTING BLOCK SORTING ======
Input children_map has 10 parent nodes

----- Sorting children of parent: Z3TeKI -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent Z3TeKI: []

----- Sorting children of parent: jmAIx4 -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent jmAIx4: []

----- Sorting children of parent: aSFOYm -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent aSFOYm: []

----- Sorting children of parent: Cbb2Xg -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent Cbb2Xg: []

----- Sorting children of parent: iT1F-F -----
Parent has 1 children to sort
WARNING: Block with ID VC6SQw not found in blocks map
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
Adding 1 globally remaining blocks: ["VC6SQw"]
  Adding remaining block VC6SQw to sorted list
Final sorted order for parent iT1F-F: ["VC6SQw"]

----- Sorting children of parent: eYz-nn -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent eYz-nn: []

----- Sorting children of parent: m8OEVv -----
Parent has 6 children to sort
Mapped 6 valid blocks by ID
Block HYvdCr assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block aSFOYm assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block Cbb2Xg assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block ixjcxC assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block eYz-nn assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block jmAIx4 assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Grouped blocks into 1 devices
  - Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 6 blocks
Block HYvdCr has prev_id jmAIx4
Block aSFOYm has prev_id HYvdCr
Block Cbb2Xg has no prev_id
Block ixjcxC has prev_id Cbb2Xg
Block eYz-nn has prev_id ixjcxC
Block jmAIx4 has prev_id eYz-nn
Built prev->next map with 5 entries
  - ixjcxC has 1 next blocks: ["eYz-nn"]
  - jmAIx4 has 1 next blocks: ["HYvdCr"]
  - Cbb2Xg has 1 next blocks: ["ixjcxC"]
  - eYz-nn has 1 next blocks: ["jmAIx4"]
  - HYvdCr has 1 next blocks: ["aSFOYm"]
Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 1 root blocks: ["Cbb2Xg"]
Processing devices in order: ["4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"]

Processing device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Sorted roots for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a: ["Cbb2Xg"]
Starting chain from root: Cbb2Xg
  Adding block Cbb2Xg to sorted list
    Pushing ixjcxC onto stack
  Adding block ixjcxC to sorted list
    Pushing eYz-nn onto stack
  Adding block eYz-nn to sorted list
    Pushing jmAIx4 onto stack
  Adding block jmAIx4 to sorted list
    Pushing HYvdCr onto stack
  Adding block HYvdCr to sorted list
    Pushing aSFOYm onto stack
  Adding block aSFOYm to sorted list
  No next blocks for aSFOYm
No remaining blocks for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
No globally remaining blocks
Final sorted order for parent m8OEVv: ["Cbb2Xg", "ixjcxC", "eYz-nn", "jmAIx4", "HYvdCr", "aSFOYm"]

----- Sorting children of parent: HYvdCr -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent HYvdCr: []

----- Sorting children of parent: zhA_gK -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent zhA_gK: []

----- Sorting children of parent: ixjcxC -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent ixjcxC: []
====== COMPLETED BLOCK SORTING ======
Final sorted children map has 10 parents
extract_document_state: Extracted 11 blocks and 10 parent-child relationships
get_document_state: Finished for doc_id: xxxx
flutter: {
flutter:   "docId": "xxxx",
flutter:   "blocks": {
flutter:     "aSFOYm": {
flutter:       "id": "aSFOYm",
flutter:       "ty": "paragraph",
flutter:       "attributes": {
flutter:         "timestamp": "2025-04-24T17:14:30.046823",
flutter:         "delta": "[]",
flutter:         "device": "4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"
flutter:       },
flutter:       "delta": "[]",
flutter:       "parentId": "m8OEVv",
flutter:       "prevId": "HYvdCr",
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "Mk_Gts": {
flutter:       "id": "Mk_Gts",
flutter:       "ty": "",
flutter:       "attributes": {
flutter:         "timestamp": "2025-04-24T17:04:05.077214",
flutter:         "checked": "false",
flutter:         "device": "4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"
flutter:       },
flutter:       "delta": "[]",
flutter:       "parentId": null,
flutter:       "prevId": null,
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "Cbb2Xg": {
flutter:       "id": "Cbb2Xg",
flutter:       "ty": "paragraph",
flutter:       "attributes": {
flutter:         "timestamp": "2025-04-24T17:13:22.923334",
flutter:         "device": "4cb3899a-3fe4-4bb1-bbf4-edd464b0977a",
flutter:         "delta": "[]"
flutter:       },
flutter:       "delta": "[{\"insert\":\"New Element 1\"}]",
flutter:       "parentId": "m8OEVv",
flutter:       "prevId": null,
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "eYz-nn": {
flutter:       "id": "eYz-nn",
flutter:       "ty": "paragraph",
flutter:       "attributes": {
flutter:         "delta": "[]",
flutter:         "device": "4cb3899a-3fe4-4bb1-bbf4-edd464b0977a",
flutter:         "timestamp": "2025-04-24T17:14:23.263975"
flutter:       },
flutter:       "delta": "[{\"insert\":\"New Element 3\"}]",
flutter:       "parentId": "m8OEVv",
flutter:       "prevId": "ixjcxC",
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "ixjcxC": {
flutter:       "id": "ixjcxC",
flutter:       "ty": "paragraph",
flutter:       "attributes": {
flutter:         "delta": "[]",
flutter:         "timestamp": "2025-04-24T17:14:19.029895",
flutter:         "device": "4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"
flutter:       },
flutter:       "delta": "[{\"insert\":\"New Element 2\"}]",
flutter:       "parentId": "m8OEVv",
flutter:       "prevId": "Cbb2Xg",
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "jmAIx4": {
flutter:       "id": "jmAIx4",
flutter:       "ty": "paragraph",
flutter:       "attributes": {
flutter:         "timestamp": "2025-04-24T17:14:28.087127",
flutter:         "device": "4cb3899a-3fe4-4bb1-bbf4-edd464b0977a",
flutter:         "delta": "[]"
flutter:       },
flutter:       "delta": "[]",
flutter:       "parentId": "m8OEVv",
flutter:       "prevId": "eYz-nn",
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "Z3TeKI": {
flutter:       "id": "Z3TeKI",
flutter:       "ty": "paragraph",
flutter:       "attributes": {
flutter:         "device": "4cb3899a-3fe4-4bb1-bbf4-edd464b0977a",
flutter:         "delta": "[]",
flutter:         "timestamp": "2025-04-24T17:12:28.114539"
flutter:       },
flutter:       "delta": "[{\"insert\":\"Task 2\"}]",
flutter:       "parentId": "m8OEVv",
flutter:       "prevId": null,
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "iT1F-F": {
flutter:       "id": "iT1F-F",
flutter:       "ty": "paragraph",
flutter:       "attributes": {
flutter:         "device": "4cb3899a-3fe4-4bb1-bbf4-edd464b0977a",
flutter:         "delta": "[]",
flutter:         "timestamp": "2025-04-24T17:06:39.424851"
flutter:       },
flutter:       "delta": "[{\"insert\":\"New Task3\"}]",
flutter:       "parentId": "m8OEVv",
flutter:       "prevId": null,
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "HYvdCr": {
flutter:       "id": "HYvdCr",
flutter:       "ty": "paragraph",
flutter:       "attributes": {
flutter:         "delta": "[]",
flutter:         "device": "4cb3899a-3fe4-4bb1-bbf4-edd464b0977a",
flutter:         "timestamp": "2025-04-24T17:14:28.685801"
flutter:       },
flutter:       "delta": "[{\"insert\":\"Task 1\"}]",
flutter:       "parentId": "m8OEVv",
flutter:       "prevId": "jmAIx4",
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "zhA_gK": {
flutter:       "id": "zhA_gK",
flutter:       "ty": "todo_list",
flutter:       "attributes": {
flutter:         "timestamp": "2025-04-24T17:04:02.277720",
flutter:         "delta": "[]",
flutter:         "device": "4cb3899a-3fe4-4bb1-bbf4-edd464b0977a",
flutter:         "checked": "false"
flutter:       },
flutter:       "delta": "[{\"insert\":\"Task is mine\"}]",
flutter:       "parentId": "m8OEVv",
flutter:       "prevId": null,
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "m8OEVv": {
flutter:       "id": "m8OEVv",
flutter:       "ty": "page",
flutter:       "attributes": {
flutter:         "device": "3a00f73e-0356-4c61-a6e1-cb439d9dbf33",
flutter:         "timestamp": "2025-04-24T17:01:59.905543"
flutter:       },
flutter:       "delta": null,
flutter:       "parentId": null,
flutter:       "prevId": null,
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     }
flutter:   },
flutter:   "childrenMap": {
flutter:     "zhA_gK": [],
flutter:     "aSFOYm": [],
flutter:     "ixjcxC": [],
flutter:     "jmAIx4": [],
flutter:     "iT1F-F": [
flutter:       "VC6SQw"
flutter:     ],
flutter:     "eYz-nn": [],
flutter:     "m8OEVv": [
flutter:       "Cbb2Xg",
flutter:       "ixjcxC",
flutter:       "eYz-nn",
flutter:       "jmAIx4",
flutter:       "HYvdCr",
flutter:       "aSFOYm"
flutter:     ],
flutter:     "HYvdCr": [],
flutter:     "Cbb2Xg": [],
flutter:     "Z3TeKI": []
flutter:   },
flutter:   "rootId": "m8OEVv"
flutter: }
flutter: Transaction done
apply_action: Starting with 1 actions for doc_id: xxxx
update_node: Updating block_id: aSFOYm
deltas_to_json: Converting 0 deltas
apply_delta_to_text: Computing delta diff
apply_delta_to_text: Parsing delta diff from JSON
apply_delta_diff_to_text: Starting with 1 operations
update_node: Updated block_id: aSFOYm
apply_action: Encoding state for doc_id: xxxx
apply_updates: Starting with 140 updates for doc_id: xxxx
apply_updates: Starting with 140 updates for doc_id: xxxx
apply_updates: Applying update for doc_id: xxxx
apply_updates: Finished for doc_id: xxxx
apply_updates: Successfully applied updates for doc_id: xxxx
get_document_state: Starting for doc_id: xxxx
extract_document_state: Starting for doc_id: xxxx
extract_document_state: Processing 11 blocks
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 0 deltas
deltas_to_json: Converting 0 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
====== STARTING BLOCK SORTING ======
Input children_map has 10 parent nodes

----- Sorting children of parent: ixjcxC -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent ixjcxC: []

----- Sorting children of parent: Cbb2Xg -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent Cbb2Xg: []

----- Sorting children of parent: iT1F-F -----
Parent has 1 children to sort
WARNING: Block with ID VC6SQw not found in blocks map
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
Adding 1 globally remaining blocks: ["VC6SQw"]
  Adding remaining block VC6SQw to sorted list
Final sorted order for parent iT1F-F: ["VC6SQw"]

----- Sorting children of parent: eYz-nn -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent eYz-nn: []

----- Sorting children of parent: jmAIx4 -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent jmAIx4: []

----- Sorting children of parent: Z3TeKI -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent Z3TeKI: []

----- Sorting children of parent: aSFOYm -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent aSFOYm: []

----- Sorting children of parent: zhA_gK -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent zhA_gK: []

----- Sorting children of parent: m8OEVv -----
Parent has 6 children to sort
Mapped 6 valid blocks by ID
Block Cbb2Xg assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block ixjcxC assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block eYz-nn assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block jmAIx4 assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block HYvdCr assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block aSFOYm assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Grouped blocks into 1 devices
  - Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 6 blocks
Block Cbb2Xg has no prev_id
Block ixjcxC has prev_id Cbb2Xg
Block eYz-nn has prev_id ixjcxC
Block jmAIx4 has prev_id eYz-nn
Block HYvdCr has prev_id jmAIx4
Block aSFOYm has prev_id HYvdCr
Built prev->next map with 5 entries
  - eYz-nn has 1 next blocks: ["jmAIx4"]
  - Cbb2Xg has 1 next blocks: ["ixjcxC"]
  - jmAIx4 has 1 next blocks: ["HYvdCr"]
  - ixjcxC has 1 next blocks: ["eYz-nn"]
  - HYvdCr has 1 next blocks: ["aSFOYm"]
Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 1 root blocks: ["Cbb2Xg"]
Processing devices in order: ["4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"]

Processing device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Sorted roots for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a: ["Cbb2Xg"]
Starting chain from root: Cbb2Xg
  Adding block Cbb2Xg to sorted list
    Pushing ixjcxC onto stack
  Adding block ixjcxC to sorted list
    Pushing eYz-nn onto stack
  Adding block eYz-nn to sorted list
    Pushing jmAIx4 onto stack
  Adding block jmAIx4 to sorted list
    Pushing HYvdCr onto stack
  Adding block HYvdCr to sorted list
    Pushing aSFOYm onto stack
  Adding block aSFOYm to sorted list
  No next blocks for aSFOYm
No remaining blocks for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
No globally remaining blocks
Final sorted order for parent m8OEVv: ["Cbb2Xg", "ixjcxC", "eYz-nn", "jmAIx4", "HYvdCr", "aSFOYm"]

----- Sorting children of parent: HYvdCr -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent HYvdCr: []
====== COMPLETED BLOCK SORTING ======
Final sorted children map has 10 parents
extract_document_state: Extracted 11 blocks and 10 parent-child relationships
get_document_state: Finished for doc_id: xxxx
flutter: Transaction done
apply_action: Starting with 1 actions for doc_id: xxxx
update_node: Updating block_id: aSFOYm
deltas_to_json: Converting 1 deltas
apply_delta_to_text: Computing delta diff
apply_delta_to_text: Parsing delta diff from JSON
apply_delta_diff_to_text: Starting with 2 operations
update_node: Updated block_id: aSFOYm
apply_action: Encoding state for doc_id: xxxx
apply_updates: Starting with 141 updates for doc_id: xxxx
apply_updates: Starting with 141 updates for doc_id: xxxx
apply_updates: Applying update for doc_id: xxxx
apply_updates: Finished for doc_id: xxxx
apply_updates: Successfully applied updates for doc_id: xxxx
get_document_state: Starting for doc_id: xxxx
extract_document_state: Starting for doc_id: xxxx
extract_document_state: Processing 11 blocks
deltas_to_json: Converting 0 deltas
deltas_to_json: Converting 0 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
====== STARTING BLOCK SORTING ======
Input children_map has 10 parent nodes

----- Sorting children of parent: aSFOYm -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent aSFOYm: []

----- Sorting children of parent: iT1F-F -----
Parent has 1 children to sort
WARNING: Block with ID VC6SQw not found in blocks map
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
Adding 1 globally remaining blocks: ["VC6SQw"]
  Adding remaining block VC6SQw to sorted list
Final sorted order for parent iT1F-F: ["VC6SQw"]

----- Sorting children of parent: Z3TeKI -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent Z3TeKI: []

----- Sorting children of parent: ixjcxC -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent ixjcxC: []

----- Sorting children of parent: jmAIx4 -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent jmAIx4: []

----- Sorting children of parent: m8OEVv -----
Parent has 6 children to sort
Mapped 6 valid blocks by ID
Block aSFOYm assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block jmAIx4 assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block Cbb2Xg assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block HYvdCr assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block eYz-nn assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block ixjcxC assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Grouped blocks into 1 devices
  - Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 6 blocks
Block aSFOYm has prev_id HYvdCr
Block jmAIx4 has prev_id eYz-nn
Block Cbb2Xg has no prev_id
Block HYvdCr has prev_id jmAIx4
Block eYz-nn has prev_id ixjcxC
Block ixjcxC has prev_id Cbb2Xg
Built prev->next map with 5 entries
  - Cbb2Xg has 1 next blocks: ["ixjcxC"]
  - HYvdCr has 1 next blocks: ["aSFOYm"]
  - eYz-nn has 1 next blocks: ["jmAIx4"]
  - ixjcxC has 1 next blocks: ["eYz-nn"]
  - jmAIx4 has 1 next blocks: ["HYvdCr"]
Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 1 root blocks: ["Cbb2Xg"]
Processing devices in order: ["4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"]

Processing device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Sorted roots for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a: ["Cbb2Xg"]
Starting chain from root: Cbb2Xg
  Adding block Cbb2Xg to sorted list
    Pushing ixjcxC onto stack
  Adding block ixjcxC to sorted list
    Pushing eYz-nn onto stack
  Adding block eYz-nn to sorted list
    Pushing jmAIx4 onto stack
  Adding block jmAIx4 to sorted list
    Pushing HYvdCr onto stack
  Adding block HYvdCr to sorted list
    Pushing aSFOYm onto stack
  Adding block aSFOYm to sorted list
  No next blocks for aSFOYm
No remaining blocks for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
No globally remaining blocks
Final sorted order for parent m8OEVv: ["Cbb2Xg", "ixjcxC", "eYz-nn", "jmAIx4", "HYvdCr", "aSFOYm"]

----- Sorting children of parent: zhA_gK -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent zhA_gK: []

----- Sorting children of parent: Cbb2Xg -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent Cbb2Xg: []

----- Sorting children of parent: eYz-nn -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent eYz-nn: []

----- Sorting children of parent: HYvdCr -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent HYvdCr: []
====== COMPLETED BLOCK SORTING ======
Final sorted children map has 10 parents
extract_document_state: Extracted 11 blocks and 10 parent-child relationships
get_document_state: Finished for doc_id: xxxx
flutter: Transaction done
apply_action: Starting with 1 actions for doc_id: xxxx
update_node: Updating block_id: aSFOYm
deltas_to_json: Converting 1 deltas
apply_delta_to_text: Computing delta diff
apply_delta_to_text: Parsing delta diff from JSON
apply_delta_diff_to_text: Starting with 2 operations
update_node: Updated block_id: aSFOYm
apply_action: Encoding state for doc_id: xxxx
apply_updates: Starting with 142 updates for doc_id: xxxx
apply_updates: Starting with 142 updates for doc_id: xxxx
apply_updates: Applying update for doc_id: xxxx
apply_updates: Finished for doc_id: xxxx
apply_updates: Successfully applied updates for doc_id: xxxx
get_document_state: Starting for doc_id: xxxx
extract_document_state: Starting for doc_id: xxxx
extract_document_state: Processing 11 blocks
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 0 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 0 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
====== STARTING BLOCK SORTING ======
Input children_map has 10 parent nodes

----- Sorting children of parent: eYz-nn -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent eYz-nn: []

----- Sorting children of parent: Z3TeKI -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent Z3TeKI: []

----- Sorting children of parent: jmAIx4 -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent jmAIx4: []

----- Sorting children of parent: aSFOYm -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent aSFOYm: []

----- Sorting children of parent: Cbb2Xg -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent Cbb2Xg: []

----- Sorting children of parent: iT1F-F -----
Parent has 1 children to sort
WARNING: Block with ID VC6SQw not found in blocks map
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
Adding 1 globally remaining blocks: ["VC6SQw"]
  Adding remaining block VC6SQw to sorted list
Final sorted order for parent iT1F-F: ["VC6SQw"]

----- Sorting children of parent: ixjcxC -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent ixjcxC: []

----- Sorting children of parent: zhA_gK -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent zhA_gK: []

----- Sorting children of parent: m8OEVv -----
Parent has 6 children to sort
Mapped 6 valid blocks by ID
Block eYz-nn assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block Cbb2Xg assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block jmAIx4 assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block HYvdCr assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block aSFOYm assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block ixjcxC assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Grouped blocks into 1 devices
  - Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 6 blocks
Block eYz-nn has prev_id ixjcxC
Block Cbb2Xg has no prev_id
Block jmAIx4 has prev_id eYz-nn
Block HYvdCr has prev_id jmAIx4
Block aSFOYm has prev_id HYvdCr
Block ixjcxC has prev_id Cbb2Xg
Built prev->next map with 5 entries
  - jmAIx4 has 1 next blocks: ["HYvdCr"]
  - ixjcxC has 1 next blocks: ["eYz-nn"]
  - eYz-nn has 1 next blocks: ["jmAIx4"]
  - HYvdCr has 1 next blocks: ["aSFOYm"]
  - Cbb2Xg has 1 next blocks: ["ixjcxC"]
Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 1 root blocks: ["Cbb2Xg"]
Processing devices in order: ["4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"]

Processing device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Sorted roots for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a: ["Cbb2Xg"]
Starting chain from root: Cbb2Xg
  Adding block Cbb2Xg to sorted list
    Pushing ixjcxC onto stack
  Adding block ixjcxC to sorted list
    Pushing eYz-nn onto stack
  Adding block eYz-nn to sorted list
    Pushing jmAIx4 onto stack
  Adding block jmAIx4 to sorted list
    Pushing HYvdCr onto stack
  Adding block HYvdCr to sorted list
    Pushing aSFOYm onto stack
  Adding block aSFOYm to sorted list
  No next blocks for aSFOYm
No remaining blocks for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
No globally remaining blocks
Final sorted order for parent m8OEVv: ["Cbb2Xg", "ixjcxC", "eYz-nn", "jmAIx4", "HYvdCr", "aSFOYm"]

----- Sorting children of parent: HYvdCr -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent HYvdCr: []
====== COMPLETED BLOCK SORTING ======
Final sorted children map has 10 parents
extract_document_state: Extracted 11 blocks and 10 parent-child relationships
get_document_state: Finished for doc_id: xxxx
flutter: Transaction done
apply_action: Starting with 1 actions for doc_id: xxxx
update_node: Updating block_id: aSFOYm
deltas_to_json: Converting 1 deltas
apply_delta_to_text: Computing delta diff
apply_delta_to_text: Parsing delta diff from JSON
apply_delta_diff_to_text: Starting with 1 operations
update_node: Updated block_id: aSFOYm
apply_action: Encoding state for doc_id: xxxx
apply_updates: Starting with 143 updates for doc_id: xxxx
apply_updates: Starting with 143 updates for doc_id: xxxx
apply_updates: Applying update for doc_id: xxxx
apply_updates: Finished for doc_id: xxxx
apply_updates: Successfully applied updates for doc_id: xxxx
get_document_state: Starting for doc_id: xxxx
extract_document_state: Starting for doc_id: xxxx
extract_document_state: Processing 11 blocks
deltas_to_json: Converting 0 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 0 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 0 deltas
====== STARTING BLOCK SORTING ======
Input children_map has 10 parent nodes

----- Sorting children of parent: Cbb2Xg -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent Cbb2Xg: []

----- Sorting children of parent: HYvdCr -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent HYvdCr: []

----- Sorting children of parent: m8OEVv -----
Parent has 6 children to sort
Mapped 6 valid blocks by ID
Block aSFOYm assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block HYvdCr assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block Cbb2Xg assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block eYz-nn assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block ixjcxC assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block jmAIx4 assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Grouped blocks into 1 devices
  - Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 6 blocks
Block aSFOYm has prev_id HYvdCr
Block HYvdCr has prev_id jmAIx4
Block Cbb2Xg has no prev_id
Block eYz-nn has prev_id ixjcxC
Block ixjcxC has prev_id Cbb2Xg
Block jmAIx4 has prev_id eYz-nn
Built prev->next map with 5 entries
  - Cbb2Xg has 1 next blocks: ["ixjcxC"]
  - eYz-nn has 1 next blocks: ["jmAIx4"]
  - HYvdCr has 1 next blocks: ["aSFOYm"]
  - ixjcxC has 1 next blocks: ["eYz-nn"]
  - jmAIx4 has 1 next blocks: ["HYvdCr"]
Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 1 root blocks: ["Cbb2Xg"]
Processing devices in order: ["4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"]

Processing device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Sorted roots for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a: ["Cbb2Xg"]
Starting chain from root: Cbb2Xg
  Adding block Cbb2Xg to sorted list
    Pushing ixjcxC onto stack
  Adding block ixjcxC to sorted list
    Pushing eYz-nn onto stack
  Adding block eYz-nn to sorted list
    Pushing jmAIx4 onto stack
  Adding block jmAIx4 to sorted list
    Pushing HYvdCr onto stack
  Adding block HYvdCr to sorted list
    Pushing aSFOYm onto stack
  Adding block aSFOYm to sorted list
  No next blocks for aSFOYm
No remaining blocks for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
No globally remaining blocks
Final sorted order for parent m8OEVv: ["Cbb2Xg", "ixjcxC", "eYz-nn", "jmAIx4", "HYvdCr", "aSFOYm"]

----- Sorting children of parent: jmAIx4 -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent jmAIx4: []

----- Sorting children of parent: ixjcxC -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent ixjcxC: []

----- Sorting children of parent: iT1F-F -----
Parent has 1 children to sort
WARNING: Block with ID VC6SQw not found in blocks map
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
Adding 1 globally remaining blocks: ["VC6SQw"]
  Adding remaining block VC6SQw to sorted list
Final sorted order for parent iT1F-F: ["VC6SQw"]

----- Sorting children of parent: aSFOYm -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent aSFOYm: []

----- Sorting children of parent: Z3TeKI -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent Z3TeKI: []

----- Sorting children of parent: zhA_gK -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent zhA_gK: []

----- Sorting children of parent: eYz-nn -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent eYz-nn: []
====== COMPLETED BLOCK SORTING ======
Final sorted children map has 10 parents
extract_document_state: Extracted 11 blocks and 10 parent-child relationships
get_document_state: Finished for doc_id: xxxx
flutter: Transaction done
apply_action: Starting with 2 actions for doc_id: xxxx
delete_node: Starting for block_id: aSFOYm
remove_block_from_prev_id_chain: Removing block aSFOYm from chain
  Block aSFOYm has prev_id: HYvdCr
  Finding blocks that reference aSFOYm as their prev_id
find_block_referencing_prev_id: Searching for blocks with prev_id = aSFOYm
  Found 11 total blocks to check
  Checking block: m8OEVv
    Block does not have prev_id
  Checking block: Mk_Gts
    Block does not have prev_id
  Checking block: ixjcxC
    Block has prev_id: Cbb2Xg, matches target: false
  Checking block: eYz-nn
    Block has prev_id: ixjcxC, matches target: false
  Checking block: Z3TeKI
    Block does not have prev_id
  Checking block: aSFOYm
    Block has prev_id: HYvdCr, matches target: false
  Checking block: Cbb2Xg
    Block does not have prev_id
  Checking block: HYvdCr
    Block has prev_id: jmAIx4, matches target: false
  Checking block: zhA_gK
    Block does not have prev_id
  Checking block: iT1F-F
    Block does not have prev_id
  Checking block: jmAIx4
    Block has prev_id: eYz-nn, matches target: false
find_block_referencing_prev_id: Found 0 blocks with prev_id = aSFOYm: []
  Found 0 next blocks: []
remove_block_from_prev_id_chain: Completed
delete_node: Successfully deleted block_id: aSFOYm
insert_node: Starting for block_id: VLfhuW
deltas_to_json: Converting 0 deltas
apply_delta_to_text: Computing delta diff
apply_delta_to_text: Parsing delta diff from JSON
apply_delta_to_text: No changes to apply
handle_prev_id_chain: block_id=VLfhuW, prev_id=None
  No prev_id provided, nothing to handle
handle_prev_id_chain: Completed
handle_following_connection: block_id=VLfhuW, next_id=None, prev_id=None
  No prev_id or next_id provided, nothing to handle
handle_following_connection: Completed
insert_node: Finished for block_id: VLfhuW
apply_action: Encoding state for doc_id: xxxx
apply_updates: Starting with 144 updates for doc_id: xxxx
apply_updates: Starting with 144 updates for doc_id: xxxx
apply_updates: Applying update for doc_id: xxxx
apply_updates: Finished for doc_id: xxxx
apply_updates: Successfully applied updates for doc_id: xxxx
get_document_state: Starting for doc_id: xxxx
extract_document_state: Starting for doc_id: xxxx
extract_document_state: Processing 11 blocks
deltas_to_json: Converting 0 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 0 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 0 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
====== STARTING BLOCK SORTING ======
Input children_map has 10 parent nodes

----- Sorting children of parent: HYvdCr -----
Parent has 1 children to sort
Mapped 1 valid blocks by ID
Block VLfhuW assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Grouped blocks into 1 devices
  - Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 1 blocks
Block VLfhuW has no prev_id
Built prev->next map with 0 entries
Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 1 root blocks: ["VLfhuW"]
Processing devices in order: ["4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"]

Processing device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Sorted roots for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a: ["VLfhuW"]
Starting chain from root: VLfhuW
  Adding block VLfhuW to sorted list
  No next blocks for VLfhuW
No remaining blocks for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
No globally remaining blocks
Final sorted order for parent HYvdCr: ["VLfhuW"]

----- Sorting children of parent: VLfhuW -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent VLfhuW: []

----- Sorting children of parent: iT1F-F -----
Parent has 1 children to sort
WARNING: Block with ID VC6SQw not found in blocks map
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
Adding 1 globally remaining blocks: ["VC6SQw"]
  Adding remaining block VC6SQw to sorted list
Final sorted order for parent iT1F-F: ["VC6SQw"]

----- Sorting children of parent: ixjcxC -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent ixjcxC: []

----- Sorting children of parent: Z3TeKI -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent Z3TeKI: []

----- Sorting children of parent: Cbb2Xg -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent Cbb2Xg: []

----- Sorting children of parent: jmAIx4 -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent jmAIx4: []

----- Sorting children of parent: eYz-nn -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent eYz-nn: []

----- Sorting children of parent: m8OEVv -----
Parent has 5 children to sort
Mapped 5 valid blocks by ID
Block ixjcxC assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block eYz-nn assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block HYvdCr assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block jmAIx4 assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block Cbb2Xg assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Grouped blocks into 1 devices
  - Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 5 blocks
Block ixjcxC has prev_id Cbb2Xg
Block eYz-nn has prev_id ixjcxC
Block HYvdCr has prev_id jmAIx4
Block jmAIx4 has prev_id eYz-nn
Block Cbb2Xg has no prev_id
Built prev->next map with 4 entries
  - jmAIx4 has 1 next blocks: ["HYvdCr"]
  - Cbb2Xg has 1 next blocks: ["ixjcxC"]
  - ixjcxC has 1 next blocks: ["eYz-nn"]
  - eYz-nn has 1 next blocks: ["jmAIx4"]
Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 1 root blocks: ["Cbb2Xg"]
Processing devices in order: ["4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"]

Processing device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Sorted roots for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a: ["Cbb2Xg"]
Starting chain from root: Cbb2Xg
  Adding block Cbb2Xg to sorted list
    Pushing ixjcxC onto stack
  Adding block ixjcxC to sorted list
    Pushing eYz-nn onto stack
  Adding block eYz-nn to sorted list
    Pushing jmAIx4 onto stack
  Adding block jmAIx4 to sorted list
    Pushing HYvdCr onto stack
  Adding block HYvdCr to sorted list
  No next blocks for HYvdCr
No remaining blocks for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
No globally remaining blocks
Final sorted order for parent m8OEVv: ["Cbb2Xg", "ixjcxC", "eYz-nn", "jmAIx4", "HYvdCr"]

----- Sorting children of parent: zhA_gK -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent zhA_gK: []
====== COMPLETED BLOCK SORTING ======
Final sorted children map has 10 parents
extract_document_state: Extracted 11 blocks and 10 parent-child relationships
get_document_state: Finished for doc_id: xxxx
flutter: {
flutter:   "docId": "xxxx",
flutter:   "blocks": {
flutter:     "iT1F-F": {
flutter:       "id": "iT1F-F",
flutter:       "ty": "paragraph",
flutter:       "attributes": {
flutter:         "device": "4cb3899a-3fe4-4bb1-bbf4-edd464b0977a",
flutter:         "timestamp": "2025-04-24T17:06:39.424851",
flutter:         "delta": "[]"
flutter:       },
flutter:       "delta": "[{\"insert\":\"New Task3\"}]",
flutter:       "parentId": "m8OEVv",
flutter:       "prevId": null,
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "eYz-nn": {
flutter:       "id": "eYz-nn",
flutter:       "ty": "paragraph",
flutter:       "attributes": {
flutter:         "device": "4cb3899a-3fe4-4bb1-bbf4-edd464b0977a",
flutter:         "timestamp": "2025-04-24T17:14:23.263975",
flutter:         "delta": "[]"
flutter:       },
flutter:       "delta": "[{\"insert\":\"New Element 3\"}]",
flutter:       "parentId": "m8OEVv",
flutter:       "prevId": "ixjcxC",
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "jmAIx4": {
flutter:       "id": "jmAIx4",
flutter:       "ty": "paragraph",
flutter:       "attributes": {
flutter:         "delta": "[]",
flutter:         "timestamp": "2025-04-24T17:14:28.087127",
flutter:         "device": "4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"
flutter:       },
flutter:       "delta": "[]",
flutter:       "parentId": "m8OEVv",
flutter:       "prevId": "eYz-nn",
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "VLfhuW": {
flutter:       "id": "VLfhuW",
flutter:       "ty": "paragraph",
flutter:       "attributes": {
flutter:         "device": "4cb3899a-3fe4-4bb1-bbf4-edd464b0977a",
flutter:         "timestamp": "2025-04-24T17:14:31.317748",
flutter:         "delta": "[]"
flutter:       },
flutter:       "delta": "[]",
flutter:       "parentId": "HYvdCr",
flutter:       "prevId": null,
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "Z3TeKI": {
flutter:       "id": "Z3TeKI",
flutter:       "ty": "paragraph",
flutter:       "attributes": {
flutter:         "timestamp": "2025-04-24T17:12:28.114539",
flutter:         "device": "4cb3899a-3fe4-4bb1-bbf4-edd464b0977a",
flutter:         "delta": "[]"
flutter:       },
flutter:       "delta": "[{\"insert\":\"Task 2\"}]",
flutter:       "parentId": "m8OEVv",
flutter:       "prevId": null,
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "zhA_gK": {
flutter:       "id": "zhA_gK",
flutter:       "ty": "todo_list",
flutter:       "attributes": {
flutter:         "device": "4cb3899a-3fe4-4bb1-bbf4-edd464b0977a",
flutter:         "timestamp": "2025-04-24T17:04:02.277720",
flutter:         "checked": "false",
flutter:         "delta": "[]"
flutter:       },
flutter:       "delta": "[{\"insert\":\"Task is mine\"}]",
flutter:       "parentId": "m8OEVv",
flutter:       "prevId": null,
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "ixjcxC": {
flutter:       "id": "ixjcxC",
flutter:       "ty": "paragraph",
flutter:       "attributes": {
flutter:         "delta": "[]",
flutter:         "device": "4cb3899a-3fe4-4bb1-bbf4-edd464b0977a",
flutter:         "timestamp": "2025-04-24T17:14:19.029895"
flutter:       },
flutter:       "delta": "[{\"insert\":\"New Element 2\"}]",
flutter:       "parentId": "m8OEVv",
flutter:       "prevId": "Cbb2Xg",
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "m8OEVv": {
flutter:       "id": "m8OEVv",
flutter:       "ty": "page",
flutter:       "attributes": {
flutter:         "device": "3a00f73e-0356-4c61-a6e1-cb439d9dbf33",
flutter:         "timestamp": "2025-04-24T17:01:59.905543"
flutter:       },
flutter:       "delta": null,
flutter:       "parentId": null,
flutter:       "prevId": null,
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "Cbb2Xg": {
flutter:       "id": "Cbb2Xg",
flutter:       "ty": "paragraph",
flutter:       "attributes": {
flutter:         "timestamp": "2025-04-24T17:13:22.923334",
flutter:         "device": "4cb3899a-3fe4-4bb1-bbf4-edd464b0977a",
flutter:         "delta": "[]"
flutter:       },
flutter:       "delta": "[{\"insert\":\"New Element 1\"}]",
flutter:       "parentId": "m8OEVv",
flutter:       "prevId": null,
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "HYvdCr": {
flutter:       "id": "HYvdCr",
flutter:       "ty": "paragraph",
flutter:       "attributes": {
flutter:         "delta": "[]",
flutter:         "device": "4cb3899a-3fe4-4bb1-bbf4-edd464b0977a",
flutter:         "timestamp": "2025-04-24T17:14:28.685801"
flutter:       },
flutter:       "delta": "[{\"insert\":\"Task 1\"}]",
flutter:       "parentId": "m8OEVv",
flutter:       "prevId": "jmAIx4",
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "Mk_Gts": {
flutter:       "id": "Mk_Gts",
flutter:       "ty": "",
flutter:       "attributes": {
flutter:         "checked": "false",
flutter:         "device": "4cb3899a-3fe4-4bb1-bbf4-edd464b0977a",
flutter:         "timestamp": "2025-04-24T17:04:05.077214"
flutter:       },
flutter:       "delta": "[]",
flutter:       "parentId": null,
flutter:       "prevId": null,
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     }
flutter:   },
flutter:   "childrenMap": {
flutter:     "ixjcxC": [],
flutter:     "m8OEVv": [
flutter:       "Cbb2Xg",
flutter:       "ixjcxC",
flutter:       "eYz-nn",
flutter:       "jmAIx4",
flutter:       "HYvdCr"
flutter:     ],
flutter:     "VLfhuW": [],
flutter:     "HYvdCr": [
flutter:       "VLfhuW"
flutter:     ],
flutter:     "zhA_gK": [],
flutter:     "Z3TeKI": [],
flutter:     "eYz-nn": [],
flutter:     "Cbb2Xg": [],
flutter:     "iT1F-F": [
flutter:       "VC6SQw"
flutter:     ],
flutter:     "jmAIx4": []
flutter:   },
flutter:   "rootId": "m8OEVv"
flutter: }
merge_updates: Merging 12 updates
merge_updates: Successfully merged updates
apply_updates: Starting with 145 updates for doc_id: xxxx
apply_updates: Starting with 145 updates for doc_id: xxxx
flutter: Transaction done
apply_updates: Applying update for doc_id: xxxx
apply_updates: Finished for doc_id: xxxx
apply_updates: Successfully applied updates for doc_id: xxxx
apply_action: Starting with 1 actions for doc_id: xxxx
update_node: Updating block_id: VLfhuW
deltas_to_json: Converting 0 deltas
apply_delta_to_text: Computing delta diff
apply_delta_to_text: Parsing delta diff from JSON
apply_delta_diff_to_text: Starting with 1 operations
update_node: Updated block_id: VLfhuW
apply_action: Encoding state for doc_id: xxxx
apply_updates: Starting with 116 updates for doc_id: xxxx
apply_updates: Starting with 116 updates for doc_id: xxxx
apply_updates: Applying update for doc_id: xxxx
apply_updates: Finished for doc_id: xxxx
apply_updates: Successfully applied updates for doc_id: xxxx
get_document_state: Starting for doc_id: xxxx
extract_document_state: Starting for doc_id: xxxx
extract_document_state: Processing 11 blocks
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 0 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 0 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
====== STARTING BLOCK SORTING ======
Input children_map has 10 parent nodes

----- Sorting children of parent: ixjcxC -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent ixjcxC: []

----- Sorting children of parent: HYvdCr -----
Parent has 1 children to sort
Mapped 1 valid blocks by ID
Block VLfhuW assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Grouped blocks into 1 devices
  - Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 1 blocks
Block VLfhuW has no prev_id
Built prev->next map with 0 entries
Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 1 root blocks: ["VLfhuW"]
Processing devices in order: ["4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"]

Processing device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Sorted roots for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a: ["VLfhuW"]
Starting chain from root: VLfhuW
  Adding block VLfhuW to sorted list
  No next blocks for VLfhuW
No remaining blocks for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
No globally remaining blocks
Final sorted order for parent HYvdCr: ["VLfhuW"]

----- Sorting children of parent: zhA_gK -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent zhA_gK: []

----- Sorting children of parent: jmAIx4 -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent jmAIx4: []

----- Sorting children of parent: VLfhuW -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent VLfhuW: []

----- Sorting children of parent: m8OEVv -----
Parent has 5 children to sort
Mapped 5 valid blocks by ID
Block HYvdCr assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block ixjcxC assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block jmAIx4 assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block eYz-nn assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block Cbb2Xg assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Grouped blocks into 1 devices
  - Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 5 blocks
Block HYvdCr has prev_id jmAIx4
Block ixjcxC has prev_id Cbb2Xg
Block jmAIx4 has prev_id eYz-nn
Block eYz-nn has prev_id ixjcxC
Block Cbb2Xg has no prev_id
Built prev->next map with 4 entries
  - eYz-nn has 1 next blocks: ["jmAIx4"]
  - ixjcxC has 1 next blocks: ["eYz-nn"]
  - jmAIx4 has 1 next blocks: ["HYvdCr"]
  - Cbb2Xg has 1 next blocks: ["ixjcxC"]
Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 1 root blocks: ["Cbb2Xg"]
Processing devices in order: ["4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"]

Processing device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Sorted roots for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a: ["Cbb2Xg"]
Starting chain from root: Cbb2Xg
  Adding block Cbb2Xg to sorted list
    Pushing ixjcxC onto stack
  Adding block ixjcxC to sorted list
    Pushing eYz-nn onto stack
  Adding block eYz-nn to sorted list
    Pushing jmAIx4 onto stack
  Adding block jmAIx4 to sorted list
    Pushing HYvdCr onto stack
  Adding block HYvdCr to sorted list
  No next blocks for HYvdCr
No remaining blocks for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
No globally remaining blocks
Final sorted order for parent m8OEVv: ["Cbb2Xg", "ixjcxC", "eYz-nn", "jmAIx4", "HYvdCr"]

----- Sorting children of parent: eYz-nn -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent eYz-nn: []

----- Sorting children of parent: Z3TeKI -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent Z3TeKI: []

----- Sorting children of parent: Cbb2Xg -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent Cbb2Xg: []

----- Sorting children of parent: iT1F-F -----
Parent has 1 children to sort
WARNING: Block with ID VC6SQw not found in blocks map
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
Adding 1 globally remaining blocks: ["VC6SQw"]
  Adding remaining block VC6SQw to sorted list
Final sorted order for parent iT1F-F: ["VC6SQw"]
====== COMPLETED BLOCK SORTING ======
Final sorted children map has 10 parents
extract_document_state: Extracted 11 blocks and 10 parent-child relationships
get_document_state: Finished for doc_id: xxxx
flutter: Transaction done
apply_action: Starting with 1 actions for doc_id: xxxx
update_node: Updating block_id: VLfhuW
deltas_to_json: Converting 1 deltas
apply_delta_to_text: Computing delta diff
apply_delta_to_text: Parsing delta diff from JSON
apply_delta_diff_to_text: Starting with 2 operations
update_node: Updated block_id: VLfhuW
apply_action: Encoding state for doc_id: xxxx
apply_updates: Starting with 117 updates for doc_id: xxxx
apply_updates: Starting with 117 updates for doc_id: xxxx
apply_updates: Applying update for doc_id: xxxx
apply_updates: Finished for doc_id: xxxx
apply_updates: Successfully applied updates for doc_id: xxxx
get_document_state: Starting for doc_id: xxxx
extract_document_state: Starting for doc_id: xxxx
extract_document_state: Processing 11 blocks
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 0 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 0 deltas
====== STARTING BLOCK SORTING ======
Input children_map has 10 parent nodes

----- Sorting children of parent: Cbb2Xg -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent Cbb2Xg: []

----- Sorting children of parent: jmAIx4 -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent jmAIx4: []

----- Sorting children of parent: zhA_gK -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent zhA_gK: []

----- Sorting children of parent: m8OEVv -----
Parent has 5 children to sort
Mapped 5 valid blocks by ID
Block Cbb2Xg assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block ixjcxC assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block eYz-nn assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block HYvdCr assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block jmAIx4 assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Grouped blocks into 1 devices
  - Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 5 blocks
Block Cbb2Xg has no prev_id
Block ixjcxC has prev_id Cbb2Xg
Block eYz-nn has prev_id ixjcxC
Block HYvdCr has prev_id jmAIx4
Block jmAIx4 has prev_id eYz-nn
Built prev->next map with 4 entries
  - ixjcxC has 1 next blocks: ["eYz-nn"]
  - jmAIx4 has 1 next blocks: ["HYvdCr"]
  - eYz-nn has 1 next blocks: ["jmAIx4"]
  - Cbb2Xg has 1 next blocks: ["ixjcxC"]
Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 1 root blocks: ["Cbb2Xg"]
Processing devices in order: ["4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"]

Processing device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Sorted roots for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a: ["Cbb2Xg"]
Starting chain from root: Cbb2Xg
  Adding block Cbb2Xg to sorted list
    Pushing ixjcxC onto stack
  Adding block ixjcxC to sorted list
    Pushing eYz-nn onto stack
  Adding block eYz-nn to sorted list
    Pushing jmAIx4 onto stack
  Adding block jmAIx4 to sorted list
    Pushing HYvdCr onto stack
  Adding block HYvdCr to sorted list
  No next blocks for HYvdCr
No remaining blocks for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
No globally remaining blocks
Final sorted order for parent m8OEVv: ["Cbb2Xg", "ixjcxC", "eYz-nn", "jmAIx4", "HYvdCr"]

----- Sorting children of parent: eYz-nn -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent eYz-nn: []

----- Sorting children of parent: HYvdCr -----
Parent has 1 children to sort
Mapped 1 valid blocks by ID
Block VLfhuW assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Grouped blocks into 1 devices
  - Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 1 blocks
Block VLfhuW has no prev_id
Built prev->next map with 0 entries
Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 1 root blocks: ["VLfhuW"]
Processing devices in order: ["4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"]

Processing device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Sorted roots for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a: ["VLfhuW"]
Starting chain from root: VLfhuW
  Adding block VLfhuW to sorted list
  No next blocks for VLfhuW
No remaining blocks for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
No globally remaining blocks
Final sorted order for parent HYvdCr: ["VLfhuW"]

----- Sorting children of parent: iT1F-F -----
Parent has 1 children to sort
WARNING: Block with ID VC6SQw not found in blocks map
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
Adding 1 globally remaining blocks: ["VC6SQw"]
  Adding remaining block VC6SQw to sorted list
Final sorted order for parent iT1F-F: ["VC6SQw"]

----- Sorting children of parent: VLfhuW -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent VLfhuW: []

----- Sorting children of parent: Z3TeKI -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent Z3TeKI: []

----- Sorting children of parent: ixjcxC -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent ixjcxC: []
====== COMPLETED BLOCK SORTING ======
Final sorted children map has 10 parents
extract_document_state: Extracted 11 blocks and 10 parent-child relationships
get_document_state: Finished for doc_id: xxxx
flutter: Transaction done
apply_action: Starting with 1 actions for doc_id: xxxx
update_node: Updating block_id: VLfhuW
deltas_to_json: Converting 1 deltas
apply_delta_to_text: Computing delta diff
apply_delta_to_text: Parsing delta diff from JSON
apply_delta_diff_to_text: Starting with 2 operations
update_node: Updated block_id: VLfhuW
apply_action: Encoding state for doc_id: xxxx
apply_updates: Starting with 118 updates for doc_id: xxxx
apply_updates: Starting with 118 updates for doc_id: xxxx
apply_updates: Applying update for doc_id: xxxx
apply_updates: Finished for doc_id: xxxx
apply_updates: Successfully applied updates for doc_id: xxxx
get_document_state: Starting for doc_id: xxxx
extract_document_state: Starting for doc_id: xxxx
extract_document_state: Processing 11 blocks
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 0 deltas
deltas_to_json: Converting 0 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
====== STARTING BLOCK SORTING ======
Input children_map has 10 parent nodes

----- Sorting children of parent: Cbb2Xg -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent Cbb2Xg: []

----- Sorting children of parent: Z3TeKI -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent Z3TeKI: []

----- Sorting children of parent: m8OEVv -----
Parent has 5 children to sort
Mapped 5 valid blocks by ID
Block eYz-nn assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block jmAIx4 assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block Cbb2Xg assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block ixjcxC assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block HYvdCr assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Grouped blocks into 1 devices
  - Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 5 blocks
Block eYz-nn has prev_id ixjcxC
Block jmAIx4 has prev_id eYz-nn
Block Cbb2Xg has no prev_id
Block ixjcxC has prev_id Cbb2Xg
Block HYvdCr has prev_id jmAIx4
Built prev->next map with 4 entries
  - eYz-nn has 1 next blocks: ["jmAIx4"]
  - Cbb2Xg has 1 next blocks: ["ixjcxC"]
  - jmAIx4 has 1 next blocks: ["HYvdCr"]
  - ixjcxC has 1 next blocks: ["eYz-nn"]
Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 1 root blocks: ["Cbb2Xg"]
Processing devices in order: ["4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"]

Processing device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Sorted roots for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a: ["Cbb2Xg"]
Starting chain from root: Cbb2Xg
  Adding block Cbb2Xg to sorted list
    Pushing ixjcxC onto stack
  Adding block ixjcxC to sorted list
    Pushing eYz-nn onto stack
  Adding block eYz-nn to sorted list
    Pushing jmAIx4 onto stack
  Adding block jmAIx4 to sorted list
    Pushing HYvdCr onto stack
  Adding block HYvdCr to sorted list
  No next blocks for HYvdCr
No remaining blocks for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
No globally remaining blocks
Final sorted order for parent m8OEVv: ["Cbb2Xg", "ixjcxC", "eYz-nn", "jmAIx4", "HYvdCr"]

----- Sorting children of parent: ixjcxC -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent ixjcxC: []

----- Sorting children of parent: VLfhuW -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent VLfhuW: []

----- Sorting children of parent: eYz-nn -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent eYz-nn: []

----- Sorting children of parent: zhA_gK -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent zhA_gK: []

----- Sorting children of parent: jmAIx4 -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent jmAIx4: []

----- Sorting children of parent: iT1F-F -----
Parent has 1 children to sort
WARNING: Block with ID VC6SQw not found in blocks map
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
Adding 1 globally remaining blocks: ["VC6SQw"]
  Adding remaining block VC6SQw to sorted list
Final sorted order for parent iT1F-F: ["VC6SQw"]

----- Sorting children of parent: HYvdCr -----
Parent has 1 children to sort
Mapped 1 valid blocks by ID
Block VLfhuW assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Grouped blocks into 1 devices
  - Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 1 blocks
Block VLfhuW has no prev_id
Built prev->next map with 0 entries
Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 1 root blocks: ["VLfhuW"]
Processing devices in order: ["4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"]

Processing device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Sorted roots for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a: ["VLfhuW"]
Starting chain from root: VLfhuW
  Adding block VLfhuW to sorted list
  No next blocks for VLfhuW
No remaining blocks for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
No globally remaining blocks
Final sorted order for parent HYvdCr: ["VLfhuW"]
====== COMPLETED BLOCK SORTING ======
Final sorted children map has 10 parents
extract_document_state: Extracted 11 blocks and 10 parent-child relationships
get_document_state: Finished for doc_id: xxxx
flutter: Transaction done
apply_action: Starting with 1 actions for doc_id: xxxx
update_node: Updating block_id: VLfhuW
deltas_to_json: Converting 1 deltas
apply_delta_to_text: Computing delta diff
apply_delta_to_text: Parsing delta diff from JSON
apply_delta_diff_to_text: Starting with 2 operations
update_node: Updated block_id: VLfhuW
apply_action: Encoding state for doc_id: xxxx
apply_updates: Starting with 119 updates for doc_id: xxxx
apply_updates: Starting with 119 updates for doc_id: xxxx
apply_updates: Applying update for doc_id: xxxx
apply_updates: Finished for doc_id: xxxx
apply_updates: Successfully applied updates for doc_id: xxxx
get_document_state: Starting for doc_id: xxxx
extract_document_state: Starting for doc_id: xxxx
extract_document_state: Processing 11 blocks
deltas_to_json: Converting 0 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 0 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
====== STARTING BLOCK SORTING ======
Input children_map has 10 parent nodes

----- Sorting children of parent: eYz-nn -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent eYz-nn: []

----- Sorting children of parent: Z3TeKI -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent Z3TeKI: []

----- Sorting children of parent: iT1F-F -----
Parent has 1 children to sort
WARNING: Block with ID VC6SQw not found in blocks map
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
Adding 1 globally remaining blocks: ["VC6SQw"]
  Adding remaining block VC6SQw to sorted list
Final sorted order for parent iT1F-F: ["VC6SQw"]

----- Sorting children of parent: VLfhuW -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent VLfhuW: []

----- Sorting children of parent: zhA_gK -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent zhA_gK: []

----- Sorting children of parent: ixjcxC -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent ixjcxC: []

----- Sorting children of parent: HYvdCr -----
Parent has 1 children to sort
Mapped 1 valid blocks by ID
Block VLfhuW assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Grouped blocks into 1 devices
  - Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 1 blocks
Block VLfhuW has no prev_id
Built prev->next map with 0 entries
Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 1 root blocks: ["VLfhuW"]
Processing devices in order: ["4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"]

Processing device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Sorted roots for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a: ["VLfhuW"]
Starting chain from root: VLfhuW
  Adding block VLfhuW to sorted list
  No next blocks for VLfhuW
No remaining blocks for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
No globally remaining blocks
Final sorted order for parent HYvdCr: ["VLfhuW"]

----- Sorting children of parent: Cbb2Xg -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent Cbb2Xg: []

----- Sorting children of parent: m8OEVv -----
Parent has 5 children to sort
Mapped 5 valid blocks by ID
Block jmAIx4 assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block eYz-nn assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block Cbb2Xg assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block ixjcxC assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block HYvdCr assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Grouped blocks into 1 devices
  - Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 5 blocks
Block jmAIx4 has prev_id eYz-nn
Block eYz-nn has prev_id ixjcxC
Block Cbb2Xg has no prev_id
Block ixjcxC has prev_id Cbb2Xg
Block HYvdCr has prev_id jmAIx4
Built prev->next map with 4 entries
  - Cbb2Xg has 1 next blocks: ["ixjcxC"]
  - eYz-nn has 1 next blocks: ["jmAIx4"]
  - jmAIx4 has 1 next blocks: ["HYvdCr"]
  - ixjcxC has 1 next blocks: ["eYz-nn"]
Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 1 root blocks: ["Cbb2Xg"]
Processing devices in order: ["4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"]

Processing device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Sorted roots for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a: ["Cbb2Xg"]
Starting chain from root: Cbb2Xg
  Adding block Cbb2Xg to sorted list
    Pushing ixjcxC onto stack
  Adding block ixjcxC to sorted list
    Pushing eYz-nn onto stack
  Adding block eYz-nn to sorted list
    Pushing jmAIx4 onto stack
  Adding block jmAIx4 to sorted list
    Pushing HYvdCr onto stack
  Adding block HYvdCr to sorted list
  No next blocks for HYvdCr
No remaining blocks for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
No globally remaining blocks
Final sorted order for parent m8OEVv: ["Cbb2Xg", "ixjcxC", "eYz-nn", "jmAIx4", "HYvdCr"]

----- Sorting children of parent: jmAIx4 -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent jmAIx4: []
====== COMPLETED BLOCK SORTING ======
Final sorted children map has 10 parents
extract_document_state: Extracted 11 blocks and 10 parent-child relationships
get_document_state: Finished for doc_id: xxxx
flutter: Transaction done
apply_action: Starting with 1 actions for doc_id: xxxx
update_node: Updating block_id: VLfhuW
deltas_to_json: Converting 1 deltas
apply_delta_to_text: Computing delta diff
apply_delta_to_text: Parsing delta diff from JSON
apply_delta_diff_to_text: Starting with 2 operations
update_node: Updated block_id: VLfhuW
apply_action: Encoding state for doc_id: xxxx
apply_updates: Starting with 120 updates for doc_id: xxxx
apply_updates: Starting with 120 updates for doc_id: xxxx
apply_updates: Applying update for doc_id: xxxx
apply_updates: Finished for doc_id: xxxx
apply_updates: Successfully applied updates for doc_id: xxxx
get_document_state: Starting for doc_id: xxxx
extract_document_state: Starting for doc_id: xxxx
extract_document_state: Processing 11 blocks
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 0 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 0 deltas
deltas_to_json: Converting 1 deltas
====== STARTING BLOCK SORTING ======
Input children_map has 10 parent nodes

----- Sorting children of parent: jmAIx4 -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent jmAIx4: []

----- Sorting children of parent: eYz-nn -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent eYz-nn: []

----- Sorting children of parent: Cbb2Xg -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent Cbb2Xg: []

----- Sorting children of parent: m8OEVv -----
Parent has 5 children to sort
Mapped 5 valid blocks by ID
Block Cbb2Xg assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block HYvdCr assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block ixjcxC assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block eYz-nn assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block jmAIx4 assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Grouped blocks into 1 devices
  - Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 5 blocks
Block Cbb2Xg has no prev_id
Block HYvdCr has prev_id jmAIx4
Block ixjcxC has prev_id Cbb2Xg
Block eYz-nn has prev_id ixjcxC
Block jmAIx4 has prev_id eYz-nn
Built prev->next map with 4 entries
  - jmAIx4 has 1 next blocks: ["HYvdCr"]
  - Cbb2Xg has 1 next blocks: ["ixjcxC"]
  - eYz-nn has 1 next blocks: ["jmAIx4"]
  - ixjcxC has 1 next blocks: ["eYz-nn"]
Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 1 root blocks: ["Cbb2Xg"]
Processing devices in order: ["4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"]

Processing device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Sorted roots for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a: ["Cbb2Xg"]
Starting chain from root: Cbb2Xg
  Adding block Cbb2Xg to sorted list
    Pushing ixjcxC onto stack
  Adding block ixjcxC to sorted list
    Pushing eYz-nn onto stack
  Adding block eYz-nn to sorted list
    Pushing jmAIx4 onto stack
  Adding block jmAIx4 to sorted list
    Pushing HYvdCr onto stack
  Adding block HYvdCr to sorted list
  No next blocks for HYvdCr
No remaining blocks for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
No globally remaining blocks
Final sorted order for parent m8OEVv: ["Cbb2Xg", "ixjcxC", "eYz-nn", "jmAIx4", "HYvdCr"]

----- Sorting children of parent: iT1F-F -----
Parent has 1 children to sort
WARNING: Block with ID VC6SQw not found in blocks map
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
Adding 1 globally remaining blocks: ["VC6SQw"]
  Adding remaining block VC6SQw to sorted list
Final sorted order for parent iT1F-F: ["VC6SQw"]

----- Sorting children of parent: ixjcxC -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent ixjcxC: []

----- Sorting children of parent: zhA_gK -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent zhA_gK: []

----- Sorting children of parent: HYvdCr -----
Parent has 1 children to sort
Mapped 1 valid blocks by ID
Block VLfhuW assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Grouped blocks into 1 devices
  - Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 1 blocks
Block VLfhuW has no prev_id
Built prev->next map with 0 entries
Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 1 root blocks: ["VLfhuW"]
Processing devices in order: ["4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"]

Processing device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Sorted roots for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a: ["VLfhuW"]
Starting chain from root: VLfhuW
  Adding block VLfhuW to sorted list
  No next blocks for VLfhuW
No remaining blocks for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
No globally remaining blocks
Final sorted order for parent HYvdCr: ["VLfhuW"]

----- Sorting children of parent: Z3TeKI -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent Z3TeKI: []

----- Sorting children of parent: VLfhuW -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent VLfhuW: []
====== COMPLETED BLOCK SORTING ======
Final sorted children map has 10 parents
extract_document_state: Extracted 11 blocks and 10 parent-child relationships
get_document_state: Finished for doc_id: xxxx
flutter: Transaction done
apply_action: Starting with 1 actions for doc_id: xxxx
update_node: Updating block_id: VLfhuW
deltas_to_json: Converting 1 deltas
apply_delta_to_text: Computing delta diff
apply_delta_to_text: Parsing delta diff from JSON
apply_delta_diff_to_text: Starting with 2 operations
update_node: Updated block_id: VLfhuW
apply_action: Encoding state for doc_id: xxxx
apply_updates: Starting with 121 updates for doc_id: xxxx
apply_updates: Starting with 121 updates for doc_id: xxxx
apply_updates: Applying update for doc_id: xxxx
apply_updates: Finished for doc_id: xxxx
apply_updates: Successfully applied updates for doc_id: xxxx
get_document_state: Starting for doc_id: xxxx
extract_document_state: Starting for doc_id: xxxx
extract_document_state: Processing 11 blocks
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 0 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 0 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
====== STARTING BLOCK SORTING ======
Input children_map has 10 parent nodes

----- Sorting children of parent: eYz-nn -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent eYz-nn: []

----- Sorting children of parent: zhA_gK -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent zhA_gK: []

----- Sorting children of parent: Cbb2Xg -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent Cbb2Xg: []

----- Sorting children of parent: Z3TeKI -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent Z3TeKI: []

----- Sorting children of parent: HYvdCr -----
Parent has 1 children to sort
Mapped 1 valid blocks by ID
Block VLfhuW assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Grouped blocks into 1 devices
  - Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 1 blocks
Block VLfhuW has no prev_id
Built prev->next map with 0 entries
Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 1 root blocks: ["VLfhuW"]
Processing devices in order: ["4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"]

Processing device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Sorted roots for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a: ["VLfhuW"]
Starting chain from root: VLfhuW
  Adding block VLfhuW to sorted list
  No next blocks for VLfhuW
No remaining blocks for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
No globally remaining blocks
Final sorted order for parent HYvdCr: ["VLfhuW"]

----- Sorting children of parent: jmAIx4 -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent jmAIx4: []

----- Sorting children of parent: iT1F-F -----
Parent has 1 children to sort
WARNING: Block with ID VC6SQw not found in blocks map
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
Adding 1 globally remaining blocks: ["VC6SQw"]
  Adding remaining block VC6SQw to sorted list
Final sorted order for parent iT1F-F: ["VC6SQw"]

----- Sorting children of parent: ixjcxC -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent ixjcxC: []

----- Sorting children of parent: m8OEVv -----
Parent has 5 children to sort
Mapped 5 valid blocks by ID
Block jmAIx4 assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block Cbb2Xg assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block HYvdCr assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block ixjcxC assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block eYz-nn assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Grouped blocks into 1 devices
  - Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 5 blocks
Block jmAIx4 has prev_id eYz-nn
Block Cbb2Xg has no prev_id
Block HYvdCr has prev_id jmAIx4
Block ixjcxC has prev_id Cbb2Xg
Block eYz-nn has prev_id ixjcxC
Built prev->next map with 4 entries
  - Cbb2Xg has 1 next blocks: ["ixjcxC"]
  - eYz-nn has 1 next blocks: ["jmAIx4"]
  - jmAIx4 has 1 next blocks: ["HYvdCr"]
  - ixjcxC has 1 next blocks: ["eYz-nn"]
Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 1 root blocks: ["Cbb2Xg"]
Processing devices in order: ["4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"]

Processing device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Sorted roots for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a: ["Cbb2Xg"]
Starting chain from root: Cbb2Xg
  Adding block Cbb2Xg to sorted list
    Pushing ixjcxC onto stack
  Adding block ixjcxC to sorted list
    Pushing eYz-nn onto stack
  Adding block eYz-nn to sorted list
    Pushing jmAIx4 onto stack
  Adding block jmAIx4 to sorted list
    Pushing HYvdCr onto stack
  Adding block HYvdCr to sorted list
  No next blocks for HYvdCr
No remaining blocks for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
No globally remaining blocks
Final sorted order for parent m8OEVv: ["Cbb2Xg", "ixjcxC", "eYz-nn", "jmAIx4", "HYvdCr"]

----- Sorting children of parent: VLfhuW -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent VLfhuW: []
====== COMPLETED BLOCK SORTING ======
Final sorted children map has 10 parents
extract_document_state: Extracted 11 blocks and 10 parent-child relationships
get_document_state: Finished for doc_id: xxxx
flutter: Transaction done
apply_action: Starting with 2 actions for doc_id: xxxx
insert_node: Starting for block_id: pLZrvb
deltas_to_json: Converting 0 deltas
apply_delta_to_text: Computing delta diff
apply_delta_to_text: Parsing delta diff from JSON
apply_delta_to_text: No changes to apply
handle_prev_id_chain: block_id=pLZrvb, prev_id=Some("VLfhuW")
  Finding blocks that reference prev_id: VLfhuW
find_block_referencing_prev_id: Searching for blocks with prev_id = VLfhuW
  Found 12 total blocks to check
  Checking block: eYz-nn
    Block has prev_id: ixjcxC, matches target: false
  Checking block: iT1F-F
    Block does not have prev_id
  Checking block: Mk_Gts
    Block does not have prev_id
  Checking block: VLfhuW
    Block does not have prev_id
  Checking block: Z3TeKI
    Block does not have prev_id
  Checking block: pLZrvb
    Block does not have prev_id
  Checking block: m8OEVv
    Block does not have prev_id
  Checking block: jmAIx4
    Block has prev_id: eYz-nn, matches target: false
  Checking block: HYvdCr
    Block has prev_id: jmAIx4, matches target: false
  Checking block: ixjcxC
    Block has prev_id: Cbb2Xg, matches target: false
  Checking block: zhA_gK
    Block does not have prev_id
  Checking block: Cbb2Xg
    Block does not have prev_id
find_block_referencing_prev_id: Found 0 blocks with prev_id = VLfhuW: []
  Found 0 blocks with prev_id VLfhuW: []
handle_prev_id_chain: Completed
handle_following_connection: block_id=pLZrvb, next_id=None, prev_id=Some("VLfhuW")
  Using prev_id strategy (prev_id=VLfhuW)
find_block_referencing_prev_id: Searching for blocks with prev_id = VLfhuW
  Found 12 total blocks to check
  Checking block: eYz-nn
    Block has prev_id: ixjcxC, matches target: false
  Checking block: iT1F-F
    Block does not have prev_id
  Checking block: Mk_Gts
    Block does not have prev_id
  Checking block: VLfhuW
    Block does not have prev_id
  Checking block: Z3TeKI
    Block does not have prev_id
  Checking block: pLZrvb
    Block does not have prev_id
  Checking block: m8OEVv
    Block does not have prev_id
  Checking block: jmAIx4
    Block has prev_id: eYz-nn, matches target: false
  Checking block: HYvdCr
    Block has prev_id: jmAIx4, matches target: false
  Checking block: ixjcxC
    Block has prev_id: Cbb2Xg, matches target: false
  Checking block: zhA_gK
    Block does not have prev_id
  Checking block: Cbb2Xg
    Block does not have prev_id
find_block_referencing_prev_id: Found 0 blocks with prev_id = VLfhuW: []
  Found 0 nodes that reference prev_id VLfhuW: []
  Finished prev_id strategy
  Setting prev_id of block pLZrvb to VLfhuW
insert_node: Finished for block_id: pLZrvb
update_node: Updating block_id: VLfhuW
deltas_to_json: Converting 1 deltas
apply_delta_to_text: Computing delta diff
apply_delta_to_text: Parsing delta diff from JSON
apply_delta_to_text: No changes to apply
update_node: Updated block_id: VLfhuW
apply_action: Encoding state for doc_id: xxxx
apply_updates: Starting with 122 updates for doc_id: xxxx
apply_updates: Starting with 122 updates for doc_id: xxxx
apply_updates: Applying update for doc_id: xxxx
apply_updates: Finished for doc_id: xxxx
apply_updates: Successfully applied updates for doc_id: xxxx
get_document_state: Starting for doc_id: xxxx
extract_document_state: Starting for doc_id: xxxx
extract_document_state: Processing 12 blocks
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 0 deltas
deltas_to_json: Converting 0 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 0 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
====== STARTING BLOCK SORTING ======
Input children_map has 11 parent nodes

----- Sorting children of parent: ixjcxC -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent ixjcxC: []

----- Sorting children of parent: iT1F-F -----
Parent has 1 children to sort
WARNING: Block with ID VC6SQw not found in blocks map
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
Adding 1 globally remaining blocks: ["VC6SQw"]
  Adding remaining block VC6SQw to sorted list
Final sorted order for parent iT1F-F: ["VC6SQw"]

----- Sorting children of parent: Cbb2Xg -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent Cbb2Xg: []

----- Sorting children of parent: Z3TeKI -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent Z3TeKI: []

----- Sorting children of parent: jmAIx4 -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent jmAIx4: []

----- Sorting children of parent: zhA_gK -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent zhA_gK: []

----- Sorting children of parent: pLZrvb -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent pLZrvb: []

----- Sorting children of parent: m8OEVv -----
Parent has 5 children to sort
Mapped 5 valid blocks by ID
Block HYvdCr assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block jmAIx4 assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block Cbb2Xg assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block ixjcxC assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block eYz-nn assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Grouped blocks into 1 devices
  - Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 5 blocks
Block HYvdCr has prev_id jmAIx4
Block jmAIx4 has prev_id eYz-nn
Block Cbb2Xg has no prev_id
Block ixjcxC has prev_id Cbb2Xg
Block eYz-nn has prev_id ixjcxC
Built prev->next map with 4 entries
  - Cbb2Xg has 1 next blocks: ["ixjcxC"]
  - jmAIx4 has 1 next blocks: ["HYvdCr"]
  - ixjcxC has 1 next blocks: ["eYz-nn"]
  - eYz-nn has 1 next blocks: ["jmAIx4"]
Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 1 root blocks: ["Cbb2Xg"]
Processing devices in order: ["4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"]

Processing device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Sorted roots for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a: ["Cbb2Xg"]
Starting chain from root: Cbb2Xg
  Adding block Cbb2Xg to sorted list
    Pushing ixjcxC onto stack
  Adding block ixjcxC to sorted list
    Pushing eYz-nn onto stack
  Adding block eYz-nn to sorted list
    Pushing jmAIx4 onto stack
  Adding block jmAIx4 to sorted list
    Pushing HYvdCr onto stack
  Adding block HYvdCr to sorted list
  No next blocks for HYvdCr
No remaining blocks for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
No globally remaining blocks
Final sorted order for parent m8OEVv: ["Cbb2Xg", "ixjcxC", "eYz-nn", "jmAIx4", "HYvdCr"]

----- Sorting children of parent: eYz-nn -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent eYz-nn: []

----- Sorting children of parent: HYvdCr -----
Parent has 2 children to sort
Mapped 2 valid blocks by ID
Block VLfhuW assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block pLZrvb assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Grouped blocks into 1 devices
  - Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 2 blocks
Block VLfhuW has no prev_id
Block pLZrvb has prev_id VLfhuW
Built prev->next map with 1 entries
  - VLfhuW has 1 next blocks: ["pLZrvb"]
Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 1 root blocks: ["VLfhuW"]
Processing devices in order: ["4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"]

Processing device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Sorted roots for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a: ["VLfhuW"]
Starting chain from root: VLfhuW
  Adding block VLfhuW to sorted list
    Pushing pLZrvb onto stack
  Adding block pLZrvb to sorted list
  No next blocks for pLZrvb
No remaining blocks for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
No globally remaining blocks
Final sorted order for parent HYvdCr: ["VLfhuW", "pLZrvb"]

----- Sorting children of parent: VLfhuW -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent VLfhuW: []
====== COMPLETED BLOCK SORTING ======
Final sorted children map has 11 parents
extract_document_state: Extracted 12 blocks and 11 parent-child relationships
get_document_state: Finished for doc_id: xxxx
flutter: {
flutter:   "docId": "xxxx",
flutter:   "blocks": {
flutter:     "VLfhuW": {
flutter:       "id": "VLfhuW",
flutter:       "ty": "paragraph",
flutter:       "attributes": {
flutter:         "delta": "[]",
flutter:         "device": "4cb3899a-3fe4-4bb1-bbf4-edd464b0977a",
flutter:         "timestamp": "2025-04-24T17:14:31.317748"
flutter:       },
flutter:       "delta": "[{\"insert\":\"Task 2\"}]",
flutter:       "parentId": "HYvdCr",
flutter:       "prevId": null,
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "Z3TeKI": {
flutter:       "id": "Z3TeKI",
flutter:       "ty": "paragraph",
flutter:       "attributes": {
flutter:         "delta": "[]",
flutter:         "device": "4cb3899a-3fe4-4bb1-bbf4-edd464b0977a",
flutter:         "timestamp": "2025-04-24T17:12:28.114539"
flutter:       },
flutter:       "delta": "[{\"insert\":\"Task 2\"}]",
flutter:       "parentId": "m8OEVv",
flutter:       "prevId": null,
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "HYvdCr": {
flutter:       "id": "HYvdCr",
flutter:       "ty": "paragraph",
flutter:       "attributes": {
flutter:         "timestamp": "2025-04-24T17:14:28.685801",
flutter:         "delta": "[]",
flutter:         "device": "4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"
flutter:       },
flutter:       "delta": "[{\"insert\":\"Task 1\"}]",
flutter:       "parentId": "m8OEVv",
flutter:       "prevId": "jmAIx4",
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "Cbb2Xg": {
flutter:       "id": "Cbb2Xg",
flutter:       "ty": "paragraph",
flutter:       "attributes": {
flutter:         "device": "4cb3899a-3fe4-4bb1-bbf4-edd464b0977a",
flutter:         "delta": "[]",
flutter:         "timestamp": "2025-04-24T17:13:22.923334"
flutter:       },
flutter:       "delta": "[{\"insert\":\"New Element 1\"}]",
flutter:       "parentId": "m8OEVv",
flutter:       "prevId": null,
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "Mk_Gts": {
flutter:       "id": "Mk_Gts",
flutter:       "ty": "",
flutter:       "attributes": {
flutter:         "device": "4cb3899a-3fe4-4bb1-bbf4-edd464b0977a",
flutter:         "timestamp": "2025-04-24T17:04:05.077214",
flutter:         "checked": "false"
flutter:       },
flutter:       "delta": "[]",
flutter:       "parentId": null,
flutter:       "prevId": null,
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "eYz-nn": {
flutter:       "id": "eYz-nn",
flutter:       "ty": "paragraph",
flutter:       "attributes": {
flutter:         "device": "4cb3899a-3fe4-4bb1-bbf4-edd464b0977a",
flutter:         "delta": "[]",
flutter:         "timestamp": "2025-04-24T17:14:23.263975"
flutter:       },
flutter:       "delta": "[{\"insert\":\"New Element 3\"}]",
flutter:       "parentId": "m8OEVv",
flutter:       "prevId": "ixjcxC",
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "ixjcxC": {
flutter:       "id": "ixjcxC",
flutter:       "ty": "paragraph",
flutter:       "attributes": {
flutter:         "delta": "[]",
flutter:         "timestamp": "2025-04-24T17:14:19.029895",
flutter:         "device": "4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"
flutter:       },
flutter:       "delta": "[{\"insert\":\"New Element 2\"}]",
flutter:       "parentId": "m8OEVv",
flutter:       "prevId": "Cbb2Xg",
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "iT1F-F": {
flutter:       "id": "iT1F-F",
flutter:       "ty": "paragraph",
flutter:       "attributes": {
flutter:         "device": "4cb3899a-3fe4-4bb1-bbf4-edd464b0977a",
flutter:         "delta": "[]",
flutter:         "timestamp": "2025-04-24T17:06:39.424851"
flutter:       },
flutter:       "delta": "[{\"insert\":\"New Task3\"}]",
flutter:       "parentId": "m8OEVv",
flutter:       "prevId": null,
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "jmAIx4": {
flutter:       "id": "jmAIx4",
flutter:       "ty": "paragraph",
flutter:       "attributes": {
flutter:         "delta": "[]",
flutter:         "device": "4cb3899a-3fe4-4bb1-bbf4-edd464b0977a",
flutter:         "timestamp": "2025-04-24T17:14:28.087127"
flutter:       },
flutter:       "delta": "[]",
flutter:       "parentId": "m8OEVv",
flutter:       "prevId": "eYz-nn",
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "m8OEVv": {
flutter:       "id": "m8OEVv",
flutter:       "ty": "page",
flutter:       "attributes": {
flutter:         "device": "3a00f73e-0356-4c61-a6e1-cb439d9dbf33",
flutter:         "timestamp": "2025-04-24T17:01:59.905543"
flutter:       },
flutter:       "delta": null,
flutter:       "parentId": null,
flutter:       "prevId": null,
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "pLZrvb": {
flutter:       "id": "pLZrvb",
flutter:       "ty": "paragraph",
flutter:       "attributes": {
flutter:         "timestamp": "2025-04-24T17:14:32.750175",
flutter:         "device": "4cb3899a-3fe4-4bb1-bbf4-edd464b0977a",
flutter:         "delta": "[]"
flutter:       },
flutter:       "delta": "[]",
flutter:       "parentId": "HYvdCr",
flutter:       "prevId": "VLfhuW",
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "zhA_gK": {
flutter:       "id": "zhA_gK",
flutter:       "ty": "todo_list",
flutter:       "attributes": {
flutter:         "device": "4cb3899a-3fe4-4bb1-bbf4-edd464b0977a",
flutter:         "delta": "[]",
flutter:         "checked": "false",
flutter:         "timestamp": "2025-04-24T17:04:02.277720"
flutter:       },
flutter:       "delta": "[{\"insert\":\"Task is mine\"}]",
flutter:       "parentId": "m8OEVv",
flutter:       "prevId": null,
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     }
flutter:   },
flutter:   "childrenMap": {
flutter:     "m8OEVv": [
flutter:       "Cbb2Xg",
flutter:       "ixjcxC",
flutter:       "eYz-nn",
flutter:       "jmAIx4",
flutter:       "HYvdCr"
flutter:     ],
flutter:     "VLfhuW": [],
flutter:     "jmAIx4": [],
flutter:     "eYz-nn": [],
flutter:     "HYvdCr": [
flutter:       "VLfhuW",
flutter:       "pLZrvb"
flutter:     ],
flutter:     "iT1F-F": [
flutter:       "VC6SQw"
flutter:     ],
flutter:     "pLZrvb": [],
flutter:     "Cbb2Xg": [],
flutter:     "ixjcxC": [],
flutter:     "zhA_gK": [],
flutter:     "Z3TeKI": []
flutter:   },
flutter:   "rootId": "m8OEVv"
flutter: }
merge_updates: Merging 7 updates
merge_updates: Successfully merged updates
apply_updates: Starting with 123 updates for doc_id: xxxx
apply_updates: Starting with 123 updates for doc_id: xxxx
apply_updates: Applying update for doc_id: xxxx
apply_updates: Finished for doc_id: xxxx
apply_updates: Successfully applied updates for doc_id: xxxx
get_document_state: Starting for doc_id: xxxx
extract_document_state: Starting for doc_id: xxxx
extract_document_state: Processing 12 blocks
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 0 deltas
deltas_to_json: Converting 0 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 0 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
====== STARTING BLOCK SORTING ======
Input children_map has 11 parent nodes

----- Sorting children of parent: zhA_gK -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent zhA_gK: []

----- Sorting children of parent: HYvdCr -----
Parent has 2 children to sort
Mapped 2 valid blocks by ID
Block VLfhuW assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block pLZrvb assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Grouped blocks into 1 devices
  - Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 2 blocks
Block VLfhuW has no prev_id
Block pLZrvb has prev_id VLfhuW
Built prev->next map with 1 entries
  - VLfhuW has 1 next blocks: ["pLZrvb"]
Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 1 root blocks: ["VLfhuW"]
Processing devices in order: ["4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"]

Processing device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Sorted roots for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a: ["VLfhuW"]
Starting chain from root: VLfhuW
  Adding block VLfhuW to sorted list
    Pushing pLZrvb onto stack
  Adding block pLZrvb to sorted list
  No next blocks for pLZrvb
No remaining blocks for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
No globally remaining blocks
Final sorted order for parent HYvdCr: ["VLfhuW", "pLZrvb"]

----- Sorting children of parent: eYz-nn -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent eYz-nn: []

----- Sorting children of parent: Z3TeKI -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent Z3TeKI: []

----- Sorting children of parent: VLfhuW -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent VLfhuW: []

----- Sorting children of parent: pLZrvb -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent pLZrvb: []

----- Sorting children of parent: jmAIx4 -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent jmAIx4: []

----- Sorting children of parent: iT1F-F -----
Parent has 1 children to sort
WARNING: Block with ID VC6SQw not found in blocks map
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
Adding 1 globally remaining blocks: ["VC6SQw"]
  Adding remaining block VC6SQw to sorted list
Final sorted order for parent iT1F-F: ["VC6SQw"]

----- Sorting children of parent: m8OEVv -----
Parent has 5 children to sort
Mapped 5 valid blocks by ID
Block jmAIx4 assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block HYvdCr assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block ixjcxC assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block eYz-nn assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block Cbb2Xg assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Grouped blocks into 1 devices
  - Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 5 blocks
Block jmAIx4 has prev_id eYz-nn
Block HYvdCr has prev_id jmAIx4
Block ixjcxC has prev_id Cbb2Xg
Block eYz-nn has prev_id ixjcxC
Block Cbb2Xg has no prev_id
Built prev->next map with 4 entries
  - Cbb2Xg has 1 next blocks: ["ixjcxC"]
  - ixjcxC has 1 next blocks: ["eYz-nn"]
  - eYz-nn has 1 next blocks: ["jmAIx4"]
  - jmAIx4 has 1 next blocks: ["HYvdCr"]
Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 1 root blocks: ["Cbb2Xg"]
Processing devices in order: ["4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"]

Processing device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Sorted roots for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a: ["Cbb2Xg"]
Starting chain from root: Cbb2Xg
  Adding block Cbb2Xg to sorted list
    Pushing ixjcxC onto stack
  Adding block ixjcxC to sorted list
    Pushing eYz-nn onto stack
  Adding block eYz-nn to sorted list
    Pushing jmAIx4 onto stack
  Adding block jmAIx4 to sorted list
    Pushing HYvdCr onto stack
  Adding block HYvdCr to sorted list
  No next blocks for HYvdCr
No remaining blocks for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
No globally remaining blocks
Final sorted order for parent m8OEVv: ["Cbb2Xg", "ixjcxC", "eYz-nn", "jmAIx4", "HYvdCr"]

----- Sorting children of parent: ixjcxC -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent ixjcxC: []

----- Sorting children of parent: Cbb2Xg -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent Cbb2Xg: []
====== COMPLETED BLOCK SORTING ======
Final sorted children map has 11 parents
extract_document_state: Extracted 12 blocks and 11 parent-child relationships
get_document_state: Finished for doc_id: xxxx
flutter: Transaction done
apply_action: Starting with 1 actions for doc_id: xxxx
update_node: Updating block_id: pLZrvb
deltas_to_json: Converting 0 deltas
apply_delta_to_text: Computing delta diff
apply_delta_to_text: Parsing delta diff from JSON
apply_delta_diff_to_text: Starting with 1 operations
update_node: Updated block_id: pLZrvb
apply_action: Encoding state for doc_id: xxxx
apply_updates: Starting with 124 updates for doc_id: xxxx
apply_updates: Starting with 124 updates for doc_id: xxxx
apply_updates: Applying update for doc_id: xxxx
apply_updates: Finished for doc_id: xxxx
apply_updates: Successfully applied updates for doc_id: xxxx
get_document_state: Starting for doc_id: xxxx
extract_document_state: Starting for doc_id: xxxx
extract_document_state: Processing 12 blocks
deltas_to_json: Converting 0 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 0 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
====== STARTING BLOCK SORTING ======
Input children_map has 11 parent nodes

----- Sorting children of parent: VLfhuW -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent VLfhuW: []

----- Sorting children of parent: Z3TeKI -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent Z3TeKI: []

----- Sorting children of parent: pLZrvb -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent pLZrvb: []

----- Sorting children of parent: eYz-nn -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent eYz-nn: []

----- Sorting children of parent: zhA_gK -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent zhA_gK: []

----- Sorting children of parent: HYvdCr -----
Parent has 2 children to sort
Mapped 2 valid blocks by ID
Block VLfhuW assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block pLZrvb assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Grouped blocks into 1 devices
  - Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 2 blocks
Block VLfhuW has no prev_id
Block pLZrvb has prev_id VLfhuW
Built prev->next map with 1 entries
  - VLfhuW has 1 next blocks: ["pLZrvb"]
Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 1 root blocks: ["VLfhuW"]
Processing devices in order: ["4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"]

Processing device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Sorted roots for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a: ["VLfhuW"]
Starting chain from root: VLfhuW
  Adding block VLfhuW to sorted list
    Pushing pLZrvb onto stack
  Adding block pLZrvb to sorted list
  No next blocks for pLZrvb
No remaining blocks for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
No globally remaining blocks
Final sorted order for parent HYvdCr: ["VLfhuW", "pLZrvb"]

----- Sorting children of parent: Cbb2Xg -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent Cbb2Xg: []

----- Sorting children of parent: iT1F-F -----
Parent has 1 children to sort
WARNING: Block with ID VC6SQw not found in blocks map
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
Adding 1 globally remaining blocks: ["VC6SQw"]
  Adding remaining block VC6SQw to sorted list
Final sorted order for parent iT1F-F: ["VC6SQw"]

----- Sorting children of parent: jmAIx4 -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent jmAIx4: []

----- Sorting children of parent: ixjcxC -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent ixjcxC: []

----- Sorting children of parent: m8OEVv -----
Parent has 5 children to sort
Mapped 5 valid blocks by ID
Block Cbb2Xg assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block ixjcxC assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block HYvdCr assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block jmAIx4 assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block eYz-nn assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Grouped blocks into 1 devices
  - Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 5 blocks
Block Cbb2Xg has no prev_id
Block ixjcxC has prev_id Cbb2Xg
Block HYvdCr has prev_id jmAIx4
Block jmAIx4 has prev_id eYz-nn
Block eYz-nn has prev_id ixjcxC
Built prev->next map with 4 entries
  - jmAIx4 has 1 next blocks: ["HYvdCr"]
  - Cbb2Xg has 1 next blocks: ["ixjcxC"]
  - eYz-nn has 1 next blocks: ["jmAIx4"]
  - ixjcxC has 1 next blocks: ["eYz-nn"]
Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 1 root blocks: ["Cbb2Xg"]
Processing devices in order: ["4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"]

Processing device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Sorted roots for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a: ["Cbb2Xg"]
Starting chain from root: Cbb2Xg
  Adding block Cbb2Xg to sorted list
    Pushing ixjcxC onto stack
  Adding block ixjcxC to sorted list
    Pushing eYz-nn onto stack
  Adding block eYz-nn to sorted list
    Pushing jmAIx4 onto stack
  Adding block jmAIx4 to sorted list
    Pushing HYvdCr onto stack
  Adding block HYvdCr to sorted list
  No next blocks for HYvdCr
No remaining blocks for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
No globally remaining blocks
Final sorted order for parent m8OEVv: ["Cbb2Xg", "ixjcxC", "eYz-nn", "jmAIx4", "HYvdCr"]
====== COMPLETED BLOCK SORTING ======
Final sorted children map has 11 parents
extract_document_state: Extracted 12 blocks and 11 parent-child relationships
get_document_state: Finished for doc_id: xxxx
flutter: Transaction done
apply_action: Starting with 1 actions for doc_id: xxxx
update_node: Updating block_id: pLZrvb
deltas_to_json: Converting 1 deltas
apply_delta_to_text: Computing delta diff
apply_delta_to_text: Parsing delta diff from JSON
apply_delta_diff_to_text: Starting with 2 operations
update_node: Updated block_id: pLZrvb
apply_action: Encoding state for doc_id: xxxx
apply_updates: Starting with 125 updates for doc_id: xxxx
apply_updates: Starting with 125 updates for doc_id: xxxx
apply_updates: Applying update for doc_id: xxxx
flutter: Transaction done
apply_updates: Finished for doc_id: xxxx
apply_updates: Successfully applied updates for doc_id: xxxx
apply_action: Starting with 1 actions for doc_id: xxxx
update_node: Updating block_id: pLZrvb
deltas_to_json: Converting 1 deltas
apply_delta_to_text: Computing delta diff
apply_delta_to_text: Parsing delta diff from JSON
apply_delta_diff_to_text: Starting with 2 operations
update_node: Updated block_id: pLZrvb
apply_action: Encoding state for doc_id: xxxx
apply_updates: Starting with 126 updates for doc_id: xxxx
apply_updates: Starting with 126 updates for doc_id: xxxx
apply_updates: Applying update for doc_id: xxxx
apply_updates: Finished for doc_id: xxxx
apply_updates: Successfully applied updates for doc_id: xxxx
get_document_state: Starting for doc_id: xxxx
extract_document_state: Starting for doc_id: xxxx
extract_document_state: Processing 12 blocks
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 0 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 0 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
====== STARTING BLOCK SORTING ======
Input children_map has 11 parent nodes

----- Sorting children of parent: zhA_gK -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent zhA_gK: []

----- Sorting children of parent: pLZrvb -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent pLZrvb: []

----- Sorting children of parent: VLfhuW -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent VLfhuW: []

----- Sorting children of parent: HYvdCr -----
Parent has 2 children to sort
Mapped 2 valid blocks by ID
Block pLZrvb assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block VLfhuW assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Grouped blocks into 1 devices
  - Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 2 blocks
Block pLZrvb has prev_id VLfhuW
Block VLfhuW has no prev_id
Built prev->next map with 1 entries
  - VLfhuW has 1 next blocks: ["pLZrvb"]
Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 1 root blocks: ["VLfhuW"]
Processing devices in order: ["4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"]

Processing device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Sorted roots for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a: ["VLfhuW"]
Starting chain from root: VLfhuW
  Adding block VLfhuW to sorted list
    Pushing pLZrvb onto stack
  Adding block pLZrvb to sorted list
  No next blocks for pLZrvb
No remaining blocks for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
No globally remaining blocks
Final sorted order for parent HYvdCr: ["VLfhuW", "pLZrvb"]

----- Sorting children of parent: eYz-nn -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent eYz-nn: []

----- Sorting children of parent: jmAIx4 -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent jmAIx4: []

----- Sorting children of parent: Z3TeKI -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent Z3TeKI: []

----- Sorting children of parent: Cbb2Xg -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent Cbb2Xg: []

----- Sorting children of parent: iT1F-F -----
Parent has 1 children to sort
WARNING: Block with ID VC6SQw not found in blocks map
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
Adding 1 globally remaining blocks: ["VC6SQw"]
  Adding remaining block VC6SQw to sorted list
Final sorted order for parent iT1F-F: ["VC6SQw"]

----- Sorting children of parent: m8OEVv -----
Parent has 5 children to sort
Mapped 5 valid blocks by ID
Block jmAIx4 assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block Cbb2Xg assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block eYz-nn assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block HYvdCr assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block ixjcxC assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Grouped blocks into 1 devices
  - Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 5 blocks
Block jmAIx4 has prev_id eYz-nn
Block Cbb2Xg has no prev_id
Block eYz-nn has prev_id ixjcxC
Block HYvdCr has prev_id jmAIx4
Block ixjcxC has prev_id Cbb2Xg
Built prev->next map with 4 entries
  - Cbb2Xg has 1 next blocks: ["ixjcxC"]
  - eYz-nn has 1 next blocks: ["jmAIx4"]
  - jmAIx4 has 1 next blocks: ["HYvdCr"]
  - ixjcxC has 1 next blocks: ["eYz-nn"]
Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 1 root blocks: ["Cbb2Xg"]
Processing devices in order: ["4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"]

Processing device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Sorted roots for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a: ["Cbb2Xg"]
Starting chain from root: Cbb2Xg
  Adding block Cbb2Xg to sorted list
    Pushing ixjcxC onto stack
  Adding block ixjcxC to sorted list
    Pushing eYz-nn onto stack
  Adding block eYz-nn to sorted list
    Pushing jmAIx4 onto stack
  Adding block jmAIx4 to sorted list
    Pushing HYvdCr onto stack
  Adding block HYvdCr to sorted list
  No next blocks for HYvdCr
No remaining blocks for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
No globally remaining blocks
Final sorted order for parent m8OEVv: ["Cbb2Xg", "ixjcxC", "eYz-nn", "jmAIx4", "HYvdCr"]

----- Sorting children of parent: ixjcxC -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent ixjcxC: []
====== COMPLETED BLOCK SORTING ======
Final sorted children map has 11 parents
extract_document_state: Extracted 12 blocks and 11 parent-child relationships
get_document_state: Finished for doc_id: xxxx
flutter: Transaction done
apply_action: Starting with 1 actions for doc_id: xxxx
update_node: Updating block_id: pLZrvb
deltas_to_json: Converting 1 deltas
apply_delta_to_text: Computing delta diff
apply_delta_to_text: Parsing delta diff from JSON
apply_delta_diff_to_text: Starting with 2 operations
update_node: Updated block_id: pLZrvb
apply_action: Encoding state for doc_id: xxxx
apply_updates: Starting with 127 updates for doc_id: xxxx
apply_updates: Starting with 127 updates for doc_id: xxxx
apply_updates: Applying update for doc_id: xxxx
apply_updates: Finished for doc_id: xxxx
apply_updates: Successfully applied updates for doc_id: xxxx
get_document_state: Starting for doc_id: xxxx
extract_document_state: Starting for doc_id: xxxx
extract_document_state: Processing 12 blocks
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 0 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 0 deltas
====== STARTING BLOCK SORTING ======
Input children_map has 11 parent nodes

----- Sorting children of parent: Z3TeKI -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent Z3TeKI: []

----- Sorting children of parent: HYvdCr -----
Parent has 2 children to sort
Mapped 2 valid blocks by ID
Block VLfhuW assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block pLZrvb assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Grouped blocks into 1 devices
  - Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 2 blocks
Block VLfhuW has no prev_id
Block pLZrvb has prev_id VLfhuW
Built prev->next map with 1 entries
  - VLfhuW has 1 next blocks: ["pLZrvb"]
Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 1 root blocks: ["VLfhuW"]
Processing devices in order: ["4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"]

Processing device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Sorted roots for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a: ["VLfhuW"]
Starting chain from root: VLfhuW
  Adding block VLfhuW to sorted list
    Pushing pLZrvb onto stack
  Adding block pLZrvb to sorted list
  No next blocks for pLZrvb
No remaining blocks for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
No globally remaining blocks
Final sorted order for parent HYvdCr: ["VLfhuW", "pLZrvb"]

----- Sorting children of parent: Cbb2Xg -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent Cbb2Xg: []

----- Sorting children of parent: eYz-nn -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent eYz-nn: []

----- Sorting children of parent: iT1F-F -----
Parent has 1 children to sort
WARNING: Block with ID VC6SQw not found in blocks map
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
Adding 1 globally remaining blocks: ["VC6SQw"]
  Adding remaining block VC6SQw to sorted list
Final sorted order for parent iT1F-F: ["VC6SQw"]

----- Sorting children of parent: zhA_gK -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent zhA_gK: []

----- Sorting children of parent: jmAIx4 -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent jmAIx4: []

----- Sorting children of parent: ixjcxC -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent ixjcxC: []

----- Sorting children of parent: pLZrvb -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent pLZrvb: []

----- Sorting children of parent: VLfhuW -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent VLfhuW: []

----- Sorting children of parent: m8OEVv -----
Parent has 5 children to sort
Mapped 5 valid blocks by ID
Block eYz-nn assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block ixjcxC assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block Cbb2Xg assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block jmAIx4 assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block HYvdCr assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Grouped blocks into 1 devices
  - Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 5 blocks
Block eYz-nn has prev_id ixjcxC
Block ixjcxC has prev_id Cbb2Xg
Block Cbb2Xg has no prev_id
Block jmAIx4 has prev_id eYz-nn
Block HYvdCr has prev_id jmAIx4
Built prev->next map with 4 entries
  - jmAIx4 has 1 next blocks: ["HYvdCr"]
  - eYz-nn has 1 next blocks: ["jmAIx4"]
  - Cbb2Xg has 1 next blocks: ["ixjcxC"]
  - ixjcxC has 1 next blocks: ["eYz-nn"]
Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 1 root blocks: ["Cbb2Xg"]
Processing devices in order: ["4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"]

Processing device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Sorted roots for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a: ["Cbb2Xg"]
Starting chain from root: Cbb2Xg
  Adding block Cbb2Xg to sorted list
    Pushing ixjcxC onto stack
  Adding block ixjcxC to sorted list
    Pushing eYz-nn onto stack
  Adding block eYz-nn to sorted list
    Pushing jmAIx4 onto stack
  Adding block jmAIx4 to sorted list
    Pushing HYvdCr onto stack
  Adding block HYvdCr to sorted list
  No next blocks for HYvdCr
No remaining blocks for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
No globally remaining blocks
Final sorted order for parent m8OEVv: ["Cbb2Xg", "ixjcxC", "eYz-nn", "jmAIx4", "HYvdCr"]
====== COMPLETED BLOCK SORTING ======
Final sorted children map has 11 parents
extract_document_state: Extracted 12 blocks and 11 parent-child relationships
get_document_state: Finished for doc_id: xxxx
flutter: Transaction done
apply_action: Starting with 1 actions for doc_id: xxxx
update_node: Updating block_id: pLZrvb
deltas_to_json: Converting 1 deltas
apply_delta_to_text: Computing delta diff
apply_delta_to_text: Parsing delta diff from JSON
apply_delta_diff_to_text: Starting with 2 operations
update_node: Updated block_id: pLZrvb
apply_action: Encoding state for doc_id: xxxx
apply_updates: Starting with 128 updates for doc_id: xxxx
apply_updates: Starting with 128 updates for doc_id: xxxx
apply_updates: Applying update for doc_id: xxxx
apply_updates: Finished for doc_id: xxxx
apply_updates: Successfully applied updates for doc_id: xxxx
get_document_state: Starting for doc_id: xxxx
extract_document_state: Starting for doc_id: xxxx
extract_document_state: Processing 12 blocks
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 0 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 0 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
====== STARTING BLOCK SORTING ======
Input children_map has 11 parent nodes

----- Sorting children of parent: Z3TeKI -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent Z3TeKI: []

----- Sorting children of parent: ixjcxC -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent ixjcxC: []

----- Sorting children of parent: pLZrvb -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent pLZrvb: []

----- Sorting children of parent: zhA_gK -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent zhA_gK: []

----- Sorting children of parent: iT1F-F -----
Parent has 1 children to sort
WARNING: Block with ID VC6SQw not found in blocks map
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
Adding 1 globally remaining blocks: ["VC6SQw"]
  Adding remaining block VC6SQw to sorted list
Final sorted order for parent iT1F-F: ["VC6SQw"]

----- Sorting children of parent: VLfhuW -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent VLfhuW: []

----- Sorting children of parent: eYz-nn -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent eYz-nn: []

----- Sorting children of parent: jmAIx4 -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent jmAIx4: []

----- Sorting children of parent: HYvdCr -----
Parent has 2 children to sort
Mapped 2 valid blocks by ID
Block pLZrvb assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block VLfhuW assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Grouped blocks into 1 devices
  - Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 2 blocks
Block pLZrvb has prev_id VLfhuW
Block VLfhuW has no prev_id
Built prev->next map with 1 entries
  - VLfhuW has 1 next blocks: ["pLZrvb"]
Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 1 root blocks: ["VLfhuW"]
Processing devices in order: ["4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"]

Processing device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Sorted roots for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a: ["VLfhuW"]
Starting chain from root: VLfhuW
  Adding block VLfhuW to sorted list
    Pushing pLZrvb onto stack
  Adding block pLZrvb to sorted list
  No next blocks for pLZrvb
No remaining blocks for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
No globally remaining blocks
Final sorted order for parent HYvdCr: ["VLfhuW", "pLZrvb"]

----- Sorting children of parent: m8OEVv -----
Parent has 5 children to sort
Mapped 5 valid blocks by ID
Block ixjcxC assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block Cbb2Xg assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block eYz-nn assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block HYvdCr assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block jmAIx4 assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Grouped blocks into 1 devices
  - Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 5 blocks
Block ixjcxC has prev_id Cbb2Xg
Block Cbb2Xg has no prev_id
Block eYz-nn has prev_id ixjcxC
Block HYvdCr has prev_id jmAIx4
Block jmAIx4 has prev_id eYz-nn
Built prev->next map with 4 entries
  - Cbb2Xg has 1 next blocks: ["ixjcxC"]
  - eYz-nn has 1 next blocks: ["jmAIx4"]
  - jmAIx4 has 1 next blocks: ["HYvdCr"]
  - ixjcxC has 1 next blocks: ["eYz-nn"]
Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 1 root blocks: ["Cbb2Xg"]
Processing devices in order: ["4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"]

Processing device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Sorted roots for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a: ["Cbb2Xg"]
Starting chain from root: Cbb2Xg
  Adding block Cbb2Xg to sorted list
    Pushing ixjcxC onto stack
  Adding block ixjcxC to sorted list
    Pushing eYz-nn onto stack
  Adding block eYz-nn to sorted list
    Pushing jmAIx4 onto stack
  Adding block jmAIx4 to sorted list
    Pushing HYvdCr onto stack
  Adding block HYvdCr to sorted list
  No next blocks for HYvdCr
No remaining blocks for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
No globally remaining blocks
Final sorted order for parent m8OEVv: ["Cbb2Xg", "ixjcxC", "eYz-nn", "jmAIx4", "HYvdCr"]

----- Sorting children of parent: Cbb2Xg -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent Cbb2Xg: []
====== COMPLETED BLOCK SORTING ======
Final sorted children map has 11 parents
extract_document_state: Extracted 12 blocks and 11 parent-child relationships
get_document_state: Finished for doc_id: xxxx
flutter: Transaction done
apply_action: Starting with 1 actions for doc_id: xxxx
update_node: Updating block_id: pLZrvb
deltas_to_json: Converting 1 deltas
apply_delta_to_text: Computing delta diff
apply_delta_to_text: Parsing delta diff from JSON
apply_delta_diff_to_text: Starting with 2 operations
update_node: Updated block_id: pLZrvb
apply_action: Encoding state for doc_id: xxxx
apply_updates: Starting with 129 updates for doc_id: xxxx
apply_updates: Starting with 129 updates for doc_id: xxxx
apply_updates: Applying update for doc_id: xxxx
apply_updates: Finished for doc_id: xxxx
apply_updates: Successfully applied updates for doc_id: xxxx
get_document_state: Starting for doc_id: xxxx
extract_document_state: Starting for doc_id: xxxx
extract_document_state: Processing 12 blocks
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 0 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 0 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
====== STARTING BLOCK SORTING ======
Input children_map has 11 parent nodes

----- Sorting children of parent: iT1F-F -----
Parent has 1 children to sort
WARNING: Block with ID VC6SQw not found in blocks map
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
Adding 1 globally remaining blocks: ["VC6SQw"]
  Adding remaining block VC6SQw to sorted list
Final sorted order for parent iT1F-F: ["VC6SQw"]

----- Sorting children of parent: VLfhuW -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent VLfhuW: []

----- Sorting children of parent: Cbb2Xg -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent Cbb2Xg: []

----- Sorting children of parent: eYz-nn -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent eYz-nn: []

----- Sorting children of parent: m8OEVv -----
Parent has 5 children to sort
Mapped 5 valid blocks by ID
Block Cbb2Xg assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block eYz-nn assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block ixjcxC assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block jmAIx4 assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block HYvdCr assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Grouped blocks into 1 devices
  - Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 5 blocks
Block Cbb2Xg has no prev_id
Block eYz-nn has prev_id ixjcxC
Block ixjcxC has prev_id Cbb2Xg
Block jmAIx4 has prev_id eYz-nn
Block HYvdCr has prev_id jmAIx4
Built prev->next map with 4 entries
  - Cbb2Xg has 1 next blocks: ["ixjcxC"]
  - eYz-nn has 1 next blocks: ["jmAIx4"]
  - jmAIx4 has 1 next blocks: ["HYvdCr"]
  - ixjcxC has 1 next blocks: ["eYz-nn"]
Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 1 root blocks: ["Cbb2Xg"]
Processing devices in order: ["4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"]

Processing device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Sorted roots for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a: ["Cbb2Xg"]
Starting chain from root: Cbb2Xg
  Adding block Cbb2Xg to sorted list
    Pushing ixjcxC onto stack
  Adding block ixjcxC to sorted list
    Pushing eYz-nn onto stack
  Adding block eYz-nn to sorted list
    Pushing jmAIx4 onto stack
  Adding block jmAIx4 to sorted list
    Pushing HYvdCr onto stack
  Adding block HYvdCr to sorted list
  No next blocks for HYvdCr
No remaining blocks for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
No globally remaining blocks
Final sorted order for parent m8OEVv: ["Cbb2Xg", "ixjcxC", "eYz-nn", "jmAIx4", "HYvdCr"]

----- Sorting children of parent: pLZrvb -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent pLZrvb: []

----- Sorting children of parent: HYvdCr -----
Parent has 2 children to sort
Mapped 2 valid blocks by ID
Block pLZrvb assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block VLfhuW assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Grouped blocks into 1 devices
  - Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 2 blocks
Block pLZrvb has prev_id VLfhuW
Block VLfhuW has no prev_id
Built prev->next map with 1 entries
  - VLfhuW has 1 next blocks: ["pLZrvb"]
Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 1 root blocks: ["VLfhuW"]
Processing devices in order: ["4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"]

Processing device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Sorted roots for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a: ["VLfhuW"]
Starting chain from root: VLfhuW
  Adding block VLfhuW to sorted list
    Pushing pLZrvb onto stack
  Adding block pLZrvb to sorted list
  No next blocks for pLZrvb
No remaining blocks for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
No globally remaining blocks
Final sorted order for parent HYvdCr: ["VLfhuW", "pLZrvb"]

----- Sorting children of parent: ixjcxC -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent ixjcxC: []

----- Sorting children of parent: jmAIx4 -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent jmAIx4: []

----- Sorting children of parent: Z3TeKI -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent Z3TeKI: []

----- Sorting children of parent: zhA_gK -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent zhA_gK: []
====== COMPLETED BLOCK SORTING ======
Final sorted children map has 11 parents
extract_document_state: Extracted 12 blocks and 11 parent-child relationships
get_document_state: Finished for doc_id: xxxx
merge_updates: Merging 6 updates
merge_updates: Successfully merged updates
apply_updates: Starting with 130 updates for doc_id: xxxx
apply_updates: Starting with 130 updates for doc_id: xxxx
apply_updates: Applying update for doc_id: xxxx
apply_updates: Finished for doc_id: xxxx
apply_updates: Successfully applied updates for doc_id: xxxx
get_document_state: Starting for doc_id: xxxx
extract_document_state: Starting for doc_id: xxxx
extract_document_state: Processing 12 blocks
deltas_to_json: Converting 0 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 0 deltas
deltas_to_json: Converting 1 deltas
====== STARTING BLOCK SORTING ======
Input children_map has 11 parent nodes

----- Sorting children of parent: HYvdCr -----
Parent has 2 children to sort
Mapped 2 valid blocks by ID
Block pLZrvb assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block VLfhuW assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Grouped blocks into 1 devices
  - Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 2 blocks
Block pLZrvb has prev_id VLfhuW
Block VLfhuW has no prev_id
Built prev->next map with 1 entries
  - VLfhuW has 1 next blocks: ["pLZrvb"]
Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 1 root blocks: ["VLfhuW"]
Processing devices in order: ["4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"]

Processing device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Sorted roots for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a: ["VLfhuW"]
Starting chain from root: VLfhuW
  Adding block VLfhuW to sorted list
    Pushing pLZrvb onto stack
  Adding block pLZrvb to sorted list
  No next blocks for pLZrvb
No remaining blocks for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
No globally remaining blocks
Final sorted order for parent HYvdCr: ["VLfhuW", "pLZrvb"]

----- Sorting children of parent: iT1F-F -----
Parent has 1 children to sort
WARNING: Block with ID VC6SQw not found in blocks map
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
Adding 1 globally remaining blocks: ["VC6SQw"]
  Adding remaining block VC6SQw to sorted list
Final sorted order for parent iT1F-F: ["VC6SQw"]

----- Sorting children of parent: Cbb2Xg -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent Cbb2Xg: []

----- Sorting children of parent: jmAIx4 -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent jmAIx4: []

----- Sorting children of parent: ixjcxC -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent ixjcxC: []

----- Sorting children of parent: VLfhuW -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent VLfhuW: []

----- Sorting children of parent: eYz-nn -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent eYz-nn: []

----- Sorting children of parent: pLZrvb -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent pLZrvb: []

----- Sorting children of parent: zhA_gK -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent zhA_gK: []

----- Sorting children of parent: Z3TeKI -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent Z3TeKI: []

----- Sorting children of parent: m8OEVv -----
Parent has 5 children to sort
Mapped 5 valid blocks by ID
Block jmAIx4 assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block ixjcxC assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block eYz-nn assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block Cbb2Xg assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block HYvdCr assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Grouped blocks into 1 devices
  - Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 5 blocks
Block jmAIx4 has prev_id eYz-nn
Block ixjcxC has prev_id Cbb2Xg
Block eYz-nn has prev_id ixjcxC
Block Cbb2Xg has no prev_id
Block HYvdCr has prev_id jmAIx4
Built prev->next map with 4 entries
  - Cbb2Xg has 1 next blocks: ["ixjcxC"]
  - ixjcxC has 1 next blocks: ["eYz-nn"]
  - eYz-nn has 1 next blocks: ["jmAIx4"]
  - jmAIx4 has 1 next blocks: ["HYvdCr"]
Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 1 root blocks: ["Cbb2Xg"]
Processing devices in order: ["4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"]

Processing device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Sorted roots for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a: ["Cbb2Xg"]
Starting chain from root: Cbb2Xg
  Adding block Cbb2Xg to sorted list
    Pushing ixjcxC onto stack
  Adding block ixjcxC to sorted list
    Pushing eYz-nn onto stack
  Adding block eYz-nn to sorted list
    Pushing jmAIx4 onto stack
  Adding block jmAIx4 to sorted list
    Pushing HYvdCr onto stack
  Adding block HYvdCr to sorted list
  No next blocks for HYvdCr
No remaining blocks for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
No globally remaining blocks
Final sorted order for parent m8OEVv: ["Cbb2Xg", "ixjcxC", "eYz-nn", "jmAIx4", "HYvdCr"]
====== COMPLETED BLOCK SORTING ======
Final sorted children map has 11 parents
extract_document_state: Extracted 12 blocks and 11 parent-child relationships
get_document_state: Finished for doc_id: xxxx
flutter: onDragStarted
flutter: the drag offset is inside the block, dragOffset(Offset(155.8, 284.0)), globalBlockRect(Rect.fromLTRB(144.0, 246.0, 680.0, 284.0))
flutter: the drag offset is inside the block, dragOffset(Offset(155.8, 273.0)), globalBlockRect(Rect.fromLTRB(144.0, 246.0, 680.0, 284.0))
flutter: the drag offset is inside the block, dragOffset(Offset(155.8, 264.5)), globalBlockRect(Rect.fromLTRB(144.0, 246.0, 680.0, 284.0))
flutter: the drag offset is inside the block, dragOffset(Offset(156.4, 262.1)), globalBlockRect(Rect.fromLTRB(144.0, 246.0, 680.0, 284.0))
flutter: the drag offset is inside the block, dragOffset(Offset(158.1, 257.3)), globalBlockRect(Rect.fromLTRB(144.0, 246.0, 680.0, 284.0))
flutter: the drag offset is inside the block, dragOffset(Offset(160.2, 251.3)), globalBlockRect(Rect.fromLTRB(144.0, 246.0, 680.0, 284.0))
flutter: the drag offset is inside the block, dragOffset(Offset(160.4, 250.8)), globalBlockRect(Rect.fromLTRB(144.0, 246.0, 680.0, 284.0))
flutter: the drag offset is inside the block, dragOffset(Offset(161.2, 249.2)), globalBlockRect(Rect.fromLTRB(144.0, 246.0, 680.0, 284.0))
flutter: the drag offset is inside the block, dragOffset(Offset(161.7, 248.2)), globalBlockRect(Rect.fromLTRB(144.0, 246.0, 680.0, 284.0))
flutter: the drag offset is inside the block, dragOffset(Offset(161.7, 247.9)), globalBlockRect(Rect.fromLTRB(144.0, 246.0, 680.0, 284.0))
flutter: the drag offset is inside the block, dragOffset(Offset(161.7, 247.6)), globalBlockRect(Rect.fromLTRB(144.0, 246.0, 680.0, 284.0))
flutter: the drag offset is inside the block, dragOffset(Offset(161.9, 247.1)), globalBlockRect(Rect.fromLTRB(144.0, 246.0, 680.0, 284.0))
flutter: onDragEnd, acceptedPath([4, 0])
flutter: the drag offset is inside the block, dragOffset(Offset(161.9, 247.1)), globalBlockRect(Rect.fromLTRB(144.0, 246.0, 680.0, 284.0))
flutter: Moving node(Node(id: pLZrvb, type: paragraph, attributes: {delta: [{insert: Task 3}], timestamp: 2025-04-24T17:14:32.750175, device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a}, children: []), [4, 1]) to path([4, 0])
flutter: Transaction done
apply_action: Starting with 1 actions for doc_id: xxxx
move_block: Moving block_id: pLZrvb from parent: HYvdCr to parent: HYvdCr
remove_block_from_prev_id_chain: Removing block pLZrvb from chain
  Block pLZrvb has prev_id: VLfhuW
  Finding blocks that reference pLZrvb as their prev_id
find_block_referencing_prev_id: Searching for blocks with prev_id = pLZrvb
  Found 12 total blocks to check
  Checking block: jmAIx4
    Block has prev_id: eYz-nn, matches target: false
  Checking block: Z3TeKI
    Block does not have prev_id
  Checking block: HYvdCr
    Block has prev_id: jmAIx4, matches target: false
  Checking block: ixjcxC
    Block has prev_id: Cbb2Xg, matches target: false
  Checking block: VLfhuW
    Block does not have prev_id
  Checking block: m8OEVv
    Block does not have prev_id
  Checking block: iT1F-F
    Block does not have prev_id
  Checking block: Cbb2Xg
    Block does not have prev_id
  Checking block: pLZrvb
    Block has prev_id: VLfhuW, matches target: false
  Checking block: zhA_gK
    Block does not have prev_id
  Checking block: Mk_Gts
    Block does not have prev_id
  Checking block: eYz-nn
    Block has prev_id: ixjcxC, matches target: false
find_block_referencing_prev_id: Found 0 blocks with prev_id = pLZrvb: []
  Found 0 next blocks: []
remove_block_from_prev_id_chain: Completed
handle_following_connection: block_id=pLZrvb, next_id=Some("VLfhuW"), prev_id=None
  Using next_id strategy (next_id=VLfhuW)
  Setting prev_id of next block VLfhuW to pLZrvb
  Attempting to copy device and timestamp from next block VLfhuW to pLZrvb
  WARNING: Next block has no device attribute
  WARNING: Next block has no timestamp attribute
  Finished next_id strategy
handle_following_connection: Completed
move_block: Moved block within same parent
apply_action: Encoding state for doc_id: xxxx
apply_updates: Starting with 122 updates for doc_id: xxxx
apply_updates: Starting with 122 updates for doc_id: xxxx
apply_updates: Applying update for doc_id: xxxx
apply_updates: Finished for doc_id: xxxx
apply_updates: Successfully applied updates for doc_id: xxxx
get_document_state: Starting for doc_id: xxxx
extract_document_state: Starting for doc_id: xxxx
extract_document_state: Processing 12 blocks
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 0 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 0 deltas
====== STARTING BLOCK SORTING ======
Input children_map has 11 parent nodes

----- Sorting children of parent: Z3TeKI -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent Z3TeKI: []

----- Sorting children of parent: zhA_gK -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent zhA_gK: []

----- Sorting children of parent: jmAIx4 -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent jmAIx4: []

----- Sorting children of parent: m8OEVv -----
Parent has 5 children to sort
Mapped 5 valid blocks by ID
Block Cbb2Xg assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block ixjcxC assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block jmAIx4 assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block HYvdCr assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block eYz-nn assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Grouped blocks into 1 devices
  - Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 5 blocks
Block Cbb2Xg has no prev_id
Block ixjcxC has prev_id Cbb2Xg
Block jmAIx4 has prev_id eYz-nn
Block HYvdCr has prev_id jmAIx4
Block eYz-nn has prev_id ixjcxC
Built prev->next map with 4 entries
  - Cbb2Xg has 1 next blocks: ["ixjcxC"]
  - eYz-nn has 1 next blocks: ["jmAIx4"]
  - jmAIx4 has 1 next blocks: ["HYvdCr"]
  - ixjcxC has 1 next blocks: ["eYz-nn"]
Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 1 root blocks: ["Cbb2Xg"]
Processing devices in order: ["4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"]

Processing device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Sorted roots for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a: ["Cbb2Xg"]
Starting chain from root: Cbb2Xg
  Adding block Cbb2Xg to sorted list
    Pushing ixjcxC onto stack
  Adding block ixjcxC to sorted list
    Pushing eYz-nn onto stack
  Adding block eYz-nn to sorted list
    Pushing jmAIx4 onto stack
  Adding block jmAIx4 to sorted list
    Pushing HYvdCr onto stack
  Adding block HYvdCr to sorted list
  No next blocks for HYvdCr
No remaining blocks for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
No globally remaining blocks
Final sorted order for parent m8OEVv: ["Cbb2Xg", "ixjcxC", "eYz-nn", "jmAIx4", "HYvdCr"]

----- Sorting children of parent: pLZrvb -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent pLZrvb: []

----- Sorting children of parent: eYz-nn -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent eYz-nn: []

----- Sorting children of parent: HYvdCr -----
Parent has 2 children to sort
Mapped 2 valid blocks by ID
Block VLfhuW assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block pLZrvb assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Grouped blocks into 1 devices
  - Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 2 blocks
Block VLfhuW has prev_id pLZrvb
Block pLZrvb has no prev_id
Built prev->next map with 1 entries
  - pLZrvb has 1 next blocks: ["VLfhuW"]
Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 1 root blocks: ["pLZrvb"]
Processing devices in order: ["4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"]

Processing device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Sorted roots for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a: ["pLZrvb"]
Starting chain from root: pLZrvb
  Adding block pLZrvb to sorted list
    Pushing VLfhuW onto stack
  Adding block VLfhuW to sorted list
  No next blocks for VLfhuW
No remaining blocks for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
No globally remaining blocks
Final sorted order for parent HYvdCr: ["pLZrvb", "VLfhuW"]

----- Sorting children of parent: Cbb2Xg -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent Cbb2Xg: []

----- Sorting children of parent: VLfhuW -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent VLfhuW: []

----- Sorting children of parent: ixjcxC -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent ixjcxC: []

----- Sorting children of parent: iT1F-F -----
Parent has 1 children to sort
WARNING: Block with ID VC6SQw not found in blocks map
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
Adding 1 globally remaining blocks: ["VC6SQw"]
  Adding remaining block VC6SQw to sorted list
Final sorted order for parent iT1F-F: ["VC6SQw"]
====== COMPLETED BLOCK SORTING ======
Final sorted children map has 11 parents
extract_document_state: Extracted 12 blocks and 11 parent-child relationships
get_document_state: Finished for doc_id: xxxx
merge_updates: Merging 1 updates
merge_updates: Successfully merged updates
apply_updates: Starting with 123 updates for doc_id: xxxx
apply_updates: Starting with 123 updates for doc_id: xxxx
apply_updates: Applying update for doc_id: xxxx
apply_updates: Finished for doc_id: xxxx
apply_updates: Successfully applied updates for doc_id: xxxx
get_document_state: Starting for doc_id: xxxx
extract_document_state: Starting for doc_id: xxxx
extract_document_state: Processing 12 blocks
deltas_to_json: Converting 0 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 0 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
====== STARTING BLOCK SORTING ======
Input children_map has 11 parent nodes

----- Sorting children of parent: m8OEVv -----
Parent has 5 children to sort
Mapped 5 valid blocks by ID
Block ixjcxC assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block eYz-nn assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block HYvdCr assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block Cbb2Xg assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block jmAIx4 assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Grouped blocks into 1 devices
  - Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 5 blocks
Block ixjcxC has prev_id Cbb2Xg
Block eYz-nn has prev_id ixjcxC
Block HYvdCr has prev_id jmAIx4
Block Cbb2Xg has no prev_id
Block jmAIx4 has prev_id eYz-nn
Built prev->next map with 4 entries
  - Cbb2Xg has 1 next blocks: ["ixjcxC"]
  - ixjcxC has 1 next blocks: ["eYz-nn"]
  - eYz-nn has 1 next blocks: ["jmAIx4"]
  - jmAIx4 has 1 next blocks: ["HYvdCr"]
Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 1 root blocks: ["Cbb2Xg"]
Processing devices in order: ["4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"]

Processing device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Sorted roots for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a: ["Cbb2Xg"]
Starting chain from root: Cbb2Xg
  Adding block Cbb2Xg to sorted list
    Pushing ixjcxC onto stack
  Adding block ixjcxC to sorted list
    Pushing eYz-nn onto stack
  Adding block eYz-nn to sorted list
    Pushing jmAIx4 onto stack
  Adding block jmAIx4 to sorted list
    Pushing HYvdCr onto stack
  Adding block HYvdCr to sorted list
  No next blocks for HYvdCr
No remaining blocks for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
No globally remaining blocks
Final sorted order for parent m8OEVv: ["Cbb2Xg", "ixjcxC", "eYz-nn", "jmAIx4", "HYvdCr"]

----- Sorting children of parent: Cbb2Xg -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent Cbb2Xg: []

----- Sorting children of parent: ixjcxC -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent ixjcxC: []

----- Sorting children of parent: HYvdCr -----
Parent has 2 children to sort
Mapped 2 valid blocks by ID
Block pLZrvb assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block VLfhuW assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Grouped blocks into 1 devices
  - Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 2 blocks
Block pLZrvb has no prev_id
Block VLfhuW has prev_id pLZrvb
Built prev->next map with 1 entries
  - pLZrvb has 1 next blocks: ["VLfhuW"]
Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 1 root blocks: ["pLZrvb"]
Processing devices in order: ["4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"]

Processing device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Sorted roots for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a: ["pLZrvb"]
Starting chain from root: pLZrvb
  Adding block pLZrvb to sorted list
    Pushing VLfhuW onto stack
  Adding block VLfhuW to sorted list
  No next blocks for VLfhuW
No remaining blocks for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
No globally remaining blocks
Final sorted order for parent HYvdCr: ["pLZrvb", "VLfhuW"]

----- Sorting children of parent: eYz-nn -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent eYz-nn: []

----- Sorting children of parent: pLZrvb -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent pLZrvb: []

----- Sorting children of parent: VLfhuW -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent VLfhuW: []

----- Sorting children of parent: jmAIx4 -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent jmAIx4: []

----- Sorting children of parent: zhA_gK -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent zhA_gK: []

----- Sorting children of parent: Z3TeKI -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent Z3TeKI: []

----- Sorting children of parent: iT1F-F -----
Parent has 1 children to sort
WARNING: Block with ID VC6SQw not found in blocks map
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
Adding 1 globally remaining blocks: ["VC6SQw"]
  Adding remaining block VC6SQw to sorted list
Final sorted order for parent iT1F-F: ["VC6SQw"]
====== COMPLETED BLOCK SORTING ======
Final sorted children map has 11 parents
extract_document_state: Extracted 12 blocks and 11 parent-child relationships
get_document_state: Finished for doc_id: xxxx
flutter: onDragStarted
flutter: the drag offset is inside the block, dragOffset(Offset(158.3, 284.6)), globalBlockRect(Rect.fromLTRB(144.0, 284.0, 680.0, 322.0))
flutter: the drag offset is inside the block, dragOffset(Offset(158.9, 289.4)), globalBlockRect(Rect.fromLTRB(144.0, 284.0, 680.0, 322.0))
flutter: the drag offset is inside the block, dragOffset(Offset(158.9, 292.9)), globalBlockRect(Rect.fromLTRB(144.0, 284.0, 680.0, 322.0))
flutter: the drag offset is inside the block, dragOffset(Offset(158.9, 294.0)), globalBlockRect(Rect.fromLTRB(144.0, 284.0, 680.0, 322.0))
flutter: the drag offset is inside the block, dragOffset(Offset(159.4, 295.6)), globalBlockRect(Rect.fromLTRB(144.0, 284.0, 680.0, 322.0))
flutter: the drag offset is inside the block, dragOffset(Offset(159.4, 297.0)), globalBlockRect(Rect.fromLTRB(144.0, 284.0, 680.0, 322.0))
flutter: the drag offset is inside the block, dragOffset(Offset(159.7, 297.5)), globalBlockRect(Rect.fromLTRB(144.0, 284.0, 680.0, 322.0))
flutter: the drag offset is inside the block, dragOffset(Offset(159.7, 298.6)), globalBlockRect(Rect.fromLTRB(144.0, 284.0, 680.0, 322.0))
flutter: the drag offset is inside the block, dragOffset(Offset(159.7, 299.4)), globalBlockRect(Rect.fromLTRB(144.0, 284.0, 680.0, 322.0))
flutter: the drag offset is inside the block, dragOffset(Offset(159.7, 299.6)), globalBlockRect(Rect.fromLTRB(144.0, 284.0, 680.0, 322.0))
flutter: the drag offset is inside the block, dragOffset(Offset(159.7, 300.1)), globalBlockRect(Rect.fromLTRB(144.0, 284.0, 680.0, 322.0))
flutter: the drag offset is inside the block, dragOffset(Offset(159.7, 300.4)), globalBlockRect(Rect.fromLTRB(144.0, 284.0, 680.0, 322.0))
flutter: the drag offset is inside the block, dragOffset(Offset(159.7, 300.9)), globalBlockRect(Rect.fromLTRB(144.0, 284.0, 680.0, 322.0))
flutter: the drag offset is inside the block, dragOffset(Offset(159.7, 301.2)), globalBlockRect(Rect.fromLTRB(144.0, 284.0, 680.0, 322.0))
flutter: the drag offset is inside the block, dragOffset(Offset(159.7, 301.9)), globalBlockRect(Rect.fromLTRB(144.0, 284.0, 680.0, 322.0))
flutter: the drag offset is inside the block, dragOffset(Offset(159.7, 303.0)), globalBlockRect(Rect.fromLTRB(144.0, 284.0, 680.0, 322.0))
flutter: the drag offset is inside the block, dragOffset(Offset(159.7, 305.3)), globalBlockRect(Rect.fromLTRB(144.0, 284.0, 680.0, 322.0))
flutter: the drag offset is inside the block, dragOffset(Offset(160.2, 306.9)), globalBlockRect(Rect.fromLTRB(144.0, 284.0, 680.0, 322.0))
flutter: the drag offset is inside the block, dragOffset(Offset(160.2, 308.0)), globalBlockRect(Rect.fromLTRB(144.0, 284.0, 680.0, 322.0))
flutter: the drag offset is inside the block, dragOffset(Offset(160.5, 309.4)), globalBlockRect(Rect.fromLTRB(144.0, 284.0, 680.0, 322.0))
flutter: the drag offset is inside the block, dragOffset(Offset(160.5, 309.9)), globalBlockRect(Rect.fromLTRB(144.0, 284.0, 680.0, 322.0))
flutter: the drag offset is inside the block, dragOffset(Offset(160.5, 310.2)), globalBlockRect(Rect.fromLTRB(144.0, 284.0, 680.0, 322.0))
flutter: the drag offset is inside the block, dragOffset(Offset(160.5, 310.9)), globalBlockRect(Rect.fromLTRB(144.0, 284.0, 680.0, 322.0))
flutter: the drag offset is inside the block, dragOffset(Offset(160.5, 311.7)), globalBlockRect(Rect.fromLTRB(144.0, 284.0, 680.0, 322.0))
flutter: onDragEnd, acceptedPath([4, 2])
flutter: the drag offset is inside the block, dragOffset(Offset(160.5, 311.7)), globalBlockRect(Rect.fromLTRB(144.0, 284.0, 680.0, 322.0))
flutter: Moving node(Node(id: pLZrvb, type: paragraph, attributes: {delta: [{insert: Task 3}], timestamp: 2025-04-24T17:14:32.750175, device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a}, children: []), [4, 0]) to path([4, 1])
flutter: Transaction done
apply_action: Starting with 1 actions for doc_id: xxxx
move_block: Moving block_id: pLZrvb from parent: HYvdCr to parent: HYvdCr
remove_block_from_prev_id_chain: Removing block pLZrvb from chain
  Finding blocks that reference pLZrvb as their prev_id
find_block_referencing_prev_id: Searching for blocks with prev_id = pLZrvb
  Found 12 total blocks to check
  Checking block: jmAIx4
    Block has prev_id: eYz-nn, matches target: false
  Checking block: ixjcxC
    Block has prev_id: Cbb2Xg, matches target: false
  Checking block: eYz-nn
    Block has prev_id: ixjcxC, matches target: false
  Checking block: m8OEVv
    Block does not have prev_id
  Checking block: Z3TeKI
    Block does not have prev_id
  Checking block: Mk_Gts
    Block does not have prev_id
  Checking block: Cbb2Xg
    Block does not have prev_id
  Checking block: pLZrvb
    Block does not have prev_id
  Checking block: HYvdCr
    Block has prev_id: jmAIx4, matches target: false
  Checking block: zhA_gK
    Block does not have prev_id
  Checking block: VLfhuW
    Block has prev_id: pLZrvb, matches target: true
  Checking block: iT1F-F
    Block does not have prev_id
find_block_referencing_prev_id: Found 1 blocks with prev_id = pLZrvb: ["VLfhuW"]
  Found 1 next blocks: ["VLfhuW"]
  Removing prev_id from next block VLfhuW (was pointing to pLZrvb)
remove_block_from_prev_id_chain: Completed
handle_following_connection: block_id=pLZrvb, next_id=None, prev_id=Some("VLfhuW")
  Using prev_id strategy (prev_id=VLfhuW)
find_block_referencing_prev_id: Searching for blocks with prev_id = VLfhuW
  Found 12 total blocks to check
  Checking block: jmAIx4
    Block has prev_id: eYz-nn, matches target: false
  Checking block: ixjcxC
    Block has prev_id: Cbb2Xg, matches target: false
  Checking block: eYz-nn
    Block has prev_id: ixjcxC, matches target: false
  Checking block: m8OEVv
    Block does not have prev_id
  Checking block: Z3TeKI
    Block does not have prev_id
  Checking block: Mk_Gts
    Block does not have prev_id
  Checking block: Cbb2Xg
    Block does not have prev_id
  Checking block: pLZrvb
    Block does not have prev_id
  Checking block: HYvdCr
    Block has prev_id: jmAIx4, matches target: false
  Checking block: zhA_gK
    Block does not have prev_id
  Checking block: VLfhuW
    Block does not have prev_id
  Checking block: iT1F-F
    Block does not have prev_id
find_block_referencing_prev_id: Found 0 blocks with prev_id = VLfhuW: []
  Found 0 nodes that reference prev_id VLfhuW: []
  Finished prev_id strategy
move_block: Moved block within same parent
apply_action: Encoding state for doc_id: xxxx
apply_updates: Starting with 112 updates for doc_id: xxxx
apply_updates: Starting with 112 updates for doc_id: xxxx
apply_updates: Applying update for doc_id: xxxx
apply_updates: Finished for doc_id: xxxx
apply_updates: Successfully applied updates for doc_id: xxxx
get_document_state: Starting for doc_id: xxxx
extract_document_state: Starting for doc_id: xxxx
extract_document_state: Processing 12 blocks
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 0 deltas
deltas_to_json: Converting 0 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
====== STARTING BLOCK SORTING ======
Input children_map has 11 parent nodes

----- Sorting children of parent: Cbb2Xg -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent Cbb2Xg: []

----- Sorting children of parent: VLfhuW -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent VLfhuW: []

----- Sorting children of parent: m8OEVv -----
Parent has 5 children to sort
Mapped 5 valid blocks by ID
Block HYvdCr assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block jmAIx4 assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block ixjcxC assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block eYz-nn assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block Cbb2Xg assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Grouped blocks into 1 devices
  - Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 5 blocks
Block HYvdCr has prev_id jmAIx4
Block jmAIx4 has prev_id eYz-nn
Block ixjcxC has prev_id Cbb2Xg
Block eYz-nn has prev_id ixjcxC
Block Cbb2Xg has no prev_id
Built prev->next map with 4 entries
  - eYz-nn has 1 next blocks: ["jmAIx4"]
  - Cbb2Xg has 1 next blocks: ["ixjcxC"]
  - ixjcxC has 1 next blocks: ["eYz-nn"]
  - jmAIx4 has 1 next blocks: ["HYvdCr"]
Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 1 root blocks: ["Cbb2Xg"]
Processing devices in order: ["4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"]

Processing device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Sorted roots for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a: ["Cbb2Xg"]
Starting chain from root: Cbb2Xg
  Adding block Cbb2Xg to sorted list
    Pushing ixjcxC onto stack
  Adding block ixjcxC to sorted list
    Pushing eYz-nn onto stack
  Adding block eYz-nn to sorted list
    Pushing jmAIx4 onto stack
  Adding block jmAIx4 to sorted list
    Pushing HYvdCr onto stack
  Adding block HYvdCr to sorted list
  No next blocks for HYvdCr
No remaining blocks for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
No globally remaining blocks
Final sorted order for parent m8OEVv: ["Cbb2Xg", "ixjcxC", "eYz-nn", "jmAIx4", "HYvdCr"]

----- Sorting children of parent: jmAIx4 -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent jmAIx4: []

----- Sorting children of parent: zhA_gK -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent zhA_gK: []

----- Sorting children of parent: ixjcxC -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent ixjcxC: []

----- Sorting children of parent: pLZrvb -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent pLZrvb: []

----- Sorting children of parent: HYvdCr -----
Parent has 2 children to sort
Mapped 2 valid blocks by ID
Block pLZrvb assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block VLfhuW assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Grouped blocks into 1 devices
  - Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 2 blocks
Block pLZrvb has prev_id VLfhuW
Block VLfhuW has no prev_id
Built prev->next map with 1 entries
  - VLfhuW has 1 next blocks: ["pLZrvb"]
Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 1 root blocks: ["VLfhuW"]
Processing devices in order: ["4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"]

Processing device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Sorted roots for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a: ["VLfhuW"]
Starting chain from root: VLfhuW
  Adding block VLfhuW to sorted list
    Pushing pLZrvb onto stack
  Adding block pLZrvb to sorted list
  No next blocks for pLZrvb
No remaining blocks for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
No globally remaining blocks
Final sorted order for parent HYvdCr: ["VLfhuW", "pLZrvb"]

----- Sorting children of parent: iT1F-F -----
Parent has 1 children to sort
WARNING: Block with ID VC6SQw not found in blocks map
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
Adding 1 globally remaining blocks: ["VC6SQw"]
  Adding remaining block VC6SQw to sorted list
Final sorted order for parent iT1F-F: ["VC6SQw"]

----- Sorting children of parent: Z3TeKI -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent Z3TeKI: []

----- Sorting children of parent: eYz-nn -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent eYz-nn: []
====== COMPLETED BLOCK SORTING ======
Final sorted children map has 11 parents
extract_document_state: Extracted 12 blocks and 11 parent-child relationships
get_document_state: Finished for doc_id: xxxx
merge_updates: Merging 1 updates
merge_updates: Successfully merged updates
apply_updates: Starting with 113 updates for doc_id: xxxx
apply_updates: Starting with 113 updates for doc_id: xxxx
apply_updates: Applying update for doc_id: xxxx
apply_updates: Finished for doc_id: xxxx
apply_updates: Successfully applied updates for doc_id: xxxx
get_document_state: Starting for doc_id: xxxx
extract_document_state: Starting for doc_id: xxxx
extract_document_state: Processing 12 blocks
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 0 deltas
deltas_to_json: Converting 0 deltas
deltas_to_json: Converting 1 deltas
====== STARTING BLOCK SORTING ======
Input children_map has 11 parent nodes

----- Sorting children of parent: ixjcxC -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent ixjcxC: []

----- Sorting children of parent: Cbb2Xg -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent Cbb2Xg: []

----- Sorting children of parent: Z3TeKI -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent Z3TeKI: []

----- Sorting children of parent: eYz-nn -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent eYz-nn: []

----- Sorting children of parent: HYvdCr -----
Parent has 2 children to sort
Mapped 2 valid blocks by ID
Block pLZrvb assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block VLfhuW assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Grouped blocks into 1 devices
  - Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 2 blocks
Block pLZrvb has prev_id VLfhuW
Block VLfhuW has no prev_id
Built prev->next map with 1 entries
  - VLfhuW has 1 next blocks: ["pLZrvb"]
Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 1 root blocks: ["VLfhuW"]
Processing devices in order: ["4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"]

Processing device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Sorted roots for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a: ["VLfhuW"]
Starting chain from root: VLfhuW
  Adding block VLfhuW to sorted list
    Pushing pLZrvb onto stack
  Adding block pLZrvb to sorted list
  No next blocks for pLZrvb
No remaining blocks for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
No globally remaining blocks
Final sorted order for parent HYvdCr: ["VLfhuW", "pLZrvb"]

----- Sorting children of parent: pLZrvb -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent pLZrvb: []

----- Sorting children of parent: jmAIx4 -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent jmAIx4: []

----- Sorting children of parent: m8OEVv -----
Parent has 5 children to sort
Mapped 5 valid blocks by ID
Block eYz-nn assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block jmAIx4 assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block ixjcxC assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block Cbb2Xg assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block HYvdCr assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Grouped blocks into 1 devices
  - Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 5 blocks
Block eYz-nn has prev_id ixjcxC
Block jmAIx4 has prev_id eYz-nn
Block ixjcxC has prev_id Cbb2Xg
Block Cbb2Xg has no prev_id
Block HYvdCr has prev_id jmAIx4
Built prev->next map with 4 entries
  - ixjcxC has 1 next blocks: ["eYz-nn"]
  - eYz-nn has 1 next blocks: ["jmAIx4"]
  - jmAIx4 has 1 next blocks: ["HYvdCr"]
  - Cbb2Xg has 1 next blocks: ["ixjcxC"]
Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 1 root blocks: ["Cbb2Xg"]
Processing devices in order: ["4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"]

Processing device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Sorted roots for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a: ["Cbb2Xg"]
Starting chain from root: Cbb2Xg
  Adding block Cbb2Xg to sorted list
    Pushing ixjcxC onto stack
  Adding block ixjcxC to sorted list
    Pushing eYz-nn onto stack
  Adding block eYz-nn to sorted list
    Pushing jmAIx4 onto stack
  Adding block jmAIx4 to sorted list
    Pushing HYvdCr onto stack
  Adding block HYvdCr to sorted list
  No next blocks for HYvdCr
No remaining blocks for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
No globally remaining blocks
Final sorted order for parent m8OEVv: ["Cbb2Xg", "ixjcxC", "eYz-nn", "jmAIx4", "HYvdCr"]

----- Sorting children of parent: VLfhuW -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent VLfhuW: []

----- Sorting children of parent: iT1F-F -----
Parent has 1 children to sort
WARNING: Block with ID VC6SQw not found in blocks map
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
Adding 1 globally remaining blocks: ["VC6SQw"]
  Adding remaining block VC6SQw to sorted list
Final sorted order for parent iT1F-F: ["VC6SQw"]

----- Sorting children of parent: zhA_gK -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent zhA_gK: []
====== COMPLETED BLOCK SORTING ======
Final sorted children map has 11 parents
extract_document_state: Extracted 12 blocks and 11 parent-child relationships
get_document_state: Finished for doc_id: xxxx
flutter: onDragStarted
flutter: the drag offset is inside the block, dragOffset(Offset(130.7, 203.2)), globalBlockRect(Rect.fromLTRB(120.0, 170.0, 680.0, 208.0))
flutter: the drag offset is inside the block, dragOffset(Offset(130.7, 185.9)), globalBlockRect(Rect.fromLTRB(120.0, 170.0, 680.0, 208.0))
flutter: the drag offset is inside the block, dragOffset(Offset(130.7, 177.3)), globalBlockRect(Rect.fromLTRB(120.0, 170.0, 680.0, 208.0))
flutter: the drag offset is inside the block, dragOffset(Offset(132.5, 165.0)), globalBlockRect(Rect.fromLTRB(120.0, 132.0, 680.0, 170.0))
flutter: the drag offset is inside the block, dragOffset(Offset(135.2, 157.6)), globalBlockRect(Rect.fromLTRB(120.0, 132.0, 680.0, 170.0))
flutter: the drag offset is inside the block, dragOffset(Offset(137.9, 144.1)), globalBlockRect(Rect.fromLTRB(120.0, 132.0, 680.0, 170.0))
flutter: the drag offset is inside the block, dragOffset(Offset(139.6, 133.1)), globalBlockRect(Rect.fromLTRB(120.0, 132.0, 680.0, 170.0))
flutter: the drag offset is inside the block, dragOffset(Offset(140.3, 129.5)), globalBlockRect(Rect.fromLTRB(120.0, 94.0, 680.0, 132.0))
flutter: the drag offset is inside the block, dragOffset(Offset(141.5, 124.7)), globalBlockRect(Rect.fromLTRB(120.0, 94.0, 680.0, 132.0))
flutter: the drag offset is inside the block, dragOffset(Offset(141.5, 120.0)), globalBlockRect(Rect.fromLTRB(120.0, 94.0, 680.0, 132.0))
flutter: the drag offset is inside the block, dragOffset(Offset(141.5, 118.9)), globalBlockRect(Rect.fromLTRB(120.0, 94.0, 680.0, 132.0))
flutter: the drag offset is inside the block, dragOffset(Offset(141.9, 116.6)), globalBlockRect(Rect.fromLTRB(120.0, 94.0, 680.0, 132.0))
flutter: the drag offset is inside the block, dragOffset(Offset(141.9, 115.2)), globalBlockRect(Rect.fromLTRB(120.0, 94.0, 680.0, 132.0))
flutter: the drag offset is inside the block, dragOffset(Offset(142.4, 114.7)), globalBlockRect(Rect.fromLTRB(120.0, 94.0, 680.0, 132.0))
flutter: the drag offset is inside the block, dragOffset(Offset(142.4, 112.5)), globalBlockRect(Rect.fromLTRB(120.0, 94.0, 680.0, 132.0))
flutter: the drag offset is inside the block, dragOffset(Offset(142.9, 109.6)), globalBlockRect(Rect.fromLTRB(120.0, 94.0, 680.0, 132.0))
flutter: the drag offset is inside the block, dragOffset(Offset(142.9, 109.3)), globalBlockRect(Rect.fromLTRB(120.0, 94.0, 680.0, 132.0))
flutter: the drag offset is inside the block, dragOffset(Offset(144.6, 104.2)), globalBlockRect(Rect.fromLTRB(120.0, 94.0, 680.0, 132.0))
flutter: the drag offset is inside the block, dragOffset(Offset(145.2, 100.7)), globalBlockRect(Rect.fromLTRB(120.0, 94.0, 680.0, 132.0))
flutter: the drag offset is inside the block, dragOffset(Offset(145.9, 99.6)), globalBlockRect(Rect.fromLTRB(120.0, 94.0, 680.0, 132.0))
flutter: the drag offset is inside the block, dragOffset(Offset(146.3, 98.2)), globalBlockRect(Rect.fromLTRB(120.0, 94.0, 680.0, 132.0))
flutter: the drag offset is inside the block, dragOffset(Offset(147.1, 95.5)), globalBlockRect(Rect.fromLTRB(120.0, 94.0, 680.0, 132.0))
flutter: the drag offset is inside the block, dragOffset(Offset(147.7, 93.2)), globalBlockRect(Rect.fromLTRB(120.0, 56.0, 680.0, 94.0))
flutter: the drag offset is inside the block, dragOffset(Offset(148.1, 92.0)), globalBlockRect(Rect.fromLTRB(120.0, 56.0, 680.0, 94.0))
flutter: the drag offset is inside the block, dragOffset(Offset(148.3, 91.5)), globalBlockRect(Rect.fromLTRB(120.0, 56.0, 680.0, 94.0))
flutter: the drag offset is inside the block, dragOffset(Offset(148.3, 90.8)), globalBlockRect(Rect.fromLTRB(120.0, 56.0, 680.0, 94.0))
flutter: the drag offset is inside the block, dragOffset(Offset(153.1, 90.4)), globalBlockRect(Rect.fromLTRB(120.0, 56.0, 680.0, 94.0))
flutter: the drag offset is inside the block, dragOffset(Offset(158.0, 90.4)), globalBlockRect(Rect.fromLTRB(120.0, 56.0, 680.0, 94.0))
flutter: the drag offset is inside the block, dragOffset(Offset(160.8, 90.4)), globalBlockRect(Rect.fromLTRB(120.0, 56.0, 680.0, 94.0))
flutter: the drag offset is inside the block, dragOffset(Offset(169.3, 89.5)), globalBlockRect(Rect.fromLTRB(120.0, 56.0, 680.0, 94.0))
flutter: the drag offset is inside the block, dragOffset(Offset(171.7, 88.3)), globalBlockRect(Rect.fromLTRB(120.0, 56.0, 680.0, 94.0))
flutter: the drag offset is inside the block, dragOffset(Offset(172.7, 88.0)), globalBlockRect(Rect.fromLTRB(120.0, 56.0, 680.0, 94.0))
flutter: the drag offset is inside the block, dragOffset(Offset(178.7, 86.0)), globalBlockRect(Rect.fromLTRB(120.0, 56.0, 680.0, 94.0))
flutter: the drag offset is inside the block, dragOffset(Offset(180.5, 84.2)), globalBlockRect(Rect.fromLTRB(120.0, 56.0, 680.0, 94.0))
flutter: the drag offset is inside the block, dragOffset(Offset(184.1, 84.2)), globalBlockRect(Rect.fromLTRB(120.0, 56.0, 680.0, 94.0))
flutter: the drag offset is inside the block, dragOffset(Offset(184.4, 84.2)), globalBlockRect(Rect.fromLTRB(120.0, 56.0, 680.0, 94.0))
flutter: the drag offset is inside the block, dragOffset(Offset(189.1, 84.2)), globalBlockRect(Rect.fromLTRB(120.0, 56.0, 680.0, 94.0))
flutter: the drag offset is inside the block, dragOffset(Offset(195.1, 84.2)), globalBlockRect(Rect.fromLTRB(120.0, 56.0, 680.0, 94.0))
flutter: the drag offset is inside the block, dragOffset(Offset(196.2, 85.0)), globalBlockRect(Rect.fromLTRB(120.0, 56.0, 680.0, 94.0))
flutter: the drag offset is inside the block, dragOffset(Offset(203.5, 87.4)), globalBlockRect(Rect.fromLTRB(120.0, 56.0, 680.0, 94.0))
flutter: the drag offset is inside the block, dragOffset(Offset(210.7, 91.0)), globalBlockRect(Rect.fromLTRB(120.0, 56.0, 680.0, 94.0))
flutter: the drag offset is inside the block, dragOffset(Offset(215.6, 92.7)), globalBlockRect(Rect.fromLTRB(120.0, 56.0, 680.0, 94.0))
flutter: the drag offset is inside the block, dragOffset(Offset(221.6, 98.1)), globalBlockRect(Rect.fromLTRB(120.0, 94.0, 680.0, 132.0))
flutter: the drag offset is inside the block, dragOffset(Offset(230.4, 107.7)), globalBlockRect(Rect.fromLTRB(120.0, 94.0, 680.0, 132.0))
flutter: the drag offset is inside the block, dragOffset(Offset(236.3, 116.6)), globalBlockRect(Rect.fromLTRB(120.0, 94.0, 680.0, 132.0))
flutter: the drag offset is inside the block, dragOffset(Offset(254.0, 136.4)), globalBlockRect(Rect.fromLTRB(120.0, 132.0, 680.0, 170.0))
flutter: the drag offset is inside the block, dragOffset(Offset(263.4, 150.5)), globalBlockRect(Rect.fromLTRB(120.0, 132.0, 680.0, 170.0))
flutter: the drag offset is inside the block, dragOffset(Offset(267.8, 155.8)), globalBlockRect(Rect.fromLTRB(120.0, 132.0, 680.0, 170.0))
flutter: the drag offset is inside the block, dragOffset(Offset(271.7, 160.5)), globalBlockRect(Rect.fromLTRB(120.0, 132.0, 680.0, 170.0))
flutter: the drag offset is inside the block, dragOffset(Offset(271.7, 161.8)), globalBlockRect(Rect.fromLTRB(120.0, 132.0, 680.0, 170.0))
flutter: the drag offset is inside the block, dragOffset(Offset(272.0, 162.1)), globalBlockRect(Rect.fromLTRB(120.0, 132.0, 680.0, 170.0))
flutter: onDragEnd, acceptedPath([3])
flutter: the drag offset is inside the block, dragOffset(Offset(272.0, 162.1)), globalBlockRect(Rect.fromLTRB(120.0, 132.0, 680.0, 170.0))
flutter: Moving node(Node(id: HYvdCr, type: paragraph, attributes: {delta: [{insert: Task 1}], device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a, timestamp: 2025-04-24T17:14:28.685801}, children: [Node(id: VLfhuW, type: paragraph, attributes: {delta: [{insert: Task 2}], timestamp: 2025-04-24T17:14:31.317748, device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a}, children: []), Node(id: pLZrvb, type: paragraph, attributes: {delta: [{insert: Task 3}], timestamp: 2025-04-24T17:14:32.750175, device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a}, children: [])]), [4]) to path([2])
flutter: Transaction done
apply_action: Starting with 1 actions for doc_id: xxxx
move_block: Moving block_id: HYvdCr from parent: m8OEVv to parent: eYz-nn
remove_block_from_prev_id_chain: Removing block HYvdCr from chain
  Block HYvdCr has prev_id: jmAIx4
  Finding blocks that reference HYvdCr as their prev_id
find_block_referencing_prev_id: Searching for blocks with prev_id = HYvdCr
  Found 12 total blocks to check
  Checking block: zhA_gK
    Block does not have prev_id
  Checking block: m8OEVv
    Block does not have prev_id
  Checking block: eYz-nn
    Block has prev_id: ixjcxC, matches target: false
  Checking block: iT1F-F
    Block does not have prev_id
  Checking block: HYvdCr
    Block has prev_id: jmAIx4, matches target: false
  Checking block: Cbb2Xg
    Block does not have prev_id
  Checking block: VLfhuW
    Block does not have prev_id
  Checking block: pLZrvb
    Block has prev_id: VLfhuW, matches target: false
  Checking block: ixjcxC
    Block has prev_id: Cbb2Xg, matches target: false
  Checking block: Mk_Gts
    Block does not have prev_id
  Checking block: jmAIx4
    Block has prev_id: eYz-nn, matches target: false
  Checking block: Z3TeKI
    Block does not have prev_id
find_block_referencing_prev_id: Found 0 blocks with prev_id = HYvdCr: []
  Found 0 next blocks: []
remove_block_from_prev_id_chain: Completed
handle_following_connection: block_id=HYvdCr, next_id=None, prev_id=None
  No prev_id or next_id provided, nothing to handle
handle_following_connection: Completed
move_block: Moved block between parents
apply_action: Encoding state for doc_id: xxxx
apply_updates: Starting with 107 updates for doc_id: xxxx
apply_updates: Starting with 107 updates for doc_id: xxxx
apply_updates: Applying update for doc_id: xxxx
apply_updates: Finished for doc_id: xxxx
apply_updates: Successfully applied updates for doc_id: xxxx
get_document_state: Starting for doc_id: xxxx
extract_document_state: Starting for doc_id: xxxx
extract_document_state: Processing 12 blocks
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 0 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 0 deltas
deltas_to_json: Converting 1 deltas
====== STARTING BLOCK SORTING ======
Input children_map has 11 parent nodes

----- Sorting children of parent: m8OEVv -----
Parent has 4 children to sort
Mapped 4 valid blocks by ID
Block eYz-nn assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block Cbb2Xg assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block ixjcxC assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block jmAIx4 assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Grouped blocks into 1 devices
  - Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 4 blocks
Block eYz-nn has prev_id ixjcxC
Block Cbb2Xg has no prev_id
Block ixjcxC has prev_id Cbb2Xg
Block jmAIx4 has prev_id eYz-nn
Built prev->next map with 3 entries
  - eYz-nn has 1 next blocks: ["jmAIx4"]
  - ixjcxC has 1 next blocks: ["eYz-nn"]
  - Cbb2Xg has 1 next blocks: ["ixjcxC"]
Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 1 root blocks: ["Cbb2Xg"]
Processing devices in order: ["4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"]

Processing device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Sorted roots for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a: ["Cbb2Xg"]
Starting chain from root: Cbb2Xg
  Adding block Cbb2Xg to sorted list
    Pushing ixjcxC onto stack
  Adding block ixjcxC to sorted list
    Pushing eYz-nn onto stack
  Adding block eYz-nn to sorted list
    Pushing jmAIx4 onto stack
  Adding block jmAIx4 to sorted list
  No next blocks for jmAIx4
No remaining blocks for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
No globally remaining blocks
Final sorted order for parent m8OEVv: ["Cbb2Xg", "ixjcxC", "eYz-nn", "jmAIx4"]

----- Sorting children of parent: Z3TeKI -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent Z3TeKI: []

----- Sorting children of parent: iT1F-F -----
Parent has 1 children to sort
WARNING: Block with ID VC6SQw not found in blocks map
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
Adding 1 globally remaining blocks: ["VC6SQw"]
  Adding remaining block VC6SQw to sorted list
Final sorted order for parent iT1F-F: ["VC6SQw"]

----- Sorting children of parent: Cbb2Xg -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent Cbb2Xg: []

----- Sorting children of parent: ixjcxC -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent ixjcxC: []

----- Sorting children of parent: pLZrvb -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent pLZrvb: []

----- Sorting children of parent: zhA_gK -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent zhA_gK: []

----- Sorting children of parent: jmAIx4 -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent jmAIx4: []

----- Sorting children of parent: HYvdCr -----
Parent has 2 children to sort
Mapped 2 valid blocks by ID
Block VLfhuW assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block pLZrvb assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Grouped blocks into 1 devices
  - Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 2 blocks
Block VLfhuW has no prev_id
Block pLZrvb has prev_id VLfhuW
Built prev->next map with 1 entries
  - VLfhuW has 1 next blocks: ["pLZrvb"]
Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 1 root blocks: ["VLfhuW"]
Processing devices in order: ["4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"]

Processing device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Sorted roots for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a: ["VLfhuW"]
Starting chain from root: VLfhuW
  Adding block VLfhuW to sorted list
    Pushing pLZrvb onto stack
  Adding block pLZrvb to sorted list
  No next blocks for pLZrvb
No remaining blocks for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
No globally remaining blocks
Final sorted order for parent HYvdCr: ["VLfhuW", "pLZrvb"]

----- Sorting children of parent: eYz-nn -----
Parent has 1 children to sort
Mapped 1 valid blocks by ID
Block HYvdCr assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Grouped blocks into 1 devices
  - Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 1 blocks
Block HYvdCr has no prev_id
Built prev->next map with 0 entries
Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 1 root blocks: ["HYvdCr"]
Processing devices in order: ["4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"]

Processing device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Sorted roots for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a: ["HYvdCr"]
Starting chain from root: HYvdCr
  Adding block HYvdCr to sorted list
  No next blocks for HYvdCr
No remaining blocks for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
No globally remaining blocks
Final sorted order for parent eYz-nn: ["HYvdCr"]

----- Sorting children of parent: VLfhuW -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent VLfhuW: []
====== COMPLETED BLOCK SORTING ======
Final sorted children map has 11 parents
extract_document_state: Extracted 12 blocks and 11 parent-child relationships
get_document_state: Finished for doc_id: xxxx
merge_updates: Merging 1 updates
merge_updates: Successfully merged updates
apply_updates: Starting with 108 updates for doc_id: xxxx
apply_updates: Starting with 108 updates for doc_id: xxxx
apply_updates: Applying update for doc_id: xxxx
apply_updates: Finished for doc_id: xxxx
apply_updates: Successfully applied updates for doc_id: xxxx
get_document_state: Starting for doc_id: xxxx
extract_document_state: Starting for doc_id: xxxx
extract_document_state: Processing 12 blocks
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 0 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 0 deltas
====== STARTING BLOCK SORTING ======
Input children_map has 11 parent nodes

----- Sorting children of parent: m8OEVv -----
Parent has 4 children to sort
Mapped 4 valid blocks by ID
Block Cbb2Xg assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block jmAIx4 assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block ixjcxC assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block eYz-nn assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Grouped blocks into 1 devices
  - Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 4 blocks
Block Cbb2Xg has no prev_id
Block jmAIx4 has prev_id eYz-nn
Block ixjcxC has prev_id Cbb2Xg
Block eYz-nn has prev_id ixjcxC
Built prev->next map with 3 entries
  - eYz-nn has 1 next blocks: ["jmAIx4"]
  - Cbb2Xg has 1 next blocks: ["ixjcxC"]
  - ixjcxC has 1 next blocks: ["eYz-nn"]
Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 1 root blocks: ["Cbb2Xg"]
Processing devices in order: ["4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"]

Processing device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Sorted roots for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a: ["Cbb2Xg"]
Starting chain from root: Cbb2Xg
  Adding block Cbb2Xg to sorted list
    Pushing ixjcxC onto stack
  Adding block ixjcxC to sorted list
    Pushing eYz-nn onto stack
  Adding block eYz-nn to sorted list
    Pushing jmAIx4 onto stack
  Adding block jmAIx4 to sorted list
  No next blocks for jmAIx4
No remaining blocks for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
No globally remaining blocks
Final sorted order for parent m8OEVv: ["Cbb2Xg", "ixjcxC", "eYz-nn", "jmAIx4"]

----- Sorting children of parent: ixjcxC -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent ixjcxC: []

----- Sorting children of parent: Cbb2Xg -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent Cbb2Xg: []

----- Sorting children of parent: iT1F-F -----
Parent has 1 children to sort
WARNING: Block with ID VC6SQw not found in blocks map
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
Adding 1 globally remaining blocks: ["VC6SQw"]
  Adding remaining block VC6SQw to sorted list
Final sorted order for parent iT1F-F: ["VC6SQw"]

----- Sorting children of parent: eYz-nn -----
Parent has 1 children to sort
Mapped 1 valid blocks by ID
Block HYvdCr assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Grouped blocks into 1 devices
  - Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 1 blocks
Block HYvdCr has no prev_id
Built prev->next map with 0 entries
Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 1 root blocks: ["HYvdCr"]
Processing devices in order: ["4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"]

Processing device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Sorted roots for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a: ["HYvdCr"]
Starting chain from root: HYvdCr
  Adding block HYvdCr to sorted list
  No next blocks for HYvdCr
No remaining blocks for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
No globally remaining blocks
Final sorted order for parent eYz-nn: ["HYvdCr"]

----- Sorting children of parent: pLZrvb -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent pLZrvb: []

----- Sorting children of parent: VLfhuW -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent VLfhuW: []

----- Sorting children of parent: jmAIx4 -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent jmAIx4: []

----- Sorting children of parent: Z3TeKI -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent Z3TeKI: []

----- Sorting children of parent: zhA_gK -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent zhA_gK: []

----- Sorting children of parent: HYvdCr -----
Parent has 2 children to sort
Mapped 2 valid blocks by ID
Block VLfhuW assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block pLZrvb assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Grouped blocks into 1 devices
  - Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 2 blocks
Block VLfhuW has no prev_id
Block pLZrvb has prev_id VLfhuW
Built prev->next map with 1 entries
  - VLfhuW has 1 next blocks: ["pLZrvb"]
Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 1 root blocks: ["VLfhuW"]
Processing devices in order: ["4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"]

Processing device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Sorted roots for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a: ["VLfhuW"]
Starting chain from root: VLfhuW
  Adding block VLfhuW to sorted list
    Pushing pLZrvb onto stack
  Adding block pLZrvb to sorted list
  No next blocks for pLZrvb
No remaining blocks for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
No globally remaining blocks
Final sorted order for parent HYvdCr: ["VLfhuW", "pLZrvb"]
====== COMPLETED BLOCK SORTING ======
Final sorted children map has 11 parents
extract_document_state: Extracted 12 blocks and 11 parent-child relationships
get_document_state: Finished for doc_id: xxxx
flutter: onDragStarted
flutter: the drag offset is inside the block, dragOffset(Offset(158.0, 165.4)), globalBlockRect(Rect.fromLTRB(120.0, 132.0, 680.0, 284.0))
flutter: the drag offset is inside the block, dragOffset(Offset(158.0, 151.9)), globalBlockRect(Rect.fromLTRB(120.0, 132.0, 680.0, 284.0))
flutter: the drag offset is inside the block, dragOffset(Offset(158.0, 139.6)), globalBlockRect(Rect.fromLTRB(120.0, 132.0, 680.0, 284.0))
flutter: the drag offset is inside the block, dragOffset(Offset(158.0, 134.7)), globalBlockRect(Rect.fromLTRB(120.0, 132.0, 680.0, 284.0))
flutter: the drag offset is inside the block, dragOffset(Offset(158.0, 128.7)), globalBlockRect(Rect.fromLTRB(120.0, 94.0, 680.0, 132.0))
flutter: the drag offset is inside the block, dragOffset(Offset(159.2, 121.5)), globalBlockRect(Rect.fromLTRB(120.0, 94.0, 680.0, 132.0))
flutter: the drag offset is inside the block, dragOffset(Offset(159.2, 117.9)), globalBlockRect(Rect.fromLTRB(120.0, 94.0, 680.0, 132.0))
flutter: the drag offset is inside the block, dragOffset(Offset(159.2, 111.9)), globalBlockRect(Rect.fromLTRB(120.0, 94.0, 680.0, 132.0))
flutter: the drag offset is inside the block, dragOffset(Offset(159.2, 108.4)), globalBlockRect(Rect.fromLTRB(120.0, 94.0, 680.0, 132.0))
flutter: the drag offset is inside the block, dragOffset(Offset(159.2, 107.2)), globalBlockRect(Rect.fromLTRB(120.0, 94.0, 680.0, 132.0))
flutter: the drag offset is inside the block, dragOffset(Offset(159.6, 105.0)), globalBlockRect(Rect.fromLTRB(120.0, 94.0, 680.0, 132.0))
flutter: the drag offset is inside the block, dragOffset(Offset(159.6, 103.3)), globalBlockRect(Rect.fromLTRB(120.0, 94.0, 680.0, 132.0))
flutter: the drag offset is inside the block, dragOffset(Offset(159.6, 103.1)), globalBlockRect(Rect.fromLTRB(120.0, 94.0, 680.0, 132.0))
flutter: the drag offset is inside the block, dragOffset(Offset(159.3, 102.3)), globalBlockRect(Rect.fromLTRB(120.0, 94.0, 680.0, 132.0))
flutter: the drag offset is inside the block, dragOffset(Offset(159.3, 101.8)), globalBlockRect(Rect.fromLTRB(120.0, 94.0, 680.0, 132.0))
flutter: the drag offset is inside the block, dragOffset(Offset(159.3, 101.0)), globalBlockRect(Rect.fromLTRB(120.0, 94.0, 680.0, 132.0))
flutter: the drag offset is inside the block, dragOffset(Offset(159.3, 99.5)), globalBlockRect(Rect.fromLTRB(120.0, 94.0, 680.0, 132.0))
flutter: the drag offset is inside the block, dragOffset(Offset(159.3, 99.2)), globalBlockRect(Rect.fromLTRB(120.0, 94.0, 680.0, 132.0))
flutter: the drag offset is inside the block, dragOffset(Offset(159.3, 97.6)), globalBlockRect(Rect.fromLTRB(120.0, 94.0, 680.0, 132.0))
flutter: the drag offset is inside the block, dragOffset(Offset(159.3, 96.5)), globalBlockRect(Rect.fromLTRB(120.0, 94.0, 680.0, 132.0))
flutter: the drag offset is inside the block, dragOffset(Offset(159.3, 94.2)), globalBlockRect(Rect.fromLTRB(120.0, 94.0, 680.0, 132.0))
flutter: the drag offset is inside the block, dragOffset(Offset(159.3, 92.0)), globalBlockRect(Rect.fromLTRB(120.0, 56.0, 680.0, 94.0))
flutter: the drag offset is inside the block, dragOffset(Offset(159.3, 89.6)), globalBlockRect(Rect.fromLTRB(120.0, 56.0, 680.0, 94.0))
flutter: the drag offset is inside the block, dragOffset(Offset(159.3, 88.8)), globalBlockRect(Rect.fromLTRB(120.0, 56.0, 680.0, 94.0))
flutter: the drag offset is inside the block, dragOffset(Offset(159.3, 87.2)), globalBlockRect(Rect.fromLTRB(120.0, 56.0, 680.0, 94.0))
flutter: the drag offset is inside the block, dragOffset(Offset(159.3, 86.1)), globalBlockRect(Rect.fromLTRB(120.0, 56.0, 680.0, 94.0))
flutter: the drag offset is inside the block, dragOffset(Offset(159.3, 84.7)), globalBlockRect(Rect.fromLTRB(120.0, 56.0, 680.0, 94.0))
flutter: the drag offset is inside the block, dragOffset(Offset(159.3, 84.2)), globalBlockRect(Rect.fromLTRB(120.0, 56.0, 680.0, 94.0))
flutter: the drag offset is inside the block, dragOffset(Offset(161.7, 85.4)), globalBlockRect(Rect.fromLTRB(120.0, 56.0, 680.0, 94.0))
flutter: the drag offset is inside the block, dragOffset(Offset(168.7, 91.5)), globalBlockRect(Rect.fromLTRB(120.0, 56.0, 680.0, 94.0))
flutter: the drag offset is inside the block, dragOffset(Offset(173.9, 95.9)), globalBlockRect(Rect.fromLTRB(120.0, 94.0, 680.0, 132.0))
flutter: the drag offset is inside the block, dragOffset(Offset(185.9, 106.0)), globalBlockRect(Rect.fromLTRB(120.0, 94.0, 680.0, 132.0))
flutter: the drag offset is inside the block, dragOffset(Offset(198.1, 118.3)), globalBlockRect(Rect.fromLTRB(120.0, 94.0, 680.0, 132.0))
flutter: the drag offset is inside the block, dragOffset(Offset(204.8, 125.0)), globalBlockRect(Rect.fromLTRB(120.0, 94.0, 680.0, 132.0))
flutter: the drag offset is inside the block, dragOffset(Offset(216.7, 140.8)), globalBlockRect(Rect.fromLTRB(120.0, 132.0, 680.0, 284.0))
flutter: the drag offset is inside the block, dragOffset(Offset(225.3, 157.1)), globalBlockRect(Rect.fromLTRB(120.0, 132.0, 680.0, 284.0))
flutter: the drag offset is inside the block, dragOffset(Offset(228.2, 165.7)), globalBlockRect(Rect.fromLTRB(120.0, 132.0, 680.0, 284.0))
flutter: the drag offset is inside the block, dragOffset(Offset(234.6, 169.2)), globalBlockRect(Rect.fromLTRB(120.0, 132.0, 680.0, 284.0))
flutter: the drag offset is inside the block, dragOffset(Offset(234.6, 165.6)), globalBlockRect(Rect.fromLTRB(120.0, 132.0, 680.0, 284.0))
flutter: the drag offset is inside the block, dragOffset(Offset(233.9, 158.3)), globalBlockRect(Rect.fromLTRB(120.0, 132.0, 680.0, 284.0))
flutter: the drag offset is inside the block, dragOffset(Offset(233.6, 156.7)), globalBlockRect(Rect.fromLTRB(120.0, 132.0, 680.0, 284.0))
flutter: the drag offset is inside the block, dragOffset(Offset(233.6, 155.6)), globalBlockRect(Rect.fromLTRB(120.0, 132.0, 680.0, 284.0))
flutter: the drag offset is inside the block, dragOffset(Offset(233.6, 153.9)), globalBlockRect(Rect.fromLTRB(120.0, 132.0, 680.0, 284.0))
flutter: the drag offset is inside the block, dragOffset(Offset(233.6, 152.6)), globalBlockRect(Rect.fromLTRB(120.0, 132.0, 680.0, 284.0))
flutter: the drag offset is inside the block, dragOffset(Offset(233.6, 152.1)), globalBlockRect(Rect.fromLTRB(120.0, 132.0, 680.0, 284.0))
flutter: the drag offset is inside the block, dragOffset(Offset(233.6, 151.3)), globalBlockRect(Rect.fromLTRB(120.0, 132.0, 680.0, 284.0))
flutter: the drag offset is inside the block, dragOffset(Offset(233.6, 149.0)), globalBlockRect(Rect.fromLTRB(120.0, 132.0, 680.0, 284.0))
flutter: the drag offset is inside the block, dragOffset(Offset(233.6, 148.8)), globalBlockRect(Rect.fromLTRB(120.0, 132.0, 680.0, 284.0))
flutter: the drag offset is inside the block, dragOffset(Offset(233.6, 147.1)), globalBlockRect(Rect.fromLTRB(120.0, 132.0, 680.0, 284.0))
flutter: the drag offset is inside the block, dragOffset(Offset(233.6, 146.9)), globalBlockRect(Rect.fromLTRB(120.0, 132.0, 680.0, 284.0))
flutter: the drag offset is inside the block, dragOffset(Offset(233.6, 146.4)), globalBlockRect(Rect.fromLTRB(120.0, 132.0, 680.0, 284.0))
flutter: the drag offset is inside the block, dragOffset(Offset(233.9, 145.9)), globalBlockRect(Rect.fromLTRB(120.0, 132.0, 680.0, 284.0))
flutter: the drag offset is inside the block, dragOffset(Offset(233.9, 145.6)), globalBlockRect(Rect.fromLTRB(120.0, 132.0, 680.0, 284.0))
flutter: the drag offset is inside the block, dragOffset(Offset(234.1, 145.1)), globalBlockRect(Rect.fromLTRB(120.0, 132.0, 680.0, 284.0))
flutter: the drag offset is inside the block, dragOffset(Offset(236.5, 143.9)), globalBlockRect(Rect.fromLTRB(120.0, 132.0, 680.0, 284.0))
flutter: the drag offset is inside the block, dragOffset(Offset(236.5, 143.4)), globalBlockRect(Rect.fromLTRB(120.0, 132.0, 680.0, 284.0))
flutter: onDragEnd, acceptedPath([2])
flutter: the drag offset is inside the block, dragOffset(Offset(236.5, 143.4)), globalBlockRect(Rect.fromLTRB(120.0, 132.0, 680.0, 284.0))
flutter: Moving node(Node(id: HYvdCr, type: paragraph, attributes: {delta: [{insert: Task 1}], device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a, timestamp: 2025-04-24T17:14:28.685801}, children: [Node(id: VLfhuW, type: paragraph, attributes: {delta: [{insert: Task 2}], timestamp: 2025-04-24T17:14:31.317748, device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a}, children: []), Node(id: pLZrvb, type: paragraph, attributes: {delta: [{insert: Task 3}], timestamp: 2025-04-24T17:14:32.750175, device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a}, children: [])]), [2, 0]) to path([2])
flutter: Transaction done
apply_action: Starting with 1 actions for doc_id: xxxx
move_block: Moving block_id: HYvdCr from parent: eYz-nn to parent: m8OEVv
remove_block_from_prev_id_chain: Removing block HYvdCr from chain
  Finding blocks that reference HYvdCr as their prev_id
find_block_referencing_prev_id: Searching for blocks with prev_id = HYvdCr
  Found 12 total blocks to check
  Checking block: VLfhuW
    Block does not have prev_id
  Checking block: eYz-nn
    Block has prev_id: ixjcxC, matches target: false
  Checking block: pLZrvb
    Block has prev_id: VLfhuW, matches target: false
  Checking block: m8OEVv
    Block does not have prev_id
  Checking block: jmAIx4
    Block has prev_id: eYz-nn, matches target: false
  Checking block: ixjcxC
    Block has prev_id: Cbb2Xg, matches target: false
  Checking block: iT1F-F
    Block does not have prev_id
  Checking block: zhA_gK
    Block does not have prev_id
  Checking block: Cbb2Xg
    Block does not have prev_id
  Checking block: Z3TeKI
    Block does not have prev_id
  Checking block: HYvdCr
    Block does not have prev_id
  Checking block: Mk_Gts
    Block does not have prev_id
find_block_referencing_prev_id: Found 0 blocks with prev_id = HYvdCr: []
  Found 0 next blocks: []
remove_block_from_prev_id_chain: Completed
handle_following_connection: block_id=HYvdCr, next_id=Some("eYz-nn"), prev_id=Some("ixjcxC")
  Using prev_id strategy (prev_id=ixjcxC)
find_block_referencing_prev_id: Searching for blocks with prev_id = ixjcxC
  Found 12 total blocks to check
  Checking block: VLfhuW
    Block does not have prev_id
  Checking block: eYz-nn
    Block has prev_id: ixjcxC, matches target: true
  Checking block: pLZrvb
    Block has prev_id: VLfhuW, matches target: false
  Checking block: m8OEVv
    Block does not have prev_id
  Checking block: jmAIx4
    Block has prev_id: eYz-nn, matches target: false
  Checking block: ixjcxC
    Block has prev_id: Cbb2Xg, matches target: false
  Checking block: iT1F-F
    Block does not have prev_id
  Checking block: zhA_gK
    Block does not have prev_id
  Checking block: Cbb2Xg
    Block does not have prev_id
  Checking block: Z3TeKI
    Block does not have prev_id
  Checking block: HYvdCr
    Block does not have prev_id
  Checking block: Mk_Gts
    Block does not have prev_id
find_block_referencing_prev_id: Found 1 blocks with prev_id = ixjcxC: ["eYz-nn"]
  Found 1 nodes that reference prev_id ixjcxC: ["eYz-nn"]
  Updating block eYz-nn to point to HYvdCr
  Finished prev_id strategy
move_block: Moved block between parents
apply_action: Encoding state for doc_id: xxxx
apply_updates: Starting with 103 updates for doc_id: xxxx
apply_updates: Starting with 103 updates for doc_id: xxxx
apply_updates: Applying update for doc_id: xxxx
apply_updates: Finished for doc_id: xxxx
apply_updates: Successfully applied updates for doc_id: xxxx
get_document_state: Starting for doc_id: xxxx
extract_document_state: Starting for doc_id: xxxx
extract_document_state: Processing 12 blocks
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 0 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 0 deltas
====== STARTING BLOCK SORTING ======
Input children_map has 11 parent nodes

----- Sorting children of parent: m8OEVv -----
Parent has 5 children to sort
Mapped 5 valid blocks by ID
Block Cbb2Xg assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block ixjcxC assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block jmAIx4 assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block HYvdCr assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block eYz-nn assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Grouped blocks into 1 devices
  - Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 5 blocks
Block Cbb2Xg has no prev_id
Block ixjcxC has prev_id Cbb2Xg
Block jmAIx4 has prev_id eYz-nn
Block HYvdCr has prev_id ixjcxC
Block eYz-nn has prev_id HYvdCr
Built prev->next map with 4 entries
  - HYvdCr has 1 next blocks: ["eYz-nn"]
  - eYz-nn has 1 next blocks: ["jmAIx4"]
  - ixjcxC has 1 next blocks: ["HYvdCr"]
  - Cbb2Xg has 1 next blocks: ["ixjcxC"]
Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 1 root blocks: ["Cbb2Xg"]
Processing devices in order: ["4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"]

Processing device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Sorted roots for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a: ["Cbb2Xg"]
Starting chain from root: Cbb2Xg
  Adding block Cbb2Xg to sorted list
    Pushing ixjcxC onto stack
  Adding block ixjcxC to sorted list
    Pushing HYvdCr onto stack
  Adding block HYvdCr to sorted list
    Pushing eYz-nn onto stack
  Adding block eYz-nn to sorted list
    Pushing jmAIx4 onto stack
  Adding block jmAIx4 to sorted list
  No next blocks for jmAIx4
No remaining blocks for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
No globally remaining blocks
Final sorted order for parent m8OEVv: ["Cbb2Xg", "ixjcxC", "HYvdCr", "eYz-nn", "jmAIx4"]

----- Sorting children of parent: pLZrvb -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent pLZrvb: []

----- Sorting children of parent: Z3TeKI -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent Z3TeKI: []

----- Sorting children of parent: eYz-nn -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent eYz-nn: []

----- Sorting children of parent: zhA_gK -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent zhA_gK: []

----- Sorting children of parent: iT1F-F -----
Parent has 1 children to sort
WARNING: Block with ID VC6SQw not found in blocks map
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
Adding 1 globally remaining blocks: ["VC6SQw"]
  Adding remaining block VC6SQw to sorted list
Final sorted order for parent iT1F-F: ["VC6SQw"]

----- Sorting children of parent: jmAIx4 -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent jmAIx4: []

----- Sorting children of parent: ixjcxC -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent ixjcxC: []

----- Sorting children of parent: Cbb2Xg -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent Cbb2Xg: []

----- Sorting children of parent: HYvdCr -----
Parent has 2 children to sort
Mapped 2 valid blocks by ID
Block pLZrvb assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block VLfhuW assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Grouped blocks into 1 devices
  - Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 2 blocks
Block pLZrvb has prev_id VLfhuW
Block VLfhuW has no prev_id
Built prev->next map with 1 entries
  - VLfhuW has 1 next blocks: ["pLZrvb"]
Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 1 root blocks: ["VLfhuW"]
Processing devices in order: ["4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"]

Processing device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Sorted roots for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a: ["VLfhuW"]
Starting chain from root: VLfhuW
  Adding block VLfhuW to sorted list
    Pushing pLZrvb onto stack
  Adding block pLZrvb to sorted list
  No next blocks for pLZrvb
No remaining blocks for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
No globally remaining blocks
Final sorted order for parent HYvdCr: ["VLfhuW", "pLZrvb"]

----- Sorting children of parent: VLfhuW -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent VLfhuW: []
====== COMPLETED BLOCK SORTING ======
Final sorted children map has 11 parents
extract_document_state: Extracted 12 blocks and 11 parent-child relationships
get_document_state: Finished for doc_id: xxxx
merge_updates: Merging 1 updates
merge_updates: Successfully merged updates
apply_updates: Starting with 104 updates for doc_id: xxxx
apply_updates: Starting with 104 updates for doc_id: xxxx
apply_updates: Applying update for doc_id: xxxx
apply_updates: Finished for doc_id: xxxx
apply_updates: Successfully applied updates for doc_id: xxxx
get_document_state: Starting for doc_id: xxxx
extract_document_state: Starting for doc_id: xxxx
extract_document_state: Processing 12 blocks
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 0 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 0 deltas
====== STARTING BLOCK SORTING ======
Input children_map has 11 parent nodes

----- Sorting children of parent: jmAIx4 -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent jmAIx4: []

----- Sorting children of parent: Z3TeKI -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent Z3TeKI: []

----- Sorting children of parent: iT1F-F -----
Parent has 1 children to sort
WARNING: Block with ID VC6SQw not found in blocks map
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
Adding 1 globally remaining blocks: ["VC6SQw"]
  Adding remaining block VC6SQw to sorted list
Final sorted order for parent iT1F-F: ["VC6SQw"]

----- Sorting children of parent: Cbb2Xg -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent Cbb2Xg: []

----- Sorting children of parent: ixjcxC -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent ixjcxC: []

----- Sorting children of parent: VLfhuW -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent VLfhuW: []

----- Sorting children of parent: zhA_gK -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent zhA_gK: []

----- Sorting children of parent: m8OEVv -----
Parent has 5 children to sort
Mapped 5 valid blocks by ID
Block HYvdCr assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block ixjcxC assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block jmAIx4 assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block Cbb2Xg assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block eYz-nn assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Grouped blocks into 1 devices
  - Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 5 blocks
Block HYvdCr has prev_id ixjcxC
Block ixjcxC has prev_id Cbb2Xg
Block jmAIx4 has prev_id eYz-nn
Block Cbb2Xg has no prev_id
Block eYz-nn has prev_id HYvdCr
Built prev->next map with 4 entries
  - HYvdCr has 1 next blocks: ["eYz-nn"]
  - eYz-nn has 1 next blocks: ["jmAIx4"]
  - Cbb2Xg has 1 next blocks: ["ixjcxC"]
  - ixjcxC has 1 next blocks: ["HYvdCr"]
Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 1 root blocks: ["Cbb2Xg"]
Processing devices in order: ["4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"]

Processing device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Sorted roots for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a: ["Cbb2Xg"]
Starting chain from root: Cbb2Xg
  Adding block Cbb2Xg to sorted list
    Pushing ixjcxC onto stack
  Adding block ixjcxC to sorted list
    Pushing HYvdCr onto stack
  Adding block HYvdCr to sorted list
    Pushing eYz-nn onto stack
  Adding block eYz-nn to sorted list
    Pushing jmAIx4 onto stack
  Adding block jmAIx4 to sorted list
  No next blocks for jmAIx4
No remaining blocks for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
No globally remaining blocks
Final sorted order for parent m8OEVv: ["Cbb2Xg", "ixjcxC", "HYvdCr", "eYz-nn", "jmAIx4"]

----- Sorting children of parent: pLZrvb -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent pLZrvb: []

----- Sorting children of parent: eYz-nn -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent eYz-nn: []

----- Sorting children of parent: HYvdCr -----
Parent has 2 children to sort
Mapped 2 valid blocks by ID
Block pLZrvb assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block VLfhuW assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Grouped blocks into 1 devices
  - Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 2 blocks
Block pLZrvb has prev_id VLfhuW
Block VLfhuW has no prev_id
Built prev->next map with 1 entries
  - VLfhuW has 1 next blocks: ["pLZrvb"]
Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 1 root blocks: ["VLfhuW"]
Processing devices in order: ["4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"]

Processing device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Sorted roots for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a: ["VLfhuW"]
Starting chain from root: VLfhuW
  Adding block VLfhuW to sorted list
    Pushing pLZrvb onto stack
  Adding block pLZrvb to sorted list
  No next blocks for pLZrvb
No remaining blocks for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
No globally remaining blocks
Final sorted order for parent HYvdCr: ["VLfhuW", "pLZrvb"]
====== COMPLETED BLOCK SORTING ======
Final sorted children map has 11 parents
extract_document_state: Extracted 12 blocks and 11 parent-child relationships
get_document_state: Finished for doc_id: xxxx
flutter: onDragStarted
flutter: the drag offset is inside the block, dragOffset(Offset(210.9, 131.9)), globalBlockRect(Rect.fromLTRB(120.0, 94.0, 680.0, 132.0))
flutter: the drag offset is inside the block, dragOffset(Offset(211.9, 130.3)), globalBlockRect(Rect.fromLTRB(120.0, 94.0, 680.0, 132.0))
flutter: the drag offset is inside the block, dragOffset(Offset(212.2, 130.1)), globalBlockRect(Rect.fromLTRB(120.0, 94.0, 680.0, 132.0))
flutter: the drag offset is inside the block, dragOffset(Offset(212.9, 129.3)), globalBlockRect(Rect.fromLTRB(120.0, 94.0, 680.0, 132.0))
flutter: the drag offset is inside the block, dragOffset(Offset(212.9, 128.5)), globalBlockRect(Rect.fromLTRB(120.0, 94.0, 680.0, 132.0))
flutter: the drag offset is inside the block, dragOffset(Offset(214.7, 126.7)), globalBlockRect(Rect.fromLTRB(120.0, 94.0, 680.0, 132.0))
flutter: the drag offset is inside the block, dragOffset(Offset(215.7, 125.4)), globalBlockRect(Rect.fromLTRB(120.0, 94.0, 680.0, 132.0))
flutter: the drag offset is inside the block, dragOffset(Offset(216.2, 124.8)), globalBlockRect(Rect.fromLTRB(120.0, 94.0, 680.0, 132.0))
flutter: the drag offset is inside the block, dragOffset(Offset(216.5, 124.6)), globalBlockRect(Rect.fromLTRB(120.0, 94.0, 680.0, 132.0))
flutter: the drag offset is inside the block, dragOffset(Offset(217.0, 124.1)), globalBlockRect(Rect.fromLTRB(120.0, 94.0, 680.0, 132.0))
flutter: the drag offset is inside the block, dragOffset(Offset(217.2, 123.8)), globalBlockRect(Rect.fromLTRB(120.0, 94.0, 680.0, 132.0))
flutter: the drag offset is inside the block, dragOffset(Offset(218.0, 123.0)), globalBlockRect(Rect.fromLTRB(120.0, 94.0, 680.0, 132.0))
flutter: the drag offset is inside the block, dragOffset(Offset(218.5, 122.5)), globalBlockRect(Rect.fromLTRB(120.0, 94.0, 680.0, 132.0))
flutter: the drag offset is inside the block, dragOffset(Offset(218.8, 122.3)), globalBlockRect(Rect.fromLTRB(120.0, 94.0, 680.0, 132.0))
flutter: the drag offset is inside the block, dragOffset(Offset(218.8, 122.0)), globalBlockRect(Rect.fromLTRB(120.0, 94.0, 680.0, 132.0))
flutter: the drag offset is inside the block, dragOffset(Offset(219.0, 121.8)), globalBlockRect(Rect.fromLTRB(120.0, 94.0, 680.0, 132.0))
flutter: onDragEnd, acceptedPath([2])
flutter: the drag offset is inside the block, dragOffset(Offset(219.0, 121.8)), globalBlockRect(Rect.fromLTRB(120.0, 94.0, 680.0, 132.0))
flutter: Moving node(Node(id: HYvdCr, type: paragraph, attributes: {delta: [{insert: Task 1}], device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a, timestamp: 2025-04-24T17:14:28.685801}, children: [Node(id: VLfhuW, type: paragraph, attributes: {delta: [{insert: Task 2}], timestamp: 2025-04-24T17:14:31.317748, device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a}, children: []), Node(id: pLZrvb, type: paragraph, attributes: {delta: [{insert: Task 3}], timestamp: 2025-04-24T17:14:32.750175, device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a}, children: [])]), [2]) to path([1])
flutter: Transaction done
apply_action: Starting with 1 actions for doc_id: xxxx
move_block: Moving block_id: HYvdCr from parent: m8OEVv to parent: ixjcxC
remove_block_from_prev_id_chain: Removing block HYvdCr from chain
  Block HYvdCr has prev_id: ixjcxC
  Finding blocks that reference HYvdCr as their prev_id
find_block_referencing_prev_id: Searching for blocks with prev_id = HYvdCr
  Found 12 total blocks to check
  Checking block: pLZrvb
    Block has prev_id: VLfhuW, matches target: false
  Checking block: m8OEVv
    Block does not have prev_id
  Checking block: ixjcxC
    Block has prev_id: Cbb2Xg, matches target: false
  Checking block: iT1F-F
    Block does not have prev_id
  Checking block: VLfhuW
    Block does not have prev_id
  Checking block: Z3TeKI
    Block does not have prev_id
  Checking block: zhA_gK
    Block does not have prev_id
  Checking block: eYz-nn
    Block has prev_id: HYvdCr, matches target: true
  Checking block: jmAIx4
    Block has prev_id: eYz-nn, matches target: false
  Checking block: Cbb2Xg
    Block does not have prev_id
  Checking block: HYvdCr
    Block has prev_id: ixjcxC, matches target: false
  Checking block: Mk_Gts
    Block does not have prev_id
find_block_referencing_prev_id: Found 1 blocks with prev_id = HYvdCr: ["eYz-nn"]
  Found 1 next blocks: ["eYz-nn"]
  Updating next block eYz-nn to point to ixjcxC (was pointing to HYvdCr)
remove_block_from_prev_id_chain: Completed
handle_following_connection: block_id=HYvdCr, next_id=None, prev_id=None
  No prev_id or next_id provided, nothing to handle
handle_following_connection: Completed
move_block: Moved block between parents
apply_action: Encoding state for doc_id: xxxx
apply_updates: Starting with 103 updates for doc_id: xxxx
apply_updates: Starting with 103 updates for doc_id: xxxx
apply_updates: Applying update for doc_id: xxxx
apply_updates: Finished for doc_id: xxxx
apply_updates: Successfully applied updates for doc_id: xxxx
get_document_state: Starting for doc_id: xxxx
extract_document_state: Starting for doc_id: xxxx
extract_document_state: Processing 12 blocks
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 0 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 0 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
====== STARTING BLOCK SORTING ======
Input children_map has 11 parent nodes

----- Sorting children of parent: eYz-nn -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent eYz-nn: []

----- Sorting children of parent: Cbb2Xg -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent Cbb2Xg: []

----- Sorting children of parent: pLZrvb -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent pLZrvb: []

----- Sorting children of parent: HYvdCr -----
Parent has 2 children to sort
Mapped 2 valid blocks by ID
Block pLZrvb assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block VLfhuW assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Grouped blocks into 1 devices
  - Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 2 blocks
Block pLZrvb has prev_id VLfhuW
Block VLfhuW has no prev_id
Built prev->next map with 1 entries
  - VLfhuW has 1 next blocks: ["pLZrvb"]
Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 1 root blocks: ["VLfhuW"]
Processing devices in order: ["4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"]

Processing device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Sorted roots for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a: ["VLfhuW"]
Starting chain from root: VLfhuW
  Adding block VLfhuW to sorted list
    Pushing pLZrvb onto stack
  Adding block pLZrvb to sorted list
  No next blocks for pLZrvb
No remaining blocks for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
No globally remaining blocks
Final sorted order for parent HYvdCr: ["VLfhuW", "pLZrvb"]

----- Sorting children of parent: ixjcxC -----
Parent has 1 children to sort
Mapped 1 valid blocks by ID
Block HYvdCr assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Grouped blocks into 1 devices
  - Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 1 blocks
Block HYvdCr has no prev_id
Built prev->next map with 0 entries
Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 1 root blocks: ["HYvdCr"]
Processing devices in order: ["4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"]

Processing device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Sorted roots for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a: ["HYvdCr"]
Starting chain from root: HYvdCr
  Adding block HYvdCr to sorted list
  No next blocks for HYvdCr
No remaining blocks for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
No globally remaining blocks
Final sorted order for parent ixjcxC: ["HYvdCr"]

----- Sorting children of parent: iT1F-F -----
Parent has 1 children to sort
WARNING: Block with ID VC6SQw not found in blocks map
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
Adding 1 globally remaining blocks: ["VC6SQw"]
  Adding remaining block VC6SQw to sorted list
Final sorted order for parent iT1F-F: ["VC6SQw"]

----- Sorting children of parent: jmAIx4 -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent jmAIx4: []

----- Sorting children of parent: zhA_gK -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent zhA_gK: []

----- Sorting children of parent: m8OEVv -----
Parent has 4 children to sort
Mapped 4 valid blocks by ID
Block ixjcxC assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block eYz-nn assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block Cbb2Xg assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block jmAIx4 assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Grouped blocks into 1 devices
  - Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 4 blocks
Block ixjcxC has prev_id Cbb2Xg
Block eYz-nn has prev_id ixjcxC
Block Cbb2Xg has no prev_id
Block jmAIx4 has prev_id eYz-nn
Built prev->next map with 3 entries
  - eYz-nn has 1 next blocks: ["jmAIx4"]
  - ixjcxC has 1 next blocks: ["eYz-nn"]
  - Cbb2Xg has 1 next blocks: ["ixjcxC"]
Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 1 root blocks: ["Cbb2Xg"]
Processing devices in order: ["4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"]

Processing device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Sorted roots for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a: ["Cbb2Xg"]
Starting chain from root: Cbb2Xg
  Adding block Cbb2Xg to sorted list
    Pushing ixjcxC onto stack
  Adding block ixjcxC to sorted list
    Pushing eYz-nn onto stack
  Adding block eYz-nn to sorted list
    Pushing jmAIx4 onto stack
  Adding block jmAIx4 to sorted list
  No next blocks for jmAIx4
No remaining blocks for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
No globally remaining blocks
Final sorted order for parent m8OEVv: ["Cbb2Xg", "ixjcxC", "eYz-nn", "jmAIx4"]

----- Sorting children of parent: Z3TeKI -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent Z3TeKI: []

----- Sorting children of parent: VLfhuW -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent VLfhuW: []
====== COMPLETED BLOCK SORTING ======
Final sorted children map has 11 parents
extract_document_state: Extracted 12 blocks and 11 parent-child relationships
get_document_state: Finished for doc_id: xxxx
merge_updates: Merging 1 updates
merge_updates: Successfully merged updates
apply_updates: Starting with 104 updates for doc_id: xxxx
apply_updates: Starting with 104 updates for doc_id: xxxx
apply_updates: Applying update for doc_id: xxxx
apply_updates: Finished for doc_id: xxxx
apply_updates: Successfully applied updates for doc_id: xxxx
get_document_state: Starting for doc_id: xxxx
extract_document_state: Starting for doc_id: xxxx
extract_document_state: Processing 12 blocks
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 0 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 0 deltas
deltas_to_json: Converting 1 deltas
====== STARTING BLOCK SORTING ======
Input children_map has 11 parent nodes

----- Sorting children of parent: pLZrvb -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent pLZrvb: []

----- Sorting children of parent: ixjcxC -----
Parent has 1 children to sort
Mapped 1 valid blocks by ID
Block HYvdCr assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Grouped blocks into 1 devices
  - Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 1 blocks
Block HYvdCr has no prev_id
Built prev->next map with 0 entries
Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 1 root blocks: ["HYvdCr"]
Processing devices in order: ["4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"]

Processing device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Sorted roots for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a: ["HYvdCr"]
Starting chain from root: HYvdCr
  Adding block HYvdCr to sorted list
  No next blocks for HYvdCr
No remaining blocks for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
No globally remaining blocks
Final sorted order for parent ixjcxC: ["HYvdCr"]

----- Sorting children of parent: VLfhuW -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent VLfhuW: []

----- Sorting children of parent: jmAIx4 -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent jmAIx4: []

----- Sorting children of parent: HYvdCr -----
Parent has 2 children to sort
Mapped 2 valid blocks by ID
Block VLfhuW assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block pLZrvb assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Grouped blocks into 1 devices
  - Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 2 blocks
Block VLfhuW has no prev_id
Block pLZrvb has prev_id VLfhuW
Built prev->next map with 1 entries
  - VLfhuW has 1 next blocks: ["pLZrvb"]
Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 1 root blocks: ["VLfhuW"]
Processing devices in order: ["4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"]

Processing device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Sorted roots for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a: ["VLfhuW"]
Starting chain from root: VLfhuW
  Adding block VLfhuW to sorted list
    Pushing pLZrvb onto stack
  Adding block pLZrvb to sorted list
  No next blocks for pLZrvb
No remaining blocks for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
No globally remaining blocks
Final sorted order for parent HYvdCr: ["VLfhuW", "pLZrvb"]

----- Sorting children of parent: m8OEVv -----
Parent has 4 children to sort
Mapped 4 valid blocks by ID
Block eYz-nn assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block jmAIx4 assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block Cbb2Xg assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block ixjcxC assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Grouped blocks into 1 devices
  - Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 4 blocks
Block eYz-nn has prev_id ixjcxC
Block jmAIx4 has prev_id eYz-nn
Block Cbb2Xg has no prev_id
Block ixjcxC has prev_id Cbb2Xg
Built prev->next map with 3 entries
  - eYz-nn has 1 next blocks: ["jmAIx4"]
  - ixjcxC has 1 next blocks: ["eYz-nn"]
  - Cbb2Xg has 1 next blocks: ["ixjcxC"]
Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 1 root blocks: ["Cbb2Xg"]
Processing devices in order: ["4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"]

Processing device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Sorted roots for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a: ["Cbb2Xg"]
Starting chain from root: Cbb2Xg
  Adding block Cbb2Xg to sorted list
    Pushing ixjcxC onto stack
  Adding block ixjcxC to sorted list
    Pushing eYz-nn onto stack
  Adding block eYz-nn to sorted list
    Pushing jmAIx4 onto stack
  Adding block jmAIx4 to sorted list
  No next blocks for jmAIx4
No remaining blocks for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
No globally remaining blocks
Final sorted order for parent m8OEVv: ["Cbb2Xg", "ixjcxC", "eYz-nn", "jmAIx4"]

----- Sorting children of parent: iT1F-F -----
Parent has 1 children to sort
WARNING: Block with ID VC6SQw not found in blocks map
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
Adding 1 globally remaining blocks: ["VC6SQw"]
  Adding remaining block VC6SQw to sorted list
Final sorted order for parent iT1F-F: ["VC6SQw"]

----- Sorting children of parent: Cbb2Xg -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent Cbb2Xg: []

----- Sorting children of parent: zhA_gK -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent zhA_gK: []

----- Sorting children of parent: eYz-nn -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent eYz-nn: []

----- Sorting children of parent: Z3TeKI -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent Z3TeKI: []
====== COMPLETED BLOCK SORTING ======
Final sorted children map has 11 parents
extract_document_state: Extracted 12 blocks and 11 parent-child relationships
get_document_state: Finished for doc_id: xxxx
flutter: onDragStarted
flutter: the drag offset is inside the block, dragOffset(Offset(195.2, 130.1)), globalBlockRect(Rect.fromLTRB(120.0, 94.0, 680.0, 246.0))
flutter: the drag offset is inside the block, dragOffset(Offset(200.4, 126.1)), globalBlockRect(Rect.fromLTRB(120.0, 94.0, 680.0, 246.0))
flutter: the drag offset is inside the block, dragOffset(Offset(203.9, 120.8)), globalBlockRect(Rect.fromLTRB(120.0, 94.0, 680.0, 246.0))
flutter: the drag offset is inside the block, dragOffset(Offset(206.1, 117.9)), globalBlockRect(Rect.fromLTRB(120.0, 94.0, 680.0, 246.0))
flutter: the drag offset is inside the block, dragOffset(Offset(208.2, 115.0)), globalBlockRect(Rect.fromLTRB(120.0, 94.0, 680.0, 246.0))
flutter: the drag offset is inside the block, dragOffset(Offset(208.9, 113.3)), globalBlockRect(Rect.fromLTRB(120.0, 94.0, 680.0, 246.0))
flutter: the drag offset is inside the block, dragOffset(Offset(209.2, 112.8)), globalBlockRect(Rect.fromLTRB(120.0, 94.0, 680.0, 246.0))
flutter: the drag offset is inside the block, dragOffset(Offset(209.5, 112.1)), globalBlockRect(Rect.fromLTRB(120.0, 94.0, 680.0, 246.0))
flutter: the drag offset is inside the block, dragOffset(Offset(210.0, 111.5)), globalBlockRect(Rect.fromLTRB(120.0, 94.0, 680.0, 246.0))
flutter: the drag offset is inside the block, dragOffset(Offset(210.0, 111.0)), globalBlockRect(Rect.fromLTRB(120.0, 94.0, 680.0, 246.0))
flutter: the drag offset is inside the block, dragOffset(Offset(212.2, 108.7)), globalBlockRect(Rect.fromLTRB(120.0, 94.0, 680.0, 246.0))
flutter: the drag offset is inside the block, dragOffset(Offset(213.0, 108.0)), globalBlockRect(Rect.fromLTRB(120.0, 94.0, 680.0, 246.0))
flutter: the drag offset is inside the block, dragOffset(Offset(213.4, 106.8)), globalBlockRect(Rect.fromLTRB(120.0, 94.0, 680.0, 246.0))
flutter: the drag offset is inside the block, dragOffset(Offset(214.5, 105.6)), globalBlockRect(Rect.fromLTRB(120.0, 94.0, 680.0, 246.0))
flutter: the drag offset is inside the block, dragOffset(Offset(215.9, 102.7)), globalBlockRect(Rect.fromLTRB(120.0, 94.0, 680.0, 246.0))
flutter: the drag offset is inside the block, dragOffset(Offset(215.9, 102.4)), globalBlockRect(Rect.fromLTRB(120.0, 94.0, 680.0, 246.0))
flutter: the drag offset is inside the block, dragOffset(Offset(217.4, 99.8)), globalBlockRect(Rect.fromLTRB(120.0, 94.0, 680.0, 246.0))
flutter: the drag offset is inside the block, dragOffset(Offset(217.7, 98.4)), globalBlockRect(Rect.fromLTRB(120.0, 94.0, 680.0, 246.0))
flutter: the drag offset is inside the block, dragOffset(Offset(218.3, 98.2)), globalBlockRect(Rect.fromLTRB(120.0, 94.0, 680.0, 246.0))
flutter: the drag offset is inside the block, dragOffset(Offset(218.8, 97.4)), globalBlockRect(Rect.fromLTRB(120.0, 94.0, 680.0, 246.0))
flutter: the drag offset is inside the block, dragOffset(Offset(219.0, 96.9)), globalBlockRect(Rect.fromLTRB(120.0, 94.0, 680.0, 246.0))
flutter: the drag offset is inside the block, dragOffset(Offset(219.0, 96.4)), globalBlockRect(Rect.fromLTRB(120.0, 94.0, 680.0, 246.0))
flutter: the drag offset is inside the block, dragOffset(Offset(219.0, 95.0)), globalBlockRect(Rect.fromLTRB(120.0, 94.0, 680.0, 246.0))
flutter: the drag offset is inside the block, dragOffset(Offset(220.5, 92.1)), globalBlockRect(Rect.fromLTRB(120.0, 56.0, 680.0, 94.0))
flutter: the drag offset is inside the block, dragOffset(Offset(220.5, 91.6)), globalBlockRect(Rect.fromLTRB(120.0, 56.0, 680.0, 94.0))
flutter: the drag offset is inside the block, dragOffset(Offset(221.2, 90.6)), globalBlockRect(Rect.fromLTRB(120.0, 56.0, 680.0, 94.0))
flutter: the drag offset is inside the block, dragOffset(Offset(221.2, 90.1)), globalBlockRect(Rect.fromLTRB(120.0, 56.0, 680.0, 94.0))
flutter: the drag offset is inside the block, dragOffset(Offset(221.5, 89.8)), globalBlockRect(Rect.fromLTRB(120.0, 56.0, 680.0, 94.0))
flutter: the drag offset is inside the block, dragOffset(Offset(221.7, 89.5)), globalBlockRect(Rect.fromLTRB(120.0, 56.0, 680.0, 94.0))
flutter: the drag offset is inside the block, dragOffset(Offset(222.2, 89.0)), globalBlockRect(Rect.fromLTRB(120.0, 56.0, 680.0, 94.0))
flutter: the drag offset is inside the block, dragOffset(Offset(222.5, 88.8)), globalBlockRect(Rect.fromLTRB(120.0, 56.0, 680.0, 94.0))
flutter: the drag offset is inside the block, dragOffset(Offset(224.8, 86.5)), globalBlockRect(Rect.fromLTRB(120.0, 56.0, 680.0, 94.0))
flutter: the drag offset is inside the block, dragOffset(Offset(225.0, 86.5)), globalBlockRect(Rect.fromLTRB(120.0, 56.0, 680.0, 94.0))
flutter: the drag offset is inside the block, dragOffset(Offset(225.8, 86.0)), globalBlockRect(Rect.fromLTRB(120.0, 56.0, 680.0, 94.0))
flutter: the drag offset is inside the block, dragOffset(Offset(226.0, 85.2)), globalBlockRect(Rect.fromLTRB(120.0, 56.0, 680.0, 94.0))
flutter: the drag offset is inside the block, dragOffset(Offset(226.8, 84.1)), globalBlockRect(Rect.fromLTRB(120.0, 56.0, 680.0, 94.0))
flutter: the drag offset is inside the block, dragOffset(Offset(227.8, 83.0)), globalBlockRect(Rect.fromLTRB(120.0, 56.0, 680.0, 94.0))
flutter: the drag offset is inside the block, dragOffset(Offset(228.6, 82.5)), globalBlockRect(Rect.fromLTRB(120.0, 56.0, 680.0, 94.0))
flutter: the drag offset is inside the block, dragOffset(Offset(229.1, 81.8)), globalBlockRect(Rect.fromLTRB(120.0, 56.0, 680.0, 94.0))
flutter: the drag offset is inside the block, dragOffset(Offset(229.3, 81.2)), globalBlockRect(Rect.fromLTRB(120.0, 56.0, 680.0, 94.0))
flutter: the drag offset is inside the block, dragOffset(Offset(229.8, 81.0)), globalBlockRect(Rect.fromLTRB(120.0, 56.0, 680.0, 94.0))
flutter: the drag offset is inside the block, dragOffset(Offset(229.8, 80.7)), globalBlockRect(Rect.fromLTRB(120.0, 56.0, 680.0, 94.0))
flutter: the drag offset is inside the block, dragOffset(Offset(230.1, 80.2)), globalBlockRect(Rect.fromLTRB(120.0, 56.0, 680.0, 94.0))
flutter: the drag offset is inside the block, dragOffset(Offset(230.6, 79.7)), globalBlockRect(Rect.fromLTRB(120.0, 56.0, 680.0, 94.0))
flutter: the drag offset is inside the block, dragOffset(Offset(231.1, 79.2)), globalBlockRect(Rect.fromLTRB(120.0, 56.0, 680.0, 94.0))
flutter: the drag offset is inside the block, dragOffset(Offset(231.4, 78.9)), globalBlockRect(Rect.fromLTRB(120.0, 56.0, 680.0, 94.0))
flutter: the drag offset is inside the block, dragOffset(Offset(231.6, 78.7)), globalBlockRect(Rect.fromLTRB(120.0, 56.0, 680.0, 94.0))
flutter: the drag offset is inside the block, dragOffset(Offset(231.6, 78.4)), globalBlockRect(Rect.fromLTRB(120.0, 56.0, 680.0, 94.0))
flutter: the drag offset is inside the block, dragOffset(Offset(231.9, 77.7)), globalBlockRect(Rect.fromLTRB(120.0, 56.0, 680.0, 94.0))
flutter: the drag offset is inside the block, dragOffset(Offset(232.1, 77.1)), globalBlockRect(Rect.fromLTRB(120.0, 56.0, 680.0, 94.0))
flutter: the drag offset is inside the block, dragOffset(Offset(232.4, 76.6)), globalBlockRect(Rect.fromLTRB(120.0, 56.0, 680.0, 94.0))
flutter: the drag offset is inside the block, dragOffset(Offset(232.4, 76.4)), globalBlockRect(Rect.fromLTRB(120.0, 56.0, 680.0, 94.0))
flutter: the drag offset is inside the block, dragOffset(Offset(232.4, 76.1)), globalBlockRect(Rect.fromLTRB(120.0, 56.0, 680.0, 94.0))
flutter: the drag offset is inside the block, dragOffset(Offset(232.6, 75.8)), globalBlockRect(Rect.fromLTRB(120.0, 56.0, 680.0, 94.0))
flutter: the drag offset is inside the block, dragOffset(Offset(233.1, 75.3)), globalBlockRect(Rect.fromLTRB(120.0, 56.0, 680.0, 94.0))
flutter: the drag offset is inside the block, dragOffset(Offset(233.5, 74.2)), globalBlockRect(Rect.fromLTRB(120.0, 56.0, 680.0, 94.0))
flutter: the drag offset is inside the block, dragOffset(Offset(233.8, 74.5)), globalBlockRect(Rect.fromLTRB(120.0, 56.0, 680.0, 94.0))
flutter: the drag offset is inside the block, dragOffset(Offset(233.8, 76.1)), globalBlockRect(Rect.fromLTRB(120.0, 56.0, 680.0, 94.0))
flutter: the drag offset is inside the block, dragOffset(Offset(233.0, 79.7)), globalBlockRect(Rect.fromLTRB(120.0, 56.0, 680.0, 94.0))
flutter: the drag offset is inside the block, dragOffset(Offset(233.0, 83.2)), globalBlockRect(Rect.fromLTRB(120.0, 56.0, 680.0, 94.0))
flutter: the drag offset is inside the block, dragOffset(Offset(232.7, 85.4)), globalBlockRect(Rect.fromLTRB(120.0, 56.0, 680.0, 94.0))
flutter: the drag offset is inside the block, dragOffset(Offset(232.4, 86.0)), globalBlockRect(Rect.fromLTRB(120.0, 56.0, 680.0, 94.0))
flutter: the drag offset is inside the block, dragOffset(Offset(232.4, 86.2)), globalBlockRect(Rect.fromLTRB(120.0, 56.0, 680.0, 94.0))
flutter: the drag offset is inside the block, dragOffset(Offset(232.4, 86.7)), globalBlockRect(Rect.fromLTRB(120.0, 56.0, 680.0, 94.0))
flutter: onDragEnd, acceptedPath([1])
flutter: the drag offset is inside the block, dragOffset(Offset(232.4, 86.7)), globalBlockRect(Rect.fromLTRB(120.0, 56.0, 680.0, 94.0))
flutter: Moving node(Node(id: HYvdCr, type: paragraph, attributes: {delta: [{insert: Task 1}], device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a, timestamp: 2025-04-24T17:14:28.685801}, children: [Node(id: VLfhuW, type: paragraph, attributes: {delta: [{insert: Task 2}], timestamp: 2025-04-24T17:14:31.317748, device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a}, children: []), Node(id: pLZrvb, type: paragraph, attributes: {delta: [{insert: Task 3}], timestamp: 2025-04-24T17:14:32.750175, device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a}, children: [])]), [1, 0]) to path([0])
flutter: Transaction done
apply_action: Starting with 1 actions for doc_id: xxxx
move_block: Moving block_id: HYvdCr from parent: ixjcxC to parent: Cbb2Xg
remove_block_from_prev_id_chain: Removing block HYvdCr from chain
  Finding blocks that reference HYvdCr as their prev_id
find_block_referencing_prev_id: Searching for blocks with prev_id = HYvdCr
  Found 12 total blocks to check
  Checking block: HYvdCr
    Block does not have prev_id
  Checking block: iT1F-F
    Block does not have prev_id
  Checking block: jmAIx4
    Block has prev_id: eYz-nn, matches target: false
  Checking block: pLZrvb
    Block has prev_id: VLfhuW, matches target: false
  Checking block: zhA_gK
    Block does not have prev_id
  Checking block: VLfhuW
    Block does not have prev_id
  Checking block: Cbb2Xg
    Block does not have prev_id
  Checking block: Z3TeKI
    Block does not have prev_id
  Checking block: m8OEVv
    Block does not have prev_id
  Checking block: eYz-nn
    Block has prev_id: ixjcxC, matches target: false
  Checking block: Mk_Gts
    Block does not have prev_id
  Checking block: ixjcxC
    Block has prev_id: Cbb2Xg, matches target: false
find_block_referencing_prev_id: Found 0 blocks with prev_id = HYvdCr: []
  Found 0 next blocks: []
remove_block_from_prev_id_chain: Completed
handle_following_connection: block_id=HYvdCr, next_id=None, prev_id=None
  No prev_id or next_id provided, nothing to handle
handle_following_connection: Completed
move_block: Moved block between parents
apply_action: Encoding state for doc_id: xxxx
apply_updates: Starting with 105 updates for doc_id: xxxx
apply_updates: Starting with 105 updates for doc_id: xxxx
apply_updates: Applying update for doc_id: xxxx
apply_updates: Finished for doc_id: xxxx
apply_updates: Successfully applied updates for doc_id: xxxx
get_document_state: Starting for doc_id: xxxx
extract_document_state: Starting for doc_id: xxxx
extract_document_state: Processing 12 blocks
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 0 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 0 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
====== STARTING BLOCK SORTING ======
Input children_map has 11 parent nodes

----- Sorting children of parent: Cbb2Xg -----
Parent has 1 children to sort
Mapped 1 valid blocks by ID
Block HYvdCr assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Grouped blocks into 1 devices
  - Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 1 blocks
Block HYvdCr has no prev_id
Built prev->next map with 0 entries
Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 1 root blocks: ["HYvdCr"]
Processing devices in order: ["4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"]

Processing device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Sorted roots for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a: ["HYvdCr"]
Starting chain from root: HYvdCr
  Adding block HYvdCr to sorted list
  No next blocks for HYvdCr
No remaining blocks for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
No globally remaining blocks
Final sorted order for parent Cbb2Xg: ["HYvdCr"]

----- Sorting children of parent: HYvdCr -----
Parent has 2 children to sort
Mapped 2 valid blocks by ID
Block VLfhuW assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block pLZrvb assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Grouped blocks into 1 devices
  - Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 2 blocks
Block VLfhuW has no prev_id
Block pLZrvb has prev_id VLfhuW
Built prev->next map with 1 entries
  - VLfhuW has 1 next blocks: ["pLZrvb"]
Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 1 root blocks: ["VLfhuW"]
Processing devices in order: ["4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"]

Processing device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Sorted roots for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a: ["VLfhuW"]
Starting chain from root: VLfhuW
  Adding block VLfhuW to sorted list
    Pushing pLZrvb onto stack
  Adding block pLZrvb to sorted list
  No next blocks for pLZrvb
No remaining blocks for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
No globally remaining blocks
Final sorted order for parent HYvdCr: ["VLfhuW", "pLZrvb"]

----- Sorting children of parent: VLfhuW -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent VLfhuW: []

----- Sorting children of parent: zhA_gK -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent zhA_gK: []

----- Sorting children of parent: eYz-nn -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent eYz-nn: []

----- Sorting children of parent: iT1F-F -----
Parent has 1 children to sort
WARNING: Block with ID VC6SQw not found in blocks map
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
Adding 1 globally remaining blocks: ["VC6SQw"]
  Adding remaining block VC6SQw to sorted list
Final sorted order for parent iT1F-F: ["VC6SQw"]

----- Sorting children of parent: ixjcxC -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent ixjcxC: []

----- Sorting children of parent: jmAIx4 -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent jmAIx4: []

----- Sorting children of parent: Z3TeKI -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent Z3TeKI: []

----- Sorting children of parent: m8OEVv -----
Parent has 4 children to sort
Mapped 4 valid blocks by ID
Block eYz-nn assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block Cbb2Xg assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block jmAIx4 assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block ixjcxC assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Grouped blocks into 1 devices
  - Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 4 blocks
Block eYz-nn has prev_id ixjcxC
Block Cbb2Xg has no prev_id
Block jmAIx4 has prev_id eYz-nn
Block ixjcxC has prev_id Cbb2Xg
Built prev->next map with 3 entries
  - ixjcxC has 1 next blocks: ["eYz-nn"]
  - eYz-nn has 1 next blocks: ["jmAIx4"]
  - Cbb2Xg has 1 next blocks: ["ixjcxC"]
Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 1 root blocks: ["Cbb2Xg"]
Processing devices in order: ["4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"]

Processing device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Sorted roots for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a: ["Cbb2Xg"]
Starting chain from root: Cbb2Xg
  Adding block Cbb2Xg to sorted list
    Pushing ixjcxC onto stack
  Adding block ixjcxC to sorted list
    Pushing eYz-nn onto stack
  Adding block eYz-nn to sorted list
    Pushing jmAIx4 onto stack
  Adding block jmAIx4 to sorted list
  No next blocks for jmAIx4
No remaining blocks for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
No globally remaining blocks
Final sorted order for parent m8OEVv: ["Cbb2Xg", "ixjcxC", "eYz-nn", "jmAIx4"]

----- Sorting children of parent: pLZrvb -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent pLZrvb: []
====== COMPLETED BLOCK SORTING ======
Final sorted children map has 11 parents
extract_document_state: Extracted 12 blocks and 11 parent-child relationships
get_document_state: Finished for doc_id: xxxx
merge_updates: Merging 1 updates
merge_updates: Successfully merged updates
apply_updates: Starting with 106 updates for doc_id: xxxx
apply_updates: Starting with 106 updates for doc_id: xxxx
apply_updates: Applying update for doc_id: xxxx
apply_updates: Finished for doc_id: xxxx
apply_updates: Successfully applied updates for doc_id: xxxx
get_document_state: Starting for doc_id: xxxx
extract_document_state: Starting for doc_id: xxxx
extract_document_state: Processing 12 blocks
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 0 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 0 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
====== STARTING BLOCK SORTING ======
Input children_map has 11 parent nodes

----- Sorting children of parent: ixjcxC -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent ixjcxC: []

----- Sorting children of parent: eYz-nn -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent eYz-nn: []

----- Sorting children of parent: jmAIx4 -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent jmAIx4: []

----- Sorting children of parent: VLfhuW -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent VLfhuW: []

----- Sorting children of parent: Cbb2Xg -----
Parent has 1 children to sort
Mapped 1 valid blocks by ID
Block HYvdCr assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Grouped blocks into 1 devices
  - Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 1 blocks
Block HYvdCr has no prev_id
Built prev->next map with 0 entries
Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 1 root blocks: ["HYvdCr"]
Processing devices in order: ["4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"]

Processing device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Sorted roots for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a: ["HYvdCr"]
Starting chain from root: HYvdCr
  Adding block HYvdCr to sorted list
  No next blocks for HYvdCr
No remaining blocks for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
No globally remaining blocks
Final sorted order for parent Cbb2Xg: ["HYvdCr"]

----- Sorting children of parent: m8OEVv -----
Parent has 4 children to sort
Mapped 4 valid blocks by ID
Block ixjcxC assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block eYz-nn assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block jmAIx4 assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block Cbb2Xg assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Grouped blocks into 1 devices
  - Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 4 blocks
Block ixjcxC has prev_id Cbb2Xg
Block eYz-nn has prev_id ixjcxC
Block jmAIx4 has prev_id eYz-nn
Block Cbb2Xg has no prev_id
Built prev->next map with 3 entries
  - Cbb2Xg has 1 next blocks: ["ixjcxC"]
  - eYz-nn has 1 next blocks: ["jmAIx4"]
  - ixjcxC has 1 next blocks: ["eYz-nn"]
Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 1 root blocks: ["Cbb2Xg"]
Processing devices in order: ["4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"]

Processing device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Sorted roots for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a: ["Cbb2Xg"]
Starting chain from root: Cbb2Xg
  Adding block Cbb2Xg to sorted list
    Pushing ixjcxC onto stack
  Adding block ixjcxC to sorted list
    Pushing eYz-nn onto stack
  Adding block eYz-nn to sorted list
    Pushing jmAIx4 onto stack
  Adding block jmAIx4 to sorted list
  No next blocks for jmAIx4
No remaining blocks for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
No globally remaining blocks
Final sorted order for parent m8OEVv: ["Cbb2Xg", "ixjcxC", "eYz-nn", "jmAIx4"]

----- Sorting children of parent: zhA_gK -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent zhA_gK: []

----- Sorting children of parent: iT1F-F -----
Parent has 1 children to sort
WARNING: Block with ID VC6SQw not found in blocks map
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
Adding 1 globally remaining blocks: ["VC6SQw"]
  Adding remaining block VC6SQw to sorted list
Final sorted order for parent iT1F-F: ["VC6SQw"]

----- Sorting children of parent: pLZrvb -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent pLZrvb: []

----- Sorting children of parent: HYvdCr -----
Parent has 2 children to sort
Mapped 2 valid blocks by ID
Block pLZrvb assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block VLfhuW assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Grouped blocks into 1 devices
  - Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 2 blocks
Block pLZrvb has prev_id VLfhuW
Block VLfhuW has no prev_id
Built prev->next map with 1 entries
  - VLfhuW has 1 next blocks: ["pLZrvb"]
Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 1 root blocks: ["VLfhuW"]
Processing devices in order: ["4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"]

Processing device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Sorted roots for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a: ["VLfhuW"]
Starting chain from root: VLfhuW
  Adding block VLfhuW to sorted list
    Pushing pLZrvb onto stack
  Adding block pLZrvb to sorted list
  No next blocks for pLZrvb
No remaining blocks for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
No globally remaining blocks
Final sorted order for parent HYvdCr: ["VLfhuW", "pLZrvb"]

----- Sorting children of parent: Z3TeKI -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent Z3TeKI: []
====== COMPLETED BLOCK SORTING ======
Final sorted children map has 11 parents
extract_document_state: Extracted 12 blocks and 11 parent-child relationships
get_document_state: Finished for doc_id: xxxx
flutter: onDragStarted
flutter: the drag offset is inside the block, dragOffset(Offset(207.7, 211.0)), globalBlockRect(Rect.fromLTRB(120.0, 208.0, 680.0, 246.0))
flutter: the drag offset is inside the block, dragOffset(Offset(222.8, 241.1)), globalBlockRect(Rect.fromLTRB(120.0, 208.0, 680.0, 246.0))
flutter: the drag offset is inside the block, dragOffset(Offset(228.8, 249.0)), globalBlockRect(Rect.fromLTRB(120.0, 246.0, 680.0, 284.0))
flutter: the drag offset is inside the block, dragOffset(Offset(233.6, 258.7)), globalBlockRect(Rect.fromLTRB(120.0, 246.0, 680.0, 284.0))
flutter: the drag offset is inside the block, dragOffset(Offset(236.9, 264.0)), globalBlockRect(Rect.fromLTRB(120.0, 246.0, 680.0, 284.0))
flutter: the drag offset is inside the block, dragOffset(Offset(237.2, 264.5)), globalBlockRect(Rect.fromLTRB(120.0, 246.0, 680.0, 284.0))
flutter: the drag offset is inside the block, dragOffset(Offset(237.4, 264.8)), globalBlockRect(Rect.fromLTRB(120.0, 246.0, 680.0, 284.0))
flutter: the drag offset is inside the block, dragOffset(Offset(237.4, 265.3)), globalBlockRect(Rect.fromLTRB(120.0, 246.0, 680.0, 284.0))
flutter: the drag offset is inside the block, dragOffset(Offset(237.7, 265.5)), globalBlockRect(Rect.fromLTRB(120.0, 246.0, 680.0, 284.0))
flutter: onDragEnd, acceptedPath([3])
flutter: the drag offset is inside the block, dragOffset(Offset(237.7, 265.5)), globalBlockRect(Rect.fromLTRB(120.0, 246.0, 680.0, 284.0))
flutter: Moving node(Node(id: HYvdCr, type: paragraph, attributes: {delta: [{insert: Task 1}], device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a, timestamp: 2025-04-24T17:14:28.685801}, children: [Node(id: VLfhuW, type: paragraph, attributes: {delta: [{insert: Task 2}], timestamp: 2025-04-24T17:14:31.317748, device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a}, children: []), Node(id: pLZrvb, type: paragraph, attributes: {delta: [{insert: Task 3}], timestamp: 2025-04-24T17:14:32.750175, device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a}, children: [])]), [0, 0]) to path([2])
flutter: Transaction done
apply_action: Starting with 1 actions for doc_id: xxxx
move_block: Moving block_id: HYvdCr from parent: Cbb2Xg to parent: eYz-nn
remove_block_from_prev_id_chain: Removing block HYvdCr from chain
  Finding blocks that reference HYvdCr as their prev_id
find_block_referencing_prev_id: Searching for blocks with prev_id = HYvdCr
  Found 12 total blocks to check
  Checking block: Cbb2Xg
    Block does not have prev_id
  Checking block: ixjcxC
    Block has prev_id: Cbb2Xg, matches target: false
  Checking block: pLZrvb
    Block has prev_id: VLfhuW, matches target: false
  Checking block: jmAIx4
    Block has prev_id: eYz-nn, matches target: false
  Checking block: eYz-nn
    Block has prev_id: ixjcxC, matches target: false
  Checking block: zhA_gK
    Block does not have prev_id
  Checking block: iT1F-F
    Block does not have prev_id
  Checking block: m8OEVv
    Block does not have prev_id
  Checking block: VLfhuW
    Block does not have prev_id
  Checking block: Mk_Gts
    Block does not have prev_id
  Checking block: Z3TeKI
    Block does not have prev_id
  Checking block: HYvdCr
    Block does not have prev_id
find_block_referencing_prev_id: Found 0 blocks with prev_id = HYvdCr: []
  Found 0 next blocks: []
remove_block_from_prev_id_chain: Completed
handle_following_connection: block_id=HYvdCr, next_id=None, prev_id=None
  No prev_id or next_id provided, nothing to handle
handle_following_connection: Completed
move_block: Moved block between parents
apply_action: Encoding state for doc_id: xxxx
apply_updates: Starting with 105 updates for doc_id: xxxx
apply_updates: Starting with 105 updates for doc_id: xxxx
apply_updates: Applying update for doc_id: xxxx
apply_updates: Finished for doc_id: xxxx
apply_updates: Successfully applied updates for doc_id: xxxx
get_document_state: Starting for doc_id: xxxx
extract_document_state: Starting for doc_id: xxxx
extract_document_state: Processing 12 blocks
deltas_to_json: Converting 0 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 0 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
====== STARTING BLOCK SORTING ======
Input children_map has 11 parent nodes

----- Sorting children of parent: ixjcxC -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent ixjcxC: []

----- Sorting children of parent: Cbb2Xg -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent Cbb2Xg: []

----- Sorting children of parent: m8OEVv -----
Parent has 4 children to sort
Mapped 4 valid blocks by ID
Block eYz-nn assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block Cbb2Xg assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block jmAIx4 assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block ixjcxC assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Grouped blocks into 1 devices
  - Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 4 blocks
Block eYz-nn has prev_id ixjcxC
Block Cbb2Xg has no prev_id
Block jmAIx4 has prev_id eYz-nn
Block ixjcxC has prev_id Cbb2Xg
Built prev->next map with 3 entries
  - Cbb2Xg has 1 next blocks: ["ixjcxC"]
  - ixjcxC has 1 next blocks: ["eYz-nn"]
  - eYz-nn has 1 next blocks: ["jmAIx4"]
Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 1 root blocks: ["Cbb2Xg"]
Processing devices in order: ["4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"]

Processing device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Sorted roots for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a: ["Cbb2Xg"]
Starting chain from root: Cbb2Xg
  Adding block Cbb2Xg to sorted list
    Pushing ixjcxC onto stack
  Adding block ixjcxC to sorted list
    Pushing eYz-nn onto stack
  Adding block eYz-nn to sorted list
    Pushing jmAIx4 onto stack
  Adding block jmAIx4 to sorted list
  No next blocks for jmAIx4
No remaining blocks for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
No globally remaining blocks
Final sorted order for parent m8OEVv: ["Cbb2Xg", "ixjcxC", "eYz-nn", "jmAIx4"]

----- Sorting children of parent: HYvdCr -----
Parent has 2 children to sort
Mapped 2 valid blocks by ID
Block pLZrvb assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block VLfhuW assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Grouped blocks into 1 devices
  - Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 2 blocks
Block pLZrvb has prev_id VLfhuW
Block VLfhuW has no prev_id
Built prev->next map with 1 entries
  - VLfhuW has 1 next blocks: ["pLZrvb"]
Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 1 root blocks: ["VLfhuW"]
Processing devices in order: ["4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"]

Processing device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Sorted roots for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a: ["VLfhuW"]
Starting chain from root: VLfhuW
  Adding block VLfhuW to sorted list
    Pushing pLZrvb onto stack
  Adding block pLZrvb to sorted list
  No next blocks for pLZrvb
No remaining blocks for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
No globally remaining blocks
Final sorted order for parent HYvdCr: ["VLfhuW", "pLZrvb"]

----- Sorting children of parent: pLZrvb -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent pLZrvb: []

----- Sorting children of parent: Z3TeKI -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent Z3TeKI: []

----- Sorting children of parent: iT1F-F -----
Parent has 1 children to sort
WARNING: Block with ID VC6SQw not found in blocks map
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
Adding 1 globally remaining blocks: ["VC6SQw"]
  Adding remaining block VC6SQw to sorted list
Final sorted order for parent iT1F-F: ["VC6SQw"]

----- Sorting children of parent: eYz-nn -----
Parent has 1 children to sort
Mapped 1 valid blocks by ID
Block HYvdCr assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Grouped blocks into 1 devices
  - Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 1 blocks
Block HYvdCr has no prev_id
Built prev->next map with 0 entries
Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 1 root blocks: ["HYvdCr"]
Processing devices in order: ["4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"]

Processing device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Sorted roots for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a: ["HYvdCr"]
Starting chain from root: HYvdCr
  Adding block HYvdCr to sorted list
  No next blocks for HYvdCr
No remaining blocks for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
No globally remaining blocks
Final sorted order for parent eYz-nn: ["HYvdCr"]

----- Sorting children of parent: jmAIx4 -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent jmAIx4: []

----- Sorting children of parent: VLfhuW -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent VLfhuW: []

----- Sorting children of parent: zhA_gK -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent zhA_gK: []
====== COMPLETED BLOCK SORTING ======
Final sorted children map has 11 parents
extract_document_state: Extracted 12 blocks and 11 parent-child relationships
get_document_state: Finished for doc_id: xxxx
merge_updates: Merging 1 updates
merge_updates: Successfully merged updates
apply_updates: Starting with 106 updates for doc_id: xxxx
apply_updates: Starting with 106 updates for doc_id: xxxx
apply_updates: Applying update for doc_id: xxxx
apply_updates: Finished for doc_id: xxxx
apply_updates: Successfully applied updates for doc_id: xxxx
get_document_state: Starting for doc_id: xxxx
extract_document_state: Starting for doc_id: xxxx
extract_document_state: Processing 12 blocks
deltas_to_json: Converting 0 deltas
deltas_to_json: Converting 0 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
====== STARTING BLOCK SORTING ======
Input children_map has 11 parent nodes

----- Sorting children of parent: eYz-nn -----
Parent has 1 children to sort
Mapped 1 valid blocks by ID
Block HYvdCr assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Grouped blocks into 1 devices
  - Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 1 blocks
Block HYvdCr has no prev_id
Built prev->next map with 0 entries
Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 1 root blocks: ["HYvdCr"]
Processing devices in order: ["4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"]

Processing device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Sorted roots for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a: ["HYvdCr"]
Starting chain from root: HYvdCr
  Adding block HYvdCr to sorted list
  No next blocks for HYvdCr
No remaining blocks for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
No globally remaining blocks
Final sorted order for parent eYz-nn: ["HYvdCr"]

----- Sorting children of parent: ixjcxC -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent ixjcxC: []

----- Sorting children of parent: Z3TeKI -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent Z3TeKI: []

----- Sorting children of parent: zhA_gK -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent zhA_gK: []

----- Sorting children of parent: HYvdCr -----
Parent has 2 children to sort
Mapped 2 valid blocks by ID
Block VLfhuW assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block pLZrvb assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Grouped blocks into 1 devices
  - Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 2 blocks
Block VLfhuW has no prev_id
Block pLZrvb has prev_id VLfhuW
Built prev->next map with 1 entries
  - VLfhuW has 1 next blocks: ["pLZrvb"]
Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 1 root blocks: ["VLfhuW"]
Processing devices in order: ["4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"]

Processing device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Sorted roots for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a: ["VLfhuW"]
Starting chain from root: VLfhuW
  Adding block VLfhuW to sorted list
    Pushing pLZrvb onto stack
  Adding block pLZrvb to sorted list
  No next blocks for pLZrvb
No remaining blocks for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
No globally remaining blocks
Final sorted order for parent HYvdCr: ["VLfhuW", "pLZrvb"]

----- Sorting children of parent: pLZrvb -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent pLZrvb: []

----- Sorting children of parent: VLfhuW -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent VLfhuW: []

----- Sorting children of parent: iT1F-F -----
Parent has 1 children to sort
WARNING: Block with ID VC6SQw not found in blocks map
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
Adding 1 globally remaining blocks: ["VC6SQw"]
  Adding remaining block VC6SQw to sorted list
Final sorted order for parent iT1F-F: ["VC6SQw"]

----- Sorting children of parent: m8OEVv -----
Parent has 4 children to sort
Mapped 4 valid blocks by ID
Block Cbb2Xg assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block ixjcxC assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block jmAIx4 assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block eYz-nn assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Grouped blocks into 1 devices
  - Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 4 blocks
Block Cbb2Xg has no prev_id
Block ixjcxC has prev_id Cbb2Xg
Block jmAIx4 has prev_id eYz-nn
Block eYz-nn has prev_id ixjcxC
Built prev->next map with 3 entries
  - Cbb2Xg has 1 next blocks: ["ixjcxC"]
  - eYz-nn has 1 next blocks: ["jmAIx4"]
  - ixjcxC has 1 next blocks: ["eYz-nn"]
Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 1 root blocks: ["Cbb2Xg"]
Processing devices in order: ["4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"]

Processing device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Sorted roots for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a: ["Cbb2Xg"]
Starting chain from root: Cbb2Xg
  Adding block Cbb2Xg to sorted list
    Pushing ixjcxC onto stack
  Adding block ixjcxC to sorted list
    Pushing eYz-nn onto stack
  Adding block eYz-nn to sorted list
    Pushing jmAIx4 onto stack
  Adding block jmAIx4 to sorted list
  No next blocks for jmAIx4
No remaining blocks for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
No globally remaining blocks
Final sorted order for parent m8OEVv: ["Cbb2Xg", "ixjcxC", "eYz-nn", "jmAIx4"]

----- Sorting children of parent: jmAIx4 -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent jmAIx4: []

----- Sorting children of parent: Cbb2Xg -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent Cbb2Xg: []
====== COMPLETED BLOCK SORTING ======
Final sorted children map has 11 parents
extract_document_state: Extracted 12 blocks and 11 parent-child relationships
get_document_state: Finished for doc_id: xxxx
flutter: onDragStarted
flutter: the drag offset is inside the block, dragOffset(Offset(151.6, 163.3)), globalBlockRect(Rect.fromLTRB(120.0, 132.0, 680.0, 284.0))
flutter: the drag offset is inside the block, dragOffset(Offset(151.6, 152.3)), globalBlockRect(Rect.fromLTRB(120.0, 132.0, 680.0, 284.0))
flutter: the drag offset is inside the block, dragOffset(Offset(151.6, 137.6)), globalBlockRect(Rect.fromLTRB(120.0, 132.0, 680.0, 284.0))
flutter: the drag offset is inside the block, dragOffset(Offset(151.6, 131.4)), globalBlockRect(Rect.fromLTRB(120.0, 94.0, 680.0, 132.0))
flutter: the drag offset is inside the block, dragOffset(Offset(151.6, 117.9)), globalBlockRect(Rect.fromLTRB(120.0, 94.0, 680.0, 132.0))
flutter: the drag offset is inside the block, dragOffset(Offset(151.6, 108.2)), globalBlockRect(Rect.fromLTRB(120.0, 94.0, 680.0, 132.0))
flutter: the drag offset is inside the block, dragOffset(Offset(150.8, 100.9)), globalBlockRect(Rect.fromLTRB(120.0, 94.0, 680.0, 132.0))
flutter: the drag offset is inside the block, dragOffset(Offset(149.1, 96.0)), globalBlockRect(Rect.fromLTRB(120.0, 94.0, 680.0, 132.0))
flutter: the drag offset is inside the block, dragOffset(Offset(149.1, 91.3)), globalBlockRect(Rect.fromLTRB(120.0, 56.0, 680.0, 94.0))
flutter: the drag offset is inside the block, dragOffset(Offset(148.7, 90.2)), globalBlockRect(Rect.fromLTRB(120.0, 56.0, 680.0, 94.0))
flutter: the drag offset is inside the block, dragOffset(Offset(147.6, 87.5)), globalBlockRect(Rect.fromLTRB(120.0, 56.0, 680.0, 94.0))
flutter: the drag offset is inside the block, dragOffset(Offset(147.2, 86.1)), globalBlockRect(Rect.fromLTRB(120.0, 56.0, 680.0, 94.0))
flutter: the drag offset is inside the block, dragOffset(Offset(147.2, 85.0)), globalBlockRect(Rect.fromLTRB(120.0, 56.0, 680.0, 94.0))
flutter: the drag offset is inside the block, dragOffset(Offset(146.4, 84.0)), globalBlockRect(Rect.fromLTRB(120.0, 56.0, 680.0, 94.0))
flutter: the drag offset is inside the block, dragOffset(Offset(146.4, 82.4)), globalBlockRect(Rect.fromLTRB(120.0, 56.0, 680.0, 94.0))
flutter: the drag offset is inside the block, dragOffset(Offset(146.4, 82.1)), globalBlockRect(Rect.fromLTRB(120.0, 56.0, 680.0, 94.0))
flutter: the drag offset is inside the block, dragOffset(Offset(145.9, 81.3)), globalBlockRect(Rect.fromLTRB(120.0, 56.0, 680.0, 94.0))
flutter: the drag offset is inside the block, dragOffset(Offset(145.5, 79.7)), globalBlockRect(Rect.fromLTRB(120.0, 56.0, 680.0, 94.0))
flutter: the drag offset is inside the block, dragOffset(Offset(145.0, 79.2)), globalBlockRect(Rect.fromLTRB(120.0, 56.0, 680.0, 94.0))
flutter: the drag offset is inside the block, dragOffset(Offset(145.0, 77.8)), globalBlockRect(Rect.fromLTRB(120.0, 56.0, 680.0, 94.0))
flutter: the drag offset is inside the block, dragOffset(Offset(144.8, 77.3)), globalBlockRect(Rect.fromLTRB(120.0, 56.0, 680.0, 94.0))
flutter: the drag offset is inside the block, dragOffset(Offset(144.8, 77.0)), globalBlockRect(Rect.fromLTRB(120.0, 56.0, 680.0, 94.0))
flutter: the drag offset is inside the block, dragOffset(Offset(144.8, 76.8)), globalBlockRect(Rect.fromLTRB(120.0, 56.0, 680.0, 94.0))
flutter: the drag offset is inside the block, dragOffset(Offset(144.2, 74.4)), globalBlockRect(Rect.fromLTRB(120.0, 56.0, 680.0, 94.0))
flutter: the drag offset is inside the block, dragOffset(Offset(143.9, 72.8)), globalBlockRect(Rect.fromLTRB(120.0, 56.0, 680.0, 94.0))
flutter: the drag offset is inside the block, dragOffset(Offset(143.9, 72.2)), globalBlockRect(Rect.fromLTRB(120.0, 56.0, 680.0, 94.0))
flutter: the drag offset is inside the block, dragOffset(Offset(143.6, 70.9)), globalBlockRect(Rect.fromLTRB(120.0, 56.0, 680.0, 94.0))
flutter: the drag offset is inside the block, dragOffset(Offset(143.6, 70.1)), globalBlockRect(Rect.fromLTRB(120.0, 56.0, 680.0, 94.0))
flutter: the drag offset is inside the block, dragOffset(Offset(143.6, 69.0)), globalBlockRect(Rect.fromLTRB(120.0, 56.0, 680.0, 94.0))
flutter: the drag offset is inside the block, dragOffset(Offset(142.9, 67.3)), globalBlockRect(Rect.fromLTRB(120.0, 56.0, 680.0, 94.0))
flutter: the drag offset is inside the block, dragOffset(Offset(142.9, 66.6)), globalBlockRect(Rect.fromLTRB(120.0, 56.0, 680.0, 94.0))
flutter: the drag offset is inside the block, dragOffset(Offset(142.9, 66.3)), globalBlockRect(Rect.fromLTRB(120.0, 56.0, 680.0, 94.0))
flutter: the drag offset is inside the block, dragOffset(Offset(142.9, 65.5)), globalBlockRect(Rect.fromLTRB(120.0, 56.0, 680.0, 94.0))
flutter: the drag offset is inside the block, dragOffset(Offset(142.6, 65.0)), globalBlockRect(Rect.fromLTRB(120.0, 56.0, 680.0, 94.0))
flutter: onDragEnd, acceptedPath([0])
flutter: the drag offset is inside the block, dragOffset(Offset(142.6, 65.0)), globalBlockRect(Rect.fromLTRB(120.0, 56.0, 680.0, 94.0))
flutter: Moving node(Node(id: HYvdCr, type: paragraph, attributes: {delta: [{insert: Task 1}], device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a, timestamp: 2025-04-24T17:14:28.685801}, children: [Node(id: VLfhuW, type: paragraph, attributes: {delta: [{insert: Task 2}], timestamp: 2025-04-24T17:14:31.317748, device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a}, children: []), Node(id: pLZrvb, type: paragraph, attributes: {delta: [{insert: Task 3}], timestamp: 2025-04-24T17:14:32.750175, device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a}, children: [])]), [2, 0]) to path([0])
flutter: Transaction done
apply_action: Starting with 1 actions for doc_id: xxxx
move_block: Moving block_id: HYvdCr from parent: eYz-nn to parent: m8OEVv
remove_block_from_prev_id_chain: Removing block HYvdCr from chain
  Finding blocks that reference HYvdCr as their prev_id
find_block_referencing_prev_id: Searching for blocks with prev_id = HYvdCr
  Found 12 total blocks to check
  Checking block: jmAIx4
    Block has prev_id: eYz-nn, matches target: false
  Checking block: Mk_Gts
    Block does not have prev_id
  Checking block: iT1F-F
    Block does not have prev_id
  Checking block: Cbb2Xg
    Block does not have prev_id
  Checking block: VLfhuW
    Block does not have prev_id
  Checking block: HYvdCr
    Block does not have prev_id
  Checking block: m8OEVv
    Block does not have prev_id
  Checking block: ixjcxC
    Block has prev_id: Cbb2Xg, matches target: false
  Checking block: Z3TeKI
    Block does not have prev_id
  Checking block: zhA_gK
    Block does not have prev_id
  Checking block: eYz-nn
    Block has prev_id: ixjcxC, matches target: false
  Checking block: pLZrvb
    Block has prev_id: VLfhuW, matches target: false
find_block_referencing_prev_id: Found 0 blocks with prev_id = HYvdCr: []
  Found 0 next blocks: []
remove_block_from_prev_id_chain: Completed
handle_following_connection: block_id=HYvdCr, next_id=Some("Cbb2Xg"), prev_id=None
  Using next_id strategy (next_id=Cbb2Xg)
  Setting prev_id of next block Cbb2Xg to HYvdCr
  Attempting to copy device and timestamp from next block Cbb2Xg to HYvdCr
  WARNING: Next block has no device attribute
  WARNING: Next block has no timestamp attribute
  Finished next_id strategy
handle_following_connection: Completed
move_block: Moved block between parents
apply_action: Encoding state for doc_id: xxxx
apply_updates: Starting with 106 updates for doc_id: xxxx
apply_updates: Starting with 106 updates for doc_id: xxxx
apply_updates: Applying update for doc_id: xxxx
apply_updates: Finished for doc_id: xxxx
apply_updates: Successfully applied updates for doc_id: xxxx
get_document_state: Starting for doc_id: xxxx
extract_document_state: Starting for doc_id: xxxx
extract_document_state: Processing 12 blocks
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 0 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 0 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
====== STARTING BLOCK SORTING ======
Input children_map has 11 parent nodes

----- Sorting children of parent: ixjcxC -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent ixjcxC: []

----- Sorting children of parent: Cbb2Xg -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent Cbb2Xg: []

----- Sorting children of parent: iT1F-F -----
Parent has 1 children to sort
WARNING: Block with ID VC6SQw not found in blocks map
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
Adding 1 globally remaining blocks: ["VC6SQw"]
  Adding remaining block VC6SQw to sorted list
Final sorted order for parent iT1F-F: ["VC6SQw"]

----- Sorting children of parent: m8OEVv -----
Parent has 5 children to sort
Mapped 5 valid blocks by ID
Block eYz-nn assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block jmAIx4 assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block Cbb2Xg assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block HYvdCr assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block ixjcxC assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Grouped blocks into 1 devices
  - Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 5 blocks
Block eYz-nn has prev_id ixjcxC
Block jmAIx4 has prev_id eYz-nn
Block Cbb2Xg has prev_id HYvdCr
Block HYvdCr has no prev_id
Block ixjcxC has prev_id Cbb2Xg
Built prev->next map with 4 entries
  - ixjcxC has 1 next blocks: ["eYz-nn"]
  - Cbb2Xg has 1 next blocks: ["ixjcxC"]
  - HYvdCr has 1 next blocks: ["Cbb2Xg"]
  - eYz-nn has 1 next blocks: ["jmAIx4"]
Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 1 root blocks: ["HYvdCr"]
Processing devices in order: ["4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"]

Processing device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Sorted roots for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a: ["HYvdCr"]
Starting chain from root: HYvdCr
  Adding block HYvdCr to sorted list
    Pushing Cbb2Xg onto stack
  Adding block Cbb2Xg to sorted list
    Pushing ixjcxC onto stack
  Adding block ixjcxC to sorted list
    Pushing eYz-nn onto stack
  Adding block eYz-nn to sorted list
    Pushing jmAIx4 onto stack
  Adding block jmAIx4 to sorted list
  No next blocks for jmAIx4
No remaining blocks for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
No globally remaining blocks
Final sorted order for parent m8OEVv: ["HYvdCr", "Cbb2Xg", "ixjcxC", "eYz-nn", "jmAIx4"]

----- Sorting children of parent: Z3TeKI -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent Z3TeKI: []

----- Sorting children of parent: zhA_gK -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent zhA_gK: []

----- Sorting children of parent: jmAIx4 -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent jmAIx4: []

----- Sorting children of parent: eYz-nn -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent eYz-nn: []

----- Sorting children of parent: pLZrvb -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent pLZrvb: []

----- Sorting children of parent: VLfhuW -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent VLfhuW: []

----- Sorting children of parent: HYvdCr -----
Parent has 2 children to sort
Mapped 2 valid blocks by ID
Block pLZrvb assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block VLfhuW assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Grouped blocks into 1 devices
  - Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 2 blocks
Block pLZrvb has prev_id VLfhuW
Block VLfhuW has no prev_id
Built prev->next map with 1 entries
  - VLfhuW has 1 next blocks: ["pLZrvb"]
Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 1 root blocks: ["VLfhuW"]
Processing devices in order: ["4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"]

Processing device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Sorted roots for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a: ["VLfhuW"]
Starting chain from root: VLfhuW
  Adding block VLfhuW to sorted list
    Pushing pLZrvb onto stack
  Adding block pLZrvb to sorted list
  No next blocks for pLZrvb
No remaining blocks for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
No globally remaining blocks
Final sorted order for parent HYvdCr: ["VLfhuW", "pLZrvb"]
====== COMPLETED BLOCK SORTING ======
Final sorted children map has 11 parents
extract_document_state: Extracted 12 blocks and 11 parent-child relationships
get_document_state: Finished for doc_id: xxxx
merge_updates: Merging 1 updates
merge_updates: Successfully merged updates
apply_updates: Starting with 107 updates for doc_id: xxxx
apply_updates: Starting with 107 updates for doc_id: xxxx
apply_updates: Applying update for doc_id: xxxx
apply_updates: Finished for doc_id: xxxx
apply_updates: Successfully applied updates for doc_id: xxxx
get_document_state: Starting for doc_id: xxxx
extract_document_state: Starting for doc_id: xxxx
extract_document_state: Processing 12 blocks
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 0 deltas
deltas_to_json: Converting 0 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
====== STARTING BLOCK SORTING ======
Input children_map has 11 parent nodes

----- Sorting children of parent: jmAIx4 -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent jmAIx4: []

----- Sorting children of parent: Cbb2Xg -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent Cbb2Xg: []

----- Sorting children of parent: VLfhuW -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent VLfhuW: []

----- Sorting children of parent: m8OEVv -----
Parent has 5 children to sort
Mapped 5 valid blocks by ID
Block eYz-nn assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block HYvdCr assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block jmAIx4 assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block ixjcxC assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block Cbb2Xg assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Grouped blocks into 1 devices
  - Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 5 blocks
Block eYz-nn has prev_id ixjcxC
Block HYvdCr has no prev_id
Block jmAIx4 has prev_id eYz-nn
Block ixjcxC has prev_id Cbb2Xg
Block Cbb2Xg has prev_id HYvdCr
Built prev->next map with 4 entries
  - eYz-nn has 1 next blocks: ["jmAIx4"]
  - HYvdCr has 1 next blocks: ["Cbb2Xg"]
  - ixjcxC has 1 next blocks: ["eYz-nn"]
  - Cbb2Xg has 1 next blocks: ["ixjcxC"]
Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 1 root blocks: ["HYvdCr"]
Processing devices in order: ["4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"]

Processing device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Sorted roots for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a: ["HYvdCr"]
Starting chain from root: HYvdCr
  Adding block HYvdCr to sorted list
    Pushing Cbb2Xg onto stack
  Adding block Cbb2Xg to sorted list
    Pushing ixjcxC onto stack
  Adding block ixjcxC to sorted list
    Pushing eYz-nn onto stack
  Adding block eYz-nn to sorted list
    Pushing jmAIx4 onto stack
  Adding block jmAIx4 to sorted list
  No next blocks for jmAIx4
No remaining blocks for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
No globally remaining blocks
Final sorted order for parent m8OEVv: ["HYvdCr", "Cbb2Xg", "ixjcxC", "eYz-nn", "jmAIx4"]

----- Sorting children of parent: iT1F-F -----
Parent has 1 children to sort
WARNING: Block with ID VC6SQw not found in blocks map
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
Adding 1 globally remaining blocks: ["VC6SQw"]
  Adding remaining block VC6SQw to sorted list
Final sorted order for parent iT1F-F: ["VC6SQw"]

----- Sorting children of parent: Z3TeKI -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent Z3TeKI: []

----- Sorting children of parent: zhA_gK -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent zhA_gK: []

----- Sorting children of parent: pLZrvb -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent pLZrvb: []

----- Sorting children of parent: eYz-nn -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent eYz-nn: []

----- Sorting children of parent: HYvdCr -----
Parent has 2 children to sort
Mapped 2 valid blocks by ID
Block pLZrvb assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block VLfhuW assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Grouped blocks into 1 devices
  - Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 2 blocks
Block pLZrvb has prev_id VLfhuW
Block VLfhuW has no prev_id
Built prev->next map with 1 entries
  - VLfhuW has 1 next blocks: ["pLZrvb"]
Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 1 root blocks: ["VLfhuW"]
Processing devices in order: ["4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"]

Processing device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Sorted roots for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a: ["VLfhuW"]
Starting chain from root: VLfhuW
  Adding block VLfhuW to sorted list
    Pushing pLZrvb onto stack
  Adding block pLZrvb to sorted list
  No next blocks for pLZrvb
No remaining blocks for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
No globally remaining blocks
Final sorted order for parent HYvdCr: ["VLfhuW", "pLZrvb"]

----- Sorting children of parent: ixjcxC -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent ixjcxC: []
====== COMPLETED BLOCK SORTING ======
Final sorted children map has 11 parents
extract_document_state: Extracted 12 blocks and 11 parent-child relationships
get_document_state: Finished for doc_id: xxxx
flutter: onDragStarted
flutter: the drag offset is inside the block, dragOffset(Offset(136.0, 188.4)), globalBlockRect(Rect.fromLTRB(120.0, 170.0, 680.0, 208.0))
flutter: the drag offset is inside the block, dragOffset(Offset(138.8, 205.7)), globalBlockRect(Rect.fromLTRB(120.0, 170.0, 680.0, 208.0))
flutter: the drag offset is inside the block, dragOffset(Offset(140.7, 214.3)), globalBlockRect(Rect.fromLTRB(120.0, 208.0, 680.0, 246.0))
flutter: the drag offset is inside the block, dragOffset(Offset(141.5, 227.8)), globalBlockRect(Rect.fromLTRB(120.0, 208.0, 680.0, 246.0))
flutter: the drag offset is inside the block, dragOffset(Offset(144.0, 237.5)), globalBlockRect(Rect.fromLTRB(120.0, 208.0, 680.0, 246.0))
flutter: the drag offset is inside the block, dragOffset(Offset(144.0, 239.9)), globalBlockRect(Rect.fromLTRB(120.0, 208.0, 680.0, 246.0))
flutter: the drag offset is inside the block, dragOffset(Offset(144.7, 244.7)), globalBlockRect(Rect.fromLTRB(120.0, 208.0, 680.0, 246.0))
flutter: the drag offset is inside the block, dragOffset(Offset(144.7, 245.4)), globalBlockRect(Rect.fromLTRB(120.0, 208.0, 680.0, 246.0))
flutter: the drag offset is inside the block, dragOffset(Offset(144.7, 246.2)), globalBlockRect(Rect.fromLTRB(120.0, 246.0, 680.0, 284.0))
flutter: the drag offset is inside the block, dragOffset(Offset(145.0, 246.4)), globalBlockRect(Rect.fromLTRB(120.0, 246.0, 680.0, 284.0))
flutter: the drag offset is inside the block, dragOffset(Offset(145.0, 246.9)), globalBlockRect(Rect.fromLTRB(120.0, 246.0, 680.0, 284.0))
flutter: the drag offset is inside the block, dragOffset(Offset(145.0, 247.2)), globalBlockRect(Rect.fromLTRB(120.0, 246.0, 680.0, 284.0))
flutter: the drag offset is inside the block, dragOffset(Offset(145.0, 248.3)), globalBlockRect(Rect.fromLTRB(120.0, 246.0, 680.0, 284.0))
flutter: the drag offset is inside the block, dragOffset(Offset(145.0, 250.6)), globalBlockRect(Rect.fromLTRB(120.0, 246.0, 680.0, 284.0))
flutter: the drag offset is inside the block, dragOffset(Offset(145.0, 256.6)), globalBlockRect(Rect.fromLTRB(120.0, 246.0, 680.0, 284.0))
flutter: the drag offset is inside the block, dragOffset(Offset(145.0, 257.7)), globalBlockRect(Rect.fromLTRB(120.0, 246.0, 680.0, 284.0))
flutter: the drag offset is inside the block, dragOffset(Offset(145.0, 259.3)), globalBlockRect(Rect.fromLTRB(120.0, 246.0, 680.0, 284.0))
flutter: the drag offset is inside the block, dragOffset(Offset(145.0, 259.8)), globalBlockRect(Rect.fromLTRB(120.0, 246.0, 680.0, 284.0))
flutter: the drag offset is inside the block, dragOffset(Offset(145.0, 260.1)), globalBlockRect(Rect.fromLTRB(120.0, 246.0, 680.0, 284.0))
flutter: the drag offset is inside the block, dragOffset(Offset(145.0, 260.3)), globalBlockRect(Rect.fromLTRB(120.0, 246.0, 680.0, 284.0))
flutter: the drag offset is inside the block, dragOffset(Offset(145.0, 261.1)), globalBlockRect(Rect.fromLTRB(120.0, 246.0, 680.0, 284.0))
flutter: the drag offset is inside the block, dragOffset(Offset(145.0, 265.8)), globalBlockRect(Rect.fromLTRB(120.0, 246.0, 680.0, 284.0))
flutter: the drag offset is inside the block, dragOffset(Offset(145.0, 266.9)), globalBlockRect(Rect.fromLTRB(120.0, 246.0, 680.0, 284.0))
flutter: the drag offset is inside the block, dragOffset(Offset(145.0, 268.3)), globalBlockRect(Rect.fromLTRB(120.0, 246.0, 680.0, 284.0))
flutter: the drag offset is inside the block, dragOffset(Offset(145.0, 268.8)), globalBlockRect(Rect.fromLTRB(120.0, 246.0, 680.0, 284.0))
flutter: the drag offset is inside the block, dragOffset(Offset(145.0, 269.1)), globalBlockRect(Rect.fromLTRB(120.0, 246.0, 680.0, 284.0))
flutter: the drag offset is inside the block, dragOffset(Offset(145.0, 269.6)), globalBlockRect(Rect.fromLTRB(120.0, 246.0, 680.0, 284.0))
flutter: the drag offset is inside the block, dragOffset(Offset(145.0, 269.8)), globalBlockRect(Rect.fromLTRB(120.0, 246.0, 680.0, 284.0))
flutter: the drag offset is inside the block, dragOffset(Offset(145.0, 270.3)), globalBlockRect(Rect.fromLTRB(120.0, 246.0, 680.0, 284.0))
flutter: the drag offset is inside the block, dragOffset(Offset(145.0, 270.6)), globalBlockRect(Rect.fromLTRB(120.0, 246.0, 680.0, 284.0))
flutter: the drag offset is inside the block, dragOffset(Offset(145.0, 271.1)), globalBlockRect(Rect.fromLTRB(120.0, 246.0, 680.0, 284.0))
flutter: the drag offset is inside the block, dragOffset(Offset(145.0, 271.4)), globalBlockRect(Rect.fromLTRB(120.0, 246.0, 680.0, 284.0))
flutter: the drag offset is inside the block, dragOffset(Offset(145.0, 271.9)), globalBlockRect(Rect.fromLTRB(120.0, 246.0, 680.0, 284.0))
flutter: onDragEnd, acceptedPath([4])
flutter: the drag offset is inside the block, dragOffset(Offset(145.0, 271.9)), globalBlockRect(Rect.fromLTRB(120.0, 246.0, 680.0, 284.0))
flutter: Moving node(Node(id: HYvdCr, type: paragraph, attributes: {delta: [{insert: Task 1}], device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a, timestamp: 2025-04-24T17:14:28.685801}, children: [Node(id: VLfhuW, type: paragraph, attributes: {delta: [{insert: Task 2}], timestamp: 2025-04-24T17:14:31.317748, device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a}, children: []), Node(id: pLZrvb, type: paragraph, attributes: {delta: [{insert: Task 3}], timestamp: 2025-04-24T17:14:32.750175, device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a}, children: [])]), [0]) to path([3])
flutter: Transaction done
apply_action: Starting with 1 actions for doc_id: xxxx
move_block: Moving block_id: HYvdCr from parent: m8OEVv to parent: m8OEVv
remove_block_from_prev_id_chain: Removing block HYvdCr from chain
  Finding blocks that reference HYvdCr as their prev_id
find_block_referencing_prev_id: Searching for blocks with prev_id = HYvdCr
  Found 12 total blocks to check
  Checking block: ixjcxC
    Block has prev_id: Cbb2Xg, matches target: false
  Checking block: eYz-nn
    Block has prev_id: ixjcxC, matches target: false
  Checking block: HYvdCr
    Block does not have prev_id
  Checking block: VLfhuW
    Block does not have prev_id
  Checking block: m8OEVv
    Block does not have prev_id
  Checking block: jmAIx4
    Block has prev_id: eYz-nn, matches target: false
  Checking block: Mk_Gts
    Block does not have prev_id
  Checking block: iT1F-F
    Block does not have prev_id
  Checking block: pLZrvb
    Block has prev_id: VLfhuW, matches target: false
  Checking block: Cbb2Xg
    Block has prev_id: HYvdCr, matches target: true
  Checking block: Z3TeKI
    Block does not have prev_id
  Checking block: zhA_gK
    Block does not have prev_id
find_block_referencing_prev_id: Found 1 blocks with prev_id = HYvdCr: ["Cbb2Xg"]
  Found 1 next blocks: ["Cbb2Xg"]
  Removing prev_id from next block Cbb2Xg (was pointing to HYvdCr)
remove_block_from_prev_id_chain: Completed
handle_following_connection: block_id=HYvdCr, next_id=Some("jmAIx4"), prev_id=Some("eYz-nn")
  Using prev_id strategy (prev_id=eYz-nn)
find_block_referencing_prev_id: Searching for blocks with prev_id = eYz-nn
  Found 12 total blocks to check
  Checking block: ixjcxC
    Block has prev_id: Cbb2Xg, matches target: false
  Checking block: eYz-nn
    Block has prev_id: ixjcxC, matches target: false
  Checking block: HYvdCr
    Block does not have prev_id
  Checking block: VLfhuW
    Block does not have prev_id
  Checking block: m8OEVv
    Block does not have prev_id
  Checking block: jmAIx4
    Block has prev_id: eYz-nn, matches target: true
  Checking block: Mk_Gts
    Block does not have prev_id
  Checking block: iT1F-F
    Block does not have prev_id
  Checking block: pLZrvb
    Block has prev_id: VLfhuW, matches target: false
  Checking block: Cbb2Xg
    Block does not have prev_id
  Checking block: Z3TeKI
    Block does not have prev_id
  Checking block: zhA_gK
    Block does not have prev_id
find_block_referencing_prev_id: Found 1 blocks with prev_id = eYz-nn: ["jmAIx4"]
  Found 1 nodes that reference prev_id eYz-nn: ["jmAIx4"]
  Updating block jmAIx4 to point to HYvdCr
  Finished prev_id strategy
move_block: Moved block within same parent
apply_action: Encoding state for doc_id: xxxx
apply_updates: Starting with 108 updates for doc_id: xxxx
apply_updates: Starting with 108 updates for doc_id: xxxx
apply_updates: Applying update for doc_id: xxxx
apply_updates: Finished for doc_id: xxxx
apply_updates: Successfully applied updates for doc_id: xxxx
get_document_state: Starting for doc_id: xxxx
extract_document_state: Starting for doc_id: xxxx
extract_document_state: Processing 12 blocks
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 0 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 0 deltas
====== STARTING BLOCK SORTING ======
Input children_map has 11 parent nodes

----- Sorting children of parent: Z3TeKI -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent Z3TeKI: []

----- Sorting children of parent: m8OEVv -----
Parent has 5 children to sort
Mapped 5 valid blocks by ID
Block HYvdCr assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block ixjcxC assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block eYz-nn assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block Cbb2Xg assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block jmAIx4 assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Grouped blocks into 1 devices
  - Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 5 blocks
Block HYvdCr has prev_id eYz-nn
Block ixjcxC has prev_id Cbb2Xg
Block eYz-nn has prev_id ixjcxC
Block Cbb2Xg has no prev_id
Block jmAIx4 has prev_id HYvdCr
Built prev->next map with 4 entries
  - eYz-nn has 1 next blocks: ["HYvdCr"]
  - ixjcxC has 1 next blocks: ["eYz-nn"]
  - HYvdCr has 1 next blocks: ["jmAIx4"]
  - Cbb2Xg has 1 next blocks: ["ixjcxC"]
Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 1 root blocks: ["Cbb2Xg"]
Processing devices in order: ["4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"]

Processing device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Sorted roots for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a: ["Cbb2Xg"]
Starting chain from root: Cbb2Xg
  Adding block Cbb2Xg to sorted list
    Pushing ixjcxC onto stack
  Adding block ixjcxC to sorted list
    Pushing eYz-nn onto stack
  Adding block eYz-nn to sorted list
    Pushing HYvdCr onto stack
  Adding block HYvdCr to sorted list
    Pushing jmAIx4 onto stack
  Adding block jmAIx4 to sorted list
  No next blocks for jmAIx4
No remaining blocks for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
No globally remaining blocks
Final sorted order for parent m8OEVv: ["Cbb2Xg", "ixjcxC", "eYz-nn", "HYvdCr", "jmAIx4"]

----- Sorting children of parent: VLfhuW -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent VLfhuW: []

----- Sorting children of parent: iT1F-F -----
Parent has 1 children to sort
WARNING: Block with ID VC6SQw not found in blocks map
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
Adding 1 globally remaining blocks: ["VC6SQw"]
  Adding remaining block VC6SQw to sorted list
Final sorted order for parent iT1F-F: ["VC6SQw"]

----- Sorting children of parent: zhA_gK -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent zhA_gK: []

----- Sorting children of parent: ixjcxC -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent ixjcxC: []

----- Sorting children of parent: HYvdCr -----
Parent has 2 children to sort
Mapped 2 valid blocks by ID
Block pLZrvb assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block VLfhuW assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Grouped blocks into 1 devices
  - Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 2 blocks
Block pLZrvb has prev_id VLfhuW
Block VLfhuW has no prev_id
Built prev->next map with 1 entries
  - VLfhuW has 1 next blocks: ["pLZrvb"]
Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 1 root blocks: ["VLfhuW"]
Processing devices in order: ["4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"]

Processing device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Sorted roots for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a: ["VLfhuW"]
Starting chain from root: VLfhuW
  Adding block VLfhuW to sorted list
    Pushing pLZrvb onto stack
  Adding block pLZrvb to sorted list
  No next blocks for pLZrvb
No remaining blocks for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
No globally remaining blocks
Final sorted order for parent HYvdCr: ["VLfhuW", "pLZrvb"]

----- Sorting children of parent: Cbb2Xg -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent Cbb2Xg: []

----- Sorting children of parent: pLZrvb -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent pLZrvb: []

----- Sorting children of parent: eYz-nn -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent eYz-nn: []

----- Sorting children of parent: jmAIx4 -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent jmAIx4: []
====== COMPLETED BLOCK SORTING ======
Final sorted children map has 11 parents
extract_document_state: Extracted 12 blocks and 11 parent-child relationships
get_document_state: Finished for doc_id: xxxx
merge_updates: Merging 1 updates
merge_updates: Successfully merged updates
apply_updates: Starting with 109 updates for doc_id: xxxx
apply_updates: Starting with 109 updates for doc_id: xxxx
apply_updates: Applying update for doc_id: xxxx
apply_updates: Finished for doc_id: xxxx
apply_updates: Successfully applied updates for doc_id: xxxx
get_document_state: Starting for doc_id: xxxx
extract_document_state: Starting for doc_id: xxxx
extract_document_state: Processing 12 blocks
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 0 deltas
deltas_to_json: Converting 0 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
====== STARTING BLOCK SORTING ======
Input children_map has 11 parent nodes

----- Sorting children of parent: Z3TeKI -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent Z3TeKI: []

----- Sorting children of parent: jmAIx4 -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent jmAIx4: []

----- Sorting children of parent: zhA_gK -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent zhA_gK: []

----- Sorting children of parent: iT1F-F -----
Parent has 1 children to sort
WARNING: Block with ID VC6SQw not found in blocks map
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
Adding 1 globally remaining blocks: ["VC6SQw"]
  Adding remaining block VC6SQw to sorted list
Final sorted order for parent iT1F-F: ["VC6SQw"]

----- Sorting children of parent: eYz-nn -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent eYz-nn: []

----- Sorting children of parent: m8OEVv -----
Parent has 5 children to sort
Mapped 5 valid blocks by ID
Block eYz-nn assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block HYvdCr assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block Cbb2Xg assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block ixjcxC assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block jmAIx4 assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Grouped blocks into 1 devices
  - Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 5 blocks
Block eYz-nn has prev_id ixjcxC
Block HYvdCr has prev_id eYz-nn
Block Cbb2Xg has no prev_id
Block ixjcxC has prev_id Cbb2Xg
Block jmAIx4 has prev_id HYvdCr
Built prev->next map with 4 entries
  - eYz-nn has 1 next blocks: ["HYvdCr"]
  - ixjcxC has 1 next blocks: ["eYz-nn"]
  - Cbb2Xg has 1 next blocks: ["ixjcxC"]
  - HYvdCr has 1 next blocks: ["jmAIx4"]
Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 1 root blocks: ["Cbb2Xg"]
Processing devices in order: ["4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"]

Processing device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Sorted roots for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a: ["Cbb2Xg"]
Starting chain from root: Cbb2Xg
  Adding block Cbb2Xg to sorted list
    Pushing ixjcxC onto stack
  Adding block ixjcxC to sorted list
    Pushing eYz-nn onto stack
  Adding block eYz-nn to sorted list
    Pushing HYvdCr onto stack
  Adding block HYvdCr to sorted list
    Pushing jmAIx4 onto stack
  Adding block jmAIx4 to sorted list
  No next blocks for jmAIx4
No remaining blocks for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
No globally remaining blocks
Final sorted order for parent m8OEVv: ["Cbb2Xg", "ixjcxC", "eYz-nn", "HYvdCr", "jmAIx4"]

----- Sorting children of parent: VLfhuW -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent VLfhuW: []

----- Sorting children of parent: Cbb2Xg -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent Cbb2Xg: []

----- Sorting children of parent: ixjcxC -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent ixjcxC: []

----- Sorting children of parent: HYvdCr -----
Parent has 2 children to sort
Mapped 2 valid blocks by ID
Block VLfhuW assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block pLZrvb assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Grouped blocks into 1 devices
  - Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 2 blocks
Block VLfhuW has no prev_id
Block pLZrvb has prev_id VLfhuW
Built prev->next map with 1 entries
  - VLfhuW has 1 next blocks: ["pLZrvb"]
Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 1 root blocks: ["VLfhuW"]
Processing devices in order: ["4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"]

Processing device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Sorted roots for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a: ["VLfhuW"]
Starting chain from root: VLfhuW
  Adding block VLfhuW to sorted list
    Pushing pLZrvb onto stack
  Adding block pLZrvb to sorted list
  No next blocks for pLZrvb
No remaining blocks for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
No globally remaining blocks
Final sorted order for parent HYvdCr: ["VLfhuW", "pLZrvb"]

----- Sorting children of parent: pLZrvb -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent pLZrvb: []
====== COMPLETED BLOCK SORTING ======
Final sorted children map has 11 parents
extract_document_state: Extracted 12 blocks and 11 parent-child relationships
get_document_state: Finished for doc_id: xxxx
flutter: onDragStarted
flutter: the drag offset is inside the block, dragOffset(Offset(147.0, 169.3)), globalBlockRect(Rect.fromLTRB(120.0, 132.0, 680.0, 170.0))
flutter: the drag offset is inside the block, dragOffset(Offset(153.2, 163.1)), globalBlockRect(Rect.fromLTRB(120.0, 132.0, 680.0, 170.0))
flutter: the drag offset is inside the block, dragOffset(Offset(155.0, 161.3)), globalBlockRect(Rect.fromLTRB(120.0, 132.0, 680.0, 170.0))
flutter: the drag offset is inside the block, dragOffset(Offset(158.5, 157.8)), globalBlockRect(Rect.fromLTRB(120.0, 132.0, 680.0, 170.0))
flutter: the drag offset is inside the block, dragOffset(Offset(161.0, 153.9)), globalBlockRect(Rect.fromLTRB(120.0, 132.0, 680.0, 170.0))
flutter: the drag offset is inside the block, dragOffset(Offset(161.2, 153.4)), globalBlockRect(Rect.fromLTRB(120.0, 132.0, 680.0, 170.0))
flutter: the drag offset is inside the block, dragOffset(Offset(163.5, 151.3)), globalBlockRect(Rect.fromLTRB(120.0, 132.0, 680.0, 170.0))
flutter: the drag offset is inside the block, dragOffset(Offset(164.0, 150.8)), globalBlockRect(Rect.fromLTRB(120.0, 132.0, 680.0, 170.0))
flutter: the drag offset is inside the block, dragOffset(Offset(164.3, 150.6)), globalBlockRect(Rect.fromLTRB(120.0, 132.0, 680.0, 170.0))
flutter: the drag offset is inside the block, dragOffset(Offset(164.8, 150.1)), globalBlockRect(Rect.fromLTRB(120.0, 132.0, 680.0, 170.0))
flutter: the drag offset is inside the block, dragOffset(Offset(165.5, 149.5)), globalBlockRect(Rect.fromLTRB(120.0, 132.0, 680.0, 170.0))
flutter: the drag offset is inside the block, dragOffset(Offset(165.8, 149.3)), globalBlockRect(Rect.fromLTRB(120.0, 132.0, 680.0, 170.0))
flutter: onDragEnd, acceptedPath([2])
flutter: the drag offset is inside the block, dragOffset(Offset(165.8, 149.3)), globalBlockRect(Rect.fromLTRB(120.0, 132.0, 680.0, 170.0))
flutter: Moving node(Node(id: HYvdCr, type: paragraph, attributes: {delta: [{insert: Task 1}], device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a, timestamp: 2025-04-24T17:14:28.685801}, children: [Node(id: VLfhuW, type: paragraph, attributes: {delta: [{insert: Task 2}], timestamp: 2025-04-24T17:14:31.317748, device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a}, children: []), Node(id: pLZrvb, type: paragraph, attributes: {delta: [{insert: Task 3}], timestamp: 2025-04-24T17:14:32.750175, device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a}, children: [])]), [3]) to path([2])
flutter: Transaction done
apply_action: Starting with 1 actions for doc_id: xxxx
move_block: Moving block_id: HYvdCr from parent: m8OEVv to parent: m8OEVv
remove_block_from_prev_id_chain: Removing block HYvdCr from chain
  Block HYvdCr has prev_id: eYz-nn
  Finding blocks that reference HYvdCr as their prev_id
find_block_referencing_prev_id: Searching for blocks with prev_id = HYvdCr
  Found 12 total blocks to check
  Checking block: VLfhuW
    Block does not have prev_id
  Checking block: m8OEVv
    Block does not have prev_id
  Checking block: Cbb2Xg
    Block does not have prev_id
  Checking block: zhA_gK
    Block does not have prev_id
  Checking block: ixjcxC
    Block has prev_id: Cbb2Xg, matches target: false
  Checking block: Z3TeKI
    Block does not have prev_id
  Checking block: HYvdCr
    Block has prev_id: eYz-nn, matches target: false
  Checking block: iT1F-F
    Block does not have prev_id
  Checking block: Mk_Gts
    Block does not have prev_id
  Checking block: jmAIx4
    Block has prev_id: HYvdCr, matches target: true
  Checking block: eYz-nn
    Block has prev_id: ixjcxC, matches target: false
  Checking block: pLZrvb
    Block has prev_id: VLfhuW, matches target: false
find_block_referencing_prev_id: Found 1 blocks with prev_id = HYvdCr: ["jmAIx4"]
  Found 1 next blocks: ["jmAIx4"]
  Updating next block jmAIx4 to point to eYz-nn (was pointing to HYvdCr)
remove_block_from_prev_id_chain: Completed
handle_following_connection: block_id=HYvdCr, next_id=Some("eYz-nn"), prev_id=Some("ixjcxC")
  Using prev_id strategy (prev_id=ixjcxC)
find_block_referencing_prev_id: Searching for blocks with prev_id = ixjcxC
  Found 12 total blocks to check
  Checking block: VLfhuW
    Block does not have prev_id
  Checking block: m8OEVv
    Block does not have prev_id
  Checking block: Cbb2Xg
    Block does not have prev_id
  Checking block: zhA_gK
    Block does not have prev_id
  Checking block: ixjcxC
    Block has prev_id: Cbb2Xg, matches target: false
  Checking block: Z3TeKI
    Block does not have prev_id
  Checking block: HYvdCr
    Block has prev_id: eYz-nn, matches target: false
  Checking block: iT1F-F
    Block does not have prev_id
  Checking block: Mk_Gts
    Block does not have prev_id
  Checking block: jmAIx4
    Block has prev_id: eYz-nn, matches target: false
  Checking block: eYz-nn
    Block has prev_id: ixjcxC, matches target: true
  Checking block: pLZrvb
    Block has prev_id: VLfhuW, matches target: false
find_block_referencing_prev_id: Found 1 blocks with prev_id = ixjcxC: ["eYz-nn"]
  Found 1 nodes that reference prev_id ixjcxC: ["eYz-nn"]
  Updating block eYz-nn to point to HYvdCr
  Finished prev_id strategy
move_block: Moved block within same parent
apply_action: Encoding state for doc_id: xxxx
apply_updates: Starting with 109 updates for doc_id: xxxx
apply_updates: Starting with 109 updates for doc_id: xxxx
apply_updates: Applying update for doc_id: xxxx
apply_updates: Finished for doc_id: xxxx
apply_updates: Successfully applied updates for doc_id: xxxx
get_document_state: Starting for doc_id: xxxx
extract_document_state: Starting for doc_id: xxxx
extract_document_state: Processing 12 blocks
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 0 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 0 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
====== STARTING BLOCK SORTING ======
Input children_map has 11 parent nodes

----- Sorting children of parent: HYvdCr -----
Parent has 2 children to sort
Mapped 2 valid blocks by ID
Block VLfhuW assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block pLZrvb assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Grouped blocks into 1 devices
  - Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 2 blocks
Block VLfhuW has no prev_id
Block pLZrvb has prev_id VLfhuW
Built prev->next map with 1 entries
  - VLfhuW has 1 next blocks: ["pLZrvb"]
Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 1 root blocks: ["VLfhuW"]
Processing devices in order: ["4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"]

Processing device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Sorted roots for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a: ["VLfhuW"]
Starting chain from root: VLfhuW
  Adding block VLfhuW to sorted list
    Pushing pLZrvb onto stack
  Adding block pLZrvb to sorted list
  No next blocks for pLZrvb
No remaining blocks for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
No globally remaining blocks
Final sorted order for parent HYvdCr: ["VLfhuW", "pLZrvb"]

----- Sorting children of parent: zhA_gK -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent zhA_gK: []

----- Sorting children of parent: VLfhuW -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent VLfhuW: []

----- Sorting children of parent: Cbb2Xg -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent Cbb2Xg: []

----- Sorting children of parent: m8OEVv -----
Parent has 5 children to sort
Mapped 5 valid blocks by ID
Block ixjcxC assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block eYz-nn assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block jmAIx4 assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block Cbb2Xg assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block HYvdCr assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Grouped blocks into 1 devices
  - Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 5 blocks
Block ixjcxC has prev_id Cbb2Xg
Block eYz-nn has prev_id HYvdCr
Block jmAIx4 has prev_id eYz-nn
Block Cbb2Xg has no prev_id
Block HYvdCr has prev_id ixjcxC
Built prev->next map with 4 entries
  - eYz-nn has 1 next blocks: ["jmAIx4"]
  - ixjcxC has 1 next blocks: ["HYvdCr"]
  - Cbb2Xg has 1 next blocks: ["ixjcxC"]
  - HYvdCr has 1 next blocks: ["eYz-nn"]
Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 1 root blocks: ["Cbb2Xg"]
Processing devices in order: ["4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"]

Processing device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Sorted roots for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a: ["Cbb2Xg"]
Starting chain from root: Cbb2Xg
  Adding block Cbb2Xg to sorted list
    Pushing ixjcxC onto stack
  Adding block ixjcxC to sorted list
    Pushing HYvdCr onto stack
  Adding block HYvdCr to sorted list
    Pushing eYz-nn onto stack
  Adding block eYz-nn to sorted list
    Pushing jmAIx4 onto stack
  Adding block jmAIx4 to sorted list
  No next blocks for jmAIx4
No remaining blocks for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
No globally remaining blocks
Final sorted order for parent m8OEVv: ["Cbb2Xg", "ixjcxC", "HYvdCr", "eYz-nn", "jmAIx4"]

----- Sorting children of parent: Z3TeKI -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent Z3TeKI: []

----- Sorting children of parent: eYz-nn -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent eYz-nn: []

----- Sorting children of parent: ixjcxC -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent ixjcxC: []

----- Sorting children of parent: iT1F-F -----
Parent has 1 children to sort
WARNING: Block with ID VC6SQw not found in blocks map
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
Adding 1 globally remaining blocks: ["VC6SQw"]
  Adding remaining block VC6SQw to sorted list
Final sorted order for parent iT1F-F: ["VC6SQw"]

----- Sorting children of parent: pLZrvb -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent pLZrvb: []

----- Sorting children of parent: jmAIx4 -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent jmAIx4: []
====== COMPLETED BLOCK SORTING ======
Final sorted children map has 11 parents
extract_document_state: Extracted 12 blocks and 11 parent-child relationships
get_document_state: Finished for doc_id: xxxx
merge_updates: Merging 1 updates
merge_updates: Successfully merged updates
apply_updates: Starting with 110 updates for doc_id: xxxx
apply_updates: Starting with 110 updates for doc_id: xxxx
apply_updates: Applying update for doc_id: xxxx
apply_updates: Finished for doc_id: xxxx
apply_updates: Successfully applied updates for doc_id: xxxx
get_document_state: Starting for doc_id: xxxx
extract_document_state: Starting for doc_id: xxxx
extract_document_state: Processing 12 blocks
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 0 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 0 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
====== STARTING BLOCK SORTING ======
Input children_map has 11 parent nodes

----- Sorting children of parent: iT1F-F -----
Parent has 1 children to sort
WARNING: Block with ID VC6SQw not found in blocks map
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
Adding 1 globally remaining blocks: ["VC6SQw"]
  Adding remaining block VC6SQw to sorted list
Final sorted order for parent iT1F-F: ["VC6SQw"]

----- Sorting children of parent: VLfhuW -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent VLfhuW: []

----- Sorting children of parent: ixjcxC -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent ixjcxC: []

----- Sorting children of parent: Cbb2Xg -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent Cbb2Xg: []

----- Sorting children of parent: m8OEVv -----
Parent has 5 children to sort
Mapped 5 valid blocks by ID
Block Cbb2Xg assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block ixjcxC assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block eYz-nn assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block jmAIx4 assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block HYvdCr assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Grouped blocks into 1 devices
  - Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 5 blocks
Block Cbb2Xg has no prev_id
Block ixjcxC has prev_id Cbb2Xg
Block eYz-nn has prev_id HYvdCr
Block jmAIx4 has prev_id eYz-nn
Block HYvdCr has prev_id ixjcxC
Built prev->next map with 4 entries
  - Cbb2Xg has 1 next blocks: ["ixjcxC"]
  - eYz-nn has 1 next blocks: ["jmAIx4"]
  - ixjcxC has 1 next blocks: ["HYvdCr"]
  - HYvdCr has 1 next blocks: ["eYz-nn"]
Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 1 root blocks: ["Cbb2Xg"]
Processing devices in order: ["4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"]

Processing device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Sorted roots for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a: ["Cbb2Xg"]
Starting chain from root: Cbb2Xg
  Adding block Cbb2Xg to sorted list
    Pushing ixjcxC onto stack
  Adding block ixjcxC to sorted list
    Pushing HYvdCr onto stack
  Adding block HYvdCr to sorted list
    Pushing eYz-nn onto stack
  Adding block eYz-nn to sorted list
    Pushing jmAIx4 onto stack
  Adding block jmAIx4 to sorted list
  No next blocks for jmAIx4
No remaining blocks for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
No globally remaining blocks
Final sorted order for parent m8OEVv: ["Cbb2Xg", "ixjcxC", "HYvdCr", "eYz-nn", "jmAIx4"]

----- Sorting children of parent: eYz-nn -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent eYz-nn: []

----- Sorting children of parent: Z3TeKI -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent Z3TeKI: []

----- Sorting children of parent: zhA_gK -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent zhA_gK: []

----- Sorting children of parent: HYvdCr -----
Parent has 2 children to sort
Mapped 2 valid blocks by ID
Block pLZrvb assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block VLfhuW assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Grouped blocks into 1 devices
  - Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 2 blocks
Block pLZrvb has prev_id VLfhuW
Block VLfhuW has no prev_id
Built prev->next map with 1 entries
  - VLfhuW has 1 next blocks: ["pLZrvb"]
Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 1 root blocks: ["VLfhuW"]
Processing devices in order: ["4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"]

Processing device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Sorted roots for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a: ["VLfhuW"]
Starting chain from root: VLfhuW
  Adding block VLfhuW to sorted list
    Pushing pLZrvb onto stack
  Adding block pLZrvb to sorted list
  No next blocks for pLZrvb
No remaining blocks for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
No globally remaining blocks
Final sorted order for parent HYvdCr: ["VLfhuW", "pLZrvb"]

----- Sorting children of parent: jmAIx4 -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent jmAIx4: []

----- Sorting children of parent: pLZrvb -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent pLZrvb: []
====== COMPLETED BLOCK SORTING ======
Final sorted children map has 11 parents
extract_document_state: Extracted 12 blocks and 11 parent-child relationships
get_document_state: Finished for doc_id: xxxx
flutter: onDragStarted
flutter: the drag offset is inside the block, dragOffset(Offset(195.7, 131.9)), globalBlockRect(Rect.fromLTRB(120.0, 94.0, 680.0, 132.0))
flutter: the drag offset is inside the block, dragOffset(Offset(201.1, 128.7)), globalBlockRect(Rect.fromLTRB(120.0, 94.0, 680.0, 132.0))
flutter: the drag offset is inside the block, dragOffset(Offset(202.5, 128.0)), globalBlockRect(Rect.fromLTRB(120.0, 94.0, 680.0, 132.0))
flutter: the drag offset is inside the block, dragOffset(Offset(203.6, 127.3)), globalBlockRect(Rect.fromLTRB(120.0, 94.0, 680.0, 132.0))
flutter: the drag offset is inside the block, dragOffset(Offset(207.6, 124.7)), globalBlockRect(Rect.fromLTRB(120.0, 94.0, 680.0, 132.0))
flutter: the drag offset is inside the block, dragOffset(Offset(210.5, 123.3)), globalBlockRect(Rect.fromLTRB(120.0, 94.0, 680.0, 132.0))
flutter: the drag offset is inside the block, dragOffset(Offset(212.9, 122.7)), globalBlockRect(Rect.fromLTRB(120.0, 94.0, 680.0, 132.0))
flutter: the drag offset is inside the block, dragOffset(Offset(214.9, 120.7)), globalBlockRect(Rect.fromLTRB(120.0, 94.0, 680.0, 132.0))
flutter: the drag offset is inside the block, dragOffset(Offset(215.2, 120.7)), globalBlockRect(Rect.fromLTRB(120.0, 94.0, 680.0, 132.0))
flutter: onDragEnd, acceptedPath([2])
flutter: the drag offset is inside the block, dragOffset(Offset(215.2, 120.7)), globalBlockRect(Rect.fromLTRB(120.0, 94.0, 680.0, 132.0))
flutter: Moving node(Node(id: HYvdCr, type: paragraph, attributes: {delta: [{insert: Task 1}], device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a, timestamp: 2025-04-24T17:14:28.685801}, children: [Node(id: VLfhuW, type: paragraph, attributes: {delta: [{insert: Task 2}], timestamp: 2025-04-24T17:14:31.317748, device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a}, children: []), Node(id: pLZrvb, type: paragraph, attributes: {delta: [{insert: Task 3}], timestamp: 2025-04-24T17:14:32.750175, device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a}, children: [])]), [2]) to path([1])
flutter: Transaction done
apply_action: Starting with 1 actions for doc_id: xxxx
move_block: Moving block_id: HYvdCr from parent: m8OEVv to parent: ixjcxC
remove_block_from_prev_id_chain: Removing block HYvdCr from chain
  Block HYvdCr has prev_id: ixjcxC
  Finding blocks that reference HYvdCr as their prev_id
find_block_referencing_prev_id: Searching for blocks with prev_id = HYvdCr
  Found 12 total blocks to check
  Checking block: HYvdCr
    Block has prev_id: ixjcxC, matches target: false
  Checking block: pLZrvb
    Block has prev_id: VLfhuW, matches target: false
  Checking block: eYz-nn
    Block has prev_id: HYvdCr, matches target: true
  Checking block: m8OEVv
    Block does not have prev_id
  Checking block: Z3TeKI
    Block does not have prev_id
  Checking block: zhA_gK
    Block does not have prev_id
  Checking block: Mk_Gts
    Block does not have prev_id
  Checking block: iT1F-F
    Block does not have prev_id
  Checking block: jmAIx4
    Block has prev_id: eYz-nn, matches target: false
  Checking block: ixjcxC
    Block has prev_id: Cbb2Xg, matches target: false
  Checking block: VLfhuW
    Block does not have prev_id
  Checking block: Cbb2Xg
    Block does not have prev_id
find_block_referencing_prev_id: Found 1 blocks with prev_id = HYvdCr: ["eYz-nn"]
  Found 1 next blocks: ["eYz-nn"]
  Updating next block eYz-nn to point to ixjcxC (was pointing to HYvdCr)
remove_block_from_prev_id_chain: Completed
handle_following_connection: block_id=HYvdCr, next_id=None, prev_id=None
  No prev_id or next_id provided, nothing to handle
handle_following_connection: Completed
move_block: Moved block between parents
apply_action: Encoding state for doc_id: xxxx
apply_updates: Starting with 110 updates for doc_id: xxxx
apply_updates: Starting with 110 updates for doc_id: xxxx
apply_updates: Applying update for doc_id: xxxx
apply_updates: Finished for doc_id: xxxx
apply_updates: Successfully applied updates for doc_id: xxxx
get_document_state: Starting for doc_id: xxxx
extract_document_state: Starting for doc_id: xxxx
extract_document_state: Processing 12 blocks
deltas_to_json: Converting 0 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 0 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
====== STARTING BLOCK SORTING ======
Input children_map has 11 parent nodes

----- Sorting children of parent: zhA_gK -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent zhA_gK: []

----- Sorting children of parent: HYvdCr -----
Parent has 2 children to sort
Mapped 2 valid blocks by ID
Block pLZrvb assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block VLfhuW assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Grouped blocks into 1 devices
  - Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 2 blocks
Block pLZrvb has prev_id VLfhuW
Block VLfhuW has no prev_id
Built prev->next map with 1 entries
  - VLfhuW has 1 next blocks: ["pLZrvb"]
Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 1 root blocks: ["VLfhuW"]
Processing devices in order: ["4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"]

Processing device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Sorted roots for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a: ["VLfhuW"]
Starting chain from root: VLfhuW
  Adding block VLfhuW to sorted list
    Pushing pLZrvb onto stack
  Adding block pLZrvb to sorted list
  No next blocks for pLZrvb
No remaining blocks for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
No globally remaining blocks
Final sorted order for parent HYvdCr: ["VLfhuW", "pLZrvb"]

----- Sorting children of parent: VLfhuW -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent VLfhuW: []

----- Sorting children of parent: eYz-nn -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent eYz-nn: []

----- Sorting children of parent: Z3TeKI -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent Z3TeKI: []

----- Sorting children of parent: ixjcxC -----
Parent has 1 children to sort
Mapped 1 valid blocks by ID
Block HYvdCr assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Grouped blocks into 1 devices
  - Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 1 blocks
Block HYvdCr has no prev_id
Built prev->next map with 0 entries
Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 1 root blocks: ["HYvdCr"]
Processing devices in order: ["4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"]

Processing device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Sorted roots for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a: ["HYvdCr"]
Starting chain from root: HYvdCr
  Adding block HYvdCr to sorted list
  No next blocks for HYvdCr
No remaining blocks for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
No globally remaining blocks
Final sorted order for parent ixjcxC: ["HYvdCr"]

----- Sorting children of parent: m8OEVv -----
Parent has 4 children to sort
Mapped 4 valid blocks by ID
Block HYvdCr assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block ixjcxC assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block Cbb2Xg assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block jmAIx4 assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Grouped blocks into 1 devices
  - Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 4 blocks
Block HYvdCr has no prev_id
Block ixjcxC has prev_id Cbb2Xg
Block Cbb2Xg has no prev_id
Block jmAIx4 has prev_id eYz-nn
Built prev->next map with 2 entries
  - eYz-nn has 1 next blocks: ["jmAIx4"]
  - Cbb2Xg has 1 next blocks: ["ixjcxC"]
Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 2 root blocks: ["HYvdCr", "Cbb2Xg"]
Processing devices in order: ["4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"]

Processing device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Comparing root blocks: Cbb2Xg (time: 2025-04-24T17:13:22.923334) vs HYvdCr (time: 2025-04-24T17:14:28.685801)
Sorted roots for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a: ["Cbb2Xg", "HYvdCr"]
Starting chain from root: Cbb2Xg
  Adding block Cbb2Xg to sorted list
    Pushing ixjcxC onto stack
  Adding block ixjcxC to sorted list
  No next blocks for ixjcxC
Starting chain from root: HYvdCr
  Adding block HYvdCr to sorted list
  No next blocks for HYvdCr
Adding 1 remaining blocks for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a: ["jmAIx4"]
  Adding remaining block jmAIx4 to sorted list
No globally remaining blocks
Final sorted order for parent m8OEVv: ["Cbb2Xg", "ixjcxC", "HYvdCr", "jmAIx4"]

----- Sorting children of parent: pLZrvb -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent pLZrvb: []

----- Sorting children of parent: iT1F-F -----
Parent has 1 children to sort
WARNING: Block with ID VC6SQw not found in blocks map
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
Adding 1 globally remaining blocks: ["VC6SQw"]
  Adding remaining block VC6SQw to sorted list
Final sorted order for parent iT1F-F: ["VC6SQw"]

----- Sorting children of parent: Cbb2Xg -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent Cbb2Xg: []

----- Sorting children of parent: jmAIx4 -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent jmAIx4: []
====== COMPLETED BLOCK SORTING ======
Final sorted children map has 11 parents
extract_document_state: Extracted 12 blocks and 11 parent-child relationships
get_document_state: Finished for doc_id: xxxx
flutter: {
flutter:   "docId": "xxxx",
flutter:   "blocks": {
flutter:     "pLZrvb": {
flutter:       "id": "pLZrvb",
flutter:       "ty": "paragraph",
flutter:       "attributes": {
flutter:         "device": "4cb3899a-3fe4-4bb1-bbf4-edd464b0977a",
flutter:         "timestamp": "2025-04-24T17:14:32.750175",
flutter:         "delta": "[]"
flutter:       },
flutter:       "delta": "[{\"insert\":\"Task 3\"}]",
flutter:       "parentId": "HYvdCr",
flutter:       "prevId": "VLfhuW",
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "Z3TeKI": {
flutter:       "id": "Z3TeKI",
flutter:       "ty": "paragraph",
flutter:       "attributes": {
flutter:         "device": "4cb3899a-3fe4-4bb1-bbf4-edd464b0977a",
flutter:         "timestamp": "2025-04-24T17:12:28.114539",
flutter:         "delta": "[]"
flutter:       },
flutter:       "delta": "[{\"insert\":\"Task 2\"}]",
flutter:       "parentId": "m8OEVv",
flutter:       "prevId": null,
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "Mk_Gts": {
flutter:       "id": "Mk_Gts",
flutter:       "ty": "",
flutter:       "attributes": {
flutter:         "device": "4cb3899a-3fe4-4bb1-bbf4-edd464b0977a",
flutter:         "checked": "false",
flutter:         "timestamp": "2025-04-24T17:04:05.077214"
flutter:       },
flutter:       "delta": "[]",
flutter:       "parentId": null,
flutter:       "prevId": null,
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "zhA_gK": {
flutter:       "id": "zhA_gK",
flutter:       "ty": "todo_list",
flutter:       "attributes": {
flutter:         "delta": "[]",
flutter:         "timestamp": "2025-04-24T17:04:02.277720",
flutter:         "device": "4cb3899a-3fe4-4bb1-bbf4-edd464b0977a",
flutter:         "checked": "false"
flutter:       },
flutter:       "delta": "[{\"insert\":\"Task is mine\"}]",
flutter:       "parentId": "m8OEVv",
flutter:       "prevId": null,
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "Cbb2Xg": {
flutter:       "id": "Cbb2Xg",
flutter:       "ty": "paragraph",
flutter:       "attributes": {
flutter:         "timestamp": "2025-04-24T17:13:22.923334",
flutter:         "device": "4cb3899a-3fe4-4bb1-bbf4-edd464b0977a",
flutter:         "delta": "[]"
flutter:       },
flutter:       "delta": "[{\"insert\":\"New Element 1\"}]",
flutter:       "parentId": "m8OEVv",
flutter:       "prevId": null,
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "iT1F-F": {
flutter:       "id": "iT1F-F",
flutter:       "ty": "paragraph",
flutter:       "attributes": {
flutter:         "delta": "[]",
flutter:         "device": "4cb3899a-3fe4-4bb1-bbf4-edd464b0977a",
flutter:         "timestamp": "2025-04-24T17:06:39.424851"
flutter:       },
flutter:       "delta": "[{\"insert\":\"New Task3\"}]",
flutter:       "parentId": "m8OEVv",
flutter:       "prevId": null,
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "HYvdCr": {
flutter:       "id": "HYvdCr",
flutter:       "ty": "paragraph",
flutter:       "attributes": {
flutter:         "timestamp": "2025-04-24T17:14:28.685801",
flutter:         "delta": "[]",
flutter:         "device": "4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"
flutter:       },
flutter:       "delta": "[{\"insert\":\"Task 1\"}]",
flutter:       "parentId": "ixjcxC",
flutter:       "prevId": null,
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "ixjcxC": {
flutter:       "id": "ixjcxC",
flutter:       "ty": "paragraph",
flutter:       "attributes": {
flutter:         "delta": "[]",
flutter:         "device": "4cb3899a-3fe4-4bb1-bbf4-edd464b0977a",
flutter:         "timestamp": "2025-04-24T17:14:19.029895"
flutter:       },
flutter:       "delta": "[{\"insert\":\"New Element 2\"}]",
flutter:       "parentId": "m8OEVv",
flutter:       "prevId": "Cbb2Xg",
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "jmAIx4": {
flutter:       "id": "jmAIx4",
flutter:       "ty": "paragraph",
flutter:       "attributes": {
flutter:         "device": "4cb3899a-3fe4-4bb1-bbf4-edd464b0977a",
flutter:         "delta": "[]",
flutter:         "timestamp": "2025-04-24T17:14:28.087127"
flutter:       },
flutter:       "delta": "[]",
flutter:       "parentId": "m8OEVv",
flutter:       "prevId": "eYz-nn",
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "m8OEVv": {
flutter:       "id": "m8OEVv",
flutter:       "ty": "page",
flutter:       "attributes": {
flutter:         "device": "3a00f73e-0356-4c61-a6e1-cb439d9dbf33",
flutter:         "timestamp": "2025-04-24T17:01:59.905543"
flutter:       },
flutter:       "delta": null,
flutter:       "parentId": null,
flutter:       "prevId": null,
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "eYz-nn": {
flutter:       "id": "eYz-nn",
flutter:       "ty": "paragraph",
flutter:       "attributes": {
flutter:         "device": "4cb3899a-3fe4-4bb1-bbf4-edd464b0977a",
flutter:         "timestamp": "2025-04-24T17:14:23.263975",
flutter:         "delta": "[]"
flutter:       },
flutter:       "delta": "[{\"insert\":\"New Element 3\"}]",
flutter:       "parentId": "m8OEVv",
flutter:       "prevId": "ixjcxC",
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "VLfhuW": {
flutter:       "id": "VLfhuW",
flutter:       "ty": "paragraph",
flutter:       "attributes": {
flutter:         "delta": "[]",
flutter:         "timestamp": "2025-04-24T17:14:31.317748",
flutter:         "device": "4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"
flutter:       },
flutter:       "delta": "[{\"insert\":\"Task 2\"}]",
flutter:       "parentId": "HYvdCr",
flutter:       "prevId": null,
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     }
flutter:   },
flutter:   "childrenMap": {
flutter:     "jmAIx4": [],
flutter:     "VLfhuW": [],
flutter:     "eYz-nn": [],
flutter:     "zhA_gK": [],
flutter:     "ixjcxC": [
flutter:       "HYvdCr"
flutter:     ],
flutter:     "pLZrvb": [],
flutter:     "iT1F-F": [
flutter:       "VC6SQw"
flutter:     ],
flutter:     "HYvdCr": [
flutter:       "VLfhuW",
flutter:       "pLZrvb"
flutter:     ],
flutter:     "Z3TeKI": [],
flutter:     "m8OEVv": [
flutter:       "Cbb2Xg",
flutter:       "ixjcxC",
flutter:       "HYvdCr",
flutter:       "jmAIx4"
flutter:     ],
flutter:     "Cbb2Xg": []
flutter:   },
flutter:   "rootId": "m8OEVv"
flutter: }
merge_updates: Merging 1 updates
merge_updates: Successfully merged updates
apply_updates: Starting with 111 updates for doc_id: xxxx
apply_updates: Starting with 111 updates for doc_id: xxxx
apply_updates: Applying update for doc_id: xxxx
apply_updates: Finished for doc_id: xxxx
apply_updates: Successfully applied updates for doc_id: xxxx
get_document_state: Starting for doc_id: xxxx
extract_document_state: Starting for doc_id: xxxx
extract_document_state: Processing 12 blocks
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 0 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 0 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
====== STARTING BLOCK SORTING ======
Input children_map has 11 parent nodes

----- Sorting children of parent: pLZrvb -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent pLZrvb: []

----- Sorting children of parent: eYz-nn -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent eYz-nn: []

----- Sorting children of parent: ixjcxC -----
Parent has 1 children to sort
Mapped 1 valid blocks by ID
Block HYvdCr assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Grouped blocks into 1 devices
  - Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 1 blocks
Block HYvdCr has no prev_id
Built prev->next map with 0 entries
Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 1 root blocks: ["HYvdCr"]
Processing devices in order: ["4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"]

Processing device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Sorted roots for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a: ["HYvdCr"]
Starting chain from root: HYvdCr
  Adding block HYvdCr to sorted list
  No next blocks for HYvdCr
No remaining blocks for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
No globally remaining blocks
Final sorted order for parent ixjcxC: ["HYvdCr"]

----- Sorting children of parent: HYvdCr -----
Parent has 2 children to sort
Mapped 2 valid blocks by ID
Block VLfhuW assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block pLZrvb assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Grouped blocks into 1 devices
  - Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 2 blocks
Block VLfhuW has no prev_id
Block pLZrvb has prev_id VLfhuW
Built prev->next map with 1 entries
  - VLfhuW has 1 next blocks: ["pLZrvb"]
Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 1 root blocks: ["VLfhuW"]
Processing devices in order: ["4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"]

Processing device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Sorted roots for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a: ["VLfhuW"]
Starting chain from root: VLfhuW
  Adding block VLfhuW to sorted list
    Pushing pLZrvb onto stack
  Adding block pLZrvb to sorted list
  No next blocks for pLZrvb
No remaining blocks for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
No globally remaining blocks
Final sorted order for parent HYvdCr: ["VLfhuW", "pLZrvb"]

----- Sorting children of parent: Z3TeKI -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent Z3TeKI: []

----- Sorting children of parent: Cbb2Xg -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent Cbb2Xg: []

----- Sorting children of parent: jmAIx4 -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent jmAIx4: []

----- Sorting children of parent: iT1F-F -----
Parent has 1 children to sort
WARNING: Block with ID VC6SQw not found in blocks map
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
Adding 1 globally remaining blocks: ["VC6SQw"]
  Adding remaining block VC6SQw to sorted list
Final sorted order for parent iT1F-F: ["VC6SQw"]

----- Sorting children of parent: VLfhuW -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent VLfhuW: []

----- Sorting children of parent: zhA_gK -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent zhA_gK: []

----- Sorting children of parent: m8OEVv -----
Parent has 4 children to sort
Mapped 4 valid blocks by ID
Block ixjcxC assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block jmAIx4 assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block HYvdCr assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block Cbb2Xg assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Grouped blocks into 1 devices
  - Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 4 blocks
Block ixjcxC has prev_id Cbb2Xg
Block jmAIx4 has prev_id eYz-nn
Block HYvdCr has no prev_id
Block Cbb2Xg has no prev_id
Built prev->next map with 2 entries
  - Cbb2Xg has 1 next blocks: ["ixjcxC"]
  - eYz-nn has 1 next blocks: ["jmAIx4"]
Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 2 root blocks: ["HYvdCr", "Cbb2Xg"]
Processing devices in order: ["4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"]

Processing device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Comparing root blocks: Cbb2Xg (time: 2025-04-24T17:13:22.923334) vs HYvdCr (time: 2025-04-24T17:14:28.685801)
Sorted roots for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a: ["Cbb2Xg", "HYvdCr"]
Starting chain from root: Cbb2Xg
  Adding block Cbb2Xg to sorted list
    Pushing ixjcxC onto stack
  Adding block ixjcxC to sorted list
  No next blocks for ixjcxC
Starting chain from root: HYvdCr
  Adding block HYvdCr to sorted list
  No next blocks for HYvdCr
Adding 1 remaining blocks for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a: ["jmAIx4"]
  Adding remaining block jmAIx4 to sorted list
No globally remaining blocks
Final sorted order for parent m8OEVv: ["Cbb2Xg", "ixjcxC", "HYvdCr", "jmAIx4"]
====== COMPLETED BLOCK SORTING ======
Final sorted children map has 11 parents
extract_document_state: Extracted 12 blocks and 11 parent-child relationships
get_document_state: Finished for doc_id: xxxx
