Restarted application in 1,499ms.
flutter: ╔════════════════════════════════════════════════════════════════╗
flutter: ║                      ISAR CONNECT STARTED                      ║
flutter: ╟────────────────────────────────────────────────────────────────╢
flutter: ║              Open the link to connect to the Isar              ║
flutter: ║             Inspector while this build is running.             ║
flutter: ╟────────────────────────────────────────────────────────────────╢
flutter: ║ https://isar-community.dev/inspector/4.0.3/#/55788/_iPvCfUEDBA ║
flutter: ╚════════════════════════════════════════════════════════════════╝
Creating new document service
apply_updates: Starting with 107 updates for doc_id: xxxx
apply_updates: Starting with 107 updates for doc_id: xxxx
apply_updates: Applying update for doc_id: xxxx
apply_updates: Finished for doc_id: xxxx
apply_updates: Successfully applied updates for doc_id: xxxx
get_document_state: Starting for doc_id: xxxx
extract_document_state: Starting for doc_id: xxxx
extract_document_state: Processing 12 blocks
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 0 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 0 deltas
====== STARTING BLOCK SORTING ======
Input children_map has 11 parent nodes

----- Sorting children of parent: pLZrvb -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent pLZrvb: []

----- Sorting children of parent: HYvdCr -----
Parent has 2 children to sort
Mapped 2 valid blocks by ID
Block VLfhuW assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block pLZrvb assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Grouped blocks into 1 devices
  - Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 2 blocks
Block VLfhuW has no prev_id
Block pLZrvb has prev_id VLfhuW
Built prev->next map with 1 entries
  - VLfhuW has 1 next blocks: ["pLZrvb"]
Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 1 root blocks: ["VLfhuW"]
Processing devices in order: ["4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"]

Processing device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Sorted roots for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a: ["VLfhuW"]
Starting chain from root: VLfhuW
  Adding block VLfhuW to sorted list
    Pushing pLZrvb onto stack
  Adding block pLZrvb to sorted list
  No next blocks for pLZrvb
No remaining blocks for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
No globally remaining blocks
Final sorted order for parent HYvdCr: ["VLfhuW", "pLZrvb"]

----- Sorting children of parent: Cbb2Xg -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent Cbb2Xg: []

----- Sorting children of parent: iT1F-F -----
Parent has 1 children to sort
WARNING: Block with ID VC6SQw not found in blocks map
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
Adding 1 globally remaining blocks: ["VC6SQw"]
  Adding remaining block VC6SQw to sorted list
Final sorted order for parent iT1F-F: ["VC6SQw"]

----- Sorting children of parent: Z3TeKI -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent Z3TeKI: []

----- Sorting children of parent: eYz-nn -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent eYz-nn: []

----- Sorting children of parent: ixjcxC -----
Parent has 1 children to sort
Mapped 1 valid blocks by ID
Block HYvdCr assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Grouped blocks into 1 devices
  - Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 1 blocks
Block HYvdCr has no prev_id
Built prev->next map with 0 entries
Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 1 root blocks: ["HYvdCr"]
Processing devices in order: ["4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"]

Processing device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Sorted roots for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a: ["HYvdCr"]
Starting chain from root: HYvdCr
  Adding block HYvdCr to sorted list
  No next blocks for HYvdCr
No remaining blocks for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
No globally remaining blocks
Final sorted order for parent ixjcxC: ["HYvdCr"]

----- Sorting children of parent: m8OEVv -----
Parent has 4 children to sort
Mapped 4 valid blocks by ID
Block ixjcxC assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block HYvdCr assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block jmAIx4 assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block Cbb2Xg assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Grouped blocks into 1 devices
  - Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 4 blocks
Block ixjcxC has prev_id Cbb2Xg
Block HYvdCr has no prev_id
Block jmAIx4 has prev_id eYz-nn
Block Cbb2Xg has no prev_id
Built prev->next map with 2 entries
  - Cbb2Xg has 1 next blocks: ["ixjcxC"]
  - eYz-nn has 1 next blocks: ["jmAIx4"]
Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 2 root blocks: ["HYvdCr", "Cbb2Xg"]
Processing devices in order: ["4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"]

Processing device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Comparing root blocks: Cbb2Xg (time: 2025-04-24T17:13:22.923334) vs HYvdCr (time: 2025-04-24T17:14:28.685801)
Sorted roots for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a: ["Cbb2Xg", "HYvdCr"]
Starting chain from root: Cbb2Xg
  Adding block Cbb2Xg to sorted list
    Pushing ixjcxC onto stack
  Adding block ixjcxC to sorted list
  No next blocks for ixjcxC
Starting chain from root: HYvdCr
  Adding block HYvdCr to sorted list
  No next blocks for HYvdCr
Adding 1 remaining blocks for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a: ["jmAIx4"]
  Adding remaining block jmAIx4 to sorted list
No globally remaining blocks
Final sorted order for parent m8OEVv: ["Cbb2Xg", "ixjcxC", "HYvdCr", "jmAIx4"]

----- Sorting children of parent: zhA_gK -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent zhA_gK: []

----- Sorting children of parent: VLfhuW -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent VLfhuW: []

----- Sorting children of parent: jmAIx4 -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent jmAIx4: []
====== COMPLETED BLOCK SORTING ======
Final sorted children map has 11 parents
extract_document_state: Extracted 12 blocks and 11 parent-child relationships
get_document_state: Finished for doc_id: xxxx
apply_updates: Starting with 107 updates for doc_id: xxxx
apply_updates: Starting with 107 updates for doc_id: xxxx
apply_updates: Applying update for doc_id: xxxx
apply_updates: Finished for doc_id: xxxx
apply_updates: Successfully applied updates for doc_id: xxxx
get_document_state: Starting for doc_id: xxxx
extract_document_state: Starting for doc_id: xxxx
extract_document_state: Processing 12 blocks
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 0 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 0 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
====== STARTING BLOCK SORTING ======
Input children_map has 11 parent nodes

----- Sorting children of parent: HYvdCr -----
Parent has 2 children to sort
Mapped 2 valid blocks by ID
Block pLZrvb assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block VLfhuW assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Grouped blocks into 1 devices
  - Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 2 blocks
Block pLZrvb has prev_id VLfhuW
Block VLfhuW has no prev_id
Built prev->next map with 1 entries
  - VLfhuW has 1 next blocks: ["pLZrvb"]
Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 1 root blocks: ["VLfhuW"]
Processing devices in order: ["4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"]

Processing device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Sorted roots for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a: ["VLfhuW"]
Starting chain from root: VLfhuW
  Adding block VLfhuW to sorted list
    Pushing pLZrvb onto stack
  Adding block pLZrvb to sorted list
  No next blocks for pLZrvb
No remaining blocks for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
No globally remaining blocks
Final sorted order for parent HYvdCr: ["VLfhuW", "pLZrvb"]

----- Sorting children of parent: ixjcxC -----
Parent has 1 children to sort
Mapped 1 valid blocks by ID
Block HYvdCr assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Grouped blocks into 1 devices
  - Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 1 blocks
Block HYvdCr has no prev_id
Built prev->next map with 0 entries
Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 1 root blocks: ["HYvdCr"]
Processing devices in order: ["4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"]

Processing device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Sorted roots for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a: ["HYvdCr"]
Starting chain from root: HYvdCr
  Adding block HYvdCr to sorted list
  No next blocks for HYvdCr
No remaining blocks for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
No globally remaining blocks
Final sorted order for parent ixjcxC: ["HYvdCr"]

----- Sorting children of parent: pLZrvb -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent pLZrvb: []

----- Sorting children of parent: iT1F-F -----
Parent has 1 children to sort
WARNING: Block with ID VC6SQw not found in blocks map
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
Adding 1 globally remaining blocks: ["VC6SQw"]
  Adding remaining block VC6SQw to sorted list
Final sorted order for parent iT1F-F: ["VC6SQw"]

----- Sorting children of parent: eYz-nn -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent eYz-nn: []

----- Sorting children of parent: zhA_gK -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent zhA_gK: []

----- Sorting children of parent: m8OEVv -----
Parent has 4 children to sort
Mapped 4 valid blocks by ID
Block jmAIx4 assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block Cbb2Xg assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block ixjcxC assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Block HYvdCr assigned to device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Grouped blocks into 1 devices
  - Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 4 blocks
Block jmAIx4 has prev_id eYz-nn
Block Cbb2Xg has no prev_id
Block ixjcxC has prev_id Cbb2Xg
Block HYvdCr has no prev_id
Built prev->next map with 2 entries
  - eYz-nn has 1 next blocks: ["jmAIx4"]
  - Cbb2Xg has 1 next blocks: ["ixjcxC"]
Device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a has 2 root blocks: ["Cbb2Xg", "HYvdCr"]
Processing devices in order: ["4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"]

Processing device: 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a
Comparing root blocks: HYvdCr (time: 2025-04-24T17:14:28.685801) vs Cbb2Xg (time: 2025-04-24T17:13:22.923334)
Sorted roots for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a: ["Cbb2Xg", "HYvdCr"]
Starting chain from root: Cbb2Xg
  Adding block Cbb2Xg to sorted list
    Pushing ixjcxC onto stack
  Adding block ixjcxC to sorted list
  No next blocks for ixjcxC
Starting chain from root: HYvdCr
  Adding block HYvdCr to sorted list
  No next blocks for HYvdCr
Adding 1 remaining blocks for device 4cb3899a-3fe4-4bb1-bbf4-edd464b0977a: ["jmAIx4"]
  Adding remaining block jmAIx4 to sorted list
No globally remaining blocks
Final sorted order for parent m8OEVv: ["Cbb2Xg", "ixjcxC", "HYvdCr", "jmAIx4"]

----- Sorting children of parent: Z3TeKI -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent Z3TeKI: []

----- Sorting children of parent: jmAIx4 -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent jmAIx4: []

----- Sorting children of parent: VLfhuW -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent VLfhuW: []

----- Sorting children of parent: Cbb2Xg -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent Cbb2Xg: []
====== COMPLETED BLOCK SORTING ======
Final sorted children map has 11 parents
extract_document_state: Extracted 12 blocks and 11 parent-child relationships
get_document_state: Finished for doc_id: xxxx
flutter: {
flutter:   "docId": "xxxx",
flutter:   "blocks": {
flutter:     "jmAIx4": {
flutter:       "id": "jmAIx4",
flutter:       "ty": "paragraph",
flutter:       "attributes": {
flutter:         "device": "4cb3899a-3fe4-4bb1-bbf4-edd464b0977a",
flutter:         "timestamp": "2025-04-24T17:14:28.087127",
flutter:         "delta": "[]"
flutter:       },
flutter:       "delta": "[]",
flutter:       "parentId": "m8OEVv",
flutter:       "prevId": "eYz-nn",
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "pLZrvb": {
flutter:       "id": "pLZrvb",
flutter:       "ty": "paragraph",
flutter:       "attributes": {
flutter:         "device": "4cb3899a-3fe4-4bb1-bbf4-edd464b0977a",
flutter:         "delta": "[]",
flutter:         "timestamp": "2025-04-24T17:14:32.750175"
flutter:       },
flutter:       "delta": "[{\"insert\":\"Task 3\"}]",
flutter:       "parentId": "HYvdCr",
flutter:       "prevId": "VLfhuW",
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "HYvdCr": {
flutter:       "id": "HYvdCr",
flutter:       "ty": "paragraph",
flutter:       "attributes": {
flutter:         "delta": "[]",
flutter:         "timestamp": "2025-04-24T17:14:28.685801",
flutter:         "device": "4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"
flutter:       },
flutter:       "delta": "[{\"insert\":\"Task 1\"}]",
flutter:       "parentId": "ixjcxC",
flutter:       "prevId": null,
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "Cbb2Xg": {
flutter:       "id": "Cbb2Xg",
flutter:       "ty": "paragraph",
flutter:       "attributes": {
flutter:         "device": "4cb3899a-3fe4-4bb1-bbf4-edd464b0977a",
flutter:         "timestamp": "2025-04-24T17:13:22.923334",
flutter:         "delta": "[]"
flutter:       },
flutter:       "delta": "[{\"insert\":\"New Element 1\"}]",
flutter:       "parentId": "m8OEVv",
flutter:       "prevId": null,
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "eYz-nn": {
flutter:       "id": "eYz-nn",
flutter:       "ty": "paragraph",
flutter:       "attributes": {
flutter:         "timestamp": "2025-04-24T17:14:23.263975",
flutter:         "delta": "[]",
flutter:         "device": "4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"
flutter:       },
flutter:       "delta": "[{\"insert\":\"New Element 3\"}]",
flutter:       "parentId": "m8OEVv",
flutter:       "prevId": "ixjcxC",
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "VLfhuW": {
flutter:       "id": "VLfhuW",
flutter:       "ty": "paragraph",
flutter:       "attributes": {
flutter:         "device": "4cb3899a-3fe4-4bb1-bbf4-edd464b0977a",
flutter:         "timestamp": "2025-04-24T17:14:31.317748",
flutter:         "delta": "[]"
flutter:       },
flutter:       "delta": "[{\"insert\":\"Task 2\"}]",
flutter:       "parentId": "HYvdCr",
flutter:       "prevId": null,
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "m8OEVv": {
flutter:       "id": "m8OEVv",
flutter:       "ty": "page",
flutter:       "attributes": {
flutter:         "device": "3a00f73e-0356-4c61-a6e1-cb439d9dbf33",
flutter:         "timestamp": "2025-04-24T17:01:59.905543"
flutter:       },
flutter:       "delta": null,
flutter:       "parentId": null,
flutter:       "prevId": null,
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "Mk_Gts": {
flutter:       "id": "Mk_Gts",
flutter:       "ty": "",
flutter:       "attributes": {
flutter:         "timestamp": "2025-04-24T17:04:05.077214",
flutter:         "device": "4cb3899a-3fe4-4bb1-bbf4-edd464b0977a",
flutter:         "checked": "false"
flutter:       },
flutter:       "delta": "[]",
flutter:       "parentId": null,
flutter:       "prevId": null,
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "Z3TeKI": {
flutter:       "id": "Z3TeKI",
flutter:       "ty": "paragraph",
flutter:       "attributes": {
flutter:         "delta": "[]",
flutter:         "timestamp": "2025-04-24T17:12:28.114539",
flutter:         "device": "4cb3899a-3fe4-4bb1-bbf4-edd464b0977a"
flutter:       },
flutter:       "delta": "[{\"insert\":\"Task 2\"}]",
flutter:       "parentId": "m8OEVv",
flutter:       "prevId": null,
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "iT1F-F": {
flutter:       "id": "iT1F-F",
flutter:       "ty": "paragraph",
flutter:       "attributes": {
flutter:         "delta": "[]",
flutter:         "device": "4cb3899a-3fe4-4bb1-bbf4-edd464b0977a",
flutter:         "timestamp": "2025-04-24T17:06:39.424851"
flutter:       },
flutter:       "delta": "[{\"insert\":\"New Task3\"}]",
flutter:       "parentId": "m8OEVv",
flutter:       "prevId": null,
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "zhA_gK": {
flutter:       "id": "zhA_gK",
flutter:       "ty": "todo_list",
flutter:       "attributes": {
flutter:         "checked": "false",
flutter:         "device": "4cb3899a-3fe4-4bb1-bbf4-edd464b0977a",
flutter:         "delta": "[]",
flutter:         "timestamp": "2025-04-24T17:04:02.277720"
flutter:       },
flutter:       "delta": "[{\"insert\":\"Task is mine\"}]",
flutter:       "parentId": "m8OEVv",
flutter:       "prevId": null,
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "ixjcxC": {
flutter:       "id": "ixjcxC",
flutter:       "ty": "paragraph",
flutter:       "attributes": {
flutter:         "device": "4cb3899a-3fe4-4bb1-bbf4-edd464b0977a",
flutter:         "delta": "[]",
flutter:         "timestamp": "2025-04-24T17:14:19.029895"
flutter:       },
flutter:       "delta": "[{\"insert\":\"New Element 2\"}]",
flutter:       "parentId": "m8OEVv",
flutter:       "prevId": "Cbb2Xg",
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     }
flutter:   },
flutter:   "childrenMap": {
flutter:     "ixjcxC": [
flutter:       "HYvdCr"
flutter:     ],
flutter:     "Z3TeKI": [],
flutter:     "jmAIx4": [],
flutter:     "Cbb2Xg": [],
flutter:     "iT1F-F": [
flutter:       "VC6SQw"
flutter:     ],
flutter:     "pLZrvb": [],
flutter:     "VLfhuW": [],
flutter:     "HYvdCr": [
flutter:       "VLfhuW",
flutter:       "pLZrvb"
flutter:     ],
flutter:     "eYz-nn": [],
flutter:     "zhA_gK": [],
flutter:     "m8OEVv": [
flutter:       "Cbb2Xg",
flutter:       "ixjcxC",
flutter:       "HYvdCr",
flutter:       "jmAIx4"
flutter:     ]
flutter:   },
flutter:   "rootId": "m8OEVv"
flutter: }
apply_updates: Starting with 0 updates for doc_id: xxxx
apply_updates: Starting with 0 updates for doc_id: xxxx
apply_updates: Applying update for doc_id: xxxx
apply_updates: Finished for doc_id: xxxx
apply_updates: Successfully applied updates for doc_id: xxxx
get_document_state: Starting for doc_id: xxxx
extract_document_state: Starting for doc_id: xxxx
[ERROR:flutter/runtime/dart_vm_initializer.cc(40)] Unhandled Exception: Exception: Failed to get document JSON: Instance of 'CustomRustError'
#0      DocumentServiceWrapper.getDocumentJson (package:appflowy_editor_sync_plugin/document_service_helpers/document_service_wrapper.dart:93:7)
<asynchronous suspension>
#1      EditorStateSyncWrapper._processSyncOperation (package:appflowy_editor_sync_plugin/editor_state_sync_wrapper.dart:127:20)
<asynchronous suspension>
#2      EditorStateSyncWrapper._startSyncOperation (package:appflowy_editor_sync_plugin/editor_state_sync_wrapper.dart:92:7)
<asynchronous suspension>
#3      EditorStateSyncWrapper._listenOnDBUpdates.<anonymous closure> (package:appflowy_editor_sync_plugin/editor_state_sync_wrapper.dart:82:7)
<asynchronous suspension>

Creating new document service
init_empty_doc: Starting for doc_id: xxxx
init_empty_doc: Initializing blocks for doc_id: xxxx
init_empty_doc: Initializing childrenMap for doc_id: xxxx
init_empty_doc: Encoding state for doc_id: xxxx
init_empty_doc: Finished for doc_id: xxxx
apply_action: Starting with 2 actions for doc_id: xxxx
insert_node: Starting for block_id: BZ7CfX
handle_prev_id_chain: block_id=BZ7CfX, prev_id=None
  No prev_id provided, nothing to handle
handle_prev_id_chain: Completed
handle_following_connection: block_id=BZ7CfX, next_id=None, prev_id=None
  No prev_id or next_id provided, nothing to handle
handle_following_connection: Completed
insert_node: Finished for block_id: BZ7CfX
insert_node: Starting for block_id: RrLwZa
deltas_to_json: Converting 0 deltas
apply_delta_to_text: Computing delta diff
apply_delta_to_text: Parsing delta diff from JSON
apply_delta_to_text: No changes to apply
handle_prev_id_chain: block_id=RrLwZa, prev_id=None
  No prev_id provided, nothing to handle
handle_prev_id_chain: Completed
handle_following_connection: block_id=RrLwZa, next_id=None, prev_id=None
  No prev_id or next_id provided, nothing to handle
handle_following_connection: Completed
insert_node: Finished for block_id: RrLwZa
apply_action: Encoding state for doc_id: xxxx
set_root_node_id: Setting root node id to BZ7CfX
set_root_node_id: Successfully set root node id to BZ7CfX
set_root_node_id: Finished for doc_id: xxxx
apply_updates: Starting with 3 updates for doc_id: xxxx
apply_updates: Starting with 3 updates for doc_id: xxxx
apply_updates: Applying update for doc_id: xxxx
apply_updates: Finished for doc_id: xxxx
apply_updates: Successfully applied updates for doc_id: xxxx
get_document_state: Starting for doc_id: xxxx
extract_document_state: Starting for doc_id: xxxx
extract_document_state: Processing 2 blocks
deltas_to_json: Converting 0 deltas
====== STARTING BLOCK SORTING ======
Input children_map has 2 parent nodes

----- Sorting children of parent: RrLwZa -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent RrLwZa: []

----- Sorting children of parent: BZ7CfX -----
Parent has 1 children to sort
Mapped 1 valid blocks by ID
Block RrLwZa assigned to device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
Grouped blocks into 1 devices
  - Device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0 has 1 blocks
Block RrLwZa has no prev_id
Built prev->next map with 0 entries
Device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0 has 1 root blocks: ["RrLwZa"]
Processing devices in order: ["6224c675-6598-4bc4-a7d1-e72a22b4b9b0"]

Processing device: 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
Sorted roots for device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0: ["RrLwZa"]
Starting chain from root: RrLwZa
  Adding block RrLwZa to sorted list
  No next blocks for RrLwZa
No remaining blocks for device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
No globally remaining blocks
Final sorted order for parent BZ7CfX: ["RrLwZa"]
====== COMPLETED BLOCK SORTING ======
Final sorted children map has 2 parents
extract_document_state: Extracted 2 blocks and 2 parent-child relationships
get_document_state: Finished for doc_id: xxxx
flutter: {
flutter:   "docId": "xxxx",
flutter:   "blocks": {
flutter:     "BZ7CfX": {
flutter:       "id": "BZ7CfX",
flutter:       "ty": "page",
flutter:       "attributes": {
flutter:         "device": "6224c675-6598-4bc4-a7d1-e72a22b4b9b0",
flutter:         "timestamp": "2025-04-24T19:05:18.070279"
flutter:       },
flutter:       "delta": null,
flutter:       "parentId": null,
flutter:       "prevId": null,
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "RrLwZa": {
flutter:       "id": "RrLwZa",
flutter:       "ty": "paragraph",
flutter:       "attributes": {
flutter:         "delta": "[]",
flutter:         "timestamp": "2025-04-24T19:05:18.074153",
flutter:         "device": "6224c675-6598-4bc4-a7d1-e72a22b4b9b0"
flutter:       },
flutter:       "delta": "[]",
flutter:       "parentId": "BZ7CfX",
flutter:       "prevId": null,
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     }
flutter:   },
flutter:   "childrenMap": {
flutter:     "RrLwZa": [],
flutter:     "BZ7CfX": [
flutter:       "RrLwZa"
flutter:     ]
flutter:   },
flutter:   "rootId": "BZ7CfX"
flutter: }
flutter: Applied 2 operations to the editor state
merge_updates: Merging 3 updates
merge_updates: Successfully merged updates
apply_updates: Starting with 4 updates for doc_id: xxxx
apply_updates: Starting with 4 updates for doc_id: xxxx
apply_updates: Applying update for doc_id: xxxx
apply_updates: Finished for doc_id: xxxx
apply_updates: Successfully applied updates for doc_id: xxxx
get_document_state: Starting for doc_id: xxxx
extract_document_state: Starting for doc_id: xxxx
extract_document_state: Processing 2 blocks
deltas_to_json: Converting 0 deltas
====== STARTING BLOCK SORTING ======
Input children_map has 2 parent nodes

----- Sorting children of parent: RrLwZa -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent RrLwZa: []

----- Sorting children of parent: BZ7CfX -----
Parent has 1 children to sort
Mapped 1 valid blocks by ID
Block RrLwZa assigned to device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
Grouped blocks into 1 devices
  - Device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0 has 1 blocks
Block RrLwZa has no prev_id
Built prev->next map with 0 entries
Device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0 has 1 root blocks: ["RrLwZa"]
Processing devices in order: ["6224c675-6598-4bc4-a7d1-e72a22b4b9b0"]

Processing device: 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
Sorted roots for device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0: ["RrLwZa"]
Starting chain from root: RrLwZa
  Adding block RrLwZa to sorted list
  No next blocks for RrLwZa
No remaining blocks for device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
No globally remaining blocks
Final sorted order for parent BZ7CfX: ["RrLwZa"]
====== COMPLETED BLOCK SORTING ======
Final sorted children map has 2 parents
extract_document_state: Extracted 2 blocks and 2 parent-child relationships
get_document_state: Finished for doc_id: xxxx
flutter: {
flutter:   "docId": "xxxx",
flutter:   "blocks": {
flutter:     "RrLwZa": {
flutter:       "id": "RrLwZa",
flutter:       "ty": "paragraph",
flutter:       "attributes": {
flutter:         "delta": "[]",
flutter:         "device": "6224c675-6598-4bc4-a7d1-e72a22b4b9b0",
flutter:         "timestamp": "2025-04-24T19:05:18.074153"
flutter:       },
flutter:       "delta": "[]",
flutter:       "parentId": "BZ7CfX",
flutter:       "prevId": null,
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "BZ7CfX": {
flutter:       "id": "BZ7CfX",
flutter:       "ty": "page",
flutter:       "attributes": {
flutter:         "timestamp": "2025-04-24T19:05:18.070279",
flutter:         "device": "6224c675-6598-4bc4-a7d1-e72a22b4b9b0"
flutter:       },
flutter:       "delta": null,
flutter:       "parentId": null,
flutter:       "prevId": null,
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     }
flutter:   },
flutter:   "childrenMap": {
flutter:     "RrLwZa": [],
flutter:     "BZ7CfX": [
flutter:       "RrLwZa"
flutter:     ]
flutter:   },
flutter:   "rootId": "BZ7CfX"
flutter: }
flutter: Transaction done
apply_action: Starting with 1 actions for doc_id: xxxx
update_node: Updating block_id: RrLwZa
deltas_to_json: Converting 0 deltas
apply_delta_to_text: Computing delta diff
apply_delta_to_text: Parsing delta diff from JSON
apply_delta_diff_to_text: Starting with 1 operations
update_node: Updated block_id: RrLwZa
apply_action: Encoding state for doc_id: xxxx
apply_updates: Starting with 5 updates for doc_id: xxxx
apply_updates: Starting with 5 updates for doc_id: xxxx
apply_updates: Applying update for doc_id: xxxx
apply_updates: Finished for doc_id: xxxx
apply_updates: Successfully applied updates for doc_id: xxxx
get_document_state: Starting for doc_id: xxxx
extract_document_state: Starting for doc_id: xxxx
extract_document_state: Processing 2 blocks
deltas_to_json: Converting 1 deltas
====== STARTING BLOCK SORTING ======
Input children_map has 2 parent nodes

----- Sorting children of parent: RrLwZa -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent RrLwZa: []

----- Sorting children of parent: BZ7CfX -----
Parent has 1 children to sort
Mapped 1 valid blocks by ID
Block RrLwZa assigned to device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
Grouped blocks into 1 devices
  - Device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0 has 1 blocks
Block RrLwZa has no prev_id
Built prev->next map with 0 entries
Device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0 has 1 root blocks: ["RrLwZa"]
Processing devices in order: ["6224c675-6598-4bc4-a7d1-e72a22b4b9b0"]

Processing device: 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
Sorted roots for device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0: ["RrLwZa"]
Starting chain from root: RrLwZa
  Adding block RrLwZa to sorted list
  No next blocks for RrLwZa
No remaining blocks for device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
No globally remaining blocks
Final sorted order for parent BZ7CfX: ["RrLwZa"]
====== COMPLETED BLOCK SORTING ======
Final sorted children map has 2 parents
extract_document_state: Extracted 2 blocks and 2 parent-child relationships
get_document_state: Finished for doc_id: xxxx
flutter: {
flutter:   "docId": "xxxx",
flutter:   "blocks": {
flutter:     "BZ7CfX": {
flutter:       "id": "BZ7CfX",
flutter:       "ty": "page",
flutter:       "attributes": {
flutter:         "device": "6224c675-6598-4bc4-a7d1-e72a22b4b9b0",
flutter:         "timestamp": "2025-04-24T19:05:18.070279"
flutter:       },
flutter:       "delta": null,
flutter:       "parentId": null,
flutter:       "prevId": null,
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "RrLwZa": {
flutter:       "id": "RrLwZa",
flutter:       "ty": "paragraph",
flutter:       "attributes": {
flutter:         "timestamp": "2025-04-24T19:05:18.074153",
flutter:         "device": "6224c675-6598-4bc4-a7d1-e72a22b4b9b0",
flutter:         "delta": "[]"
flutter:       },
flutter:       "delta": "[{\"insert\":\"a\"}]",
flutter:       "parentId": "BZ7CfX",
flutter:       "prevId": null,
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     }
flutter:   },
flutter:   "childrenMap": {
flutter:     "RrLwZa": [],
flutter:     "BZ7CfX": [
flutter:       "RrLwZa"
flutter:     ]
flutter:   },
flutter:   "rootId": "BZ7CfX"
flutter: }
flutter: Transaction done
apply_action: Starting with 1 actions for doc_id: xxxx
update_node: Updating block_id: RrLwZa
deltas_to_json: Converting 1 deltas
apply_delta_to_text: Computing delta diff
apply_delta_to_text: Parsing delta diff from JSON
apply_delta_diff_to_text: Starting with 2 operations
update_node: Updated block_id: RrLwZa
apply_action: Encoding state for doc_id: xxxx
apply_updates: Starting with 6 updates for doc_id: xxxx
apply_updates: Starting with 6 updates for doc_id: xxxx
apply_updates: Applying update for doc_id: xxxx
apply_updates: Finished for doc_id: xxxx
apply_updates: Successfully applied updates for doc_id: xxxx
get_document_state: Starting for doc_id: xxxx
extract_document_state: Starting for doc_id: xxxx
extract_document_state: Processing 2 blocks
deltas_to_json: Converting 1 deltas
====== STARTING BLOCK SORTING ======
Input children_map has 2 parent nodes

----- Sorting children of parent: BZ7CfX -----
Parent has 1 children to sort
Mapped 1 valid blocks by ID
Block RrLwZa assigned to device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
Grouped blocks into 1 devices
  - Device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0 has 1 blocks
Block RrLwZa has no prev_id
Built prev->next map with 0 entries
Device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0 has 1 root blocks: ["RrLwZa"]
Processing devices in order: ["6224c675-6598-4bc4-a7d1-e72a22b4b9b0"]

Processing device: 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
Sorted roots for device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0: ["RrLwZa"]
Starting chain from root: RrLwZa
  Adding block RrLwZa to sorted list
  No next blocks for RrLwZa
No remaining blocks for device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
No globally remaining blocks
Final sorted order for parent BZ7CfX: ["RrLwZa"]

----- Sorting children of parent: RrLwZa -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent RrLwZa: []
====== COMPLETED BLOCK SORTING ======
Final sorted children map has 2 parents
extract_document_state: Extracted 2 blocks and 2 parent-child relationships
get_document_state: Finished for doc_id: xxxx
flutter: {
flutter:   "docId": "xxxx",
flutter:   "blocks": {
flutter:     "RrLwZa": {
flutter:       "id": "RrLwZa",
flutter:       "ty": "paragraph",
flutter:       "attributes": {
flutter:         "delta": "[]",
flutter:         "timestamp": "2025-04-24T19:05:18.074153",
flutter:         "device": "6224c675-6598-4bc4-a7d1-e72a22b4b9b0"
flutter:       },
flutter:       "delta": "[{\"insert\":\"aa\"}]",
flutter:       "parentId": "BZ7CfX",
flutter:       "prevId": null,
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "BZ7CfX": {
flutter:       "id": "BZ7CfX",
flutter:       "ty": "page",
flutter:       "attributes": {
flutter:         "device": "6224c675-6598-4bc4-a7d1-e72a22b4b9b0",
flutter:         "timestamp": "2025-04-24T19:05:18.070279"
flutter:       },
flutter:       "delta": null,
flutter:       "parentId": null,
flutter:       "prevId": null,
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     }
flutter:   },
flutter:   "childrenMap": {
flutter:     "RrLwZa": [],
flutter:     "BZ7CfX": [
flutter:       "RrLwZa"
flutter:     ]
flutter:   },
flutter:   "rootId": "BZ7CfX"
flutter: }
flutter: Transaction done
apply_action: Starting with 1 actions for doc_id: xxxx
update_node: Updating block_id: RrLwZa
deltas_to_json: Converting 1 deltas
apply_delta_to_text: Computing delta diff
apply_delta_to_text: Parsing delta diff from JSON
apply_delta_diff_to_text: Starting with 2 operations
update_node: Updated block_id: RrLwZa
apply_action: Encoding state for doc_id: xxxx
apply_updates: Starting with 7 updates for doc_id: xxxx
apply_updates: Starting with 7 updates for doc_id: xxxx
apply_updates: Applying update for doc_id: xxxx
apply_updates: Finished for doc_id: xxxx
apply_updates: Successfully applied updates for doc_id: xxxx
get_document_state: Starting for doc_id: xxxx
extract_document_state: Starting for doc_id: xxxx
extract_document_state: Processing 2 blocks
deltas_to_json: Converting 1 deltas
====== STARTING BLOCK SORTING ======
Input children_map has 2 parent nodes

----- Sorting children of parent: RrLwZa -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent RrLwZa: []

----- Sorting children of parent: BZ7CfX -----
Parent has 1 children to sort
Mapped 1 valid blocks by ID
Block RrLwZa assigned to device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
Grouped blocks into 1 devices
  - Device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0 has 1 blocks
Block RrLwZa has no prev_id
Built prev->next map with 0 entries
Device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0 has 1 root blocks: ["RrLwZa"]
Processing devices in order: ["6224c675-6598-4bc4-a7d1-e72a22b4b9b0"]

Processing device: 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
Sorted roots for device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0: ["RrLwZa"]
Starting chain from root: RrLwZa
  Adding block RrLwZa to sorted list
  No next blocks for RrLwZa
No remaining blocks for device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
No globally remaining blocks
Final sorted order for parent BZ7CfX: ["RrLwZa"]
====== COMPLETED BLOCK SORTING ======
Final sorted children map has 2 parents
extract_document_state: Extracted 2 blocks and 2 parent-child relationships
get_document_state: Finished for doc_id: xxxx
flutter: {
flutter:   "docId": "xxxx",
flutter:   "blocks": {
flutter:     "BZ7CfX": {
flutter:       "id": "BZ7CfX",
flutter:       "ty": "page",
flutter:       "attributes": {
flutter:         "device": "6224c675-6598-4bc4-a7d1-e72a22b4b9b0",
flutter:         "timestamp": "2025-04-24T19:05:18.070279"
flutter:       },
flutter:       "delta": null,
flutter:       "parentId": null,
flutter:       "prevId": null,
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "RrLwZa": {
flutter:       "id": "RrLwZa",
flutter:       "ty": "paragraph",
flutter:       "attributes": {
flutter:         "timestamp": "2025-04-24T19:05:18.074153",
flutter:         "delta": "[]",
flutter:         "device": "6224c675-6598-4bc4-a7d1-e72a22b4b9b0"
flutter:       },
flutter:       "delta": "[{\"insert\":\"aaa\"}]",
flutter:       "parentId": "BZ7CfX",
flutter:       "prevId": null,
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     }
flutter:   },
flutter:   "childrenMap": {
flutter:     "RrLwZa": [],
flutter:     "BZ7CfX": [
flutter:       "RrLwZa"
flutter:     ]
flutter:   },
flutter:   "rootId": "BZ7CfX"
flutter: }
flutter: Transaction done
apply_action: Starting with 2 actions for doc_id: xxxx
insert_node: Starting for block_id: KojGQk
deltas_to_json: Converting 0 deltas
apply_delta_to_text: Computing delta diff
apply_delta_to_text: Parsing delta diff from JSON
apply_delta_to_text: No changes to apply
handle_prev_id_chain: block_id=KojGQk, prev_id=Some("RrLwZa")
  Finding blocks that reference prev_id: RrLwZa
find_block_referencing_prev_id: Searching for blocks with prev_id = RrLwZa
  Found 3 total blocks to check
  Checking block: RrLwZa
    Block does not have prev_id
  Checking block: BZ7CfX
    Block does not have prev_id
  Checking block: KojGQk
    Block does not have prev_id
find_block_referencing_prev_id: Found 0 blocks with prev_id = RrLwZa: []
  Found 0 blocks with prev_id RrLwZa: []
handle_prev_id_chain: Completed
handle_following_connection: block_id=KojGQk, next_id=None, prev_id=Some("RrLwZa")
  Using prev_id strategy (prev_id=RrLwZa)
find_block_referencing_prev_id: Searching for blocks with prev_id = RrLwZa
  Found 3 total blocks to check
  Checking block: RrLwZa
    Block does not have prev_id
  Checking block: BZ7CfX
    Block does not have prev_id
  Checking block: KojGQk
    Block does not have prev_id
find_block_referencing_prev_id: Found 0 blocks with prev_id = RrLwZa: []
  Found 0 nodes that reference prev_id RrLwZa: []
  Finished prev_id strategy
  Setting prev_id of block KojGQk to RrLwZa
insert_node: Finished for block_id: KojGQk
update_node: Updating block_id: RrLwZa
deltas_to_json: Converting 1 deltas
apply_delta_to_text: Computing delta diff
apply_delta_to_text: Parsing delta diff from JSON
apply_delta_to_text: No changes to apply
update_node: Updated block_id: RrLwZa
apply_action: Encoding state for doc_id: xxxx
apply_updates: Starting with 8 updates for doc_id: xxxx
apply_updates: Starting with 8 updates for doc_id: xxxx
apply_updates: Applying update for doc_id: xxxx
apply_updates: Finished for doc_id: xxxx
apply_updates: Successfully applied updates for doc_id: xxxx
get_document_state: Starting for doc_id: xxxx
extract_document_state: Starting for doc_id: xxxx
extract_document_state: Processing 3 blocks
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 0 deltas
====== STARTING BLOCK SORTING ======
Input children_map has 3 parent nodes

----- Sorting children of parent: RrLwZa -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent RrLwZa: []

----- Sorting children of parent: KojGQk -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent KojGQk: []

----- Sorting children of parent: BZ7CfX -----
Parent has 2 children to sort
Mapped 2 valid blocks by ID
Block RrLwZa assigned to device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
Block KojGQk assigned to device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
Grouped blocks into 1 devices
  - Device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0 has 2 blocks
Block RrLwZa has no prev_id
Block KojGQk has prev_id RrLwZa
Built prev->next map with 1 entries
  - RrLwZa has 1 next blocks: ["KojGQk"]
Device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0 has 1 root blocks: ["RrLwZa"]
Processing devices in order: ["6224c675-6598-4bc4-a7d1-e72a22b4b9b0"]

Processing device: 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
Sorted roots for device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0: ["RrLwZa"]
Starting chain from root: RrLwZa
  Adding block RrLwZa to sorted list
    Pushing KojGQk onto stack
  Adding block KojGQk to sorted list
  No next blocks for KojGQk
No remaining blocks for device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
No globally remaining blocks
Final sorted order for parent BZ7CfX: ["RrLwZa", "KojGQk"]
====== COMPLETED BLOCK SORTING ======
Final sorted children map has 3 parents
extract_document_state: Extracted 3 blocks and 3 parent-child relationships
get_document_state: Finished for doc_id: xxxx
flutter: {
flutter:   "docId": "xxxx",
flutter:   "blocks": {
flutter:     "BZ7CfX": {
flutter:       "id": "BZ7CfX",
flutter:       "ty": "page",
flutter:       "attributes": {
flutter:         "timestamp": "2025-04-24T19:05:18.070279",
flutter:         "device": "6224c675-6598-4bc4-a7d1-e72a22b4b9b0"
flutter:       },
flutter:       "delta": null,
flutter:       "parentId": null,
flutter:       "prevId": null,
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "RrLwZa": {
flutter:       "id": "RrLwZa",
flutter:       "ty": "paragraph",
flutter:       "attributes": {
flutter:         "device": "6224c675-6598-4bc4-a7d1-e72a22b4b9b0",
flutter:         "delta": "[]",
flutter:         "timestamp": "2025-04-24T19:05:18.074153"
flutter:       },
flutter:       "delta": "[{\"insert\":\"aaa\"}]",
flutter:       "parentId": "BZ7CfX",
flutter:       "prevId": null,
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "KojGQk": {
flutter:       "id": "KojGQk",
flutter:       "ty": "paragraph",
flutter:       "attributes": {
flutter:         "delta": "[]",
flutter:         "timestamp": "2025-04-24T19:08:40.012573",
flutter:         "device": "6224c675-6598-4bc4-a7d1-e72a22b4b9b0"
flutter:       },
flutter:       "delta": "[]",
flutter:       "parentId": "BZ7CfX",
flutter:       "prevId": "RrLwZa",
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     }
flutter:   },
flutter:   "childrenMap": {
flutter:     "RrLwZa": [],
flutter:     "BZ7CfX": [
flutter:       "RrLwZa",
flutter:       "KojGQk"
flutter:     ],
flutter:     "KojGQk": []
flutter:   },
flutter:   "rootId": "BZ7CfX"
flutter: }
flutter: Applied 1 operations to the editor state
flutter: Transaction done
apply_action: Starting with 1 actions for doc_id: xxxx
update_node: Updating block_id: KojGQk
deltas_to_json: Converting 0 deltas
apply_delta_to_text: Computing delta diff
apply_delta_to_text: Parsing delta diff from JSON
apply_delta_diff_to_text: Starting with 1 operations
update_node: Updated block_id: KojGQk
apply_action: Encoding state for doc_id: xxxx
apply_updates: Starting with 9 updates for doc_id: xxxx
apply_updates: Starting with 9 updates for doc_id: xxxx
apply_updates: Applying update for doc_id: xxxx
apply_updates: Finished for doc_id: xxxx
apply_updates: Successfully applied updates for doc_id: xxxx
get_document_state: Starting for doc_id: xxxx
extract_document_state: Starting for doc_id: xxxx
extract_document_state: Processing 3 blocks
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
====== STARTING BLOCK SORTING ======
Input children_map has 3 parent nodes

----- Sorting children of parent: KojGQk -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent KojGQk: []

----- Sorting children of parent: BZ7CfX -----
Parent has 2 children to sort
Mapped 2 valid blocks by ID
Block RrLwZa assigned to device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
Block KojGQk assigned to device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
Grouped blocks into 1 devices
  - Device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0 has 2 blocks
Block RrLwZa has no prev_id
Block KojGQk has prev_id RrLwZa
Built prev->next map with 1 entries
  - RrLwZa has 1 next blocks: ["KojGQk"]
Device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0 has 1 root blocks: ["RrLwZa"]
Processing devices in order: ["6224c675-6598-4bc4-a7d1-e72a22b4b9b0"]

Processing device: 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
Sorted roots for device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0: ["RrLwZa"]
Starting chain from root: RrLwZa
  Adding block RrLwZa to sorted list
    Pushing KojGQk onto stack
  Adding block KojGQk to sorted list
  No next blocks for KojGQk
No remaining blocks for device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
No globally remaining blocks
Final sorted order for parent BZ7CfX: ["RrLwZa", "KojGQk"]

----- Sorting children of parent: RrLwZa -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent RrLwZa: []
====== COMPLETED BLOCK SORTING ======
Final sorted children map has 3 parents
extract_document_state: Extracted 3 blocks and 3 parent-child relationships
get_document_state: Finished for doc_id: xxxx
flutter: {
flutter:   "docId": "xxxx",
flutter:   "blocks": {
flutter:     "BZ7CfX": {
flutter:       "id": "BZ7CfX",
flutter:       "ty": "page",
flutter:       "attributes": {
flutter:         "timestamp": "2025-04-24T19:05:18.070279",
flutter:         "device": "6224c675-6598-4bc4-a7d1-e72a22b4b9b0"
flutter:       },
flutter:       "delta": null,
flutter:       "parentId": null,
flutter:       "prevId": null,
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "RrLwZa": {
flutter:       "id": "RrLwZa",
flutter:       "ty": "paragraph",
flutter:       "attributes": {
flutter:         "device": "6224c675-6598-4bc4-a7d1-e72a22b4b9b0",
flutter:         "delta": "[]",
flutter:         "timestamp": "2025-04-24T19:05:18.074153"
flutter:       },
flutter:       "delta": "[{\"insert\":\"aaa\"}]",
flutter:       "parentId": "BZ7CfX",
flutter:       "prevId": null,
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "KojGQk": {
flutter:       "id": "KojGQk",
flutter:       "ty": "paragraph",
flutter:       "attributes": {
flutter:         "device": "6224c675-6598-4bc4-a7d1-e72a22b4b9b0",
flutter:         "delta": "[]",
flutter:         "timestamp": "2025-04-24T19:08:40.012573"
flutter:       },
flutter:       "delta": "[{\"insert\":\"b\"}]",
flutter:       "parentId": "BZ7CfX",
flutter:       "prevId": "RrLwZa",
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     }
flutter:   },
flutter:   "childrenMap": {
flutter:     "RrLwZa": [],
flutter:     "KojGQk": [],
flutter:     "BZ7CfX": [
flutter:       "RrLwZa",
flutter:       "KojGQk"
flutter:     ]
flutter:   },
flutter:   "rootId": "BZ7CfX"
flutter: }
flutter: Transaction done
apply_action: Starting with 1 actions for doc_id: xxxx
update_node: Updating block_id: KojGQk
deltas_to_json: Converting 1 deltas
apply_delta_to_text: Computing delta diff
apply_delta_to_text: Parsing delta diff from JSON
apply_delta_diff_to_text: Starting with 2 operations
update_node: Updated block_id: KojGQk
apply_action: Encoding state for doc_id: xxxx
apply_updates: Starting with 10 updates for doc_id: xxxx
apply_updates: Starting with 10 updates for doc_id: xxxx
apply_updates: Applying update for doc_id: xxxx
apply_updates: Finished for doc_id: xxxx
apply_updates: Successfully applied updates for doc_id: xxxx
get_document_state: Starting for doc_id: xxxx
extract_document_state: Starting for doc_id: xxxx
extract_document_state: Processing 3 blocks
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
====== STARTING BLOCK SORTING ======
Input children_map has 3 parent nodes

----- Sorting children of parent: BZ7CfX -----
Parent has 2 children to sort
Mapped 2 valid blocks by ID
Block RrLwZa assigned to device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
Block KojGQk assigned to device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
Grouped blocks into 1 devices
  - Device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0 has 2 blocks
Block RrLwZa has no prev_id
Block KojGQk has prev_id RrLwZa
Built prev->next map with 1 entries
  - RrLwZa has 1 next blocks: ["KojGQk"]
Device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0 has 1 root blocks: ["RrLwZa"]
Processing devices in order: ["6224c675-6598-4bc4-a7d1-e72a22b4b9b0"]

Processing device: 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
Sorted roots for device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0: ["RrLwZa"]
Starting chain from root: RrLwZa
  Adding block RrLwZa to sorted list
    Pushing KojGQk onto stack
  Adding block KojGQk to sorted list
  No next blocks for KojGQk
No remaining blocks for device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
No globally remaining blocks
Final sorted order for parent BZ7CfX: ["RrLwZa", "KojGQk"]

----- Sorting children of parent: RrLwZa -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent RrLwZa: []

----- Sorting children of parent: KojGQk -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent KojGQk: []
====== COMPLETED BLOCK SORTING ======
Final sorted children map has 3 parents
extract_document_state: Extracted 3 blocks and 3 parent-child relationships
get_document_state: Finished for doc_id: xxxx
flutter: {
flutter:   "docId": "xxxx",
flutter:   "blocks": {
flutter:     "RrLwZa": {
flutter:       "id": "RrLwZa",
flutter:       "ty": "paragraph",
flutter:       "attributes": {
flutter:         "device": "6224c675-6598-4bc4-a7d1-e72a22b4b9b0",
flutter:         "delta": "[]",
flutter:         "timestamp": "2025-04-24T19:05:18.074153"
flutter:       },
flutter:       "delta": "[{\"insert\":\"aaa\"}]",
flutter:       "parentId": "BZ7CfX",
flutter:       "prevId": null,
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "BZ7CfX": {
flutter:       "id": "BZ7CfX",
flutter:       "ty": "page",
flutter:       "attributes": {
flutter:         "timestamp": "2025-04-24T19:05:18.070279",
flutter:         "device": "6224c675-6598-4bc4-a7d1-e72a22b4b9b0"
flutter:       },
flutter:       "delta": null,
flutter:       "parentId": null,
flutter:       "prevId": null,
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "KojGQk": {
flutter:       "id": "KojGQk",
flutter:       "ty": "paragraph",
flutter:       "attributes": {
flutter:         "timestamp": "2025-04-24T19:08:40.012573",
flutter:         "device": "6224c675-6598-4bc4-a7d1-e72a22b4b9b0",
flutter:         "delta": "[]"
flutter:       },
flutter:       "delta": "[{\"insert\":\"bb\"}]",
flutter:       "parentId": "BZ7CfX",
flutter:       "prevId": "RrLwZa",
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     }
flutter:   },
flutter:   "childrenMap": {
flutter:     "BZ7CfX": [
flutter:       "RrLwZa",
flutter:       "KojGQk"
flutter:     ],
flutter:     "KojGQk": [],
flutter:     "RrLwZa": []
flutter:   },
flutter:   "rootId": "BZ7CfX"
flutter: }
flutter: Transaction done
apply_action: Starting with 1 actions for doc_id: xxxx
update_node: Updating block_id: KojGQk
deltas_to_json: Converting 1 deltas
apply_delta_to_text: Computing delta diff
apply_delta_to_text: Parsing delta diff from JSON
apply_delta_diff_to_text: Starting with 2 operations
update_node: Updated block_id: KojGQk
apply_action: Encoding state for doc_id: xxxx
apply_updates: Starting with 11 updates for doc_id: xxxx
apply_updates: Starting with 11 updates for doc_id: xxxx
apply_updates: Applying update for doc_id: xxxx
apply_updates: Finished for doc_id: xxxx
apply_updates: Successfully applied updates for doc_id: xxxx
get_document_state: Starting for doc_id: xxxx
extract_document_state: Starting for doc_id: xxxx
extract_document_state: Processing 3 blocks
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
====== STARTING BLOCK SORTING ======
Input children_map has 3 parent nodes

----- Sorting children of parent: BZ7CfX -----
Parent has 2 children to sort
Mapped 2 valid blocks by ID
Block KojGQk assigned to device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
Block RrLwZa assigned to device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
Grouped blocks into 1 devices
  - Device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0 has 2 blocks
Block KojGQk has prev_id RrLwZa
Block RrLwZa has no prev_id
Built prev->next map with 1 entries
  - RrLwZa has 1 next blocks: ["KojGQk"]
Device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0 has 1 root blocks: ["RrLwZa"]
Processing devices in order: ["6224c675-6598-4bc4-a7d1-e72a22b4b9b0"]

Processing device: 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
Sorted roots for device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0: ["RrLwZa"]
Starting chain from root: RrLwZa
  Adding block RrLwZa to sorted list
    Pushing KojGQk onto stack
  Adding block KojGQk to sorted list
  No next blocks for KojGQk
No remaining blocks for device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
No globally remaining blocks
Final sorted order for parent BZ7CfX: ["RrLwZa", "KojGQk"]

----- Sorting children of parent: KojGQk -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent KojGQk: []

----- Sorting children of parent: RrLwZa -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent RrLwZa: []
====== COMPLETED BLOCK SORTING ======
Final sorted children map has 3 parents
extract_document_state: Extracted 3 blocks and 3 parent-child relationships
get_document_state: Finished for doc_id: xxxx
flutter: {
flutter:   "docId": "xxxx",
flutter:   "blocks": {
flutter:     "RrLwZa": {
flutter:       "id": "RrLwZa",
flutter:       "ty": "paragraph",
flutter:       "attributes": {
flutter:         "device": "6224c675-6598-4bc4-a7d1-e72a22b4b9b0",
flutter:         "timestamp": "2025-04-24T19:05:18.074153",
flutter:         "delta": "[]"
flutter:       },
flutter:       "delta": "[{\"insert\":\"aaa\"}]",
flutter:       "parentId": "BZ7CfX",
flutter:       "prevId": null,
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "KojGQk": {
flutter:       "id": "KojGQk",
flutter:       "ty": "paragraph",
flutter:       "attributes": {
flutter:         "timestamp": "2025-04-24T19:08:40.012573",
flutter:         "delta": "[]",
flutter:         "device": "6224c675-6598-4bc4-a7d1-e72a22b4b9b0"
flutter:       },
flutter:       "delta": "[{\"insert\":\"bbb\"}]",
flutter:       "parentId": "BZ7CfX",
flutter:       "prevId": "RrLwZa",
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "BZ7CfX": {
flutter:       "id": "BZ7CfX",
flutter:       "ty": "page",
flutter:       "attributes": {
flutter:         "device": "6224c675-6598-4bc4-a7d1-e72a22b4b9b0",
flutter:         "timestamp": "2025-04-24T19:05:18.070279"
flutter:       },
flutter:       "delta": null,
flutter:       "parentId": null,
flutter:       "prevId": null,
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     }
flutter:   },
flutter:   "childrenMap": {
flutter:     "BZ7CfX": [
flutter:       "RrLwZa",
flutter:       "KojGQk"
flutter:     ],
flutter:     "KojGQk": [],
flutter:     "RrLwZa": []
flutter:   },
flutter:   "rootId": "BZ7CfX"
flutter: }
flutter: Transaction done
apply_action: Starting with 2 actions for doc_id: xxxx
insert_node: Starting for block_id: I0l9nY
deltas_to_json: Converting 0 deltas
apply_delta_to_text: Computing delta diff
apply_delta_to_text: Parsing delta diff from JSON
apply_delta_to_text: No changes to apply
handle_prev_id_chain: block_id=I0l9nY, prev_id=Some("KojGQk")
  Finding blocks that reference prev_id: KojGQk
find_block_referencing_prev_id: Searching for blocks with prev_id = KojGQk
  Found 4 total blocks to check
  Checking block: RrLwZa
    Block does not have prev_id
  Checking block: I0l9nY
    Block does not have prev_id
  Checking block: BZ7CfX
    Block does not have prev_id
  Checking block: KojGQk
    Block has prev_id: RrLwZa, matches target: false
find_block_referencing_prev_id: Found 0 blocks with prev_id = KojGQk: []
  Found 0 blocks with prev_id KojGQk: []
handle_prev_id_chain: Completed
handle_following_connection: block_id=I0l9nY, next_id=None, prev_id=Some("KojGQk")
  Using prev_id strategy (prev_id=KojGQk)
find_block_referencing_prev_id: Searching for blocks with prev_id = KojGQk
  Found 4 total blocks to check
  Checking block: RrLwZa
    Block does not have prev_id
  Checking block: I0l9nY
    Block does not have prev_id
  Checking block: BZ7CfX
    Block does not have prev_id
  Checking block: KojGQk
    Block has prev_id: RrLwZa, matches target: false
find_block_referencing_prev_id: Found 0 blocks with prev_id = KojGQk: []
  Found 0 nodes that reference prev_id KojGQk: []
  Finished prev_id strategy
  Setting prev_id of block I0l9nY to KojGQk
insert_node: Finished for block_id: I0l9nY
update_node: Updating block_id: KojGQk
deltas_to_json: Converting 1 deltas
apply_delta_to_text: Computing delta diff
apply_delta_to_text: Parsing delta diff from JSON
apply_delta_to_text: No changes to apply
update_node: Updated block_id: KojGQk
apply_action: Encoding state for doc_id: xxxx
apply_updates: Starting with 12 updates for doc_id: xxxx
apply_updates: Starting with 12 updates for doc_id: xxxx
apply_updates: Applying update for doc_id: xxxx
apply_updates: Finished for doc_id: xxxx
apply_updates: Successfully applied updates for doc_id: xxxx
get_document_state: Starting for doc_id: xxxx
extract_document_state: Starting for doc_id: xxxx
extract_document_state: Processing 4 blocks
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 0 deltas
====== STARTING BLOCK SORTING ======
Input children_map has 4 parent nodes

----- Sorting children of parent: I0l9nY -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent I0l9nY: []

----- Sorting children of parent: RrLwZa -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent RrLwZa: []

----- Sorting children of parent: KojGQk -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent KojGQk: []

----- Sorting children of parent: BZ7CfX -----
Parent has 3 children to sort
Mapped 3 valid blocks by ID
Block KojGQk assigned to device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
Block RrLwZa assigned to device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
Block I0l9nY assigned to device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
Grouped blocks into 1 devices
  - Device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0 has 3 blocks
Block KojGQk has prev_id RrLwZa
Block RrLwZa has no prev_id
Block I0l9nY has prev_id KojGQk
Built prev->next map with 2 entries
  - RrLwZa has 1 next blocks: ["KojGQk"]
  - KojGQk has 1 next blocks: ["I0l9nY"]
Device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0 has 1 root blocks: ["RrLwZa"]
Processing devices in order: ["6224c675-6598-4bc4-a7d1-e72a22b4b9b0"]

Processing device: 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
Sorted roots for device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0: ["RrLwZa"]
Starting chain from root: RrLwZa
  Adding block RrLwZa to sorted list
    Pushing KojGQk onto stack
  Adding block KojGQk to sorted list
    Pushing I0l9nY onto stack
  Adding block I0l9nY to sorted list
  No next blocks for I0l9nY
No remaining blocks for device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
No globally remaining blocks
Final sorted order for parent BZ7CfX: ["RrLwZa", "KojGQk", "I0l9nY"]
====== COMPLETED BLOCK SORTING ======
Final sorted children map has 4 parents
extract_document_state: Extracted 4 blocks and 4 parent-child relationships
get_document_state: Finished for doc_id: xxxx
flutter: {
flutter:   "docId": "xxxx",
flutter:   "blocks": {
flutter:     "BZ7CfX": {
flutter:       "id": "BZ7CfX",
flutter:       "ty": "page",
flutter:       "attributes": {
flutter:         "timestamp": "2025-04-24T19:05:18.070279",
flutter:         "device": "6224c675-6598-4bc4-a7d1-e72a22b4b9b0"
flutter:       },
flutter:       "delta": null,
flutter:       "parentId": null,
flutter:       "prevId": null,
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "RrLwZa": {
flutter:       "id": "RrLwZa",
flutter:       "ty": "paragraph",
flutter:       "attributes": {
flutter:         "timestamp": "2025-04-24T19:05:18.074153",
flutter:         "delta": "[]",
flutter:         "device": "6224c675-6598-4bc4-a7d1-e72a22b4b9b0"
flutter:       },
flutter:       "delta": "[{\"insert\":\"aaa\"}]",
flutter:       "parentId": "BZ7CfX",
flutter:       "prevId": null,
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "I0l9nY": {
flutter:       "id": "I0l9nY",
flutter:       "ty": "paragraph",
flutter:       "attributes": {
flutter:         "timestamp": "2025-04-24T19:08:40.998818",
flutter:         "delta": "[]",
flutter:         "device": "6224c675-6598-4bc4-a7d1-e72a22b4b9b0"
flutter:       },
flutter:       "delta": "[]",
flutter:       "parentId": "BZ7CfX",
flutter:       "prevId": "KojGQk",
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "KojGQk": {
flutter:       "id": "KojGQk",
flutter:       "ty": "paragraph",
flutter:       "attributes": {
flutter:         "delta": "[]",
flutter:         "timestamp": "2025-04-24T19:08:40.012573",
flutter:         "device": "6224c675-6598-4bc4-a7d1-e72a22b4b9b0"
flutter:       },
flutter:       "delta": "[{\"insert\":\"bbb\"}]",
flutter:       "parentId": "BZ7CfX",
flutter:       "prevId": "RrLwZa",
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     }
flutter:   },
flutter:   "childrenMap": {
flutter:     "RrLwZa": [],
flutter:     "BZ7CfX": [
flutter:       "RrLwZa",
flutter:       "KojGQk",
flutter:       "I0l9nY"
flutter:     ],
flutter:     "I0l9nY": [],
flutter:     "KojGQk": []
flutter:   },
flutter:   "rootId": "BZ7CfX"
flutter: }
flutter: Applied 1 operations to the editor state
flutter: Transaction done
apply_action: Starting with 2 actions for doc_id: xxxx
delete_node: Starting for block_id: I0l9nY
remove_block_from_prev_id_chain: Removing block I0l9nY from chain
  Block I0l9nY has prev_id: KojGQk
  Finding blocks that reference I0l9nY as their prev_id
find_block_referencing_prev_id: Searching for blocks with prev_id = I0l9nY
  Found 4 total blocks to check
  Checking block: RrLwZa
    Block does not have prev_id
  Checking block: KojGQk
    Block has prev_id: RrLwZa, matches target: false
  Checking block: BZ7CfX
    Block does not have prev_id
  Checking block: I0l9nY
    Block has prev_id: KojGQk, matches target: false
find_block_referencing_prev_id: Found 0 blocks with prev_id = I0l9nY: []
  Found 0 next blocks: []
remove_block_from_prev_id_chain: Completed
delete_node: Successfully deleted block_id: I0l9nY
insert_node: Starting for block_id: mzJEMA
deltas_to_json: Converting 0 deltas
apply_delta_to_text: Computing delta diff
apply_delta_to_text: Parsing delta diff from JSON
apply_delta_to_text: No changes to apply
handle_prev_id_chain: block_id=mzJEMA, prev_id=None
  No prev_id provided, nothing to handle
handle_prev_id_chain: Completed
handle_following_connection: block_id=mzJEMA, next_id=None, prev_id=None
  No prev_id or next_id provided, nothing to handle
handle_following_connection: Completed
insert_node: Finished for block_id: mzJEMA
apply_action: Encoding state for doc_id: xxxx
apply_updates: Starting with 13 updates for doc_id: xxxx
apply_updates: Starting with 13 updates for doc_id: xxxx
apply_updates: Applying update for doc_id: xxxx
apply_updates: Finished for doc_id: xxxx
apply_updates: Successfully applied updates for doc_id: xxxx
get_document_state: Starting for doc_id: xxxx
extract_document_state: Starting for doc_id: xxxx
extract_document_state: Processing 4 blocks
deltas_to_json: Converting 0 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
====== STARTING BLOCK SORTING ======
Input children_map has 4 parent nodes

----- Sorting children of parent: RrLwZa -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent RrLwZa: []

----- Sorting children of parent: BZ7CfX -----
Parent has 2 children to sort
Mapped 2 valid blocks by ID
Block RrLwZa assigned to device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
Block KojGQk assigned to device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
Grouped blocks into 1 devices
  - Device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0 has 2 blocks
Block RrLwZa has no prev_id
Block KojGQk has prev_id RrLwZa
Built prev->next map with 1 entries
  - RrLwZa has 1 next blocks: ["KojGQk"]
Device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0 has 1 root blocks: ["RrLwZa"]
Processing devices in order: ["6224c675-6598-4bc4-a7d1-e72a22b4b9b0"]

Processing device: 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
Sorted roots for device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0: ["RrLwZa"]
Starting chain from root: RrLwZa
  Adding block RrLwZa to sorted list
    Pushing KojGQk onto stack
  Adding block KojGQk to sorted list
  No next blocks for KojGQk
No remaining blocks for device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
No globally remaining blocks
Final sorted order for parent BZ7CfX: ["RrLwZa", "KojGQk"]

----- Sorting children of parent: mzJEMA -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent mzJEMA: []

----- Sorting children of parent: KojGQk -----
Parent has 1 children to sort
Mapped 1 valid blocks by ID
Block mzJEMA assigned to device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
Grouped blocks into 1 devices
  - Device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0 has 1 blocks
Block mzJEMA has no prev_id
Built prev->next map with 0 entries
Device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0 has 1 root blocks: ["mzJEMA"]
Processing devices in order: ["6224c675-6598-4bc4-a7d1-e72a22b4b9b0"]

Processing device: 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
Sorted roots for device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0: ["mzJEMA"]
Starting chain from root: mzJEMA
  Adding block mzJEMA to sorted list
  No next blocks for mzJEMA
No remaining blocks for device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
No globally remaining blocks
Final sorted order for parent KojGQk: ["mzJEMA"]
====== COMPLETED BLOCK SORTING ======
Final sorted children map has 4 parents
extract_document_state: Extracted 4 blocks and 4 parent-child relationships
get_document_state: Finished for doc_id: xxxx
flutter: {
flutter:   "docId": "xxxx",
flutter:   "blocks": {
flutter:     "BZ7CfX": {
flutter:       "id": "BZ7CfX",
flutter:       "ty": "page",
flutter:       "attributes": {
flutter:         "timestamp": "2025-04-24T19:05:18.070279",
flutter:         "device": "6224c675-6598-4bc4-a7d1-e72a22b4b9b0"
flutter:       },
flutter:       "delta": null,
flutter:       "parentId": null,
flutter:       "prevId": null,
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "KojGQk": {
flutter:       "id": "KojGQk",
flutter:       "ty": "paragraph",
flutter:       "attributes": {
flutter:         "delta": "[]",
flutter:         "device": "6224c675-6598-4bc4-a7d1-e72a22b4b9b0",
flutter:         "timestamp": "2025-04-24T19:08:40.012573"
flutter:       },
flutter:       "delta": "[{\"insert\":\"bbb\"}]",
flutter:       "parentId": "BZ7CfX",
flutter:       "prevId": "RrLwZa",
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "mzJEMA": {
flutter:       "id": "mzJEMA",
flutter:       "ty": "paragraph",
flutter:       "attributes": {
flutter:         "device": "6224c675-6598-4bc4-a7d1-e72a22b4b9b0",
flutter:         "timestamp": "2025-04-24T19:08:41.328847",
flutter:         "delta": "[]"
flutter:       },
flutter:       "delta": "[]",
flutter:       "parentId": "KojGQk",
flutter:       "prevId": null,
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "RrLwZa": {
flutter:       "id": "RrLwZa",
flutter:       "ty": "paragraph",
flutter:       "attributes": {
flutter:         "delta": "[]",
flutter:         "timestamp": "2025-04-24T19:05:18.074153",
flutter:         "device": "6224c675-6598-4bc4-a7d1-e72a22b4b9b0"
flutter:       },
flutter:       "delta": "[{\"insert\":\"aaa\"}]",
flutter:       "parentId": "BZ7CfX",
flutter:       "prevId": null,
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     }
flutter:   },
flutter:   "childrenMap": {
flutter:     "mzJEMA": [],
flutter:     "KojGQk": [
flutter:       "mzJEMA"
flutter:     ],
flutter:     "BZ7CfX": [
flutter:       "RrLwZa",
flutter:       "KojGQk"
flutter:     ],
flutter:     "RrLwZa": []
flutter:   },
flutter:   "rootId": "BZ7CfX"
flutter: }
flutter: Applied 1 operations to the editor state
flutter: Transaction done
apply_action: Starting with 1 actions for doc_id: xxxx
update_node: Updating block_id: mzJEMA
deltas_to_json: Converting 0 deltas
apply_delta_to_text: Computing delta diff
apply_delta_to_text: Parsing delta diff from JSON
apply_delta_diff_to_text: Starting with 1 operations
update_node: Updated block_id: mzJEMA
apply_action: Encoding state for doc_id: xxxx
apply_updates: Starting with 14 updates for doc_id: xxxx
apply_updates: Starting with 14 updates for doc_id: xxxx
apply_updates: Applying update for doc_id: xxxx
apply_updates: Finished for doc_id: xxxx
apply_updates: Successfully applied updates for doc_id: xxxx
get_document_state: Starting for doc_id: xxxx
extract_document_state: Starting for doc_id: xxxx
extract_document_state: Processing 4 blocks
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
====== STARTING BLOCK SORTING ======
Input children_map has 4 parent nodes

----- Sorting children of parent: KojGQk -----
Parent has 1 children to sort
Mapped 1 valid blocks by ID
Block mzJEMA assigned to device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
Grouped blocks into 1 devices
  - Device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0 has 1 blocks
Block mzJEMA has no prev_id
Built prev->next map with 0 entries
Device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0 has 1 root blocks: ["mzJEMA"]
Processing devices in order: ["6224c675-6598-4bc4-a7d1-e72a22b4b9b0"]

Processing device: 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
Sorted roots for device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0: ["mzJEMA"]
Starting chain from root: mzJEMA
  Adding block mzJEMA to sorted list
  No next blocks for mzJEMA
No remaining blocks for device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
No globally remaining blocks
Final sorted order for parent KojGQk: ["mzJEMA"]

----- Sorting children of parent: mzJEMA -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent mzJEMA: []

----- Sorting children of parent: RrLwZa -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent RrLwZa: []

----- Sorting children of parent: BZ7CfX -----
Parent has 2 children to sort
Mapped 2 valid blocks by ID
Block KojGQk assigned to device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
Block RrLwZa assigned to device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
Grouped blocks into 1 devices
  - Device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0 has 2 blocks
Block KojGQk has prev_id RrLwZa
Block RrLwZa has no prev_id
Built prev->next map with 1 entries
  - RrLwZa has 1 next blocks: ["KojGQk"]
Device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0 has 1 root blocks: ["RrLwZa"]
Processing devices in order: ["6224c675-6598-4bc4-a7d1-e72a22b4b9b0"]

Processing device: 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
Sorted roots for device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0: ["RrLwZa"]
Starting chain from root: RrLwZa
  Adding block RrLwZa to sorted list
    Pushing KojGQk onto stack
  Adding block KojGQk to sorted list
  No next blocks for KojGQk
No remaining blocks for device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
No globally remaining blocks
Final sorted order for parent BZ7CfX: ["RrLwZa", "KojGQk"]
====== COMPLETED BLOCK SORTING ======
Final sorted children map has 4 parents
extract_document_state: Extracted 4 blocks and 4 parent-child relationships
get_document_state: Finished for doc_id: xxxx
flutter: {
flutter:   "docId": "xxxx",
flutter:   "blocks": {
flutter:     "BZ7CfX": {
flutter:       "id": "BZ7CfX",
flutter:       "ty": "page",
flutter:       "attributes": {
flutter:         "device": "6224c675-6598-4bc4-a7d1-e72a22b4b9b0",
flutter:         "timestamp": "2025-04-24T19:05:18.070279"
flutter:       },
flutter:       "delta": null,
flutter:       "parentId": null,
flutter:       "prevId": null,
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "mzJEMA": {
flutter:       "id": "mzJEMA",
flutter:       "ty": "paragraph",
flutter:       "attributes": {
flutter:         "timestamp": "2025-04-24T19:08:41.328847",
flutter:         "delta": "[]",
flutter:         "device": "6224c675-6598-4bc4-a7d1-e72a22b4b9b0"
flutter:       },
flutter:       "delta": "[{\"insert\":\"1\"}]",
flutter:       "parentId": "KojGQk",
flutter:       "prevId": null,
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "RrLwZa": {
flutter:       "id": "RrLwZa",
flutter:       "ty": "paragraph",
flutter:       "attributes": {
flutter:         "device": "6224c675-6598-4bc4-a7d1-e72a22b4b9b0",
flutter:         "delta": "[]",
flutter:         "timestamp": "2025-04-24T19:05:18.074153"
flutter:       },
flutter:       "delta": "[{\"insert\":\"aaa\"}]",
flutter:       "parentId": "BZ7CfX",
flutter:       "prevId": null,
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "KojGQk": {
flutter:       "id": "KojGQk",
flutter:       "ty": "paragraph",
flutter:       "attributes": {
flutter:         "device": "6224c675-6598-4bc4-a7d1-e72a22b4b9b0",
flutter:         "delta": "[]",
flutter:         "timestamp": "2025-04-24T19:08:40.012573"
flutter:       },
flutter:       "delta": "[{\"insert\":\"bbb\"}]",
flutter:       "parentId": "BZ7CfX",
flutter:       "prevId": "RrLwZa",
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     }
flutter:   },
flutter:   "childrenMap": {
flutter:     "KojGQk": [
flutter:       "mzJEMA"
flutter:     ],
flutter:     "mzJEMA": [],
flutter:     "RrLwZa": [],
flutter:     "BZ7CfX": [
flutter:       "RrLwZa",
flutter:       "KojGQk"
flutter:     ]
flutter:   },
flutter:   "rootId": "BZ7CfX"
flutter: }
flutter: Transaction done
apply_action: Starting with 1 actions for doc_id: xxxx
update_node: Updating block_id: mzJEMA
deltas_to_json: Converting 1 deltas
apply_delta_to_text: Computing delta diff
apply_delta_to_text: Parsing delta diff from JSON
apply_delta_diff_to_text: Starting with 2 operations
update_node: Updated block_id: mzJEMA
apply_action: Encoding state for doc_id: xxxx
apply_updates: Starting with 15 updates for doc_id: xxxx
apply_updates: Starting with 15 updates for doc_id: xxxx
apply_updates: Applying update for doc_id: xxxx
apply_updates: Finished for doc_id: xxxx
apply_updates: Successfully applied updates for doc_id: xxxx
get_document_state: Starting for doc_id: xxxx
extract_document_state: Starting for doc_id: xxxx
extract_document_state: Processing 4 blocks
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
====== STARTING BLOCK SORTING ======
Input children_map has 4 parent nodes

----- Sorting children of parent: mzJEMA -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent mzJEMA: []

----- Sorting children of parent: BZ7CfX -----
Parent has 2 children to sort
Mapped 2 valid blocks by ID
Block KojGQk assigned to device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
Block RrLwZa assigned to device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
Grouped blocks into 1 devices
  - Device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0 has 2 blocks
Block KojGQk has prev_id RrLwZa
Block RrLwZa has no prev_id
Built prev->next map with 1 entries
  - RrLwZa has 1 next blocks: ["KojGQk"]
Device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0 has 1 root blocks: ["RrLwZa"]
Processing devices in order: ["6224c675-6598-4bc4-a7d1-e72a22b4b9b0"]

Processing device: 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
Sorted roots for device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0: ["RrLwZa"]
Starting chain from root: RrLwZa
  Adding block RrLwZa to sorted list
    Pushing KojGQk onto stack
  Adding block KojGQk to sorted list
  No next blocks for KojGQk
No remaining blocks for device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
No globally remaining blocks
Final sorted order for parent BZ7CfX: ["RrLwZa", "KojGQk"]

----- Sorting children of parent: KojGQk -----
Parent has 1 children to sort
Mapped 1 valid blocks by ID
Block mzJEMA assigned to device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
Grouped blocks into 1 devices
  - Device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0 has 1 blocks
Block mzJEMA has no prev_id
Built prev->next map with 0 entries
Device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0 has 1 root blocks: ["mzJEMA"]
Processing devices in order: ["6224c675-6598-4bc4-a7d1-e72a22b4b9b0"]

Processing device: 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
Sorted roots for device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0: ["mzJEMA"]
Starting chain from root: mzJEMA
  Adding block mzJEMA to sorted list
  No next blocks for mzJEMA
No remaining blocks for device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
No globally remaining blocks
Final sorted order for parent KojGQk: ["mzJEMA"]

----- Sorting children of parent: RrLwZa -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent RrLwZa: []
====== COMPLETED BLOCK SORTING ======
Final sorted children map has 4 parents
extract_document_state: Extracted 4 blocks and 4 parent-child relationships
get_document_state: Finished for doc_id: xxxx
flutter: {
flutter:   "docId": "xxxx",
flutter:   "blocks": {
flutter:     "KojGQk": {
flutter:       "id": "KojGQk",
flutter:       "ty": "paragraph",
flutter:       "attributes": {
flutter:         "device": "6224c675-6598-4bc4-a7d1-e72a22b4b9b0",
flutter:         "delta": "[]",
flutter:         "timestamp": "2025-04-24T19:08:40.012573"
flutter:       },
flutter:       "delta": "[{\"insert\":\"bbb\"}]",
flutter:       "parentId": "BZ7CfX",
flutter:       "prevId": "RrLwZa",
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "mzJEMA": {
flutter:       "id": "mzJEMA",
flutter:       "ty": "paragraph",
flutter:       "attributes": {
flutter:         "device": "6224c675-6598-4bc4-a7d1-e72a22b4b9b0",
flutter:         "delta": "[]",
flutter:         "timestamp": "2025-04-24T19:08:41.328847"
flutter:       },
flutter:       "delta": "[{\"insert\":\"11\"}]",
flutter:       "parentId": "KojGQk",
flutter:       "prevId": null,
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "BZ7CfX": {
flutter:       "id": "BZ7CfX",
flutter:       "ty": "page",
flutter:       "attributes": {
flutter:         "timestamp": "2025-04-24T19:05:18.070279",
flutter:         "device": "6224c675-6598-4bc4-a7d1-e72a22b4b9b0"
flutter:       },
flutter:       "delta": null,
flutter:       "parentId": null,
flutter:       "prevId": null,
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "RrLwZa": {
flutter:       "id": "RrLwZa",
flutter:       "ty": "paragraph",
flutter:       "attributes": {
flutter:         "delta": "[]",
flutter:         "device": "6224c675-6598-4bc4-a7d1-e72a22b4b9b0",
flutter:         "timestamp": "2025-04-24T19:05:18.074153"
flutter:       },
flutter:       "delta": "[{\"insert\":\"aaa\"}]",
flutter:       "parentId": "BZ7CfX",
flutter:       "prevId": null,
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     }
flutter:   },
flutter:   "childrenMap": {
flutter:     "mzJEMA": [],
flutter:     "KojGQk": [
flutter:       "mzJEMA"
flutter:     ],
flutter:     "BZ7CfX": [
flutter:       "RrLwZa",
flutter:       "KojGQk"
flutter:     ],
flutter:     "RrLwZa": []
flutter:   },
flutter:   "rootId": "BZ7CfX"
flutter: }
flutter: Transaction done
apply_action: Starting with 1 actions for doc_id: xxxx
update_node: Updating block_id: mzJEMA
deltas_to_json: Converting 1 deltas
apply_delta_to_text: Computing delta diff
apply_delta_to_text: Parsing delta diff from JSON
apply_delta_diff_to_text: Starting with 2 operations
update_node: Updated block_id: mzJEMA
apply_action: Encoding state for doc_id: xxxx
apply_updates: Starting with 16 updates for doc_id: xxxx
apply_updates: Starting with 16 updates for doc_id: xxxx
apply_updates: Applying update for doc_id: xxxx
apply_updates: Finished for doc_id: xxxx
apply_updates: Successfully applied updates for doc_id: xxxx
get_document_state: Starting for doc_id: xxxx
extract_document_state: Starting for doc_id: xxxx
extract_document_state: Processing 4 blocks
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
====== STARTING BLOCK SORTING ======
Input children_map has 4 parent nodes

----- Sorting children of parent: mzJEMA -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent mzJEMA: []

----- Sorting children of parent: KojGQk -----
Parent has 1 children to sort
Mapped 1 valid blocks by ID
Block mzJEMA assigned to device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
Grouped blocks into 1 devices
  - Device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0 has 1 blocks
Block mzJEMA has no prev_id
Built prev->next map with 0 entries
Device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0 has 1 root blocks: ["mzJEMA"]
Processing devices in order: ["6224c675-6598-4bc4-a7d1-e72a22b4b9b0"]

Processing device: 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
Sorted roots for device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0: ["mzJEMA"]
Starting chain from root: mzJEMA
  Adding block mzJEMA to sorted list
  No next blocks for mzJEMA
No remaining blocks for device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
No globally remaining blocks
Final sorted order for parent KojGQk: ["mzJEMA"]

----- Sorting children of parent: RrLwZa -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent RrLwZa: []

----- Sorting children of parent: BZ7CfX -----
Parent has 2 children to sort
Mapped 2 valid blocks by ID
Block RrLwZa assigned to device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
Block KojGQk assigned to device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
Grouped blocks into 1 devices
  - Device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0 has 2 blocks
Block RrLwZa has no prev_id
Block KojGQk has prev_id RrLwZa
Built prev->next map with 1 entries
  - RrLwZa has 1 next blocks: ["KojGQk"]
Device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0 has 1 root blocks: ["RrLwZa"]
Processing devices in order: ["6224c675-6598-4bc4-a7d1-e72a22b4b9b0"]

Processing device: 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
Sorted roots for device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0: ["RrLwZa"]
Starting chain from root: RrLwZa
  Adding block RrLwZa to sorted list
    Pushing KojGQk onto stack
  Adding block KojGQk to sorted list
  No next blocks for KojGQk
No remaining blocks for device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
No globally remaining blocks
Final sorted order for parent BZ7CfX: ["RrLwZa", "KojGQk"]
====== COMPLETED BLOCK SORTING ======
Final sorted children map has 4 parents
extract_document_state: Extracted 4 blocks and 4 parent-child relationships
get_document_state: Finished for doc_id: xxxx
flutter: {
flutter:   "docId": "xxxx",
flutter:   "blocks": {
flutter:     "RrLwZa": {
flutter:       "id": "RrLwZa",
flutter:       "ty": "paragraph",
flutter:       "attributes": {
flutter:         "device": "6224c675-6598-4bc4-a7d1-e72a22b4b9b0",
flutter:         "timestamp": "2025-04-24T19:05:18.074153",
flutter:         "delta": "[]"
flutter:       },
flutter:       "delta": "[{\"insert\":\"aaa\"}]",
flutter:       "parentId": "BZ7CfX",
flutter:       "prevId": null,
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "BZ7CfX": {
flutter:       "id": "BZ7CfX",
flutter:       "ty": "page",
flutter:       "attributes": {
flutter:         "device": "6224c675-6598-4bc4-a7d1-e72a22b4b9b0",
flutter:         "timestamp": "2025-04-24T19:05:18.070279"
flutter:       },
flutter:       "delta": null,
flutter:       "parentId": null,
flutter:       "prevId": null,
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "KojGQk": {
flutter:       "id": "KojGQk",
flutter:       "ty": "paragraph",
flutter:       "attributes": {
flutter:         "delta": "[]",
flutter:         "device": "6224c675-6598-4bc4-a7d1-e72a22b4b9b0",
flutter:         "timestamp": "2025-04-24T19:08:40.012573"
flutter:       },
flutter:       "delta": "[{\"insert\":\"bbb\"}]",
flutter:       "parentId": "BZ7CfX",
flutter:       "prevId": "RrLwZa",
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "mzJEMA": {
flutter:       "id": "mzJEMA",
flutter:       "ty": "paragraph",
flutter:       "attributes": {
flutter:         "delta": "[]",
flutter:         "timestamp": "2025-04-24T19:08:41.328847",
flutter:         "device": "6224c675-6598-4bc4-a7d1-e72a22b4b9b0"
flutter:       },
flutter:       "delta": "[{\"insert\":\"111\"}]",
flutter:       "parentId": "KojGQk",
flutter:       "prevId": null,
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     }
flutter:   },
flutter:   "childrenMap": {
flutter:     "RrLwZa": [],
flutter:     "BZ7CfX": [
flutter:       "RrLwZa",
flutter:       "KojGQk"
flutter:     ],
flutter:     "KojGQk": [
flutter:       "mzJEMA"
flutter:     ],
flutter:     "mzJEMA": []
flutter:   },
flutter:   "rootId": "BZ7CfX"
flutter: }
flutter: Transaction done
apply_action: Starting with 2 actions for doc_id: xxxx
insert_node: Starting for block_id: YtwLpl
deltas_to_json: Converting 0 deltas
apply_delta_to_text: Computing delta diff
apply_delta_to_text: Parsing delta diff from JSON
apply_delta_to_text: No changes to apply
handle_prev_id_chain: block_id=YtwLpl, prev_id=Some("mzJEMA")
  Finding blocks that reference prev_id: mzJEMA
find_block_referencing_prev_id: Searching for blocks with prev_id = mzJEMA
  Found 5 total blocks to check
  Checking block: RrLwZa
    Block does not have prev_id
  Checking block: BZ7CfX
    Block does not have prev_id
  Checking block: KojGQk
    Block has prev_id: RrLwZa, matches target: false
  Checking block: mzJEMA
    Block does not have prev_id
  Checking block: YtwLpl
    Block does not have prev_id
find_block_referencing_prev_id: Found 0 blocks with prev_id = mzJEMA: []
  Found 0 blocks with prev_id mzJEMA: []
handle_prev_id_chain: Completed
handle_following_connection: block_id=YtwLpl, next_id=None, prev_id=Some("mzJEMA")
  Using prev_id strategy (prev_id=mzJEMA)
find_block_referencing_prev_id: Searching for blocks with prev_id = mzJEMA
  Found 5 total blocks to check
  Checking block: RrLwZa
    Block does not have prev_id
  Checking block: BZ7CfX
    Block does not have prev_id
  Checking block: KojGQk
    Block has prev_id: RrLwZa, matches target: false
  Checking block: mzJEMA
    Block does not have prev_id
  Checking block: YtwLpl
    Block does not have prev_id
find_block_referencing_prev_id: Found 0 blocks with prev_id = mzJEMA: []
  Found 0 nodes that reference prev_id mzJEMA: []
  Finished prev_id strategy
  Setting prev_id of block YtwLpl to mzJEMA
insert_node: Finished for block_id: YtwLpl
update_node: Updating block_id: mzJEMA
deltas_to_json: Converting 1 deltas
apply_delta_to_text: Computing delta diff
apply_delta_to_text: Parsing delta diff from JSON
apply_delta_to_text: No changes to apply
update_node: Updated block_id: mzJEMA
apply_action: Encoding state for doc_id: xxxx
apply_updates: Starting with 17 updates for doc_id: xxxx
apply_updates: Starting with 17 updates for doc_id: xxxx
apply_updates: Applying update for doc_id: xxxx
apply_updates: Finished for doc_id: xxxx
apply_updates: Successfully applied updates for doc_id: xxxx
get_document_state: Starting for doc_id: xxxx
extract_document_state: Starting for doc_id: xxxx
extract_document_state: Processing 5 blocks
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 0 deltas
====== STARTING BLOCK SORTING ======
Input children_map has 5 parent nodes

----- Sorting children of parent: YtwLpl -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent YtwLpl: []

----- Sorting children of parent: BZ7CfX -----
Parent has 2 children to sort
Mapped 2 valid blocks by ID
Block RrLwZa assigned to device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
Block KojGQk assigned to device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
Grouped blocks into 1 devices
  - Device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0 has 2 blocks
Block RrLwZa has no prev_id
Block KojGQk has prev_id RrLwZa
Built prev->next map with 1 entries
  - RrLwZa has 1 next blocks: ["KojGQk"]
Device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0 has 1 root blocks: ["RrLwZa"]
Processing devices in order: ["6224c675-6598-4bc4-a7d1-e72a22b4b9b0"]

Processing device: 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
Sorted roots for device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0: ["RrLwZa"]
Starting chain from root: RrLwZa
  Adding block RrLwZa to sorted list
    Pushing KojGQk onto stack
  Adding block KojGQk to sorted list
  No next blocks for KojGQk
No remaining blocks for device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
No globally remaining blocks
Final sorted order for parent BZ7CfX: ["RrLwZa", "KojGQk"]

----- Sorting children of parent: RrLwZa -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent RrLwZa: []

----- Sorting children of parent: mzJEMA -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent mzJEMA: []

----- Sorting children of parent: KojGQk -----
Parent has 2 children to sort
Mapped 2 valid blocks by ID
Block YtwLpl assigned to device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
Block mzJEMA assigned to device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
Grouped blocks into 1 devices
  - Device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0 has 2 blocks
Block YtwLpl has prev_id mzJEMA
Block mzJEMA has no prev_id
Built prev->next map with 1 entries
  - mzJEMA has 1 next blocks: ["YtwLpl"]
Device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0 has 1 root blocks: ["mzJEMA"]
Processing devices in order: ["6224c675-6598-4bc4-a7d1-e72a22b4b9b0"]

Processing device: 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
Sorted roots for device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0: ["mzJEMA"]
Starting chain from root: mzJEMA
  Adding block mzJEMA to sorted list
    Pushing YtwLpl onto stack
  Adding block YtwLpl to sorted list
  No next blocks for YtwLpl
No remaining blocks for device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
No globally remaining blocks
Final sorted order for parent KojGQk: ["mzJEMA", "YtwLpl"]
====== COMPLETED BLOCK SORTING ======
Final sorted children map has 5 parents
extract_document_state: Extracted 5 blocks and 5 parent-child relationships
get_document_state: Finished for doc_id: xxxx
flutter: {
flutter:   "docId": "xxxx",
flutter:   "blocks": {
flutter:     "RrLwZa": {
flutter:       "id": "RrLwZa",
flutter:       "ty": "paragraph",
flutter:       "attributes": {
flutter:         "timestamp": "2025-04-24T19:05:18.074153",
flutter:         "device": "6224c675-6598-4bc4-a7d1-e72a22b4b9b0",
flutter:         "delta": "[]"
flutter:       },
flutter:       "delta": "[{\"insert\":\"aaa\"}]",
flutter:       "parentId": "BZ7CfX",
flutter:       "prevId": null,
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "YtwLpl": {
flutter:       "id": "YtwLpl",
flutter:       "ty": "paragraph",
flutter:       "attributes": {
flutter:         "delta": "[]",
flutter:         "device": "6224c675-6598-4bc4-a7d1-e72a22b4b9b0",
flutter:         "timestamp": "2025-04-24T19:08:42.355502"
flutter:       },
flutter:       "delta": "[]",
flutter:       "parentId": "KojGQk",
flutter:       "prevId": "mzJEMA",
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "BZ7CfX": {
flutter:       "id": "BZ7CfX",
flutter:       "ty": "page",
flutter:       "attributes": {
flutter:         "timestamp": "2025-04-24T19:05:18.070279",
flutter:         "device": "6224c675-6598-4bc4-a7d1-e72a22b4b9b0"
flutter:       },
flutter:       "delta": null,
flutter:       "parentId": null,
flutter:       "prevId": null,
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "mzJEMA": {
flutter:       "id": "mzJEMA",
flutter:       "ty": "paragraph",
flutter:       "attributes": {
flutter:         "device": "6224c675-6598-4bc4-a7d1-e72a22b4b9b0",
flutter:         "timestamp": "2025-04-24T19:08:41.328847",
flutter:         "delta": "[]"
flutter:       },
flutter:       "delta": "[{\"insert\":\"111\"}]",
flutter:       "parentId": "KojGQk",
flutter:       "prevId": null,
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "KojGQk": {
flutter:       "id": "KojGQk",
flutter:       "ty": "paragraph",
flutter:       "attributes": {
flutter:         "device": "6224c675-6598-4bc4-a7d1-e72a22b4b9b0",
flutter:         "delta": "[]",
flutter:         "timestamp": "2025-04-24T19:08:40.012573"
flutter:       },
flutter:       "delta": "[{\"insert\":\"bbb\"}]",
flutter:       "parentId": "BZ7CfX",
flutter:       "prevId": "RrLwZa",
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     }
flutter:   },
flutter:   "childrenMap": {
flutter:     "YtwLpl": [],
flutter:     "mzJEMA": [],
flutter:     "BZ7CfX": [
flutter:       "RrLwZa",
flutter:       "KojGQk"
flutter:     ],
flutter:     "KojGQk": [
flutter:       "mzJEMA",
flutter:       "YtwLpl"
flutter:     ],
flutter:     "RrLwZa": []
flutter:   },
flutter:   "rootId": "BZ7CfX"
flutter: }
flutter: Applied 1 operations to the editor state
flutter: Transaction done
apply_action: Starting with 2 actions for doc_id: xxxx
delete_node: Starting for block_id: YtwLpl
remove_block_from_prev_id_chain: Removing block YtwLpl from chain
  Block YtwLpl has prev_id: mzJEMA
  Finding blocks that reference YtwLpl as their prev_id
find_block_referencing_prev_id: Searching for blocks with prev_id = YtwLpl
  Found 5 total blocks to check
  Checking block: BZ7CfX
    Block does not have prev_id
  Checking block: RrLwZa
    Block does not have prev_id
  Checking block: KojGQk
    Block has prev_id: RrLwZa, matches target: false
  Checking block: mzJEMA
    Block does not have prev_id
  Checking block: YtwLpl
    Block has prev_id: mzJEMA, matches target: false
find_block_referencing_prev_id: Found 0 blocks with prev_id = YtwLpl: []
  Found 0 next blocks: []
remove_block_from_prev_id_chain: Completed
delete_node: Successfully deleted block_id: YtwLpl
insert_node: Starting for block_id: au9YTd
deltas_to_json: Converting 0 deltas
apply_delta_to_text: Computing delta diff
apply_delta_to_text: Parsing delta diff from JSON
apply_delta_to_text: No changes to apply
handle_prev_id_chain: block_id=au9YTd, prev_id=None
  No prev_id provided, nothing to handle
handle_prev_id_chain: Completed
handle_following_connection: block_id=au9YTd, next_id=None, prev_id=None
  No prev_id or next_id provided, nothing to handle
handle_following_connection: Completed
insert_node: Finished for block_id: au9YTd
apply_action: Encoding state for doc_id: xxxx
apply_updates: Starting with 18 updates for doc_id: xxxx
apply_updates: Starting with 18 updates for doc_id: xxxx
apply_updates: Applying update for doc_id: xxxx
apply_updates: Finished for doc_id: xxxx
apply_updates: Successfully applied updates for doc_id: xxxx
get_document_state: Starting for doc_id: xxxx
extract_document_state: Starting for doc_id: xxxx
extract_document_state: Processing 5 blocks
deltas_to_json: Converting 0 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
====== STARTING BLOCK SORTING ======
Input children_map has 5 parent nodes

----- Sorting children of parent: RrLwZa -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent RrLwZa: []

----- Sorting children of parent: mzJEMA -----
Parent has 1 children to sort
Mapped 1 valid blocks by ID
Block au9YTd assigned to device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
Grouped blocks into 1 devices
  - Device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0 has 1 blocks
Block au9YTd has no prev_id
Built prev->next map with 0 entries
Device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0 has 1 root blocks: ["au9YTd"]
Processing devices in order: ["6224c675-6598-4bc4-a7d1-e72a22b4b9b0"]

Processing device: 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
Sorted roots for device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0: ["au9YTd"]
Starting chain from root: au9YTd
  Adding block au9YTd to sorted list
  No next blocks for au9YTd
No remaining blocks for device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
No globally remaining blocks
Final sorted order for parent mzJEMA: ["au9YTd"]

----- Sorting children of parent: KojGQk -----
Parent has 1 children to sort
Mapped 1 valid blocks by ID
Block mzJEMA assigned to device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
Grouped blocks into 1 devices
  - Device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0 has 1 blocks
Block mzJEMA has no prev_id
Built prev->next map with 0 entries
Device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0 has 1 root blocks: ["mzJEMA"]
Processing devices in order: ["6224c675-6598-4bc4-a7d1-e72a22b4b9b0"]

Processing device: 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
Sorted roots for device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0: ["mzJEMA"]
Starting chain from root: mzJEMA
  Adding block mzJEMA to sorted list
  No next blocks for mzJEMA
No remaining blocks for device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
No globally remaining blocks
Final sorted order for parent KojGQk: ["mzJEMA"]

----- Sorting children of parent: au9YTd -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent au9YTd: []

----- Sorting children of parent: BZ7CfX -----
Parent has 2 children to sort
Mapped 2 valid blocks by ID
Block RrLwZa assigned to device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
Block KojGQk assigned to device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
Grouped blocks into 1 devices
  - Device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0 has 2 blocks
Block RrLwZa has no prev_id
Block KojGQk has prev_id RrLwZa
Built prev->next map with 1 entries
  - RrLwZa has 1 next blocks: ["KojGQk"]
Device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0 has 1 root blocks: ["RrLwZa"]
Processing devices in order: ["6224c675-6598-4bc4-a7d1-e72a22b4b9b0"]

Processing device: 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
Sorted roots for device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0: ["RrLwZa"]
Starting chain from root: RrLwZa
  Adding block RrLwZa to sorted list
    Pushing KojGQk onto stack
  Adding block KojGQk to sorted list
  No next blocks for KojGQk
No remaining blocks for device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
No globally remaining blocks
Final sorted order for parent BZ7CfX: ["RrLwZa", "KojGQk"]
====== COMPLETED BLOCK SORTING ======
Final sorted children map has 5 parents
extract_document_state: Extracted 5 blocks and 5 parent-child relationships
get_document_state: Finished for doc_id: xxxx
flutter: {
flutter:   "docId": "xxxx",
flutter:   "blocks": {
flutter:     "mzJEMA": {
flutter:       "id": "mzJEMA",
flutter:       "ty": "paragraph",
flutter:       "attributes": {
flutter:         "delta": "[]",
flutter:         "timestamp": "2025-04-24T19:08:41.328847",
flutter:         "device": "6224c675-6598-4bc4-a7d1-e72a22b4b9b0"
flutter:       },
flutter:       "delta": "[{\"insert\":\"111\"}]",
flutter:       "parentId": "KojGQk",
flutter:       "prevId": null,
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "au9YTd": {
flutter:       "id": "au9YTd",
flutter:       "ty": "paragraph",
flutter:       "attributes": {
flutter:         "device": "6224c675-6598-4bc4-a7d1-e72a22b4b9b0",
flutter:         "timestamp": "2025-04-24T19:08:42.723015",
flutter:         "delta": "[]"
flutter:       },
flutter:       "delta": "[]",
flutter:       "parentId": "mzJEMA",
flutter:       "prevId": null,
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "RrLwZa": {
flutter:       "id": "RrLwZa",
flutter:       "ty": "paragraph",
flutter:       "attributes": {
flutter:         "timestamp": "2025-04-24T19:05:18.074153",
flutter:         "delta": "[]",
flutter:         "device": "6224c675-6598-4bc4-a7d1-e72a22b4b9b0"
flutter:       },
flutter:       "delta": "[{\"insert\":\"aaa\"}]",
flutter:       "parentId": "BZ7CfX",
flutter:       "prevId": null,
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "BZ7CfX": {
flutter:       "id": "BZ7CfX",
flutter:       "ty": "page",
flutter:       "attributes": {
flutter:         "timestamp": "2025-04-24T19:05:18.070279",
flutter:         "device": "6224c675-6598-4bc4-a7d1-e72a22b4b9b0"
flutter:       },
flutter:       "delta": null,
flutter:       "parentId": null,
flutter:       "prevId": null,
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "KojGQk": {
flutter:       "id": "KojGQk",
flutter:       "ty": "paragraph",
flutter:       "attributes": {
flutter:         "delta": "[]",
flutter:         "device": "6224c675-6598-4bc4-a7d1-e72a22b4b9b0",
flutter:         "timestamp": "2025-04-24T19:08:40.012573"
flutter:       },
flutter:       "delta": "[{\"insert\":\"bbb\"}]",
flutter:       "parentId": "BZ7CfX",
flutter:       "prevId": "RrLwZa",
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     }
flutter:   },
flutter:   "childrenMap": {
flutter:     "mzJEMA": [
flutter:       "au9YTd"
flutter:     ],
flutter:     "KojGQk": [
flutter:       "mzJEMA"
flutter:     ],
flutter:     "BZ7CfX": [
flutter:       "RrLwZa",
flutter:       "KojGQk"
flutter:     ],
flutter:     "RrLwZa": [],
flutter:     "au9YTd": []
flutter:   },
flutter:   "rootId": "BZ7CfX"
flutter: }
flutter: Applied 1 operations to the editor state
merge_updates: Merging 14 updates
merge_updates: Successfully merged updates
apply_updates: Starting with 19 updates for doc_id: xxxx
apply_updates: Starting with 19 updates for doc_id: xxxx
apply_updates: Applying update for doc_id: xxxx
apply_updates: Finished for doc_id: xxxx
apply_updates: Successfully applied updates for doc_id: xxxx
get_document_state: Starting for doc_id: xxxx
extract_document_state: Starting for doc_id: xxxx
extract_document_state: Processing 5 blocks
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 0 deltas
deltas_to_json: Converting 1 deltas
====== STARTING BLOCK SORTING ======
Input children_map has 5 parent nodes

----- Sorting children of parent: BZ7CfX -----
Parent has 2 children to sort
Mapped 2 valid blocks by ID
Block RrLwZa assigned to device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
Block KojGQk assigned to device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
Grouped blocks into 1 devices
  - Device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0 has 2 blocks
Block RrLwZa has no prev_id
Block KojGQk has prev_id RrLwZa
Built prev->next map with 1 entries
  - RrLwZa has 1 next blocks: ["KojGQk"]
Device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0 has 1 root blocks: ["RrLwZa"]
Processing devices in order: ["6224c675-6598-4bc4-a7d1-e72a22b4b9b0"]

Processing device: 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
Sorted roots for device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0: ["RrLwZa"]
Starting chain from root: RrLwZa
  Adding block RrLwZa to sorted list
    Pushing KojGQk onto stack
  Adding block KojGQk to sorted list
  No next blocks for KojGQk
No remaining blocks for device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
No globally remaining blocks
Final sorted order for parent BZ7CfX: ["RrLwZa", "KojGQk"]

----- Sorting children of parent: RrLwZa -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent RrLwZa: []

----- Sorting children of parent: au9YTd -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent au9YTd: []

----- Sorting children of parent: KojGQk -----
Parent has 1 children to sort
Mapped 1 valid blocks by ID
Block mzJEMA assigned to device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
Grouped blocks into 1 devices
  - Device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0 has 1 blocks
Block mzJEMA has no prev_id
Built prev->next map with 0 entries
Device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0 has 1 root blocks: ["mzJEMA"]
Processing devices in order: ["6224c675-6598-4bc4-a7d1-e72a22b4b9b0"]

Processing device: 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
Sorted roots for device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0: ["mzJEMA"]
Starting chain from root: mzJEMA
  Adding block mzJEMA to sorted list
  No next blocks for mzJEMA
No remaining blocks for device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
No globally remaining blocks
Final sorted order for parent KojGQk: ["mzJEMA"]

----- Sorting children of parent: mzJEMA -----
Parent has 1 children to sort
Mapped 1 valid blocks by ID
Block au9YTd assigned to device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
Grouped blocks into 1 devices
  - Device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0 has 1 blocks
Block au9YTd has no prev_id
Built prev->next map with 0 entries
Device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0 has 1 root blocks: ["au9YTd"]
Processing devices in order: ["6224c675-6598-4bc4-a7d1-e72a22b4b9b0"]

Processing device: 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
Sorted roots for device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0: ["au9YTd"]
Starting chain from root: au9YTd
  Adding block au9YTd to sorted list
  No next blocks for au9YTd
No remaining blocks for device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
No globally remaining blocks
Final sorted order for parent mzJEMA: ["au9YTd"]
====== COMPLETED BLOCK SORTING ======
Final sorted children map has 5 parents
extract_document_state: Extracted 5 blocks and 5 parent-child relationships
get_document_state: Finished for doc_id: xxxx
flutter: {
flutter:   "docId": "xxxx",
flutter:   "blocks": {
flutter:     "au9YTd": {
flutter:       "id": "au9YTd",
flutter:       "ty": "paragraph",
flutter:       "attributes": {
flutter:         "timestamp": "2025-04-24T19:08:42.723015",
flutter:         "device": "6224c675-6598-4bc4-a7d1-e72a22b4b9b0",
flutter:         "delta": "[]"
flutter:       },
flutter:       "delta": "[]",
flutter:       "parentId": "mzJEMA",
flutter:       "prevId": null,
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "mzJEMA": {
flutter:       "id": "mzJEMA",
flutter:       "ty": "paragraph",
flutter:       "attributes": {
flutter:         "device": "6224c675-6598-4bc4-a7d1-e72a22b4b9b0",
flutter:         "timestamp": "2025-04-24T19:08:41.328847",
flutter:         "delta": "[]"
flutter:       },
flutter:       "delta": "[{\"insert\":\"111\"}]",
flutter:       "parentId": "KojGQk",
flutter:       "prevId": null,
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "BZ7CfX": {
flutter:       "id": "BZ7CfX",
flutter:       "ty": "page",
flutter:       "attributes": {
flutter:         "device": "6224c675-6598-4bc4-a7d1-e72a22b4b9b0",
flutter:         "timestamp": "2025-04-24T19:05:18.070279"
flutter:       },
flutter:       "delta": null,
flutter:       "parentId": null,
flutter:       "prevId": null,
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "RrLwZa": {
flutter:       "id": "RrLwZa",
flutter:       "ty": "paragraph",
flutter:       "attributes": {
flutter:         "delta": "[]",
flutter:         "timestamp": "2025-04-24T19:05:18.074153",
flutter:         "device": "6224c675-6598-4bc4-a7d1-e72a22b4b9b0"
flutter:       },
flutter:       "delta": "[{\"insert\":\"aaa\"}]",
flutter:       "parentId": "BZ7CfX",
flutter:       "prevId": null,
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "KojGQk": {
flutter:       "id": "KojGQk",
flutter:       "ty": "paragraph",
flutter:       "attributes": {
flutter:         "delta": "[]",
flutter:         "device": "6224c675-6598-4bc4-a7d1-e72a22b4b9b0",
flutter:         "timestamp": "2025-04-24T19:08:40.012573"
flutter:       },
flutter:       "delta": "[{\"insert\":\"bbb\"}]",
flutter:       "parentId": "BZ7CfX",
flutter:       "prevId": "RrLwZa",
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     }
flutter:   },
flutter:   "childrenMap": {
flutter:     "BZ7CfX": [
flutter:       "RrLwZa",
flutter:       "KojGQk"
flutter:     ],
flutter:     "au9YTd": [],
flutter:     "KojGQk": [
flutter:       "mzJEMA"
flutter:     ],
flutter:     "mzJEMA": [
flutter:       "au9YTd"
flutter:     ],
flutter:     "RrLwZa": []
flutter:   },
flutter:   "rootId": "BZ7CfX"
flutter: }
flutter: Transaction done
apply_action: Starting with 1 actions for doc_id: xxxx
update_node: Updating block_id: au9YTd
deltas_to_json: Converting 0 deltas
apply_delta_to_text: Computing delta diff
apply_delta_to_text: Parsing delta diff from JSON
apply_delta_diff_to_text: Starting with 1 operations
update_node: Updated block_id: au9YTd
apply_action: Encoding state for doc_id: xxxx
apply_updates: Starting with 17 updates for doc_id: xxxx
apply_updates: Starting with 17 updates for doc_id: xxxx
apply_updates: Applying update for doc_id: xxxx
apply_updates: Finished for doc_id: xxxx
apply_updates: Successfully applied updates for doc_id: xxxx
get_document_state: Starting for doc_id: xxxx
extract_document_state: Starting for doc_id: xxxx
extract_document_state: Processing 5 blocks
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
====== STARTING BLOCK SORTING ======
Input children_map has 5 parent nodes

----- Sorting children of parent: BZ7CfX -----
Parent has 2 children to sort
Mapped 2 valid blocks by ID
Block RrLwZa assigned to device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
Block KojGQk assigned to device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
Grouped blocks into 1 devices
  - Device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0 has 2 blocks
Block RrLwZa has no prev_id
Block KojGQk has prev_id RrLwZa
Built prev->next map with 1 entries
  - RrLwZa has 1 next blocks: ["KojGQk"]
Device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0 has 1 root blocks: ["RrLwZa"]
Processing devices in order: ["6224c675-6598-4bc4-a7d1-e72a22b4b9b0"]

Processing device: 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
Sorted roots for device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0: ["RrLwZa"]
Starting chain from root: RrLwZa
  Adding block RrLwZa to sorted list
    Pushing KojGQk onto stack
  Adding block KojGQk to sorted list
  No next blocks for KojGQk
No remaining blocks for device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
No globally remaining blocks
Final sorted order for parent BZ7CfX: ["RrLwZa", "KojGQk"]

----- Sorting children of parent: KojGQk -----
Parent has 1 children to sort
Mapped 1 valid blocks by ID
Block mzJEMA assigned to device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
Grouped blocks into 1 devices
  - Device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0 has 1 blocks
Block mzJEMA has no prev_id
Built prev->next map with 0 entries
Device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0 has 1 root blocks: ["mzJEMA"]
Processing devices in order: ["6224c675-6598-4bc4-a7d1-e72a22b4b9b0"]

Processing device: 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
Sorted roots for device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0: ["mzJEMA"]
Starting chain from root: mzJEMA
  Adding block mzJEMA to sorted list
  No next blocks for mzJEMA
No remaining blocks for device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
No globally remaining blocks
Final sorted order for parent KojGQk: ["mzJEMA"]

----- Sorting children of parent: RrLwZa -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent RrLwZa: []

----- Sorting children of parent: mzJEMA -----
Parent has 1 children to sort
Mapped 1 valid blocks by ID
Block au9YTd assigned to device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
Grouped blocks into 1 devices
  - Device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0 has 1 blocks
Block au9YTd has no prev_id
Built prev->next map with 0 entries
Device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0 has 1 root blocks: ["au9YTd"]
Processing devices in order: ["6224c675-6598-4bc4-a7d1-e72a22b4b9b0"]

Processing device: 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
Sorted roots for device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0: ["au9YTd"]
Starting chain from root: au9YTd
  Adding block au9YTd to sorted list
  No next blocks for au9YTd
No remaining blocks for device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
No globally remaining blocks
Final sorted order for parent mzJEMA: ["au9YTd"]

----- Sorting children of parent: au9YTd -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent au9YTd: []
====== COMPLETED BLOCK SORTING ======
Final sorted children map has 5 parents
extract_document_state: Extracted 5 blocks and 5 parent-child relationships
get_document_state: Finished for doc_id: xxxx
flutter: {
flutter:   "docId": "xxxx",
flutter:   "blocks": {
flutter:     "KojGQk": {
flutter:       "id": "KojGQk",
flutter:       "ty": "paragraph",
flutter:       "attributes": {
flutter:         "timestamp": "2025-04-24T19:08:40.012573",
flutter:         "device": "6224c675-6598-4bc4-a7d1-e72a22b4b9b0",
flutter:         "delta": "[]"
flutter:       },
flutter:       "delta": "[{\"insert\":\"bbb\"}]",
flutter:       "parentId": "BZ7CfX",
flutter:       "prevId": "RrLwZa",
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "RrLwZa": {
flutter:       "id": "RrLwZa",
flutter:       "ty": "paragraph",
flutter:       "attributes": {
flutter:         "device": "6224c675-6598-4bc4-a7d1-e72a22b4b9b0",
flutter:         "delta": "[]",
flutter:         "timestamp": "2025-04-24T19:05:18.074153"
flutter:       },
flutter:       "delta": "[{\"insert\":\"aaa\"}]",
flutter:       "parentId": "BZ7CfX",
flutter:       "prevId": null,
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "mzJEMA": {
flutter:       "id": "mzJEMA",
flutter:       "ty": "paragraph",
flutter:       "attributes": {
flutter:         "timestamp": "2025-04-24T19:08:41.328847",
flutter:         "delta": "[]",
flutter:         "device": "6224c675-6598-4bc4-a7d1-e72a22b4b9b0"
flutter:       },
flutter:       "delta": "[{\"insert\":\"111\"}]",
flutter:       "parentId": "KojGQk",
flutter:       "prevId": null,
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "BZ7CfX": {
flutter:       "id": "BZ7CfX",
flutter:       "ty": "page",
flutter:       "attributes": {
flutter:         "device": "6224c675-6598-4bc4-a7d1-e72a22b4b9b0",
flutter:         "timestamp": "2025-04-24T19:05:18.070279"
flutter:       },
flutter:       "delta": null,
flutter:       "parentId": null,
flutter:       "prevId": null,
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "au9YTd": {
flutter:       "id": "au9YTd",
flutter:       "ty": "paragraph",
flutter:       "attributes": {
flutter:         "timestamp": "2025-04-24T19:08:42.723015",
flutter:         "delta": "[]",
flutter:         "device": "6224c675-6598-4bc4-a7d1-e72a22b4b9b0"
flutter:       },
flutter:       "delta": "[{\"insert\":\"2\"}]",
flutter:       "parentId": "mzJEMA",
flutter:       "prevId": null,
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     }
flutter:   },
flutter:   "childrenMap": {
flutter:     "mzJEMA": [
flutter:       "au9YTd"
flutter:     ],
flutter:     "au9YTd": [],
flutter:     "KojGQk": [
flutter:       "mzJEMA"
flutter:     ],
flutter:     "RrLwZa": [],
flutter:     "BZ7CfX": [
flutter:       "RrLwZa",
flutter:       "KojGQk"
flutter:     ]
flutter:   },
flutter:   "rootId": "BZ7CfX"
flutter: }
flutter: Transaction done
apply_action: Starting with 1 actions for doc_id: xxxx
update_node: Updating block_id: au9YTd
deltas_to_json: Converting 1 deltas
apply_delta_to_text: Computing delta diff
apply_delta_to_text: Parsing delta diff from JSON
apply_delta_diff_to_text: Starting with 2 operations
update_node: Updated block_id: au9YTd
apply_action: Encoding state for doc_id: xxxx
apply_updates: Starting with 18 updates for doc_id: xxxx
apply_updates: Starting with 18 updates for doc_id: xxxx
apply_updates: Applying update for doc_id: xxxx
apply_updates: Finished for doc_id: xxxx
apply_updates: Successfully applied updates for doc_id: xxxx
get_document_state: Starting for doc_id: xxxx
extract_document_state: Starting for doc_id: xxxx
extract_document_state: Processing 5 blocks
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
====== STARTING BLOCK SORTING ======
Input children_map has 5 parent nodes

----- Sorting children of parent: KojGQk -----
Parent has 1 children to sort
Mapped 1 valid blocks by ID
Block mzJEMA assigned to device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
Grouped blocks into 1 devices
  - Device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0 has 1 blocks
Block mzJEMA has no prev_id
Built prev->next map with 0 entries
Device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0 has 1 root blocks: ["mzJEMA"]
Processing devices in order: ["6224c675-6598-4bc4-a7d1-e72a22b4b9b0"]

Processing device: 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
Sorted roots for device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0: ["mzJEMA"]
Starting chain from root: mzJEMA
  Adding block mzJEMA to sorted list
  No next blocks for mzJEMA
No remaining blocks for device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
No globally remaining blocks
Final sorted order for parent KojGQk: ["mzJEMA"]

----- Sorting children of parent: BZ7CfX -----
Parent has 2 children to sort
Mapped 2 valid blocks by ID
Block RrLwZa assigned to device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
Block KojGQk assigned to device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
Grouped blocks into 1 devices
  - Device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0 has 2 blocks
Block RrLwZa has no prev_id
Block KojGQk has prev_id RrLwZa
Built prev->next map with 1 entries
  - RrLwZa has 1 next blocks: ["KojGQk"]
Device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0 has 1 root blocks: ["RrLwZa"]
Processing devices in order: ["6224c675-6598-4bc4-a7d1-e72a22b4b9b0"]

Processing device: 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
Sorted roots for device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0: ["RrLwZa"]
Starting chain from root: RrLwZa
  Adding block RrLwZa to sorted list
    Pushing KojGQk onto stack
  Adding block KojGQk to sorted list
  No next blocks for KojGQk
No remaining blocks for device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
No globally remaining blocks
Final sorted order for parent BZ7CfX: ["RrLwZa", "KojGQk"]

----- Sorting children of parent: au9YTd -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent au9YTd: []

----- Sorting children of parent: mzJEMA -----
Parent has 1 children to sort
Mapped 1 valid blocks by ID
Block au9YTd assigned to device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
Grouped blocks into 1 devices
  - Device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0 has 1 blocks
Block au9YTd has no prev_id
Built prev->next map with 0 entries
Device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0 has 1 root blocks: ["au9YTd"]
Processing devices in order: ["6224c675-6598-4bc4-a7d1-e72a22b4b9b0"]

Processing device: 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
Sorted roots for device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0: ["au9YTd"]
Starting chain from root: au9YTd
  Adding block au9YTd to sorted list
  No next blocks for au9YTd
No remaining blocks for device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
No globally remaining blocks
Final sorted order for parent mzJEMA: ["au9YTd"]

----- Sorting children of parent: RrLwZa -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent RrLwZa: []
====== COMPLETED BLOCK SORTING ======
Final sorted children map has 5 parents
extract_document_state: Extracted 5 blocks and 5 parent-child relationships
get_document_state: Finished for doc_id: xxxx
flutter: {
flutter:   "docId": "xxxx",
flutter:   "blocks": {
flutter:     "BZ7CfX": {
flutter:       "id": "BZ7CfX",
flutter:       "ty": "page",
flutter:       "attributes": {
flutter:         "device": "6224c675-6598-4bc4-a7d1-e72a22b4b9b0",
flutter:         "timestamp": "2025-04-24T19:05:18.070279"
flutter:       },
flutter:       "delta": null,
flutter:       "parentId": null,
flutter:       "prevId": null,
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "mzJEMA": {
flutter:       "id": "mzJEMA",
flutter:       "ty": "paragraph",
flutter:       "attributes": {
flutter:         "timestamp": "2025-04-24T19:08:41.328847",
flutter:         "device": "6224c675-6598-4bc4-a7d1-e72a22b4b9b0",
flutter:         "delta": "[]"
flutter:       },
flutter:       "delta": "[{\"insert\":\"111\"}]",
flutter:       "parentId": "KojGQk",
flutter:       "prevId": null,
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "KojGQk": {
flutter:       "id": "KojGQk",
flutter:       "ty": "paragraph",
flutter:       "attributes": {
flutter:         "device": "6224c675-6598-4bc4-a7d1-e72a22b4b9b0",
flutter:         "timestamp": "2025-04-24T19:08:40.012573",
flutter:         "delta": "[]"
flutter:       },
flutter:       "delta": "[{\"insert\":\"bbb\"}]",
flutter:       "parentId": "BZ7CfX",
flutter:       "prevId": "RrLwZa",
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "RrLwZa": {
flutter:       "id": "RrLwZa",
flutter:       "ty": "paragraph",
flutter:       "attributes": {
flutter:         "timestamp": "2025-04-24T19:05:18.074153",
flutter:         "delta": "[]",
flutter:         "device": "6224c675-6598-4bc4-a7d1-e72a22b4b9b0"
flutter:       },
flutter:       "delta": "[{\"insert\":\"aaa\"}]",
flutter:       "parentId": "BZ7CfX",
flutter:       "prevId": null,
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "au9YTd": {
flutter:       "id": "au9YTd",
flutter:       "ty": "paragraph",
flutter:       "attributes": {
flutter:         "delta": "[]",
flutter:         "timestamp": "2025-04-24T19:08:42.723015",
flutter:         "device": "6224c675-6598-4bc4-a7d1-e72a22b4b9b0"
flutter:       },
flutter:       "delta": "[{\"insert\":\"22\"}]",
flutter:       "parentId": "mzJEMA",
flutter:       "prevId": null,
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     }
flutter:   },
flutter:   "childrenMap": {
flutter:     "BZ7CfX": [
flutter:       "RrLwZa",
flutter:       "KojGQk"
flutter:     ],
flutter:     "KojGQk": [
flutter:       "mzJEMA"
flutter:     ],
flutter:     "mzJEMA": [
flutter:       "au9YTd"
flutter:     ],
flutter:     "RrLwZa": [],
flutter:     "au9YTd": []
flutter:   },
flutter:   "rootId": "BZ7CfX"
flutter: }
flutter: Transaction done
apply_action: Starting with 1 actions for doc_id: xxxx
update_node: Updating block_id: au9YTd
deltas_to_json: Converting 1 deltas
apply_delta_to_text: Computing delta diff
apply_delta_to_text: Parsing delta diff from JSON
apply_delta_diff_to_text: Starting with 2 operations
update_node: Updated block_id: au9YTd
apply_action: Encoding state for doc_id: xxxx
apply_updates: Starting with 19 updates for doc_id: xxxx
apply_updates: Starting with 19 updates for doc_id: xxxx
apply_updates: Applying update for doc_id: xxxx
apply_updates: Finished for doc_id: xxxx
apply_updates: Successfully applied updates for doc_id: xxxx
get_document_state: Starting for doc_id: xxxx
extract_document_state: Starting for doc_id: xxxx
extract_document_state: Processing 5 blocks
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
====== STARTING BLOCK SORTING ======
Input children_map has 5 parent nodes

----- Sorting children of parent: KojGQk -----
Parent has 1 children to sort
Mapped 1 valid blocks by ID
Block mzJEMA assigned to device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
Grouped blocks into 1 devices
  - Device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0 has 1 blocks
Block mzJEMA has no prev_id
Built prev->next map with 0 entries
Device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0 has 1 root blocks: ["mzJEMA"]
Processing devices in order: ["6224c675-6598-4bc4-a7d1-e72a22b4b9b0"]

Processing device: 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
Sorted roots for device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0: ["mzJEMA"]
Starting chain from root: mzJEMA
  Adding block mzJEMA to sorted list
  No next blocks for mzJEMA
No remaining blocks for device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
No globally remaining blocks
Final sorted order for parent KojGQk: ["mzJEMA"]

----- Sorting children of parent: RrLwZa -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent RrLwZa: []

----- Sorting children of parent: mzJEMA -----
Parent has 1 children to sort
Mapped 1 valid blocks by ID
Block au9YTd assigned to device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
Grouped blocks into 1 devices
  - Device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0 has 1 blocks
Block au9YTd has no prev_id
Built prev->next map with 0 entries
Device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0 has 1 root blocks: ["au9YTd"]
Processing devices in order: ["6224c675-6598-4bc4-a7d1-e72a22b4b9b0"]

Processing device: 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
Sorted roots for device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0: ["au9YTd"]
Starting chain from root: au9YTd
  Adding block au9YTd to sorted list
  No next blocks for au9YTd
No remaining blocks for device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
No globally remaining blocks
Final sorted order for parent mzJEMA: ["au9YTd"]

----- Sorting children of parent: BZ7CfX -----
Parent has 2 children to sort
Mapped 2 valid blocks by ID
Block KojGQk assigned to device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
Block RrLwZa assigned to device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
Grouped blocks into 1 devices
  - Device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0 has 2 blocks
Block KojGQk has prev_id RrLwZa
Block RrLwZa has no prev_id
Built prev->next map with 1 entries
  - RrLwZa has 1 next blocks: ["KojGQk"]
Device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0 has 1 root blocks: ["RrLwZa"]
Processing devices in order: ["6224c675-6598-4bc4-a7d1-e72a22b4b9b0"]

Processing device: 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
Sorted roots for device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0: ["RrLwZa"]
Starting chain from root: RrLwZa
  Adding block RrLwZa to sorted list
    Pushing KojGQk onto stack
  Adding block KojGQk to sorted list
  No next blocks for KojGQk
No remaining blocks for device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
No globally remaining blocks
Final sorted order for parent BZ7CfX: ["RrLwZa", "KojGQk"]

----- Sorting children of parent: au9YTd -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent au9YTd: []
====== COMPLETED BLOCK SORTING ======
Final sorted children map has 5 parents
extract_document_state: Extracted 5 blocks and 5 parent-child relationships
get_document_state: Finished for doc_id: xxxx
flutter: {
flutter:   "docId": "xxxx",
flutter:   "blocks": {
flutter:     "BZ7CfX": {
flutter:       "id": "BZ7CfX",
flutter:       "ty": "page",
flutter:       "attributes": {
flutter:         "device": "6224c675-6598-4bc4-a7d1-e72a22b4b9b0",
flutter:         "timestamp": "2025-04-24T19:05:18.070279"
flutter:       },
flutter:       "delta": null,
flutter:       "parentId": null,
flutter:       "prevId": null,
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "RrLwZa": {
flutter:       "id": "RrLwZa",
flutter:       "ty": "paragraph",
flutter:       "attributes": {
flutter:         "delta": "[]",
flutter:         "device": "6224c675-6598-4bc4-a7d1-e72a22b4b9b0",
flutter:         "timestamp": "2025-04-24T19:05:18.074153"
flutter:       },
flutter:       "delta": "[{\"insert\":\"aaa\"}]",
flutter:       "parentId": "BZ7CfX",
flutter:       "prevId": null,
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "mzJEMA": {
flutter:       "id": "mzJEMA",
flutter:       "ty": "paragraph",
flutter:       "attributes": {
flutter:         "delta": "[]",
flutter:         "timestamp": "2025-04-24T19:08:41.328847",
flutter:         "device": "6224c675-6598-4bc4-a7d1-e72a22b4b9b0"
flutter:       },
flutter:       "delta": "[{\"insert\":\"111\"}]",
flutter:       "parentId": "KojGQk",
flutter:       "prevId": null,
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "au9YTd": {
flutter:       "id": "au9YTd",
flutter:       "ty": "paragraph",
flutter:       "attributes": {
flutter:         "delta": "[]",
flutter:         "timestamp": "2025-04-24T19:08:42.723015",
flutter:         "device": "6224c675-6598-4bc4-a7d1-e72a22b4b9b0"
flutter:       },
flutter:       "delta": "[{\"insert\":\"222\"}]",
flutter:       "parentId": "mzJEMA",
flutter:       "prevId": null,
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "KojGQk": {
flutter:       "id": "KojGQk",
flutter:       "ty": "paragraph",
flutter:       "attributes": {
flutter:         "device": "6224c675-6598-4bc4-a7d1-e72a22b4b9b0",
flutter:         "timestamp": "2025-04-24T19:08:40.012573",
flutter:         "delta": "[]"
flutter:       },
flutter:       "delta": "[{\"insert\":\"bbb\"}]",
flutter:       "parentId": "BZ7CfX",
flutter:       "prevId": "RrLwZa",
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     }
flutter:   },
flutter:   "childrenMap": {
flutter:     "BZ7CfX": [
flutter:       "RrLwZa",
flutter:       "KojGQk"
flutter:     ],
flutter:     "au9YTd": [],
flutter:     "mzJEMA": [
flutter:       "au9YTd"
flutter:     ],
flutter:     "RrLwZa": [],
flutter:     "KojGQk": [
flutter:       "mzJEMA"
flutter:     ]
flutter:   },
flutter:   "rootId": "BZ7CfX"
flutter: }
flutter: Transaction done
apply_action: Starting with 2 actions for doc_id: xxxx
insert_node: Starting for block_id: GC322A
deltas_to_json: Converting 0 deltas
apply_delta_to_text: Computing delta diff
apply_delta_to_text: Parsing delta diff from JSON
apply_delta_to_text: No changes to apply
handle_prev_id_chain: block_id=GC322A, prev_id=Some("au9YTd")
  Finding blocks that reference prev_id: au9YTd
find_block_referencing_prev_id: Searching for blocks with prev_id = au9YTd
  Found 6 total blocks to check
  Checking block: RrLwZa
    Block does not have prev_id
  Checking block: mzJEMA
    Block does not have prev_id
  Checking block: au9YTd
    Block does not have prev_id
  Checking block: GC322A
    Block does not have prev_id
  Checking block: BZ7CfX
    Block does not have prev_id
  Checking block: KojGQk
    Block has prev_id: RrLwZa, matches target: false
find_block_referencing_prev_id: Found 0 blocks with prev_id = au9YTd: []
  Found 0 blocks with prev_id au9YTd: []
handle_prev_id_chain: Completed
handle_following_connection: block_id=GC322A, next_id=None, prev_id=Some("au9YTd")
  Using prev_id strategy (prev_id=au9YTd)
find_block_referencing_prev_id: Searching for blocks with prev_id = au9YTd
  Found 6 total blocks to check
  Checking block: RrLwZa
    Block does not have prev_id
  Checking block: mzJEMA
    Block does not have prev_id
  Checking block: au9YTd
    Block does not have prev_id
  Checking block: GC322A
    Block does not have prev_id
  Checking block: BZ7CfX
    Block does not have prev_id
  Checking block: KojGQk
    Block has prev_id: RrLwZa, matches target: false
find_block_referencing_prev_id: Found 0 blocks with prev_id = au9YTd: []
  Found 0 nodes that reference prev_id au9YTd: []
  Finished prev_id strategy
  Setting prev_id of block GC322A to au9YTd
insert_node: Finished for block_id: GC322A
update_node: Updating block_id: au9YTd
deltas_to_json: Converting 1 deltas
apply_delta_to_text: Computing delta diff
apply_delta_to_text: Parsing delta diff from JSON
apply_delta_to_text: No changes to apply
update_node: Updated block_id: au9YTd
apply_action: Encoding state for doc_id: xxxx
apply_updates: Starting with 20 updates for doc_id: xxxx
apply_updates: Starting with 20 updates for doc_id: xxxx
apply_updates: Applying update for doc_id: xxxx
apply_updates: Finished for doc_id: xxxx
apply_updates: Successfully applied updates for doc_id: xxxx
get_document_state: Starting for doc_id: xxxx
extract_document_state: Starting for doc_id: xxxx
extract_document_state: Processing 6 blocks
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 0 deltas
deltas_to_json: Converting 1 deltas
====== STARTING BLOCK SORTING ======
Input children_map has 6 parent nodes

----- Sorting children of parent: KojGQk -----
Parent has 1 children to sort
Mapped 1 valid blocks by ID
Block mzJEMA assigned to device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
Grouped blocks into 1 devices
  - Device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0 has 1 blocks
Block mzJEMA has no prev_id
Built prev->next map with 0 entries
Device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0 has 1 root blocks: ["mzJEMA"]
Processing devices in order: ["6224c675-6598-4bc4-a7d1-e72a22b4b9b0"]

Processing device: 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
Sorted roots for device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0: ["mzJEMA"]
Starting chain from root: mzJEMA
  Adding block mzJEMA to sorted list
  No next blocks for mzJEMA
No remaining blocks for device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
No globally remaining blocks
Final sorted order for parent KojGQk: ["mzJEMA"]

----- Sorting children of parent: BZ7CfX -----
Parent has 2 children to sort
Mapped 2 valid blocks by ID
Block KojGQk assigned to device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
Block RrLwZa assigned to device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
Grouped blocks into 1 devices
  - Device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0 has 2 blocks
Block KojGQk has prev_id RrLwZa
Block RrLwZa has no prev_id
Built prev->next map with 1 entries
  - RrLwZa has 1 next blocks: ["KojGQk"]
Device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0 has 1 root blocks: ["RrLwZa"]
Processing devices in order: ["6224c675-6598-4bc4-a7d1-e72a22b4b9b0"]

Processing device: 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
Sorted roots for device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0: ["RrLwZa"]
Starting chain from root: RrLwZa
  Adding block RrLwZa to sorted list
    Pushing KojGQk onto stack
  Adding block KojGQk to sorted list
  No next blocks for KojGQk
No remaining blocks for device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
No globally remaining blocks
Final sorted order for parent BZ7CfX: ["RrLwZa", "KojGQk"]

----- Sorting children of parent: au9YTd -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent au9YTd: []

----- Sorting children of parent: mzJEMA -----
Parent has 2 children to sort
Mapped 2 valid blocks by ID
Block au9YTd assigned to device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
Block GC322A assigned to device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
Grouped blocks into 1 devices
  - Device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0 has 2 blocks
Block au9YTd has no prev_id
Block GC322A has prev_id au9YTd
Built prev->next map with 1 entries
  - au9YTd has 1 next blocks: ["GC322A"]
Device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0 has 1 root blocks: ["au9YTd"]
Processing devices in order: ["6224c675-6598-4bc4-a7d1-e72a22b4b9b0"]

Processing device: 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
Sorted roots for device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0: ["au9YTd"]
Starting chain from root: au9YTd
  Adding block au9YTd to sorted list
    Pushing GC322A onto stack
  Adding block GC322A to sorted list
  No next blocks for GC322A
No remaining blocks for device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
No globally remaining blocks
Final sorted order for parent mzJEMA: ["au9YTd", "GC322A"]

----- Sorting children of parent: GC322A -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent GC322A: []

----- Sorting children of parent: RrLwZa -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent RrLwZa: []
====== COMPLETED BLOCK SORTING ======
Final sorted children map has 6 parents
extract_document_state: Extracted 6 blocks and 6 parent-child relationships
get_document_state: Finished for doc_id: xxxx
flutter: {
flutter:   "docId": "xxxx",
flutter:   "blocks": {
flutter:     "GC322A": {
flutter:       "id": "GC322A",
flutter:       "ty": "paragraph",
flutter:       "attributes": {
flutter:         "delta": "[]",
flutter:         "timestamp": "2025-04-24T19:08:44.033080",
flutter:         "device": "6224c675-6598-4bc4-a7d1-e72a22b4b9b0"
flutter:       },
flutter:       "delta": "[]",
flutter:       "parentId": "mzJEMA",
flutter:       "prevId": "au9YTd",
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "au9YTd": {
flutter:       "id": "au9YTd",
flutter:       "ty": "paragraph",
flutter:       "attributes": {
flutter:         "delta": "[]",
flutter:         "timestamp": "2025-04-24T19:08:42.723015",
flutter:         "device": "6224c675-6598-4bc4-a7d1-e72a22b4b9b0"
flutter:       },
flutter:       "delta": "[{\"insert\":\"222\"}]",
flutter:       "parentId": "mzJEMA",
flutter:       "prevId": null,
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "BZ7CfX": {
flutter:       "id": "BZ7CfX",
flutter:       "ty": "page",
flutter:       "attributes": {
flutter:         "timestamp": "2025-04-24T19:05:18.070279",
flutter:         "device": "6224c675-6598-4bc4-a7d1-e72a22b4b9b0"
flutter:       },
flutter:       "delta": null,
flutter:       "parentId": null,
flutter:       "prevId": null,
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "KojGQk": {
flutter:       "id": "KojGQk",
flutter:       "ty": "paragraph",
flutter:       "attributes": {
flutter:         "timestamp": "2025-04-24T19:08:40.012573",
flutter:         "device": "6224c675-6598-4bc4-a7d1-e72a22b4b9b0",
flutter:         "delta": "[]"
flutter:       },
flutter:       "delta": "[{\"insert\":\"bbb\"}]",
flutter:       "parentId": "BZ7CfX",
flutter:       "prevId": "RrLwZa",
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "mzJEMA": {
flutter:       "id": "mzJEMA",
flutter:       "ty": "paragraph",
flutter:       "attributes": {
flutter:         "device": "6224c675-6598-4bc4-a7d1-e72a22b4b9b0",
flutter:         "timestamp": "2025-04-24T19:08:41.328847",
flutter:         "delta": "[]"
flutter:       },
flutter:       "delta": "[{\"insert\":\"111\"}]",
flutter:       "parentId": "KojGQk",
flutter:       "prevId": null,
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "RrLwZa": {
flutter:       "id": "RrLwZa",
flutter:       "ty": "paragraph",
flutter:       "attributes": {
flutter:         "device": "6224c675-6598-4bc4-a7d1-e72a22b4b9b0",
flutter:         "timestamp": "2025-04-24T19:05:18.074153",
flutter:         "delta": "[]"
flutter:       },
flutter:       "delta": "[{\"insert\":\"aaa\"}]",
flutter:       "parentId": "BZ7CfX",
flutter:       "prevId": null,
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     }
flutter:   },
flutter:   "childrenMap": {
flutter:     "BZ7CfX": [
flutter:       "RrLwZa",
flutter:       "KojGQk"
flutter:     ],
flutter:     "mzJEMA": [
flutter:       "au9YTd",
flutter:       "GC322A"
flutter:     ],
flutter:     "KojGQk": [
flutter:       "mzJEMA"
flutter:     ],
flutter:     "RrLwZa": [],
flutter:     "au9YTd": [],
flutter:     "GC322A": []
flutter:   },
flutter:   "rootId": "BZ7CfX"
flutter: }
flutter: Applied 1 operations to the editor state
merge_updates: Merging 4 updates
merge_updates: Successfully merged updates
apply_updates: Starting with 21 updates for doc_id: xxxx
apply_updates: Starting with 21 updates for doc_id: xxxx
apply_updates: Applying update for doc_id: xxxx
apply_updates: Finished for doc_id: xxxx
apply_updates: Successfully applied updates for doc_id: xxxx
get_document_state: Starting for doc_id: xxxx
extract_document_state: Starting for doc_id: xxxx
extract_document_state: Processing 6 blocks
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 0 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
====== STARTING BLOCK SORTING ======
Input children_map has 6 parent nodes

----- Sorting children of parent: mzJEMA -----
Parent has 2 children to sort
Mapped 2 valid blocks by ID
Block au9YTd assigned to device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
Block GC322A assigned to device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
Grouped blocks into 1 devices
  - Device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0 has 2 blocks
Block au9YTd has no prev_id
Block GC322A has prev_id au9YTd
Built prev->next map with 1 entries
  - au9YTd has 1 next blocks: ["GC322A"]
Device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0 has 1 root blocks: ["au9YTd"]
Processing devices in order: ["6224c675-6598-4bc4-a7d1-e72a22b4b9b0"]

Processing device: 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
Sorted roots for device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0: ["au9YTd"]
Starting chain from root: au9YTd
  Adding block au9YTd to sorted list
    Pushing GC322A onto stack
  Adding block GC322A to sorted list
  No next blocks for GC322A
No remaining blocks for device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
No globally remaining blocks
Final sorted order for parent mzJEMA: ["au9YTd", "GC322A"]

----- Sorting children of parent: RrLwZa -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent RrLwZa: []

----- Sorting children of parent: BZ7CfX -----
Parent has 2 children to sort
Mapped 2 valid blocks by ID
Block RrLwZa assigned to device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
Block KojGQk assigned to device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
Grouped blocks into 1 devices
  - Device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0 has 2 blocks
Block RrLwZa has no prev_id
Block KojGQk has prev_id RrLwZa
Built prev->next map with 1 entries
  - RrLwZa has 1 next blocks: ["KojGQk"]
Device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0 has 1 root blocks: ["RrLwZa"]
Processing devices in order: ["6224c675-6598-4bc4-a7d1-e72a22b4b9b0"]

Processing device: 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
Sorted roots for device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0: ["RrLwZa"]
Starting chain from root: RrLwZa
  Adding block RrLwZa to sorted list
    Pushing KojGQk onto stack
  Adding block KojGQk to sorted list
  No next blocks for KojGQk
No remaining blocks for device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
No globally remaining blocks
Final sorted order for parent BZ7CfX: ["RrLwZa", "KojGQk"]

----- Sorting children of parent: KojGQk -----
Parent has 1 children to sort
Mapped 1 valid blocks by ID
Block mzJEMA assigned to device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
Grouped blocks into 1 devices
  - Device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0 has 1 blocks
Block mzJEMA has no prev_id
Built prev->next map with 0 entries
Device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0 has 1 root blocks: ["mzJEMA"]
Processing devices in order: ["6224c675-6598-4bc4-a7d1-e72a22b4b9b0"]

Processing device: 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
Sorted roots for device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0: ["mzJEMA"]
Starting chain from root: mzJEMA
  Adding block mzJEMA to sorted list
  No next blocks for mzJEMA
No remaining blocks for device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
No globally remaining blocks
Final sorted order for parent KojGQk: ["mzJEMA"]

----- Sorting children of parent: GC322A -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent GC322A: []

----- Sorting children of parent: au9YTd -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent au9YTd: []
====== COMPLETED BLOCK SORTING ======
Final sorted children map has 6 parents
extract_document_state: Extracted 6 blocks and 6 parent-child relationships
get_document_state: Finished for doc_id: xxxx
flutter: {
flutter:   "docId": "xxxx",
flutter:   "blocks": {
flutter:     "RrLwZa": {
flutter:       "id": "RrLwZa",
flutter:       "ty": "paragraph",
flutter:       "attributes": {
flutter:         "timestamp": "2025-04-24T19:05:18.074153",
flutter:         "delta": "[]",
flutter:         "device": "6224c675-6598-4bc4-a7d1-e72a22b4b9b0"
flutter:       },
flutter:       "delta": "[{\"insert\":\"aaa\"}]",
flutter:       "parentId": "BZ7CfX",
flutter:       "prevId": null,
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "BZ7CfX": {
flutter:       "id": "BZ7CfX",
flutter:       "ty": "page",
flutter:       "attributes": {
flutter:         "timestamp": "2025-04-24T19:05:18.070279",
flutter:         "device": "6224c675-6598-4bc4-a7d1-e72a22b4b9b0"
flutter:       },
flutter:       "delta": null,
flutter:       "parentId": null,
flutter:       "prevId": null,
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "KojGQk": {
flutter:       "id": "KojGQk",
flutter:       "ty": "paragraph",
flutter:       "attributes": {
flutter:         "delta": "[]",
flutter:         "device": "6224c675-6598-4bc4-a7d1-e72a22b4b9b0",
flutter:         "timestamp": "2025-04-24T19:08:40.012573"
flutter:       },
flutter:       "delta": "[{\"insert\":\"bbb\"}]",
flutter:       "parentId": "BZ7CfX",
flutter:       "prevId": "RrLwZa",
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "GC322A": {
flutter:       "id": "GC322A",
flutter:       "ty": "paragraph",
flutter:       "attributes": {
flutter:         "timestamp": "2025-04-24T19:08:44.033080",
flutter:         "device": "6224c675-6598-4bc4-a7d1-e72a22b4b9b0",
flutter:         "delta": "[]"
flutter:       },
flutter:       "delta": "[]",
flutter:       "parentId": "mzJEMA",
flutter:       "prevId": "au9YTd",
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "au9YTd": {
flutter:       "id": "au9YTd",
flutter:       "ty": "paragraph",
flutter:       "attributes": {
flutter:         "delta": "[]",
flutter:         "timestamp": "2025-04-24T19:08:42.723015",
flutter:         "device": "6224c675-6598-4bc4-a7d1-e72a22b4b9b0"
flutter:       },
flutter:       "delta": "[{\"insert\":\"222\"}]",
flutter:       "parentId": "mzJEMA",
flutter:       "prevId": null,
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "mzJEMA": {
flutter:       "id": "mzJEMA",
flutter:       "ty": "paragraph",
flutter:       "attributes": {
flutter:         "device": "6224c675-6598-4bc4-a7d1-e72a22b4b9b0",
flutter:         "timestamp": "2025-04-24T19:08:41.328847",
flutter:         "delta": "[]"
flutter:       },
flutter:       "delta": "[{\"insert\":\"111\"}]",
flutter:       "parentId": "KojGQk",
flutter:       "prevId": null,
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     }
flutter:   },
flutter:   "childrenMap": {
flutter:     "KojGQk": [
flutter:       "mzJEMA"
flutter:     ],
flutter:     "GC322A": [],
flutter:     "au9YTd": [],
flutter:     "mzJEMA": [
flutter:       "au9YTd",
flutter:       "GC322A"
flutter:     ],
flutter:     "RrLwZa": [],
flutter:     "BZ7CfX": [
flutter:       "RrLwZa",
flutter:       "KojGQk"
flutter:     ]
flutter:   },
flutter:   "rootId": "BZ7CfX"
flutter: }
flutter: Transaction done
apply_action: Starting with 2 actions for doc_id: xxxx
delete_node: Starting for block_id: GC322A
remove_block_from_prev_id_chain: Removing block GC322A from chain
  Block GC322A has prev_id: au9YTd
  Finding blocks that reference GC322A as their prev_id
find_block_referencing_prev_id: Searching for blocks with prev_id = GC322A
  Found 6 total blocks to check
  Checking block: KojGQk
    Block has prev_id: RrLwZa, matches target: false
  Checking block: GC322A
    Block has prev_id: au9YTd, matches target: false
  Checking block: au9YTd
    Block does not have prev_id
  Checking block: BZ7CfX
    Block does not have prev_id
  Checking block: mzJEMA
    Block does not have prev_id
  Checking block: RrLwZa
    Block does not have prev_id
find_block_referencing_prev_id: Found 0 blocks with prev_id = GC322A: []
  Found 0 next blocks: []
remove_block_from_prev_id_chain: Completed
delete_node: Successfully deleted block_id: GC322A
insert_node: Starting for block_id: 0TVoto
deltas_to_json: Converting 0 deltas
apply_delta_to_text: Computing delta diff
apply_delta_to_text: Parsing delta diff from JSON
apply_delta_to_text: No changes to apply
handle_prev_id_chain: block_id=0TVoto, prev_id=Some("mzJEMA")
  Finding blocks that reference prev_id: mzJEMA
find_block_referencing_prev_id: Searching for blocks with prev_id = mzJEMA
  Found 6 total blocks to check
  Checking block: KojGQk
    Block has prev_id: RrLwZa, matches target: false
  Checking block: 0TVoto
    Block does not have prev_id
  Checking block: au9YTd
    Block does not have prev_id
  Checking block: BZ7CfX
    Block does not have prev_id
  Checking block: mzJEMA
    Block does not have prev_id
  Checking block: RrLwZa
    Block does not have prev_id
find_block_referencing_prev_id: Found 0 blocks with prev_id = mzJEMA: []
  Found 0 blocks with prev_id mzJEMA: []
handle_prev_id_chain: Completed
handle_following_connection: block_id=0TVoto, next_id=None, prev_id=Some("mzJEMA")
  Using prev_id strategy (prev_id=mzJEMA)
find_block_referencing_prev_id: Searching for blocks with prev_id = mzJEMA
  Found 6 total blocks to check
  Checking block: KojGQk
    Block has prev_id: RrLwZa, matches target: false
  Checking block: 0TVoto
    Block does not have prev_id
  Checking block: au9YTd
    Block does not have prev_id
  Checking block: BZ7CfX
    Block does not have prev_id
  Checking block: mzJEMA
    Block does not have prev_id
  Checking block: RrLwZa
    Block does not have prev_id
find_block_referencing_prev_id: Found 0 blocks with prev_id = mzJEMA: []
  Found 0 nodes that reference prev_id mzJEMA: []
  Finished prev_id strategy
  Setting prev_id of block 0TVoto to mzJEMA
insert_node: Finished for block_id: 0TVoto
apply_action: Encoding state for doc_id: xxxx
apply_updates: Starting with 22 updates for doc_id: xxxx
apply_updates: Starting with 22 updates for doc_id: xxxx
apply_updates: Applying update for doc_id: xxxx
apply_updates: Finished for doc_id: xxxx
apply_updates: Successfully applied updates for doc_id: xxxx
get_document_state: Starting for doc_id: xxxx
extract_document_state: Starting for doc_id: xxxx
extract_document_state: Processing 6 blocks
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 0 deltas
deltas_to_json: Converting 1 deltas
====== STARTING BLOCK SORTING ======
Input children_map has 6 parent nodes

----- Sorting children of parent: RrLwZa -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent RrLwZa: []

----- Sorting children of parent: KojGQk -----
Parent has 2 children to sort
Mapped 2 valid blocks by ID
Block mzJEMA assigned to device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
Block 0TVoto assigned to device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
Grouped blocks into 1 devices
  - Device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0 has 2 blocks
Block mzJEMA has no prev_id
Block 0TVoto has prev_id mzJEMA
Built prev->next map with 1 entries
  - mzJEMA has 1 next blocks: ["0TVoto"]
Device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0 has 1 root blocks: ["mzJEMA"]
Processing devices in order: ["6224c675-6598-4bc4-a7d1-e72a22b4b9b0"]

Processing device: 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
Sorted roots for device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0: ["mzJEMA"]
Starting chain from root: mzJEMA
  Adding block mzJEMA to sorted list
    Pushing 0TVoto onto stack
  Adding block 0TVoto to sorted list
  No next blocks for 0TVoto
No remaining blocks for device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
No globally remaining blocks
Final sorted order for parent KojGQk: ["mzJEMA", "0TVoto"]

----- Sorting children of parent: BZ7CfX -----
Parent has 2 children to sort
Mapped 2 valid blocks by ID
Block KojGQk assigned to device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
Block RrLwZa assigned to device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
Grouped blocks into 1 devices
  - Device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0 has 2 blocks
Block KojGQk has prev_id RrLwZa
Block RrLwZa has no prev_id
Built prev->next map with 1 entries
  - RrLwZa has 1 next blocks: ["KojGQk"]
Device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0 has 1 root blocks: ["RrLwZa"]
Processing devices in order: ["6224c675-6598-4bc4-a7d1-e72a22b4b9b0"]

Processing device: 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
Sorted roots for device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0: ["RrLwZa"]
Starting chain from root: RrLwZa
  Adding block RrLwZa to sorted list
    Pushing KojGQk onto stack
  Adding block KojGQk to sorted list
  No next blocks for KojGQk
No remaining blocks for device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
No globally remaining blocks
Final sorted order for parent BZ7CfX: ["RrLwZa", "KojGQk"]

----- Sorting children of parent: mzJEMA -----
Parent has 1 children to sort
Mapped 1 valid blocks by ID
Block au9YTd assigned to device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
Grouped blocks into 1 devices
  - Device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0 has 1 blocks
Block au9YTd has no prev_id
Built prev->next map with 0 entries
Device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0 has 1 root blocks: ["au9YTd"]
Processing devices in order: ["6224c675-6598-4bc4-a7d1-e72a22b4b9b0"]

Processing device: 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
Sorted roots for device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0: ["au9YTd"]
Starting chain from root: au9YTd
  Adding block au9YTd to sorted list
  No next blocks for au9YTd
No remaining blocks for device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
No globally remaining blocks
Final sorted order for parent mzJEMA: ["au9YTd"]

----- Sorting children of parent: au9YTd -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent au9YTd: []

----- Sorting children of parent: 0TVoto -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent 0TVoto: []
====== COMPLETED BLOCK SORTING ======
Final sorted children map has 6 parents
extract_document_state: Extracted 6 blocks and 6 parent-child relationships
get_document_state: Finished for doc_id: xxxx
flutter: {
flutter:   "docId": "xxxx",
flutter:   "blocks": {
flutter:     "au9YTd": {
flutter:       "id": "au9YTd",
flutter:       "ty": "paragraph",
flutter:       "attributes": {
flutter:         "device": "6224c675-6598-4bc4-a7d1-e72a22b4b9b0",
flutter:         "timestamp": "2025-04-24T19:08:42.723015",
flutter:         "delta": "[]"
flutter:       },
flutter:       "delta": "[{\"insert\":\"222\"}]",
flutter:       "parentId": "mzJEMA",
flutter:       "prevId": null,
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "BZ7CfX": {
flutter:       "id": "BZ7CfX",
flutter:       "ty": "page",
flutter:       "attributes": {
flutter:         "timestamp": "2025-04-24T19:05:18.070279",
flutter:         "device": "6224c675-6598-4bc4-a7d1-e72a22b4b9b0"
flutter:       },
flutter:       "delta": null,
flutter:       "parentId": null,
flutter:       "prevId": null,
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "RrLwZa": {
flutter:       "id": "RrLwZa",
flutter:       "ty": "paragraph",
flutter:       "attributes": {
flutter:         "timestamp": "2025-04-24T19:05:18.074153",
flutter:         "device": "6224c675-6598-4bc4-a7d1-e72a22b4b9b0",
flutter:         "delta": "[]"
flutter:       },
flutter:       "delta": "[{\"insert\":\"aaa\"}]",
flutter:       "parentId": "BZ7CfX",
flutter:       "prevId": null,
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "mzJEMA": {
flutter:       "id": "mzJEMA",
flutter:       "ty": "paragraph",
flutter:       "attributes": {
flutter:         "delta": "[]",
flutter:         "timestamp": "2025-04-24T19:08:41.328847",
flutter:         "device": "6224c675-6598-4bc4-a7d1-e72a22b4b9b0"
flutter:       },
flutter:       "delta": "[{\"insert\":\"111\"}]",
flutter:       "parentId": "KojGQk",
flutter:       "prevId": null,
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "KojGQk": {
flutter:       "id": "KojGQk",
flutter:       "ty": "paragraph",
flutter:       "attributes": {
flutter:         "timestamp": "2025-04-24T19:08:40.012573",
flutter:         "device": "6224c675-6598-4bc4-a7d1-e72a22b4b9b0",
flutter:         "delta": "[]"
flutter:       },
flutter:       "delta": "[{\"insert\":\"bbb\"}]",
flutter:       "parentId": "BZ7CfX",
flutter:       "prevId": "RrLwZa",
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "0TVoto": {
flutter:       "id": "0TVoto",
flutter:       "ty": "paragraph",
flutter:       "attributes": {
flutter:         "delta": "[]",
flutter:         "timestamp": "2025-04-24T19:08:44.805532",
flutter:         "device": "6224c675-6598-4bc4-a7d1-e72a22b4b9b0"
flutter:       },
flutter:       "delta": "[]",
flutter:       "parentId": "KojGQk",
flutter:       "prevId": "mzJEMA",
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     }
flutter:   },
flutter:   "childrenMap": {
flutter:     "BZ7CfX": [
flutter:       "RrLwZa",
flutter:       "KojGQk"
flutter:     ],
flutter:     "KojGQk": [
flutter:       "mzJEMA",
flutter:       "0TVoto"
flutter:     ],
flutter:     "RrLwZa": [],
flutter:     "mzJEMA": [
flutter:       "au9YTd"
flutter:     ],
flutter:     "au9YTd": [],
flutter:     "0TVoto": []
flutter:   },
flutter:   "rootId": "BZ7CfX"
flutter: }
flutter: Applied 1 operations to the editor state
flutter: Transaction done
apply_action: Starting with 2 actions for doc_id: xxxx
delete_node: Starting for block_id: 0TVoto
remove_block_from_prev_id_chain: Removing block 0TVoto from chain
  Block 0TVoto has prev_id: mzJEMA
  Finding blocks that reference 0TVoto as their prev_id
find_block_referencing_prev_id: Searching for blocks with prev_id = 0TVoto
  Found 6 total blocks to check
  Checking block: mzJEMA
    Block does not have prev_id
  Checking block: KojGQk
    Block has prev_id: RrLwZa, matches target: false
  Checking block: RrLwZa
    Block does not have prev_id
  Checking block: BZ7CfX
    Block does not have prev_id
  Checking block: 0TVoto
    Block has prev_id: mzJEMA, matches target: false
  Checking block: au9YTd
    Block does not have prev_id
find_block_referencing_prev_id: Found 0 blocks with prev_id = 0TVoto: []
  Found 0 next blocks: []
remove_block_from_prev_id_chain: Completed
delete_node: Successfully deleted block_id: 0TVoto
insert_node: Starting for block_id: YYzkzo
deltas_to_json: Converting 0 deltas
apply_delta_to_text: Computing delta diff
apply_delta_to_text: Parsing delta diff from JSON
apply_delta_to_text: No changes to apply
handle_prev_id_chain: block_id=YYzkzo, prev_id=Some("KojGQk")
  Finding blocks that reference prev_id: KojGQk
find_block_referencing_prev_id: Searching for blocks with prev_id = KojGQk
  Found 6 total blocks to check
  Checking block: mzJEMA
    Block does not have prev_id
  Checking block: KojGQk
    Block has prev_id: RrLwZa, matches target: false
  Checking block: YYzkzo
    Block does not have prev_id
  Checking block: RrLwZa
    Block does not have prev_id
  Checking block: BZ7CfX
    Block does not have prev_id
  Checking block: au9YTd
    Block does not have prev_id
find_block_referencing_prev_id: Found 0 blocks with prev_id = KojGQk: []
  Found 0 blocks with prev_id KojGQk: []
handle_prev_id_chain: Completed
handle_following_connection: block_id=YYzkzo, next_id=None, prev_id=Some("KojGQk")
  Using prev_id strategy (prev_id=KojGQk)
find_block_referencing_prev_id: Searching for blocks with prev_id = KojGQk
  Found 6 total blocks to check
  Checking block: mzJEMA
    Block does not have prev_id
  Checking block: KojGQk
    Block has prev_id: RrLwZa, matches target: false
  Checking block: YYzkzo
    Block does not have prev_id
  Checking block: RrLwZa
    Block does not have prev_id
  Checking block: BZ7CfX
    Block does not have prev_id
  Checking block: au9YTd
    Block does not have prev_id
find_block_referencing_prev_id: Found 0 blocks with prev_id = KojGQk: []
  Found 0 nodes that reference prev_id KojGQk: []
  Finished prev_id strategy
  Setting prev_id of block YYzkzo to KojGQk
insert_node: Finished for block_id: YYzkzo
apply_action: Encoding state for doc_id: xxxx
apply_updates: Starting with 23 updates for doc_id: xxxx
apply_updates: Starting with 23 updates for doc_id: xxxx
apply_updates: Applying update for doc_id: xxxx
apply_updates: Finished for doc_id: xxxx
apply_updates: Successfully applied updates for doc_id: xxxx
get_document_state: Starting for doc_id: xxxx
extract_document_state: Starting for doc_id: xxxx
extract_document_state: Processing 6 blocks
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 0 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
====== STARTING BLOCK SORTING ======
Input children_map has 6 parent nodes

----- Sorting children of parent: KojGQk -----
Parent has 1 children to sort
Mapped 1 valid blocks by ID
Block mzJEMA assigned to device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
Grouped blocks into 1 devices
  - Device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0 has 1 blocks
Block mzJEMA has no prev_id
Built prev->next map with 0 entries
Device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0 has 1 root blocks: ["mzJEMA"]
Processing devices in order: ["6224c675-6598-4bc4-a7d1-e72a22b4b9b0"]

Processing device: 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
Sorted roots for device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0: ["mzJEMA"]
Starting chain from root: mzJEMA
  Adding block mzJEMA to sorted list
  No next blocks for mzJEMA
No remaining blocks for device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
No globally remaining blocks
Final sorted order for parent KojGQk: ["mzJEMA"]

----- Sorting children of parent: YYzkzo -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent YYzkzo: []

----- Sorting children of parent: au9YTd -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent au9YTd: []

----- Sorting children of parent: RrLwZa -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent RrLwZa: []

----- Sorting children of parent: BZ7CfX -----
Parent has 3 children to sort
Mapped 3 valid blocks by ID
Block RrLwZa assigned to device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
Block KojGQk assigned to device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
Block YYzkzo assigned to device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
Grouped blocks into 1 devices
  - Device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0 has 3 blocks
Block RrLwZa has no prev_id
Block KojGQk has prev_id RrLwZa
Block YYzkzo has prev_id KojGQk
Built prev->next map with 2 entries
  - KojGQk has 1 next blocks: ["YYzkzo"]
  - RrLwZa has 1 next blocks: ["KojGQk"]
Device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0 has 1 root blocks: ["RrLwZa"]
Processing devices in order: ["6224c675-6598-4bc4-a7d1-e72a22b4b9b0"]

Processing device: 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
Sorted roots for device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0: ["RrLwZa"]
Starting chain from root: RrLwZa
  Adding block RrLwZa to sorted list
    Pushing KojGQk onto stack
  Adding block KojGQk to sorted list
    Pushing YYzkzo onto stack
  Adding block YYzkzo to sorted list
  No next blocks for YYzkzo
No remaining blocks for device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
No globally remaining blocks
Final sorted order for parent BZ7CfX: ["RrLwZa", "KojGQk", "YYzkzo"]

----- Sorting children of parent: mzJEMA -----
Parent has 1 children to sort
Mapped 1 valid blocks by ID
Block au9YTd assigned to device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
Grouped blocks into 1 devices
  - Device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0 has 1 blocks
Block au9YTd has no prev_id
Built prev->next map with 0 entries
Device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0 has 1 root blocks: ["au9YTd"]
Processing devices in order: ["6224c675-6598-4bc4-a7d1-e72a22b4b9b0"]

Processing device: 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
Sorted roots for device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0: ["au9YTd"]
Starting chain from root: au9YTd
  Adding block au9YTd to sorted list
  No next blocks for au9YTd
No remaining blocks for device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
No globally remaining blocks
Final sorted order for parent mzJEMA: ["au9YTd"]
====== COMPLETED BLOCK SORTING ======
Final sorted children map has 6 parents
extract_document_state: Extracted 6 blocks and 6 parent-child relationships
get_document_state: Finished for doc_id: xxxx
flutter: {
flutter:   "docId": "xxxx",
flutter:   "blocks": {
flutter:     "BZ7CfX": {
flutter:       "id": "BZ7CfX",
flutter:       "ty": "page",
flutter:       "attributes": {
flutter:         "device": "6224c675-6598-4bc4-a7d1-e72a22b4b9b0",
flutter:         "timestamp": "2025-04-24T19:05:18.070279"
flutter:       },
flutter:       "delta": null,
flutter:       "parentId": null,
flutter:       "prevId": null,
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "au9YTd": {
flutter:       "id": "au9YTd",
flutter:       "ty": "paragraph",
flutter:       "attributes": {
flutter:         "device": "6224c675-6598-4bc4-a7d1-e72a22b4b9b0",
flutter:         "timestamp": "2025-04-24T19:08:42.723015",
flutter:         "delta": "[]"
flutter:       },
flutter:       "delta": "[{\"insert\":\"222\"}]",
flutter:       "parentId": "mzJEMA",
flutter:       "prevId": null,
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "KojGQk": {
flutter:       "id": "KojGQk",
flutter:       "ty": "paragraph",
flutter:       "attributes": {
flutter:         "delta": "[]",
flutter:         "device": "6224c675-6598-4bc4-a7d1-e72a22b4b9b0",
flutter:         "timestamp": "2025-04-24T19:08:40.012573"
flutter:       },
flutter:       "delta": "[{\"insert\":\"bbb\"}]",
flutter:       "parentId": "BZ7CfX",
flutter:       "prevId": "RrLwZa",
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "mzJEMA": {
flutter:       "id": "mzJEMA",
flutter:       "ty": "paragraph",
flutter:       "attributes": {
flutter:         "timestamp": "2025-04-24T19:08:41.328847",
flutter:         "delta": "[]",
flutter:         "device": "6224c675-6598-4bc4-a7d1-e72a22b4b9b0"
flutter:       },
flutter:       "delta": "[{\"insert\":\"111\"}]",
flutter:       "parentId": "KojGQk",
flutter:       "prevId": null,
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "RrLwZa": {
flutter:       "id": "RrLwZa",
flutter:       "ty": "paragraph",
flutter:       "attributes": {
flutter:         "timestamp": "2025-04-24T19:05:18.074153",
flutter:         "delta": "[]",
flutter:         "device": "6224c675-6598-4bc4-a7d1-e72a22b4b9b0"
flutter:       },
flutter:       "delta": "[{\"insert\":\"aaa\"}]",
flutter:       "parentId": "BZ7CfX",
flutter:       "prevId": null,
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "YYzkzo": {
flutter:       "id": "YYzkzo",
flutter:       "ty": "paragraph",
flutter:       "attributes": {
flutter:         "timestamp": "2025-04-24T19:08:45.035941",
flutter:         "device": "6224c675-6598-4bc4-a7d1-e72a22b4b9b0",
flutter:         "delta": "[]"
flutter:       },
flutter:       "delta": "[]",
flutter:       "parentId": "BZ7CfX",
flutter:       "prevId": "KojGQk",
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     }
flutter:   },
flutter:   "childrenMap": {
flutter:     "KojGQk": [
flutter:       "mzJEMA"
flutter:     ],
flutter:     "YYzkzo": [],
flutter:     "au9YTd": [],
flutter:     "RrLwZa": [],
flutter:     "BZ7CfX": [
flutter:       "RrLwZa",
flutter:       "KojGQk",
flutter:       "YYzkzo"
flutter:     ],
flutter:     "mzJEMA": [
flutter:       "au9YTd"
flutter:     ]
flutter:   },
flutter:   "rootId": "BZ7CfX"
flutter: }
flutter: Applied 1 operations to the editor state
merge_updates: Merging 2 updates
merge_updates: Successfully merged updates
apply_updates: Starting with 24 updates for doc_id: xxxx
apply_updates: Starting with 24 updates for doc_id: xxxx
apply_updates: Applying update for doc_id: xxxx
apply_updates: Finished for doc_id: xxxx
apply_updates: Successfully applied updates for doc_id: xxxx
get_document_state: Starting for doc_id: xxxx
extract_document_state: Starting for doc_id: xxxx
extract_document_state: Processing 6 blocks
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 0 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
====== STARTING BLOCK SORTING ======
Input children_map has 6 parent nodes

----- Sorting children of parent: RrLwZa -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent RrLwZa: []

----- Sorting children of parent: au9YTd -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent au9YTd: []

----- Sorting children of parent: KojGQk -----
Parent has 1 children to sort
Mapped 1 valid blocks by ID
Block mzJEMA assigned to device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
Grouped blocks into 1 devices
  - Device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0 has 1 blocks
Block mzJEMA has no prev_id
Built prev->next map with 0 entries
Device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0 has 1 root blocks: ["mzJEMA"]
Processing devices in order: ["6224c675-6598-4bc4-a7d1-e72a22b4b9b0"]

Processing device: 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
Sorted roots for device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0: ["mzJEMA"]
Starting chain from root: mzJEMA
  Adding block mzJEMA to sorted list
  No next blocks for mzJEMA
No remaining blocks for device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
No globally remaining blocks
Final sorted order for parent KojGQk: ["mzJEMA"]

----- Sorting children of parent: YYzkzo -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent YYzkzo: []

----- Sorting children of parent: mzJEMA -----
Parent has 1 children to sort
Mapped 1 valid blocks by ID
Block au9YTd assigned to device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
Grouped blocks into 1 devices
  - Device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0 has 1 blocks
Block au9YTd has no prev_id
Built prev->next map with 0 entries
Device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0 has 1 root blocks: ["au9YTd"]
Processing devices in order: ["6224c675-6598-4bc4-a7d1-e72a22b4b9b0"]

Processing device: 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
Sorted roots for device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0: ["au9YTd"]
Starting chain from root: au9YTd
  Adding block au9YTd to sorted list
  No next blocks for au9YTd
No remaining blocks for device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
No globally remaining blocks
Final sorted order for parent mzJEMA: ["au9YTd"]

----- Sorting children of parent: BZ7CfX -----
Parent has 3 children to sort
Mapped 3 valid blocks by ID
Block YYzkzo assigned to device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
Block KojGQk assigned to device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
Block RrLwZa assigned to device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
Grouped blocks into 1 devices
  - Device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0 has 3 blocks
Block YYzkzo has prev_id KojGQk
Block KojGQk has prev_id RrLwZa
Block RrLwZa has no prev_id
Built prev->next map with 2 entries
  - KojGQk has 1 next blocks: ["YYzkzo"]
  - RrLwZa has 1 next blocks: ["KojGQk"]
Device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0 has 1 root blocks: ["RrLwZa"]
Processing devices in order: ["6224c675-6598-4bc4-a7d1-e72a22b4b9b0"]

Processing device: 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
Sorted roots for device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0: ["RrLwZa"]
Starting chain from root: RrLwZa
  Adding block RrLwZa to sorted list
    Pushing KojGQk onto stack
  Adding block KojGQk to sorted list
    Pushing YYzkzo onto stack
  Adding block YYzkzo to sorted list
  No next blocks for YYzkzo
No remaining blocks for device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
No globally remaining blocks
Final sorted order for parent BZ7CfX: ["RrLwZa", "KojGQk", "YYzkzo"]
====== COMPLETED BLOCK SORTING ======
Final sorted children map has 6 parents
extract_document_state: Extracted 6 blocks and 6 parent-child relationships
get_document_state: Finished for doc_id: xxxx
flutter: {
flutter:   "docId": "xxxx",
flutter:   "blocks": {
flutter:     "mzJEMA": {
flutter:       "id": "mzJEMA",
flutter:       "ty": "paragraph",
flutter:       "attributes": {
flutter:         "device": "6224c675-6598-4bc4-a7d1-e72a22b4b9b0",
flutter:         "timestamp": "2025-04-24T19:08:41.328847",
flutter:         "delta": "[]"
flutter:       },
flutter:       "delta": "[{\"insert\":\"111\"}]",
flutter:       "parentId": "KojGQk",
flutter:       "prevId": null,
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "YYzkzo": {
flutter:       "id": "YYzkzo",
flutter:       "ty": "paragraph",
flutter:       "attributes": {
flutter:         "delta": "[]",
flutter:         "device": "6224c675-6598-4bc4-a7d1-e72a22b4b9b0",
flutter:         "timestamp": "2025-04-24T19:08:45.035941"
flutter:       },
flutter:       "delta": "[]",
flutter:       "parentId": "BZ7CfX",
flutter:       "prevId": "KojGQk",
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "KojGQk": {
flutter:       "id": "KojGQk",
flutter:       "ty": "paragraph",
flutter:       "attributes": {
flutter:         "timestamp": "2025-04-24T19:08:40.012573",
flutter:         "device": "6224c675-6598-4bc4-a7d1-e72a22b4b9b0",
flutter:         "delta": "[]"
flutter:       },
flutter:       "delta": "[{\"insert\":\"bbb\"}]",
flutter:       "parentId": "BZ7CfX",
flutter:       "prevId": "RrLwZa",
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "BZ7CfX": {
flutter:       "id": "BZ7CfX",
flutter:       "ty": "page",
flutter:       "attributes": {
flutter:         "device": "6224c675-6598-4bc4-a7d1-e72a22b4b9b0",
flutter:         "timestamp": "2025-04-24T19:05:18.070279"
flutter:       },
flutter:       "delta": null,
flutter:       "parentId": null,
flutter:       "prevId": null,
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "au9YTd": {
flutter:       "id": "au9YTd",
flutter:       "ty": "paragraph",
flutter:       "attributes": {
flutter:         "device": "6224c675-6598-4bc4-a7d1-e72a22b4b9b0",
flutter:         "timestamp": "2025-04-24T19:08:42.723015",
flutter:         "delta": "[]"
flutter:       },
flutter:       "delta": "[{\"insert\":\"222\"}]",
flutter:       "parentId": "mzJEMA",
flutter:       "prevId": null,
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "RrLwZa": {
flutter:       "id": "RrLwZa",
flutter:       "ty": "paragraph",
flutter:       "attributes": {
flutter:         "device": "6224c675-6598-4bc4-a7d1-e72a22b4b9b0",
flutter:         "delta": "[]",
flutter:         "timestamp": "2025-04-24T19:05:18.074153"
flutter:       },
flutter:       "delta": "[{\"insert\":\"aaa\"}]",
flutter:       "parentId": "BZ7CfX",
flutter:       "prevId": null,
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     }
flutter:   },
flutter:   "childrenMap": {
flutter:     "au9YTd": [],
flutter:     "YYzkzo": [],
flutter:     "mzJEMA": [
flutter:       "au9YTd"
flutter:     ],
flutter:     "BZ7CfX": [
flutter:       "RrLwZa",
flutter:       "KojGQk",
flutter:       "YYzkzo"
flutter:     ],
flutter:     "RrLwZa": [],
flutter:     "KojGQk": [
flutter:       "mzJEMA"
flutter:     ]
flutter:   },
flutter:   "rootId": "BZ7CfX"
flutter: }
flutter: Transaction done
apply_action: Starting with 1 actions for doc_id: xxxx
update_node: Updating block_id: YYzkzo
deltas_to_json: Converting 0 deltas
apply_delta_to_text: Computing delta diff
apply_delta_to_text: Parsing delta diff from JSON
apply_delta_diff_to_text: Starting with 1 operations
update_node: Updated block_id: YYzkzo
apply_action: Encoding state for doc_id: xxxx
apply_updates: Starting with 25 updates for doc_id: xxxx
apply_updates: Starting with 25 updates for doc_id: xxxx
apply_updates: Applying update for doc_id: xxxx
apply_updates: Finished for doc_id: xxxx
apply_updates: Successfully applied updates for doc_id: xxxx
get_document_state: Starting for doc_id: xxxx
extract_document_state: Starting for doc_id: xxxx
extract_document_state: Processing 6 blocks
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
====== STARTING BLOCK SORTING ======
Input children_map has 6 parent nodes

----- Sorting children of parent: KojGQk -----
Parent has 1 children to sort
Mapped 1 valid blocks by ID
Block mzJEMA assigned to device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
Grouped blocks into 1 devices
  - Device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0 has 1 blocks
Block mzJEMA has no prev_id
Built prev->next map with 0 entries
Device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0 has 1 root blocks: ["mzJEMA"]
Processing devices in order: ["6224c675-6598-4bc4-a7d1-e72a22b4b9b0"]

Processing device: 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
Sorted roots for device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0: ["mzJEMA"]
Starting chain from root: mzJEMA
  Adding block mzJEMA to sorted list
  No next blocks for mzJEMA
No remaining blocks for device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
No globally remaining blocks
Final sorted order for parent KojGQk: ["mzJEMA"]

----- Sorting children of parent: mzJEMA -----
Parent has 1 children to sort
Mapped 1 valid blocks by ID
Block au9YTd assigned to device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
Grouped blocks into 1 devices
  - Device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0 has 1 blocks
Block au9YTd has no prev_id
Built prev->next map with 0 entries
Device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0 has 1 root blocks: ["au9YTd"]
Processing devices in order: ["6224c675-6598-4bc4-a7d1-e72a22b4b9b0"]

Processing device: 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
Sorted roots for device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0: ["au9YTd"]
Starting chain from root: au9YTd
  Adding block au9YTd to sorted list
  No next blocks for au9YTd
No remaining blocks for device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
No globally remaining blocks
Final sorted order for parent mzJEMA: ["au9YTd"]

----- Sorting children of parent: YYzkzo -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent YYzkzo: []

----- Sorting children of parent: au9YTd -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent au9YTd: []

----- Sorting children of parent: BZ7CfX -----
Parent has 3 children to sort
Mapped 3 valid blocks by ID
Block RrLwZa assigned to device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
Block KojGQk assigned to device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
Block YYzkzo assigned to device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
Grouped blocks into 1 devices
  - Device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0 has 3 blocks
Block RrLwZa has no prev_id
Block KojGQk has prev_id RrLwZa
Block YYzkzo has prev_id KojGQk
Built prev->next map with 2 entries
  - RrLwZa has 1 next blocks: ["KojGQk"]
  - KojGQk has 1 next blocks: ["YYzkzo"]
Device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0 has 1 root blocks: ["RrLwZa"]
Processing devices in order: ["6224c675-6598-4bc4-a7d1-e72a22b4b9b0"]

Processing device: 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
Sorted roots for device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0: ["RrLwZa"]
Starting chain from root: RrLwZa
  Adding block RrLwZa to sorted list
    Pushing KojGQk onto stack
  Adding block KojGQk to sorted list
    Pushing YYzkzo onto stack
  Adding block YYzkzo to sorted list
  No next blocks for YYzkzo
No remaining blocks for device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
No globally remaining blocks
Final sorted order for parent BZ7CfX: ["RrLwZa", "KojGQk", "YYzkzo"]

----- Sorting children of parent: RrLwZa -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent RrLwZa: []
====== COMPLETED BLOCK SORTING ======
Final sorted children map has 6 parents
extract_document_state: Extracted 6 blocks and 6 parent-child relationships
get_document_state: Finished for doc_id: xxxx
flutter: {
flutter:   "docId": "xxxx",
flutter:   "blocks": {
flutter:     "KojGQk": {
flutter:       "id": "KojGQk",
flutter:       "ty": "paragraph",
flutter:       "attributes": {
flutter:         "delta": "[]",
flutter:         "timestamp": "2025-04-24T19:08:40.012573",
flutter:         "device": "6224c675-6598-4bc4-a7d1-e72a22b4b9b0"
flutter:       },
flutter:       "delta": "[{\"insert\":\"bbb\"}]",
flutter:       "parentId": "BZ7CfX",
flutter:       "prevId": "RrLwZa",
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "mzJEMA": {
flutter:       "id": "mzJEMA",
flutter:       "ty": "paragraph",
flutter:       "attributes": {
flutter:         "device": "6224c675-6598-4bc4-a7d1-e72a22b4b9b0",
flutter:         "delta": "[]",
flutter:         "timestamp": "2025-04-24T19:08:41.328847"
flutter:       },
flutter:       "delta": "[{\"insert\":\"111\"}]",
flutter:       "parentId": "KojGQk",
flutter:       "prevId": null,
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "YYzkzo": {
flutter:       "id": "YYzkzo",
flutter:       "ty": "paragraph",
flutter:       "attributes": {
flutter:         "delta": "[]",
flutter:         "timestamp": "2025-04-24T19:08:45.035941",
flutter:         "device": "6224c675-6598-4bc4-a7d1-e72a22b4b9b0"
flutter:       },
flutter:       "delta": "[{\"insert\":\"c\"}]",
flutter:       "parentId": "BZ7CfX",
flutter:       "prevId": "KojGQk",
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "BZ7CfX": {
flutter:       "id": "BZ7CfX",
flutter:       "ty": "page",
flutter:       "attributes": {
flutter:         "timestamp": "2025-04-24T19:05:18.070279",
flutter:         "device": "6224c675-6598-4bc4-a7d1-e72a22b4b9b0"
flutter:       },
flutter:       "delta": null,
flutter:       "parentId": null,
flutter:       "prevId": null,
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "RrLwZa": {
flutter:       "id": "RrLwZa",
flutter:       "ty": "paragraph",
flutter:       "attributes": {
flutter:         "delta": "[]",
flutter:         "device": "6224c675-6598-4bc4-a7d1-e72a22b4b9b0",
flutter:         "timestamp": "2025-04-24T19:05:18.074153"
flutter:       },
flutter:       "delta": "[{\"insert\":\"aaa\"}]",
flutter:       "parentId": "BZ7CfX",
flutter:       "prevId": null,
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "au9YTd": {
flutter:       "id": "au9YTd",
flutter:       "ty": "paragraph",
flutter:       "attributes": {
flutter:         "device": "6224c675-6598-4bc4-a7d1-e72a22b4b9b0",
flutter:         "delta": "[]",
flutter:         "timestamp": "2025-04-24T19:08:42.723015"
flutter:       },
flutter:       "delta": "[{\"insert\":\"222\"}]",
flutter:       "parentId": "mzJEMA",
flutter:       "prevId": null,
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     }
flutter:   },
flutter:   "childrenMap": {
flutter:     "BZ7CfX": [
flutter:       "RrLwZa",
flutter:       "KojGQk",
flutter:       "YYzkzo"
flutter:     ],
flutter:     "YYzkzo": [],
flutter:     "RrLwZa": [],
flutter:     "mzJEMA": [
flutter:       "au9YTd"
flutter:     ],
flutter:     "au9YTd": [],
flutter:     "KojGQk": [
flutter:       "mzJEMA"
flutter:     ]
flutter:   },
flutter:   "rootId": "BZ7CfX"
flutter: }
flutter: Transaction done
apply_action: Starting with 1 actions for doc_id: xxxx
update_node: Updating block_id: YYzkzo
deltas_to_json: Converting 1 deltas
apply_delta_to_text: Computing delta diff
apply_delta_to_text: Parsing delta diff from JSON
apply_delta_diff_to_text: Starting with 2 operations
update_node: Updated block_id: YYzkzo
apply_action: Encoding state for doc_id: xxxx
apply_updates: Starting with 26 updates for doc_id: xxxx
apply_updates: Starting with 26 updates for doc_id: xxxx
apply_updates: Applying update for doc_id: xxxx
apply_updates: Finished for doc_id: xxxx
apply_updates: Successfully applied updates for doc_id: xxxx
get_document_state: Starting for doc_id: xxxx
extract_document_state: Starting for doc_id: xxxx
extract_document_state: Processing 6 blocks
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
====== STARTING BLOCK SORTING ======
Input children_map has 6 parent nodes

----- Sorting children of parent: BZ7CfX -----
Parent has 3 children to sort
Mapped 3 valid blocks by ID
Block RrLwZa assigned to device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
Block KojGQk assigned to device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
Block YYzkzo assigned to device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
Grouped blocks into 1 devices
  - Device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0 has 3 blocks
Block RrLwZa has no prev_id
Block KojGQk has prev_id RrLwZa
Block YYzkzo has prev_id KojGQk
Built prev->next map with 2 entries
  - KojGQk has 1 next blocks: ["YYzkzo"]
  - RrLwZa has 1 next blocks: ["KojGQk"]
Device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0 has 1 root blocks: ["RrLwZa"]
Processing devices in order: ["6224c675-6598-4bc4-a7d1-e72a22b4b9b0"]

Processing device: 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
Sorted roots for device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0: ["RrLwZa"]
Starting chain from root: RrLwZa
  Adding block RrLwZa to sorted list
    Pushing KojGQk onto stack
  Adding block KojGQk to sorted list
    Pushing YYzkzo onto stack
  Adding block YYzkzo to sorted list
  No next blocks for YYzkzo
No remaining blocks for device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
No globally remaining blocks
Final sorted order for parent BZ7CfX: ["RrLwZa", "KojGQk", "YYzkzo"]

----- Sorting children of parent: RrLwZa -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent RrLwZa: []

----- Sorting children of parent: au9YTd -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent au9YTd: []

----- Sorting children of parent: mzJEMA -----
Parent has 1 children to sort
Mapped 1 valid blocks by ID
Block au9YTd assigned to device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
Grouped blocks into 1 devices
  - Device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0 has 1 blocks
Block au9YTd has no prev_id
Built prev->next map with 0 entries
Device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0 has 1 root blocks: ["au9YTd"]
Processing devices in order: ["6224c675-6598-4bc4-a7d1-e72a22b4b9b0"]

Processing device: 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
Sorted roots for device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0: ["au9YTd"]
Starting chain from root: au9YTd
  Adding block au9YTd to sorted list
  No next blocks for au9YTd
No remaining blocks for device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
No globally remaining blocks
Final sorted order for parent mzJEMA: ["au9YTd"]

----- Sorting children of parent: YYzkzo -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent YYzkzo: []

----- Sorting children of parent: KojGQk -----
Parent has 1 children to sort
Mapped 1 valid blocks by ID
Block mzJEMA assigned to device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
Grouped blocks into 1 devices
  - Device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0 has 1 blocks
Block mzJEMA has no prev_id
Built prev->next map with 0 entries
Device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0 has 1 root blocks: ["mzJEMA"]
Processing devices in order: ["6224c675-6598-4bc4-a7d1-e72a22b4b9b0"]

Processing device: 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
Sorted roots for device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0: ["mzJEMA"]
Starting chain from root: mzJEMA
  Adding block mzJEMA to sorted list
  No next blocks for mzJEMA
No remaining blocks for device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
No globally remaining blocks
Final sorted order for parent KojGQk: ["mzJEMA"]
====== COMPLETED BLOCK SORTING ======
Final sorted children map has 6 parents
extract_document_state: Extracted 6 blocks and 6 parent-child relationships
get_document_state: Finished for doc_id: xxxx
flutter: {
flutter:   "docId": "xxxx",
flutter:   "blocks": {
flutter:     "BZ7CfX": {
flutter:       "id": "BZ7CfX",
flutter:       "ty": "page",
flutter:       "attributes": {
flutter:         "device": "6224c675-6598-4bc4-a7d1-e72a22b4b9b0",
flutter:         "timestamp": "2025-04-24T19:05:18.070279"
flutter:       },
flutter:       "delta": null,
flutter:       "parentId": null,
flutter:       "prevId": null,
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "YYzkzo": {
flutter:       "id": "YYzkzo",
flutter:       "ty": "paragraph",
flutter:       "attributes": {
flutter:         "timestamp": "2025-04-24T19:08:45.035941",
flutter:         "device": "6224c675-6598-4bc4-a7d1-e72a22b4b9b0",
flutter:         "delta": "[]"
flutter:       },
flutter:       "delta": "[{\"insert\":\"cc\"}]",
flutter:       "parentId": "BZ7CfX",
flutter:       "prevId": "KojGQk",
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "KojGQk": {
flutter:       "id": "KojGQk",
flutter:       "ty": "paragraph",
flutter:       "attributes": {
flutter:         "timestamp": "2025-04-24T19:08:40.012573",
flutter:         "device": "6224c675-6598-4bc4-a7d1-e72a22b4b9b0",
flutter:         "delta": "[]"
flutter:       },
flutter:       "delta": "[{\"insert\":\"bbb\"}]",
flutter:       "parentId": "BZ7CfX",
flutter:       "prevId": "RrLwZa",
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "RrLwZa": {
flutter:       "id": "RrLwZa",
flutter:       "ty": "paragraph",
flutter:       "attributes": {
flutter:         "delta": "[]",
flutter:         "device": "6224c675-6598-4bc4-a7d1-e72a22b4b9b0",
flutter:         "timestamp": "2025-04-24T19:05:18.074153"
flutter:       },
flutter:       "delta": "[{\"insert\":\"aaa\"}]",
flutter:       "parentId": "BZ7CfX",
flutter:       "prevId": null,
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "au9YTd": {
flutter:       "id": "au9YTd",
flutter:       "ty": "paragraph",
flutter:       "attributes": {
flutter:         "delta": "[]",
flutter:         "device": "6224c675-6598-4bc4-a7d1-e72a22b4b9b0",
flutter:         "timestamp": "2025-04-24T19:08:42.723015"
flutter:       },
flutter:       "delta": "[{\"insert\":\"222\"}]",
flutter:       "parentId": "mzJEMA",
flutter:       "prevId": null,
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "mzJEMA": {
flutter:       "id": "mzJEMA",
flutter:       "ty": "paragraph",
flutter:       "attributes": {
flutter:         "delta": "[]",
flutter:         "timestamp": "2025-04-24T19:08:41.328847",
flutter:         "device": "6224c675-6598-4bc4-a7d1-e72a22b4b9b0"
flutter:       },
flutter:       "delta": "[{\"insert\":\"111\"}]",
flutter:       "parentId": "KojGQk",
flutter:       "prevId": null,
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     }
flutter:   },
flutter:   "childrenMap": {
flutter:     "au9YTd": [],
flutter:     "BZ7CfX": [
flutter:       "RrLwZa",
flutter:       "KojGQk",
flutter:       "YYzkzo"
flutter:     ],
flutter:     "KojGQk": [
flutter:       "mzJEMA"
flutter:     ],
flutter:     "mzJEMA": [
flutter:       "au9YTd"
flutter:     ],
flutter:     "YYzkzo": [],
flutter:     "RrLwZa": []
flutter:   },
flutter:   "rootId": "BZ7CfX"
flutter: }
flutter: Transaction done
apply_action: Starting with 1 actions for doc_id: xxxx
update_node: Updating block_id: YYzkzo
deltas_to_json: Converting 1 deltas
apply_delta_to_text: Computing delta diff
apply_delta_to_text: Parsing delta diff from JSON
apply_delta_diff_to_text: Starting with 2 operations
update_node: Updated block_id: YYzkzo
apply_action: Encoding state for doc_id: xxxx
apply_updates: Starting with 27 updates for doc_id: xxxx
apply_updates: Starting with 27 updates for doc_id: xxxx
apply_updates: Applying update for doc_id: xxxx
apply_updates: Finished for doc_id: xxxx
apply_updates: Successfully applied updates for doc_id: xxxx
get_document_state: Starting for doc_id: xxxx
extract_document_state: Starting for doc_id: xxxx
extract_document_state: Processing 6 blocks
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
====== STARTING BLOCK SORTING ======
Input children_map has 6 parent nodes

----- Sorting children of parent: RrLwZa -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent RrLwZa: []

----- Sorting children of parent: YYzkzo -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent YYzkzo: []

----- Sorting children of parent: au9YTd -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent au9YTd: []

----- Sorting children of parent: mzJEMA -----
Parent has 1 children to sort
Mapped 1 valid blocks by ID
Block au9YTd assigned to device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
Grouped blocks into 1 devices
  - Device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0 has 1 blocks
Block au9YTd has no prev_id
Built prev->next map with 0 entries
Device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0 has 1 root blocks: ["au9YTd"]
Processing devices in order: ["6224c675-6598-4bc4-a7d1-e72a22b4b9b0"]

Processing device: 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
Sorted roots for device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0: ["au9YTd"]
Starting chain from root: au9YTd
  Adding block au9YTd to sorted list
  No next blocks for au9YTd
No remaining blocks for device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
No globally remaining blocks
Final sorted order for parent mzJEMA: ["au9YTd"]

----- Sorting children of parent: BZ7CfX -----
Parent has 3 children to sort
Mapped 3 valid blocks by ID
Block RrLwZa assigned to device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
Block KojGQk assigned to device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
Block YYzkzo assigned to device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
Grouped blocks into 1 devices
  - Device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0 has 3 blocks
Block RrLwZa has no prev_id
Block KojGQk has prev_id RrLwZa
Block YYzkzo has prev_id KojGQk
Built prev->next map with 2 entries
  - KojGQk has 1 next blocks: ["YYzkzo"]
  - RrLwZa has 1 next blocks: ["KojGQk"]
Device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0 has 1 root blocks: ["RrLwZa"]
Processing devices in order: ["6224c675-6598-4bc4-a7d1-e72a22b4b9b0"]

Processing device: 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
Sorted roots for device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0: ["RrLwZa"]
Starting chain from root: RrLwZa
  Adding block RrLwZa to sorted list
    Pushing KojGQk onto stack
  Adding block KojGQk to sorted list
    Pushing YYzkzo onto stack
  Adding block YYzkzo to sorted list
  No next blocks for YYzkzo
No remaining blocks for device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
No globally remaining blocks
Final sorted order for parent BZ7CfX: ["RrLwZa", "KojGQk", "YYzkzo"]

----- Sorting children of parent: KojGQk -----
Parent has 1 children to sort
Mapped 1 valid blocks by ID
Block mzJEMA assigned to device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
Grouped blocks into 1 devices
  - Device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0 has 1 blocks
Block mzJEMA has no prev_id
Built prev->next map with 0 entries
Device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0 has 1 root blocks: ["mzJEMA"]
Processing devices in order: ["6224c675-6598-4bc4-a7d1-e72a22b4b9b0"]

Processing device: 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
Sorted roots for device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0: ["mzJEMA"]
Starting chain from root: mzJEMA
  Adding block mzJEMA to sorted list
  No next blocks for mzJEMA
No remaining blocks for device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
No globally remaining blocks
Final sorted order for parent KojGQk: ["mzJEMA"]
====== COMPLETED BLOCK SORTING ======
Final sorted children map has 6 parents
extract_document_state: Extracted 6 blocks and 6 parent-child relationships
get_document_state: Finished for doc_id: xxxx
flutter: {
flutter:   "docId": "xxxx",
flutter:   "blocks": {
flutter:     "mzJEMA": {
flutter:       "id": "mzJEMA",
flutter:       "ty": "paragraph",
flutter:       "attributes": {
flutter:         "delta": "[]",
flutter:         "device": "6224c675-6598-4bc4-a7d1-e72a22b4b9b0",
flutter:         "timestamp": "2025-04-24T19:08:41.328847"
flutter:       },
flutter:       "delta": "[{\"insert\":\"111\"}]",
flutter:       "parentId": "KojGQk",
flutter:       "prevId": null,
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "YYzkzo": {
flutter:       "id": "YYzkzo",
flutter:       "ty": "paragraph",
flutter:       "attributes": {
flutter:         "device": "6224c675-6598-4bc4-a7d1-e72a22b4b9b0",
flutter:         "delta": "[]",
flutter:         "timestamp": "2025-04-24T19:08:45.035941"
flutter:       },
flutter:       "delta": "[{\"insert\":\"ccc\"}]",
flutter:       "parentId": "BZ7CfX",
flutter:       "prevId": "KojGQk",
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "KojGQk": {
flutter:       "id": "KojGQk",
flutter:       "ty": "paragraph",
flutter:       "attributes": {
flutter:         "delta": "[]",
flutter:         "timestamp": "2025-04-24T19:08:40.012573",
flutter:         "device": "6224c675-6598-4bc4-a7d1-e72a22b4b9b0"
flutter:       },
flutter:       "delta": "[{\"insert\":\"bbb\"}]",
flutter:       "parentId": "BZ7CfX",
flutter:       "prevId": "RrLwZa",
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "RrLwZa": {
flutter:       "id": "RrLwZa",
flutter:       "ty": "paragraph",
flutter:       "attributes": {
flutter:         "device": "6224c675-6598-4bc4-a7d1-e72a22b4b9b0",
flutter:         "timestamp": "2025-04-24T19:05:18.074153",
flutter:         "delta": "[]"
flutter:       },
flutter:       "delta": "[{\"insert\":\"aaa\"}]",
flutter:       "parentId": "BZ7CfX",
flutter:       "prevId": null,
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "BZ7CfX": {
flutter:       "id": "BZ7CfX",
flutter:       "ty": "page",
flutter:       "attributes": {
flutter:         "timestamp": "2025-04-24T19:05:18.070279",
flutter:         "device": "6224c675-6598-4bc4-a7d1-e72a22b4b9b0"
flutter:       },
flutter:       "delta": null,
flutter:       "parentId": null,
flutter:       "prevId": null,
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "au9YTd": {
flutter:       "id": "au9YTd",
flutter:       "ty": "paragraph",
flutter:       "attributes": {
flutter:         "timestamp": "2025-04-24T19:08:42.723015",
flutter:         "delta": "[]",
flutter:         "device": "6224c675-6598-4bc4-a7d1-e72a22b4b9b0"
flutter:       },
flutter:       "delta": "[{\"insert\":\"222\"}]",
flutter:       "parentId": "mzJEMA",
flutter:       "prevId": null,
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     }
flutter:   },
flutter:   "childrenMap": {
flutter:     "YYzkzo": [],
flutter:     "au9YTd": [],
flutter:     "mzJEMA": [
flutter:       "au9YTd"
flutter:     ],
flutter:     "KojGQk": [
flutter:       "mzJEMA"
flutter:     ],
flutter:     "BZ7CfX": [
flutter:       "RrLwZa",
flutter:       "KojGQk",
flutter:       "YYzkzo"
flutter:     ],
flutter:     "RrLwZa": []
flutter:   },
flutter:   "rootId": "BZ7CfX"
flutter: }
merge_updates: Merging 3 updates
merge_updates: Successfully merged updates
apply_updates: Starting with 28 updates for doc_id: xxxx
apply_updates: Starting with 28 updates for doc_id: xxxx
apply_updates: Applying update for doc_id: xxxx
apply_updates: Finished for doc_id: xxxx
apply_updates: Successfully applied updates for doc_id: xxxx
get_document_state: Starting for doc_id: xxxx
extract_document_state: Starting for doc_id: xxxx
extract_document_state: Processing 6 blocks
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
====== STARTING BLOCK SORTING ======
Input children_map has 6 parent nodes

----- Sorting children of parent: BZ7CfX -----
Parent has 3 children to sort
Mapped 3 valid blocks by ID
Block KojGQk assigned to device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
Block RrLwZa assigned to device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
Block YYzkzo assigned to device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
Grouped blocks into 1 devices
  - Device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0 has 3 blocks
Block KojGQk has prev_id RrLwZa
Block RrLwZa has no prev_id
Block YYzkzo has prev_id KojGQk
Built prev->next map with 2 entries
  - KojGQk has 1 next blocks: ["YYzkzo"]
  - RrLwZa has 1 next blocks: ["KojGQk"]
Device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0 has 1 root blocks: ["RrLwZa"]
Processing devices in order: ["6224c675-6598-4bc4-a7d1-e72a22b4b9b0"]

Processing device: 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
Sorted roots for device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0: ["RrLwZa"]
Starting chain from root: RrLwZa
  Adding block RrLwZa to sorted list
    Pushing KojGQk onto stack
  Adding block KojGQk to sorted list
    Pushing YYzkzo onto stack
  Adding block YYzkzo to sorted list
  No next blocks for YYzkzo
No remaining blocks for device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
No globally remaining blocks
Final sorted order for parent BZ7CfX: ["RrLwZa", "KojGQk", "YYzkzo"]

----- Sorting children of parent: mzJEMA -----
Parent has 1 children to sort
Mapped 1 valid blocks by ID
Block au9YTd assigned to device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
Grouped blocks into 1 devices
  - Device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0 has 1 blocks
Block au9YTd has no prev_id
Built prev->next map with 0 entries
Device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0 has 1 root blocks: ["au9YTd"]
Processing devices in order: ["6224c675-6598-4bc4-a7d1-e72a22b4b9b0"]

Processing device: 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
Sorted roots for device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0: ["au9YTd"]
Starting chain from root: au9YTd
  Adding block au9YTd to sorted list
  No next blocks for au9YTd
No remaining blocks for device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
No globally remaining blocks
Final sorted order for parent mzJEMA: ["au9YTd"]

----- Sorting children of parent: KojGQk -----
Parent has 1 children to sort
Mapped 1 valid blocks by ID
Block mzJEMA assigned to device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
Grouped blocks into 1 devices
  - Device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0 has 1 blocks
Block mzJEMA has no prev_id
Built prev->next map with 0 entries
Device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0 has 1 root blocks: ["mzJEMA"]
Processing devices in order: ["6224c675-6598-4bc4-a7d1-e72a22b4b9b0"]

Processing device: 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
Sorted roots for device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0: ["mzJEMA"]
Starting chain from root: mzJEMA
  Adding block mzJEMA to sorted list
  No next blocks for mzJEMA
No remaining blocks for device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
No globally remaining blocks
Final sorted order for parent KojGQk: ["mzJEMA"]

----- Sorting children of parent: YYzkzo -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent YYzkzo: []

----- Sorting children of parent: au9YTd -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent au9YTd: []

----- Sorting children of parent: RrLwZa -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent RrLwZa: []
====== COMPLETED BLOCK SORTING ======
Final sorted children map has 6 parents
extract_document_state: Extracted 6 blocks and 6 parent-child relationships
get_document_state: Finished for doc_id: xxxx
flutter: {
flutter:   "docId": "xxxx",
flutter:   "blocks": {
flutter:     "mzJEMA": {
flutter:       "id": "mzJEMA",
flutter:       "ty": "paragraph",
flutter:       "attributes": {
flutter:         "delta": "[]",
flutter:         "device": "6224c675-6598-4bc4-a7d1-e72a22b4b9b0",
flutter:         "timestamp": "2025-04-24T19:08:41.328847"
flutter:       },
flutter:       "delta": "[{\"insert\":\"111\"}]",
flutter:       "parentId": "KojGQk",
flutter:       "prevId": null,
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "au9YTd": {
flutter:       "id": "au9YTd",
flutter:       "ty": "paragraph",
flutter:       "attributes": {
flutter:         "device": "6224c675-6598-4bc4-a7d1-e72a22b4b9b0",
flutter:         "delta": "[]",
flutter:         "timestamp": "2025-04-24T19:08:42.723015"
flutter:       },
flutter:       "delta": "[{\"insert\":\"222\"}]",
flutter:       "parentId": "mzJEMA",
flutter:       "prevId": null,
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "YYzkzo": {
flutter:       "id": "YYzkzo",
flutter:       "ty": "paragraph",
flutter:       "attributes": {
flutter:         "timestamp": "2025-04-24T19:08:45.035941",
flutter:         "device": "6224c675-6598-4bc4-a7d1-e72a22b4b9b0",
flutter:         "delta": "[]"
flutter:       },
flutter:       "delta": "[{\"insert\":\"ccc\"}]",
flutter:       "parentId": "BZ7CfX",
flutter:       "prevId": "KojGQk",
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "RrLwZa": {
flutter:       "id": "RrLwZa",
flutter:       "ty": "paragraph",
flutter:       "attributes": {
flutter:         "delta": "[]",
flutter:         "device": "6224c675-6598-4bc4-a7d1-e72a22b4b9b0",
flutter:         "timestamp": "2025-04-24T19:05:18.074153"
flutter:       },
flutter:       "delta": "[{\"insert\":\"aaa\"}]",
flutter:       "parentId": "BZ7CfX",
flutter:       "prevId": null,
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "BZ7CfX": {
flutter:       "id": "BZ7CfX",
flutter:       "ty": "page",
flutter:       "attributes": {
flutter:         "timestamp": "2025-04-24T19:05:18.070279",
flutter:         "device": "6224c675-6598-4bc4-a7d1-e72a22b4b9b0"
flutter:       },
flutter:       "delta": null,
flutter:       "parentId": null,
flutter:       "prevId": null,
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "KojGQk": {
flutter:       "id": "KojGQk",
flutter:       "ty": "paragraph",
flutter:       "attributes": {
flutter:         "delta": "[]",
flutter:         "timestamp": "2025-04-24T19:08:40.012573",
flutter:         "device": "6224c675-6598-4bc4-a7d1-e72a22b4b9b0"
flutter:       },
flutter:       "delta": "[{\"insert\":\"bbb\"}]",
flutter:       "parentId": "BZ7CfX",
flutter:       "prevId": "RrLwZa",
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     }
flutter:   },
flutter:   "childrenMap": {
flutter:     "BZ7CfX": [
flutter:       "RrLwZa",
flutter:       "KojGQk",
flutter:       "YYzkzo"
flutter:     ],
flutter:     "KojGQk": [
flutter:       "mzJEMA"
flutter:     ],
flutter:     "au9YTd": [],
flutter:     "mzJEMA": [
flutter:       "au9YTd"
flutter:     ],
flutter:     "RrLwZa": [],
flutter:     "YYzkzo": []
flutter:   },
flutter:   "rootId": "BZ7CfX"
flutter: }
flutter: onDragStarted
flutter: the drag offset is inside the block, dragOffset(Offset(161.6, 130.5)), globalBlockRect(Rect.fromLTRB(120.0, 94.0, 680.0, 208.0))
flutter: the drag offset is inside the block, dragOffset(Offset(162.4, 129.5)), globalBlockRect(Rect.fromLTRB(120.0, 94.0, 680.0, 208.0))
flutter: the drag offset is inside the block, dragOffset(Offset(165.3, 127.3)), globalBlockRect(Rect.fromLTRB(120.0, 94.0, 680.0, 208.0))
flutter: the drag offset is inside the block, dragOffset(Offset(166.5, 125.9)), globalBlockRect(Rect.fromLTRB(120.0, 94.0, 680.0, 208.0))
flutter: the drag offset is inside the block, dragOffset(Offset(169.7, 122.8)), globalBlockRect(Rect.fromLTRB(120.0, 94.0, 680.0, 208.0))
flutter: the drag offset is inside the block, dragOffset(Offset(172.6, 120.6)), globalBlockRect(Rect.fromLTRB(120.0, 94.0, 680.0, 208.0))
flutter: the drag offset is inside the block, dragOffset(Offset(174.2, 120.0)), globalBlockRect(Rect.fromLTRB(120.0, 94.0, 680.0, 208.0))
flutter: the drag offset is inside the block, dragOffset(Offset(175.0, 119.7)), globalBlockRect(Rect.fromLTRB(120.0, 94.0, 680.0, 208.0))
flutter: the drag offset is inside the block, dragOffset(Offset(178.6, 119.7)), globalBlockRect(Rect.fromLTRB(120.0, 94.0, 680.0, 208.0))
flutter: the drag offset is inside the block, dragOffset(Offset(179.6, 119.7)), globalBlockRect(Rect.fromLTRB(120.0, 94.0, 680.0, 208.0))
flutter: the drag offset is inside the block, dragOffset(Offset(184.4, 119.7)), globalBlockRect(Rect.fromLTRB(120.0, 94.0, 680.0, 208.0))
flutter: the drag offset is inside the block, dragOffset(Offset(185.5, 119.7)), globalBlockRect(Rect.fromLTRB(120.0, 94.0, 680.0, 208.0))
flutter: the drag offset is inside the block, dragOffset(Offset(189.0, 119.7)), globalBlockRect(Rect.fromLTRB(120.0, 94.0, 680.0, 208.0))
flutter: the drag offset is inside the block, dragOffset(Offset(192.5, 118.5)), globalBlockRect(Rect.fromLTRB(120.0, 94.0, 680.0, 208.0))
flutter: the drag offset is inside the block, dragOffset(Offset(193.0, 118.5)), globalBlockRect(Rect.fromLTRB(120.0, 94.0, 680.0, 208.0))
flutter: the drag offset is inside the block, dragOffset(Offset(194.6, 118.5)), globalBlockRect(Rect.fromLTRB(120.0, 94.0, 680.0, 208.0))
flutter: the drag offset is inside the block, dragOffset(Offset(196.0, 118.5)), globalBlockRect(Rect.fromLTRB(120.0, 94.0, 680.0, 208.0))
flutter: the drag offset is inside the block, dragOffset(Offset(196.5, 118.3)), globalBlockRect(Rect.fromLTRB(120.0, 94.0, 680.0, 208.0))
flutter: the drag offset is inside the block, dragOffset(Offset(197.2, 118.3)), globalBlockRect(Rect.fromLTRB(120.0, 94.0, 680.0, 208.0))
flutter: the drag offset is inside the block, dragOffset(Offset(197.5, 118.3)), globalBlockRect(Rect.fromLTRB(120.0, 94.0, 680.0, 208.0))
flutter: the drag offset is inside the block, dragOffset(Offset(198.6, 118.3)), globalBlockRect(Rect.fromLTRB(120.0, 94.0, 680.0, 208.0))
flutter: the drag offset is inside the block, dragOffset(Offset(202.0, 121.2)), globalBlockRect(Rect.fromLTRB(120.0, 94.0, 680.0, 208.0))
flutter: the drag offset is inside the block, dragOffset(Offset(203.0, 122.8)), globalBlockRect(Rect.fromLTRB(120.0, 94.0, 680.0, 208.0))
flutter: the drag offset is inside the block, dragOffset(Offset(204.2, 125.2)), globalBlockRect(Rect.fromLTRB(120.0, 94.0, 680.0, 208.0))
flutter: the drag offset is inside the block, dragOffset(Offset(204.7, 126.2)), globalBlockRect(Rect.fromLTRB(120.0, 94.0, 680.0, 208.0))
flutter: the drag offset is inside the block, dragOffset(Offset(205.2, 126.7)), globalBlockRect(Rect.fromLTRB(120.0, 94.0, 680.0, 208.0))
flutter: the drag offset is inside the block, dragOffset(Offset(205.6, 127.8)), globalBlockRect(Rect.fromLTRB(120.0, 94.0, 680.0, 208.0))
flutter: the drag offset is inside the block, dragOffset(Offset(205.6, 130.7)), globalBlockRect(Rect.fromLTRB(120.0, 94.0, 680.0, 208.0))
flutter: the drag offset is inside the block, dragOffset(Offset(206.3, 131.8)), globalBlockRect(Rect.fromLTRB(120.0, 94.0, 680.0, 208.0))
flutter: the drag offset is inside the block, dragOffset(Offset(206.3, 130.7)), globalBlockRect(Rect.fromLTRB(120.0, 94.0, 680.0, 208.0))
flutter: the drag offset is inside the block, dragOffset(Offset(206.9, 124.7)), globalBlockRect(Rect.fromLTRB(120.0, 94.0, 680.0, 208.0))
flutter: the drag offset is inside the block, dragOffset(Offset(207.5, 118.7)), globalBlockRect(Rect.fromLTRB(120.0, 94.0, 680.0, 208.0))
flutter: the drag offset is inside the block, dragOffset(Offset(207.5, 117.5)), globalBlockRect(Rect.fromLTRB(120.0, 94.0, 680.0, 208.0))
flutter: the drag offset is inside the block, dragOffset(Offset(207.5, 115.3)), globalBlockRect(Rect.fromLTRB(120.0, 94.0, 680.0, 208.0))
flutter: the drag offset is inside the block, dragOffset(Offset(209.3, 113.0)), globalBlockRect(Rect.fromLTRB(120.0, 94.0, 680.0, 208.0))
flutter: the drag offset is inside the block, dragOffset(Offset(209.3, 111.9)), globalBlockRect(Rect.fromLTRB(120.0, 94.0, 680.0, 208.0))
flutter: the drag offset is inside the block, dragOffset(Offset(209.6, 110.5)), globalBlockRect(Rect.fromLTRB(120.0, 94.0, 680.0, 208.0))
flutter: the drag offset is inside the block, dragOffset(Offset(209.9, 110.0)), globalBlockRect(Rect.fromLTRB(120.0, 94.0, 680.0, 208.0))
flutter: the drag offset is inside the block, dragOffset(Offset(209.9, 109.7)), globalBlockRect(Rect.fromLTRB(120.0, 94.0, 680.0, 208.0))
flutter: the drag offset is inside the block, dragOffset(Offset(209.9, 109.0)), globalBlockRect(Rect.fromLTRB(120.0, 94.0, 680.0, 208.0))
flutter: the drag offset is inside the block, dragOffset(Offset(210.1, 108.2)), globalBlockRect(Rect.fromLTRB(120.0, 94.0, 680.0, 208.0))
flutter: the drag offset is inside the block, dragOffset(Offset(210.1, 107.7)), globalBlockRect(Rect.fromLTRB(120.0, 94.0, 680.0, 208.0))
flutter: the drag offset is inside the block, dragOffset(Offset(210.1, 106.9)), globalBlockRect(Rect.fromLTRB(120.0, 94.0, 680.0, 208.0))
flutter: the drag offset is inside the block, dragOffset(Offset(210.1, 106.6)), globalBlockRect(Rect.fromLTRB(120.0, 94.0, 680.0, 208.0))
flutter: the drag offset is inside the block, dragOffset(Offset(210.1, 106.1)), globalBlockRect(Rect.fromLTRB(120.0, 94.0, 680.0, 208.0))
flutter: the drag offset is inside the block, dragOffset(Offset(210.6, 105.6)), globalBlockRect(Rect.fromLTRB(120.0, 94.0, 680.0, 208.0))
flutter: the drag offset is inside the block, dragOffset(Offset(210.6, 105.4)), globalBlockRect(Rect.fromLTRB(120.0, 94.0, 680.0, 208.0))
flutter: onDragEnd, acceptedPath([1])
flutter: the drag offset is inside the block, dragOffset(Offset(210.6, 105.4)), globalBlockRect(Rect.fromLTRB(120.0, 94.0, 680.0, 208.0))
flutter: Moving node(Node(id: mzJEMA, type: paragraph, attributes: {delta: [{insert: 111}], timestamp: 2025-04-24T19:08:41.328847, device: 6224c675-6598-4bc4-a7d1-e72a22b4b9b0}, children: [Node(id: au9YTd, type: paragraph, attributes: {delta: [{insert: 222}], device: 6224c675-6598-4bc4-a7d1-e72a22b4b9b0, timestamp: 2025-04-24T19:08:42.723015}, children: [])]), [1, 0]) to path([1])
flutter: Transaction done
apply_action: Starting with 1 actions for doc_id: xxxx
move_block: Moving block_id: mzJEMA from parent: KojGQk to parent: BZ7CfX
remove_block_from_prev_id_chain: Removing block mzJEMA from chain
  Finding blocks that reference mzJEMA as their prev_id
find_block_referencing_prev_id: Searching for blocks with prev_id = mzJEMA
  Found 6 total blocks to check
  Checking block: KojGQk
    Block has prev_id: RrLwZa, matches target: false
  Checking block: BZ7CfX
    Block does not have prev_id
  Checking block: mzJEMA
    Block does not have prev_id
  Checking block: YYzkzo
    Block has prev_id: KojGQk, matches target: false
  Checking block: au9YTd
    Block does not have prev_id
  Checking block: RrLwZa
    Block does not have prev_id
find_block_referencing_prev_id: Found 0 blocks with prev_id = mzJEMA: []
  Found 0 next blocks: []
remove_block_from_prev_id_chain: Completed
handle_following_connection: block_id=mzJEMA, next_id=Some("KojGQk"), prev_id=Some("RrLwZa")
  Using prev_id strategy (prev_id=RrLwZa)
find_block_referencing_prev_id: Searching for blocks with prev_id = RrLwZa
  Found 6 total blocks to check
  Checking block: KojGQk
    Block has prev_id: RrLwZa, matches target: true
  Checking block: BZ7CfX
    Block does not have prev_id
  Checking block: mzJEMA
    Block does not have prev_id
  Checking block: YYzkzo
    Block has prev_id: KojGQk, matches target: false
  Checking block: au9YTd
    Block does not have prev_id
  Checking block: RrLwZa
    Block does not have prev_id
find_block_referencing_prev_id: Found 1 blocks with prev_id = RrLwZa: ["KojGQk"]
  Found 1 nodes that reference prev_id RrLwZa: ["KojGQk"]
  Updating block KojGQk to point to mzJEMA
  Finished prev_id strategy
move_block: Moved block between parents
apply_action: Encoding state for doc_id: xxxx
apply_updates: Starting with 29 updates for doc_id: xxxx
apply_updates: Starting with 29 updates for doc_id: xxxx
apply_updates: Applying update for doc_id: xxxx
apply_updates: Finished for doc_id: xxxx
apply_updates: Successfully applied updates for doc_id: xxxx
get_document_state: Starting for doc_id: xxxx
extract_document_state: Starting for doc_id: xxxx
extract_document_state: Processing 6 blocks
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
====== STARTING BLOCK SORTING ======
Input children_map has 6 parent nodes

----- Sorting children of parent: au9YTd -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent au9YTd: []

----- Sorting children of parent: KojGQk -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent KojGQk: []

----- Sorting children of parent: mzJEMA -----
Parent has 1 children to sort
Mapped 1 valid blocks by ID
Block au9YTd assigned to device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
Grouped blocks into 1 devices
  - Device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0 has 1 blocks
Block au9YTd has no prev_id
Built prev->next map with 0 entries
Device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0 has 1 root blocks: ["au9YTd"]
Processing devices in order: ["6224c675-6598-4bc4-a7d1-e72a22b4b9b0"]

Processing device: 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
Sorted roots for device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0: ["au9YTd"]
Starting chain from root: au9YTd
  Adding block au9YTd to sorted list
  No next blocks for au9YTd
No remaining blocks for device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
No globally remaining blocks
Final sorted order for parent mzJEMA: ["au9YTd"]

----- Sorting children of parent: YYzkzo -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent YYzkzo: []

----- Sorting children of parent: BZ7CfX -----
Parent has 4 children to sort
Mapped 4 valid blocks by ID
Block KojGQk assigned to device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
Block mzJEMA assigned to device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
Block YYzkzo assigned to device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
Block RrLwZa assigned to device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
Grouped blocks into 1 devices
  - Device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0 has 4 blocks
Block KojGQk has prev_id mzJEMA
Block mzJEMA has prev_id RrLwZa
Block YYzkzo has prev_id KojGQk
Block RrLwZa has no prev_id
Built prev->next map with 3 entries
  - mzJEMA has 1 next blocks: ["KojGQk"]
  - RrLwZa has 1 next blocks: ["mzJEMA"]
  - KojGQk has 1 next blocks: ["YYzkzo"]
Device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0 has 1 root blocks: ["RrLwZa"]
Processing devices in order: ["6224c675-6598-4bc4-a7d1-e72a22b4b9b0"]

Processing device: 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
Sorted roots for device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0: ["RrLwZa"]
Starting chain from root: RrLwZa
  Adding block RrLwZa to sorted list
    Pushing mzJEMA onto stack
  Adding block mzJEMA to sorted list
    Pushing KojGQk onto stack
  Adding block KojGQk to sorted list
    Pushing YYzkzo onto stack
  Adding block YYzkzo to sorted list
  No next blocks for YYzkzo
No remaining blocks for device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
No globally remaining blocks
Final sorted order for parent BZ7CfX: ["RrLwZa", "mzJEMA", "KojGQk", "YYzkzo"]

----- Sorting children of parent: RrLwZa -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent RrLwZa: []
====== COMPLETED BLOCK SORTING ======
Final sorted children map has 6 parents
extract_document_state: Extracted 6 blocks and 6 parent-child relationships
get_document_state: Finished for doc_id: xxxx
flutter: {
flutter:   "docId": "xxxx",
flutter:   "blocks": {
flutter:     "KojGQk": {
flutter:       "id": "KojGQk",
flutter:       "ty": "paragraph",
flutter:       "attributes": {
flutter:         "device": "6224c675-6598-4bc4-a7d1-e72a22b4b9b0",
flutter:         "delta": "[]",
flutter:         "timestamp": "2025-04-24T19:08:40.012573"
flutter:       },
flutter:       "delta": "[{\"insert\":\"bbb\"}]",
flutter:       "parentId": "BZ7CfX",
flutter:       "prevId": "mzJEMA",
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "BZ7CfX": {
flutter:       "id": "BZ7CfX",
flutter:       "ty": "page",
flutter:       "attributes": {
flutter:         "timestamp": "2025-04-24T19:05:18.070279",
flutter:         "device": "6224c675-6598-4bc4-a7d1-e72a22b4b9b0"
flutter:       },
flutter:       "delta": null,
flutter:       "parentId": null,
flutter:       "prevId": null,
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "YYzkzo": {
flutter:       "id": "YYzkzo",
flutter:       "ty": "paragraph",
flutter:       "attributes": {
flutter:         "timestamp": "2025-04-24T19:08:45.035941",
flutter:         "delta": "[]",
flutter:         "device": "6224c675-6598-4bc4-a7d1-e72a22b4b9b0"
flutter:       },
flutter:       "delta": "[{\"insert\":\"ccc\"}]",
flutter:       "parentId": "BZ7CfX",
flutter:       "prevId": "KojGQk",
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "RrLwZa": {
flutter:       "id": "RrLwZa",
flutter:       "ty": "paragraph",
flutter:       "attributes": {
flutter:         "timestamp": "2025-04-24T19:05:18.074153",
flutter:         "delta": "[]",
flutter:         "device": "6224c675-6598-4bc4-a7d1-e72a22b4b9b0"
flutter:       },
flutter:       "delta": "[{\"insert\":\"aaa\"}]",
flutter:       "parentId": "BZ7CfX",
flutter:       "prevId": null,
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "au9YTd": {
flutter:       "id": "au9YTd",
flutter:       "ty": "paragraph",
flutter:       "attributes": {
flutter:         "delta": "[]",
flutter:         "device": "6224c675-6598-4bc4-a7d1-e72a22b4b9b0",
flutter:         "timestamp": "2025-04-24T19:08:42.723015"
flutter:       },
flutter:       "delta": "[{\"insert\":\"222\"}]",
flutter:       "parentId": "mzJEMA",
flutter:       "prevId": null,
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "mzJEMA": {
flutter:       "id": "mzJEMA",
flutter:       "ty": "paragraph",
flutter:       "attributes": {
flutter:         "timestamp": "2025-04-24T19:08:41.328847",
flutter:         "delta": "[]",
flutter:         "device": "6224c675-6598-4bc4-a7d1-e72a22b4b9b0"
flutter:       },
flutter:       "delta": "[{\"insert\":\"111\"}]",
flutter:       "parentId": "BZ7CfX",
flutter:       "prevId": "RrLwZa",
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     }
flutter:   },
flutter:   "childrenMap": {
flutter:     "RrLwZa": [],
flutter:     "KojGQk": [],
flutter:     "BZ7CfX": [
flutter:       "RrLwZa",
flutter:       "mzJEMA",
flutter:       "KojGQk",
flutter:       "YYzkzo"
flutter:     ],
flutter:     "mzJEMA": [
flutter:       "au9YTd"
flutter:     ],
flutter:     "YYzkzo": [],
flutter:     "au9YTd": []
flutter:   },
flutter:   "rootId": "BZ7CfX"
flutter: }
merge_updates: Merging 1 updates
merge_updates: Successfully merged updates
apply_updates: Starting with 30 updates for doc_id: xxxx
apply_updates: Starting with 30 updates for doc_id: xxxx
apply_updates: Applying update for doc_id: xxxx
apply_updates: Finished for doc_id: xxxx
apply_updates: Successfully applied updates for doc_id: xxxx
get_document_state: Starting for doc_id: xxxx
extract_document_state: Starting for doc_id: xxxx
extract_document_state: Processing 6 blocks
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
====== STARTING BLOCK SORTING ======
Input children_map has 6 parent nodes

----- Sorting children of parent: au9YTd -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent au9YTd: []

----- Sorting children of parent: mzJEMA -----
Parent has 1 children to sort
Mapped 1 valid blocks by ID
Block au9YTd assigned to device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
Grouped blocks into 1 devices
  - Device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0 has 1 blocks
Block au9YTd has no prev_id
Built prev->next map with 0 entries
Device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0 has 1 root blocks: ["au9YTd"]
Processing devices in order: ["6224c675-6598-4bc4-a7d1-e72a22b4b9b0"]

Processing device: 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
Sorted roots for device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0: ["au9YTd"]
Starting chain from root: au9YTd
  Adding block au9YTd to sorted list
  No next blocks for au9YTd
No remaining blocks for device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
No globally remaining blocks
Final sorted order for parent mzJEMA: ["au9YTd"]

----- Sorting children of parent: YYzkzo -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent YYzkzo: []

----- Sorting children of parent: RrLwZa -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent RrLwZa: []

----- Sorting children of parent: KojGQk -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent KojGQk: []

----- Sorting children of parent: BZ7CfX -----
Parent has 4 children to sort
Mapped 4 valid blocks by ID
Block RrLwZa assigned to device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
Block mzJEMA assigned to device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
Block YYzkzo assigned to device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
Block KojGQk assigned to device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
Grouped blocks into 1 devices
  - Device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0 has 4 blocks
Block RrLwZa has no prev_id
Block mzJEMA has prev_id RrLwZa
Block YYzkzo has prev_id KojGQk
Block KojGQk has prev_id mzJEMA
Built prev->next map with 3 entries
  - mzJEMA has 1 next blocks: ["KojGQk"]
  - RrLwZa has 1 next blocks: ["mzJEMA"]
  - KojGQk has 1 next blocks: ["YYzkzo"]
Device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0 has 1 root blocks: ["RrLwZa"]
Processing devices in order: ["6224c675-6598-4bc4-a7d1-e72a22b4b9b0"]

Processing device: 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
Sorted roots for device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0: ["RrLwZa"]
Starting chain from root: RrLwZa
  Adding block RrLwZa to sorted list
    Pushing mzJEMA onto stack
  Adding block mzJEMA to sorted list
    Pushing KojGQk onto stack
  Adding block KojGQk to sorted list
    Pushing YYzkzo onto stack
  Adding block YYzkzo to sorted list
  No next blocks for YYzkzo
No remaining blocks for device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
No globally remaining blocks
Final sorted order for parent BZ7CfX: ["RrLwZa", "mzJEMA", "KojGQk", "YYzkzo"]
====== COMPLETED BLOCK SORTING ======
Final sorted children map has 6 parents
extract_document_state: Extracted 6 blocks and 6 parent-child relationships
get_document_state: Finished for doc_id: xxxx
flutter: {
flutter:   "docId": "xxxx",
flutter:   "blocks": {
flutter:     "mzJEMA": {
flutter:       "id": "mzJEMA",
flutter:       "ty": "paragraph",
flutter:       "attributes": {
flutter:         "device": "6224c675-6598-4bc4-a7d1-e72a22b4b9b0",
flutter:         "delta": "[]",
flutter:         "timestamp": "2025-04-24T19:08:41.328847"
flutter:       },
flutter:       "delta": "[{\"insert\":\"111\"}]",
flutter:       "parentId": "BZ7CfX",
flutter:       "prevId": "RrLwZa",
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "YYzkzo": {
flutter:       "id": "YYzkzo",
flutter:       "ty": "paragraph",
flutter:       "attributes": {
flutter:         "timestamp": "2025-04-24T19:08:45.035941",
flutter:         "device": "6224c675-6598-4bc4-a7d1-e72a22b4b9b0",
flutter:         "delta": "[]"
flutter:       },
flutter:       "delta": "[{\"insert\":\"ccc\"}]",
flutter:       "parentId": "BZ7CfX",
flutter:       "prevId": "KojGQk",
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "RrLwZa": {
flutter:       "id": "RrLwZa",
flutter:       "ty": "paragraph",
flutter:       "attributes": {
flutter:         "device": "6224c675-6598-4bc4-a7d1-e72a22b4b9b0",
flutter:         "timestamp": "2025-04-24T19:05:18.074153",
flutter:         "delta": "[]"
flutter:       },
flutter:       "delta": "[{\"insert\":\"aaa\"}]",
flutter:       "parentId": "BZ7CfX",
flutter:       "prevId": null,
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "KojGQk": {
flutter:       "id": "KojGQk",
flutter:       "ty": "paragraph",
flutter:       "attributes": {
flutter:         "timestamp": "2025-04-24T19:08:40.012573",
flutter:         "delta": "[]",
flutter:         "device": "6224c675-6598-4bc4-a7d1-e72a22b4b9b0"
flutter:       },
flutter:       "delta": "[{\"insert\":\"bbb\"}]",
flutter:       "parentId": "BZ7CfX",
flutter:       "prevId": "mzJEMA",
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "BZ7CfX": {
flutter:       "id": "BZ7CfX",
flutter:       "ty": "page",
flutter:       "attributes": {
flutter:         "device": "6224c675-6598-4bc4-a7d1-e72a22b4b9b0",
flutter:         "timestamp": "2025-04-24T19:05:18.070279"
flutter:       },
flutter:       "delta": null,
flutter:       "parentId": null,
flutter:       "prevId": null,
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "au9YTd": {
flutter:       "id": "au9YTd",
flutter:       "ty": "paragraph",
flutter:       "attributes": {
flutter:         "device": "6224c675-6598-4bc4-a7d1-e72a22b4b9b0",
flutter:         "delta": "[]",
flutter:         "timestamp": "2025-04-24T19:08:42.723015"
flutter:       },
flutter:       "delta": "[{\"insert\":\"222\"}]",
flutter:       "parentId": "mzJEMA",
flutter:       "prevId": null,
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     }
flutter:   },
flutter:   "childrenMap": {
flutter:     "au9YTd": [],
flutter:     "KojGQk": [],
flutter:     "BZ7CfX": [
flutter:       "RrLwZa",
flutter:       "mzJEMA",
flutter:       "KojGQk",
flutter:       "YYzkzo"
flutter:     ],
flutter:     "mzJEMA": [
flutter:       "au9YTd"
flutter:     ],
flutter:     "RrLwZa": [],
flutter:     "YYzkzo": []
flutter:   },
flutter:   "rootId": "BZ7CfX"
flutter: }
flutter: onDragStarted
flutter: the drag offset is inside the block, dragOffset(Offset(154.7, 91.6)), globalBlockRect(Rect.fromLTRB(120.0, 56.0, 680.0, 94.0))
flutter: the drag offset is inside the block, dragOffset(Offset(164.1, 84.8)), globalBlockRect(Rect.fromLTRB(120.0, 56.0, 680.0, 94.0))
flutter: the drag offset is inside the block, dragOffset(Offset(169.3, 81.3)), globalBlockRect(Rect.fromLTRB(120.0, 56.0, 680.0, 94.0))
flutter: the drag offset is inside the block, dragOffset(Offset(174.0, 77.3)), globalBlockRect(Rect.fromLTRB(120.0, 56.0, 680.0, 94.0))
flutter: the drag offset is inside the block, dragOffset(Offset(176.3, 75.0)), globalBlockRect(Rect.fromLTRB(120.0, 56.0, 680.0, 94.0))
flutter: the drag offset is inside the block, dragOffset(Offset(176.8, 74.8)), globalBlockRect(Rect.fromLTRB(120.0, 56.0, 680.0, 94.0))
flutter: the drag offset is inside the block, dragOffset(Offset(177.6, 74.5)), globalBlockRect(Rect.fromLTRB(120.0, 56.0, 680.0, 94.0))
flutter: the drag offset is inside the block, dragOffset(Offset(178.1, 74.0)), globalBlockRect(Rect.fromLTRB(120.0, 56.0, 680.0, 94.0))
flutter: the drag offset is inside the block, dragOffset(Offset(178.6, 73.5)), globalBlockRect(Rect.fromLTRB(120.0, 56.0, 680.0, 94.0))
flutter: the drag offset is inside the block, dragOffset(Offset(178.8, 73.5)), globalBlockRect(Rect.fromLTRB(120.0, 56.0, 680.0, 94.0))
flutter: the drag offset is inside the block, dragOffset(Offset(179.1, 73.2)), globalBlockRect(Rect.fromLTRB(120.0, 56.0, 680.0, 94.0))
flutter: the drag offset is inside the block, dragOffset(Offset(180.5, 72.5)), globalBlockRect(Rect.fromLTRB(120.0, 56.0, 680.0, 94.0))
flutter: the drag offset is inside the block, dragOffset(Offset(181.0, 72.2)), globalBlockRect(Rect.fromLTRB(120.0, 56.0, 680.0, 94.0))
flutter: the drag offset is inside the block, dragOffset(Offset(181.2, 72.2)), globalBlockRect(Rect.fromLTRB(120.0, 56.0, 680.0, 94.0))
flutter: the drag offset is inside the block, dragOffset(Offset(182.6, 71.9)), globalBlockRect(Rect.fromLTRB(120.0, 56.0, 680.0, 94.0))
flutter: the drag offset is inside the block, dragOffset(Offset(183.1, 71.7)), globalBlockRect(Rect.fromLTRB(120.0, 56.0, 680.0, 94.0))
flutter: the drag offset is inside the block, dragOffset(Offset(184.2, 71.7)), globalBlockRect(Rect.fromLTRB(120.0, 56.0, 680.0, 94.0))
flutter: the drag offset is inside the block, dragOffset(Offset(185.0, 71.7)), globalBlockRect(Rect.fromLTRB(120.0, 56.0, 680.0, 94.0))
flutter: the drag offset is inside the block, dragOffset(Offset(185.2, 71.7)), globalBlockRect(Rect.fromLTRB(120.0, 56.0, 680.0, 94.0))
flutter: the drag offset is inside the block, dragOffset(Offset(185.7, 71.7)), globalBlockRect(Rect.fromLTRB(120.0, 56.0, 680.0, 94.0))
flutter: the drag offset is inside the block, dragOffset(Offset(186.5, 71.7)), globalBlockRect(Rect.fromLTRB(120.0, 56.0, 680.0, 94.0))
flutter: the drag offset is inside the block, dragOffset(Offset(186.8, 71.7)), globalBlockRect(Rect.fromLTRB(120.0, 56.0, 680.0, 94.0))
flutter: the drag offset is inside the block, dragOffset(Offset(188.1, 72.6)), globalBlockRect(Rect.fromLTRB(120.0, 56.0, 680.0, 94.0))
flutter: the drag offset is inside the block, dragOffset(Offset(189.3, 74.8)), globalBlockRect(Rect.fromLTRB(120.0, 56.0, 680.0, 94.0))
flutter: the drag offset is inside the block, dragOffset(Offset(189.3, 75.1)), globalBlockRect(Rect.fromLTRB(120.0, 56.0, 680.0, 94.0))
flutter: the drag offset is inside the block, dragOffset(Offset(190.3, 76.7)), globalBlockRect(Rect.fromLTRB(120.0, 56.0, 680.0, 94.0))
flutter: the drag offset is inside the block, dragOffset(Offset(190.3, 77.8)), globalBlockRect(Rect.fromLTRB(120.0, 56.0, 680.0, 94.0))
flutter: the drag offset is inside the block, dragOffset(Offset(192.0, 79.6)), globalBlockRect(Rect.fromLTRB(120.0, 56.0, 680.0, 94.0))
flutter: the drag offset is inside the block, dragOffset(Offset(192.0, 80.4)), globalBlockRect(Rect.fromLTRB(120.0, 56.0, 680.0, 94.0))
flutter: the drag offset is inside the block, dragOffset(Offset(192.0, 81.1)), globalBlockRect(Rect.fromLTRB(120.0, 56.0, 680.0, 94.0))
flutter: the drag offset is inside the block, dragOffset(Offset(192.0, 81.6)), globalBlockRect(Rect.fromLTRB(120.0, 56.0, 680.0, 94.0))
flutter: the drag offset is inside the block, dragOffset(Offset(192.0, 81.9)), globalBlockRect(Rect.fromLTRB(120.0, 56.0, 680.0, 94.0))
flutter: onDragEnd, acceptedPath([1])
flutter: the drag offset is inside the block, dragOffset(Offset(192.0, 81.9)), globalBlockRect(Rect.fromLTRB(120.0, 56.0, 680.0, 94.0))
flutter: Moving node(Node(id: mzJEMA, type: paragraph, attributes: {delta: [{insert: 111}], timestamp: 2025-04-24T19:08:41.328847, device: 6224c675-6598-4bc4-a7d1-e72a22b4b9b0}, children: [Node(id: au9YTd, type: paragraph, attributes: {delta: [{insert: 222}], device: 6224c675-6598-4bc4-a7d1-e72a22b4b9b0, timestamp: 2025-04-24T19:08:42.723015}, children: [])]), [1]) to path([0])
flutter: Transaction done
apply_action: Starting with 1 actions for doc_id: xxxx
move_block: Moving block_id: mzJEMA from parent: BZ7CfX to parent: RrLwZa
remove_block_from_prev_id_chain: Removing block mzJEMA from chain
  Block mzJEMA has prev_id: RrLwZa
  Finding blocks that reference mzJEMA as their prev_id
find_block_referencing_prev_id: Searching for blocks with prev_id = mzJEMA
  Found 6 total blocks to check
  Checking block: YYzkzo
    Block has prev_id: KojGQk, matches target: false
  Checking block: RrLwZa
    Block does not have prev_id
  Checking block: KojGQk
    Block has prev_id: mzJEMA, matches target: true
  Checking block: mzJEMA
    Block has prev_id: RrLwZa, matches target: false
  Checking block: BZ7CfX
    Block does not have prev_id
  Checking block: au9YTd
    Block does not have prev_id
find_block_referencing_prev_id: Found 1 blocks with prev_id = mzJEMA: ["KojGQk"]
  Found 1 next blocks: ["KojGQk"]
  Updating next block KojGQk to point to RrLwZa (was pointing to mzJEMA)
remove_block_from_prev_id_chain: Completed
handle_following_connection: block_id=mzJEMA, next_id=None, prev_id=None
  No prev_id or next_id provided, nothing to handle
handle_following_connection: Completed
move_block: Moved block between parents
apply_action: Encoding state for doc_id: xxxx
apply_updates: Starting with 8 updates for doc_id: xxxx
apply_updates: Starting with 8 updates for doc_id: xxxx
apply_updates: Applying update for doc_id: xxxx
apply_updates: Finished for doc_id: xxxx
apply_updates: Successfully applied updates for doc_id: xxxx
get_document_state: Starting for doc_id: xxxx
extract_document_state: Starting for doc_id: xxxx
extract_document_state: Processing 6 blocks
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
====== STARTING BLOCK SORTING ======
Input children_map has 6 parent nodes

----- Sorting children of parent: au9YTd -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent au9YTd: []

----- Sorting children of parent: RrLwZa -----
Parent has 1 children to sort
Mapped 1 valid blocks by ID
Block mzJEMA assigned to device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
Grouped blocks into 1 devices
  - Device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0 has 1 blocks
Block mzJEMA has no prev_id
Built prev->next map with 0 entries
Device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0 has 1 root blocks: ["mzJEMA"]
Processing devices in order: ["6224c675-6598-4bc4-a7d1-e72a22b4b9b0"]

Processing device: 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
Sorted roots for device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0: ["mzJEMA"]
Starting chain from root: mzJEMA
  Adding block mzJEMA to sorted list
  No next blocks for mzJEMA
No remaining blocks for device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
No globally remaining blocks
Final sorted order for parent RrLwZa: ["mzJEMA"]

----- Sorting children of parent: BZ7CfX -----
Parent has 3 children to sort
Mapped 3 valid blocks by ID
Block YYzkzo assigned to device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
Block KojGQk assigned to device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
Block RrLwZa assigned to device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
Grouped blocks into 1 devices
  - Device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0 has 3 blocks
Block YYzkzo has prev_id KojGQk
Block KojGQk has prev_id RrLwZa
Block RrLwZa has no prev_id
Built prev->next map with 2 entries
  - RrLwZa has 1 next blocks: ["KojGQk"]
  - KojGQk has 1 next blocks: ["YYzkzo"]
Device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0 has 1 root blocks: ["RrLwZa"]
Processing devices in order: ["6224c675-6598-4bc4-a7d1-e72a22b4b9b0"]

Processing device: 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
Sorted roots for device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0: ["RrLwZa"]
Starting chain from root: RrLwZa
  Adding block RrLwZa to sorted list
    Pushing KojGQk onto stack
  Adding block KojGQk to sorted list
    Pushing YYzkzo onto stack
  Adding block YYzkzo to sorted list
  No next blocks for YYzkzo
No remaining blocks for device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
No globally remaining blocks
Final sorted order for parent BZ7CfX: ["RrLwZa", "KojGQk", "YYzkzo"]

----- Sorting children of parent: KojGQk -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent KojGQk: []

----- Sorting children of parent: YYzkzo -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent YYzkzo: []

----- Sorting children of parent: mzJEMA -----
Parent has 1 children to sort
Mapped 1 valid blocks by ID
Block au9YTd assigned to device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
Grouped blocks into 1 devices
  - Device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0 has 1 blocks
Block au9YTd has no prev_id
Built prev->next map with 0 entries
Device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0 has 1 root blocks: ["au9YTd"]
Processing devices in order: ["6224c675-6598-4bc4-a7d1-e72a22b4b9b0"]

Processing device: 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
Sorted roots for device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0: ["au9YTd"]
Starting chain from root: au9YTd
  Adding block au9YTd to sorted list
  No next blocks for au9YTd
No remaining blocks for device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
No globally remaining blocks
Final sorted order for parent mzJEMA: ["au9YTd"]
====== COMPLETED BLOCK SORTING ======
Final sorted children map has 6 parents
extract_document_state: Extracted 6 blocks and 6 parent-child relationships
get_document_state: Finished for doc_id: xxxx
flutter: {
flutter:   "docId": "xxxx",
flutter:   "blocks": {
flutter:     "BZ7CfX": {
flutter:       "id": "BZ7CfX",
flutter:       "ty": "page",
flutter:       "attributes": {
flutter:         "device": "6224c675-6598-4bc4-a7d1-e72a22b4b9b0",
flutter:         "timestamp": "2025-04-24T19:05:18.070279"
flutter:       },
flutter:       "delta": null,
flutter:       "parentId": null,
flutter:       "prevId": null,
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "au9YTd": {
flutter:       "id": "au9YTd",
flutter:       "ty": "paragraph",
flutter:       "attributes": {
flutter:         "timestamp": "2025-04-24T19:08:42.723015",
flutter:         "device": "6224c675-6598-4bc4-a7d1-e72a22b4b9b0",
flutter:         "delta": "[]"
flutter:       },
flutter:       "delta": "[{\"insert\":\"222\"}]",
flutter:       "parentId": "mzJEMA",
flutter:       "prevId": null,
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "YYzkzo": {
flutter:       "id": "YYzkzo",
flutter:       "ty": "paragraph",
flutter:       "attributes": {
flutter:         "timestamp": "2025-04-24T19:08:45.035941",
flutter:         "delta": "[]",
flutter:         "device": "6224c675-6598-4bc4-a7d1-e72a22b4b9b0"
flutter:       },
flutter:       "delta": "[{\"insert\":\"ccc\"}]",
flutter:       "parentId": "BZ7CfX",
flutter:       "prevId": "KojGQk",
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "RrLwZa": {
flutter:       "id": "RrLwZa",
flutter:       "ty": "paragraph",
flutter:       "attributes": {
flutter:         "delta": "[]",
flutter:         "timestamp": "2025-04-24T19:05:18.074153",
flutter:         "device": "6224c675-6598-4bc4-a7d1-e72a22b4b9b0"
flutter:       },
flutter:       "delta": "[{\"insert\":\"aaa\"}]",
flutter:       "parentId": "BZ7CfX",
flutter:       "prevId": null,
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "mzJEMA": {
flutter:       "id": "mzJEMA",
flutter:       "ty": "paragraph",
flutter:       "attributes": {
flutter:         "device": "6224c675-6598-4bc4-a7d1-e72a22b4b9b0",
flutter:         "delta": "[]",
flutter:         "timestamp": "2025-04-24T19:08:41.328847"
flutter:       },
flutter:       "delta": "[{\"insert\":\"111\"}]",
flutter:       "parentId": "RrLwZa",
flutter:       "prevId": null,
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "KojGQk": {
flutter:       "id": "KojGQk",
flutter:       "ty": "paragraph",
flutter:       "attributes": {
flutter:         "delta": "[]",
flutter:         "timestamp": "2025-04-24T19:08:40.012573",
flutter:         "device": "6224c675-6598-4bc4-a7d1-e72a22b4b9b0"
flutter:       },
flutter:       "delta": "[{\"insert\":\"bbb\"}]",
flutter:       "parentId": "BZ7CfX",
flutter:       "prevId": "RrLwZa",
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     }
flutter:   },
flutter:   "childrenMap": {
flutter:     "KojGQk": [],
flutter:     "mzJEMA": [
flutter:       "au9YTd"
flutter:     ],
flutter:     "RrLwZa": [
flutter:       "mzJEMA"
flutter:     ],
flutter:     "YYzkzo": [],
flutter:     "au9YTd": [],
flutter:     "BZ7CfX": [
flutter:       "RrLwZa",
flutter:       "KojGQk",
flutter:       "YYzkzo"
flutter:     ]
flutter:   },
flutter:   "rootId": "BZ7CfX"
flutter: }
merge_updates: Merging 1 updates
merge_updates: Successfully merged updates
apply_updates: Starting with 9 updates for doc_id: xxxx
apply_updates: Starting with 9 updates for doc_id: xxxx
apply_updates: Applying update for doc_id: xxxx
apply_updates: Finished for doc_id: xxxx
apply_updates: Successfully applied updates for doc_id: xxxx
get_document_state: Starting for doc_id: xxxx
extract_document_state: Starting for doc_id: xxxx
extract_document_state: Processing 6 blocks
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
====== STARTING BLOCK SORTING ======
Input children_map has 6 parent nodes

----- Sorting children of parent: RrLwZa -----
Parent has 1 children to sort
Mapped 1 valid blocks by ID
Block mzJEMA assigned to device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
Grouped blocks into 1 devices
  - Device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0 has 1 blocks
Block mzJEMA has no prev_id
Built prev->next map with 0 entries
Device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0 has 1 root blocks: ["mzJEMA"]
Processing devices in order: ["6224c675-6598-4bc4-a7d1-e72a22b4b9b0"]

Processing device: 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
Sorted roots for device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0: ["mzJEMA"]
Starting chain from root: mzJEMA
  Adding block mzJEMA to sorted list
  No next blocks for mzJEMA
No remaining blocks for device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
No globally remaining blocks
Final sorted order for parent RrLwZa: ["mzJEMA"]

----- Sorting children of parent: BZ7CfX -----
Parent has 3 children to sort
Mapped 3 valid blocks by ID
Block RrLwZa assigned to device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
Block KojGQk assigned to device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
Block YYzkzo assigned to device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
Grouped blocks into 1 devices
  - Device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0 has 3 blocks
Block RrLwZa has no prev_id
Block KojGQk has prev_id RrLwZa
Block YYzkzo has prev_id KojGQk
Built prev->next map with 2 entries
  - RrLwZa has 1 next blocks: ["KojGQk"]
  - KojGQk has 1 next blocks: ["YYzkzo"]
Device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0 has 1 root blocks: ["RrLwZa"]
Processing devices in order: ["6224c675-6598-4bc4-a7d1-e72a22b4b9b0"]

Processing device: 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
Sorted roots for device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0: ["RrLwZa"]
Starting chain from root: RrLwZa
  Adding block RrLwZa to sorted list
    Pushing KojGQk onto stack
  Adding block KojGQk to sorted list
    Pushing YYzkzo onto stack
  Adding block YYzkzo to sorted list
  No next blocks for YYzkzo
No remaining blocks for device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
No globally remaining blocks
Final sorted order for parent BZ7CfX: ["RrLwZa", "KojGQk", "YYzkzo"]

----- Sorting children of parent: mzJEMA -----
Parent has 1 children to sort
Mapped 1 valid blocks by ID
Block au9YTd assigned to device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
Grouped blocks into 1 devices
  - Device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0 has 1 blocks
Block au9YTd has no prev_id
Built prev->next map with 0 entries
Device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0 has 1 root blocks: ["au9YTd"]
Processing devices in order: ["6224c675-6598-4bc4-a7d1-e72a22b4b9b0"]

Processing device: 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
Sorted roots for device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0: ["au9YTd"]
Starting chain from root: au9YTd
  Adding block au9YTd to sorted list
  No next blocks for au9YTd
No remaining blocks for device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
No globally remaining blocks
Final sorted order for parent mzJEMA: ["au9YTd"]

----- Sorting children of parent: YYzkzo -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent YYzkzo: []

----- Sorting children of parent: KojGQk -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent KojGQk: []

----- Sorting children of parent: au9YTd -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent au9YTd: []
====== COMPLETED BLOCK SORTING ======
Final sorted children map has 6 parents
extract_document_state: Extracted 6 blocks and 6 parent-child relationships
get_document_state: Finished for doc_id: xxxx
flutter: {
flutter:   "docId": "xxxx",
flutter:   "blocks": {
flutter:     "YYzkzo": {
flutter:       "id": "YYzkzo",
flutter:       "ty": "paragraph",
flutter:       "attributes": {
flutter:         "timestamp": "2025-04-24T19:08:45.035941",
flutter:         "device": "6224c675-6598-4bc4-a7d1-e72a22b4b9b0",
flutter:         "delta": "[]"
flutter:       },
flutter:       "delta": "[{\"insert\":\"ccc\"}]",
flutter:       "parentId": "BZ7CfX",
flutter:       "prevId": "KojGQk",
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "RrLwZa": {
flutter:       "id": "RrLwZa",
flutter:       "ty": "paragraph",
flutter:       "attributes": {
flutter:         "device": "6224c675-6598-4bc4-a7d1-e72a22b4b9b0",
flutter:         "timestamp": "2025-04-24T19:05:18.074153",
flutter:         "delta": "[]"
flutter:       },
flutter:       "delta": "[{\"insert\":\"aaa\"}]",
flutter:       "parentId": "BZ7CfX",
flutter:       "prevId": null,
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "BZ7CfX": {
flutter:       "id": "BZ7CfX",
flutter:       "ty": "page",
flutter:       "attributes": {
flutter:         "timestamp": "2025-04-24T19:05:18.070279",
flutter:         "device": "6224c675-6598-4bc4-a7d1-e72a22b4b9b0"
flutter:       },
flutter:       "delta": null,
flutter:       "parentId": null,
flutter:       "prevId": null,
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "au9YTd": {
flutter:       "id": "au9YTd",
flutter:       "ty": "paragraph",
flutter:       "attributes": {
flutter:         "delta": "[]",
flutter:         "device": "6224c675-6598-4bc4-a7d1-e72a22b4b9b0",
flutter:         "timestamp": "2025-04-24T19:08:42.723015"
flutter:       },
flutter:       "delta": "[{\"insert\":\"222\"}]",
flutter:       "parentId": "mzJEMA",
flutter:       "prevId": null,
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "KojGQk": {
flutter:       "id": "KojGQk",
flutter:       "ty": "paragraph",
flutter:       "attributes": {
flutter:         "delta": "[]",
flutter:         "timestamp": "2025-04-24T19:08:40.012573",
flutter:         "device": "6224c675-6598-4bc4-a7d1-e72a22b4b9b0"
flutter:       },
flutter:       "delta": "[{\"insert\":\"bbb\"}]",
flutter:       "parentId": "BZ7CfX",
flutter:       "prevId": "RrLwZa",
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "mzJEMA": {
flutter:       "id": "mzJEMA",
flutter:       "ty": "paragraph",
flutter:       "attributes": {
flutter:         "timestamp": "2025-04-24T19:08:41.328847",
flutter:         "delta": "[]",
flutter:         "device": "6224c675-6598-4bc4-a7d1-e72a22b4b9b0"
flutter:       },
flutter:       "delta": "[{\"insert\":\"111\"}]",
flutter:       "parentId": "RrLwZa",
flutter:       "prevId": null,
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     }
flutter:   },
flutter:   "childrenMap": {
flutter:     "mzJEMA": [
flutter:       "au9YTd"
flutter:     ],
flutter:     "YYzkzo": [],
flutter:     "KojGQk": [],
flutter:     "au9YTd": [],
flutter:     "BZ7CfX": [
flutter:       "RrLwZa",
flutter:       "KojGQk",
flutter:       "YYzkzo"
flutter:     ],
flutter:     "RrLwZa": [
flutter:       "mzJEMA"
flutter:     ]
flutter:   },
flutter:   "rootId": "BZ7CfX"
flutter: }
flutter: onDragStarted
flutter: the drag offset is inside the block, dragOffset(Offset(191.3, 178.5)), globalBlockRect(Rect.fromLTRB(120.0, 170.0, 680.0, 208.0))
flutter: the drag offset is inside the block, dragOffset(Offset(193.0, 184.6)), globalBlockRect(Rect.fromLTRB(120.0, 170.0, 680.0, 208.0))
flutter: the drag offset is inside the block, dragOffset(Offset(195.7, 195.6)), globalBlockRect(Rect.fromLTRB(120.0, 170.0, 680.0, 208.0))
flutter: the drag offset is inside the block, dragOffset(Offset(196.8, 200.4)), globalBlockRect(Rect.fromLTRB(120.0, 170.0, 680.0, 208.0))
flutter: the drag offset is inside the block, dragOffset(Offset(197.2, 202.6)), globalBlockRect(Rect.fromLTRB(120.0, 170.0, 680.0, 208.0))
flutter: the drag offset is inside the block, dragOffset(Offset(197.2, 202.9)), globalBlockRect(Rect.fromLTRB(120.0, 170.0, 680.0, 208.0))
flutter: the drag offset is inside the block, dragOffset(Offset(197.2, 203.6)), globalBlockRect(Rect.fromLTRB(120.0, 170.0, 680.0, 208.0))
flutter: the drag offset is inside the block, dragOffset(Offset(197.2, 204.1)), globalBlockRect(Rect.fromLTRB(120.0, 170.0, 680.0, 208.0))
flutter: the drag offset is inside the block, dragOffset(Offset(197.2, 204.4)), globalBlockRect(Rect.fromLTRB(120.0, 170.0, 680.0, 208.0))
flutter: the drag offset is inside the block, dragOffset(Offset(197.2, 203.3)), globalBlockRect(Rect.fromLTRB(120.0, 170.0, 680.0, 208.0))
flutter: the drag offset is inside the block, dragOffset(Offset(197.2, 201.6)), globalBlockRect(Rect.fromLTRB(120.0, 170.0, 680.0, 208.0))
flutter: the drag offset is inside the block, dragOffset(Offset(197.6, 200.2)), globalBlockRect(Rect.fromLTRB(120.0, 170.0, 680.0, 208.0))
flutter: the drag offset is inside the block, dragOffset(Offset(197.8, 200.0)), globalBlockRect(Rect.fromLTRB(120.0, 170.0, 680.0, 208.0))
flutter: the drag offset is inside the block, dragOffset(Offset(197.8, 199.7)), globalBlockRect(Rect.fromLTRB(120.0, 170.0, 680.0, 208.0))
flutter: the drag offset is inside the block, dragOffset(Offset(198.1, 199.2)), globalBlockRect(Rect.fromLTRB(120.0, 170.0, 680.0, 208.0))
flutter: the drag offset is inside the block, dragOffset(Offset(198.1, 198.9)), globalBlockRect(Rect.fromLTRB(120.0, 170.0, 680.0, 208.0))
flutter: the drag offset is inside the block, dragOffset(Offset(198.3, 198.4)), globalBlockRect(Rect.fromLTRB(120.0, 170.0, 680.0, 208.0))
flutter: the drag offset is inside the block, dragOffset(Offset(198.9, 197.9)), globalBlockRect(Rect.fromLTRB(120.0, 170.0, 680.0, 208.0))
flutter: onDragEnd, acceptedPath([2])
flutter: the drag offset is inside the block, dragOffset(Offset(198.9, 197.9)), globalBlockRect(Rect.fromLTRB(120.0, 170.0, 680.0, 208.0))
flutter: Moving node(Node(id: mzJEMA, type: paragraph, attributes: {delta: [{insert: 111}], timestamp: 2025-04-24T19:08:41.328847, device: 6224c675-6598-4bc4-a7d1-e72a22b4b9b0}, children: [Node(id: au9YTd, type: paragraph, attributes: {delta: [{insert: 222}], device: 6224c675-6598-4bc4-a7d1-e72a22b4b9b0, timestamp: 2025-04-24T19:08:42.723015}, children: [])]), [0, 0]) to path([1])
flutter: Transaction done
apply_action: Starting with 1 actions for doc_id: xxxx
move_block: Moving block_id: mzJEMA from parent: RrLwZa to parent: KojGQk
remove_block_from_prev_id_chain: Removing block mzJEMA from chain
  Finding blocks that reference mzJEMA as their prev_id
find_block_referencing_prev_id: Searching for blocks with prev_id = mzJEMA
  Found 6 total blocks to check
  Checking block: KojGQk
    Block has prev_id: RrLwZa, matches target: false
  Checking block: mzJEMA
    Block does not have prev_id
  Checking block: RrLwZa
    Block does not have prev_id
  Checking block: BZ7CfX
    Block does not have prev_id
  Checking block: YYzkzo
    Block has prev_id: KojGQk, matches target: false
  Checking block: au9YTd
    Block does not have prev_id
find_block_referencing_prev_id: Found 0 blocks with prev_id = mzJEMA: []
  Found 0 next blocks: []
remove_block_from_prev_id_chain: Completed
handle_following_connection: block_id=mzJEMA, next_id=None, prev_id=None
  No prev_id or next_id provided, nothing to handle
handle_following_connection: Completed
move_block: Moved block between parents
apply_action: Encoding state for doc_id: xxxx
apply_updates: Starting with 10 updates for doc_id: xxxx
apply_updates: Starting with 10 updates for doc_id: xxxx
apply_updates: Applying update for doc_id: xxxx
apply_updates: Finished for doc_id: xxxx
apply_updates: Successfully applied updates for doc_id: xxxx
get_document_state: Starting for doc_id: xxxx
extract_document_state: Starting for doc_id: xxxx
extract_document_state: Processing 6 blocks
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
====== STARTING BLOCK SORTING ======
Input children_map has 6 parent nodes

----- Sorting children of parent: RrLwZa -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent RrLwZa: []

----- Sorting children of parent: au9YTd -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent au9YTd: []

----- Sorting children of parent: YYzkzo -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent YYzkzo: []

----- Sorting children of parent: mzJEMA -----
Parent has 1 children to sort
Mapped 1 valid blocks by ID
Block au9YTd assigned to device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
Grouped blocks into 1 devices
  - Device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0 has 1 blocks
Block au9YTd has no prev_id
Built prev->next map with 0 entries
Device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0 has 1 root blocks: ["au9YTd"]
Processing devices in order: ["6224c675-6598-4bc4-a7d1-e72a22b4b9b0"]

Processing device: 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
Sorted roots for device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0: ["au9YTd"]
Starting chain from root: au9YTd
  Adding block au9YTd to sorted list
  No next blocks for au9YTd
No remaining blocks for device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
No globally remaining blocks
Final sorted order for parent mzJEMA: ["au9YTd"]

----- Sorting children of parent: KojGQk -----
Parent has 1 children to sort
Mapped 1 valid blocks by ID
Block mzJEMA assigned to device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
Grouped blocks into 1 devices
  - Device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0 has 1 blocks
Block mzJEMA has no prev_id
Built prev->next map with 0 entries
Device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0 has 1 root blocks: ["mzJEMA"]
Processing devices in order: ["6224c675-6598-4bc4-a7d1-e72a22b4b9b0"]

Processing device: 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
Sorted roots for device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0: ["mzJEMA"]
Starting chain from root: mzJEMA
  Adding block mzJEMA to sorted list
  No next blocks for mzJEMA
No remaining blocks for device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
No globally remaining blocks
Final sorted order for parent KojGQk: ["mzJEMA"]

----- Sorting children of parent: BZ7CfX -----
Parent has 3 children to sort
Mapped 3 valid blocks by ID
Block YYzkzo assigned to device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
Block RrLwZa assigned to device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
Block KojGQk assigned to device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
Grouped blocks into 1 devices
  - Device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0 has 3 blocks
Block YYzkzo has prev_id KojGQk
Block RrLwZa has no prev_id
Block KojGQk has prev_id RrLwZa
Built prev->next map with 2 entries
  - RrLwZa has 1 next blocks: ["KojGQk"]
  - KojGQk has 1 next blocks: ["YYzkzo"]
Device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0 has 1 root blocks: ["RrLwZa"]
Processing devices in order: ["6224c675-6598-4bc4-a7d1-e72a22b4b9b0"]

Processing device: 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
Sorted roots for device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0: ["RrLwZa"]
Starting chain from root: RrLwZa
  Adding block RrLwZa to sorted list
    Pushing KojGQk onto stack
  Adding block KojGQk to sorted list
    Pushing YYzkzo onto stack
  Adding block YYzkzo to sorted list
  No next blocks for YYzkzo
No remaining blocks for device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
No globally remaining blocks
Final sorted order for parent BZ7CfX: ["RrLwZa", "KojGQk", "YYzkzo"]
====== COMPLETED BLOCK SORTING ======
Final sorted children map has 6 parents
extract_document_state: Extracted 6 blocks and 6 parent-child relationships
get_document_state: Finished for doc_id: xxxx
flutter: {
flutter:   "docId": "xxxx",
flutter:   "blocks": {
flutter:     "au9YTd": {
flutter:       "id": "au9YTd",
flutter:       "ty": "paragraph",
flutter:       "attributes": {
flutter:         "delta": "[]",
flutter:         "device": "6224c675-6598-4bc4-a7d1-e72a22b4b9b0",
flutter:         "timestamp": "2025-04-24T19:08:42.723015"
flutter:       },
flutter:       "delta": "[{\"insert\":\"222\"}]",
flutter:       "parentId": "mzJEMA",
flutter:       "prevId": null,
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "BZ7CfX": {
flutter:       "id": "BZ7CfX",
flutter:       "ty": "page",
flutter:       "attributes": {
flutter:         "timestamp": "2025-04-24T19:05:18.070279",
flutter:         "device": "6224c675-6598-4bc4-a7d1-e72a22b4b9b0"
flutter:       },
flutter:       "delta": null,
flutter:       "parentId": null,
flutter:       "prevId": null,
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "KojGQk": {
flutter:       "id": "KojGQk",
flutter:       "ty": "paragraph",
flutter:       "attributes": {
flutter:         "device": "6224c675-6598-4bc4-a7d1-e72a22b4b9b0",
flutter:         "delta": "[]",
flutter:         "timestamp": "2025-04-24T19:08:40.012573"
flutter:       },
flutter:       "delta": "[{\"insert\":\"bbb\"}]",
flutter:       "parentId": "BZ7CfX",
flutter:       "prevId": "RrLwZa",
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "RrLwZa": {
flutter:       "id": "RrLwZa",
flutter:       "ty": "paragraph",
flutter:       "attributes": {
flutter:         "delta": "[]",
flutter:         "timestamp": "2025-04-24T19:05:18.074153",
flutter:         "device": "6224c675-6598-4bc4-a7d1-e72a22b4b9b0"
flutter:       },
flutter:       "delta": "[{\"insert\":\"aaa\"}]",
flutter:       "parentId": "BZ7CfX",
flutter:       "prevId": null,
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "YYzkzo": {
flutter:       "id": "YYzkzo",
flutter:       "ty": "paragraph",
flutter:       "attributes": {
flutter:         "device": "6224c675-6598-4bc4-a7d1-e72a22b4b9b0",
flutter:         "timestamp": "2025-04-24T19:08:45.035941",
flutter:         "delta": "[]"
flutter:       },
flutter:       "delta": "[{\"insert\":\"ccc\"}]",
flutter:       "parentId": "BZ7CfX",
flutter:       "prevId": "KojGQk",
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "mzJEMA": {
flutter:       "id": "mzJEMA",
flutter:       "ty": "paragraph",
flutter:       "attributes": {
flutter:         "timestamp": "2025-04-24T19:08:41.328847",
flutter:         "delta": "[]",
flutter:         "device": "6224c675-6598-4bc4-a7d1-e72a22b4b9b0"
flutter:       },
flutter:       "delta": "[{\"insert\":\"111\"}]",
flutter:       "parentId": "KojGQk",
flutter:       "prevId": null,
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     }
flutter:   },
flutter:   "childrenMap": {
flutter:     "RrLwZa": [],
flutter:     "BZ7CfX": [
flutter:       "RrLwZa",
flutter:       "KojGQk",
flutter:       "YYzkzo"
flutter:     ],
flutter:     "au9YTd": [],
flutter:     "YYzkzo": [],
flutter:     "mzJEMA": [
flutter:       "au9YTd"
flutter:     ],
flutter:     "KojGQk": [
flutter:       "mzJEMA"
flutter:     ]
flutter:   },
flutter:   "rootId": "BZ7CfX"
flutter: }
merge_updates: Merging 1 updates
merge_updates: Successfully merged updates
apply_updates: Starting with 11 updates for doc_id: xxxx
apply_updates: Starting with 11 updates for doc_id: xxxx
apply_updates: Applying update for doc_id: xxxx
apply_updates: Finished for doc_id: xxxx
apply_updates: Successfully applied updates for doc_id: xxxx
get_document_state: Starting for doc_id: xxxx
extract_document_state: Starting for doc_id: xxxx
extract_document_state: Processing 6 blocks
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
====== STARTING BLOCK SORTING ======
Input children_map has 6 parent nodes

----- Sorting children of parent: mzJEMA -----
Parent has 1 children to sort
Mapped 1 valid blocks by ID
Block au9YTd assigned to device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
Grouped blocks into 1 devices
  - Device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0 has 1 blocks
Block au9YTd has no prev_id
Built prev->next map with 0 entries
Device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0 has 1 root blocks: ["au9YTd"]
Processing devices in order: ["6224c675-6598-4bc4-a7d1-e72a22b4b9b0"]

Processing device: 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
Sorted roots for device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0: ["au9YTd"]
Starting chain from root: au9YTd
  Adding block au9YTd to sorted list
  No next blocks for au9YTd
No remaining blocks for device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
No globally remaining blocks
Final sorted order for parent mzJEMA: ["au9YTd"]

----- Sorting children of parent: KojGQk -----
Parent has 1 children to sort
Mapped 1 valid blocks by ID
Block mzJEMA assigned to device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
Grouped blocks into 1 devices
  - Device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0 has 1 blocks
Block mzJEMA has no prev_id
Built prev->next map with 0 entries
Device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0 has 1 root blocks: ["mzJEMA"]
Processing devices in order: ["6224c675-6598-4bc4-a7d1-e72a22b4b9b0"]

Processing device: 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
Sorted roots for device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0: ["mzJEMA"]
Starting chain from root: mzJEMA
  Adding block mzJEMA to sorted list
  No next blocks for mzJEMA
No remaining blocks for device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
No globally remaining blocks
Final sorted order for parent KojGQk: ["mzJEMA"]

----- Sorting children of parent: YYzkzo -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent YYzkzo: []

----- Sorting children of parent: au9YTd -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent au9YTd: []

----- Sorting children of parent: BZ7CfX -----
Parent has 3 children to sort
Mapped 3 valid blocks by ID
Block KojGQk assigned to device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
Block RrLwZa assigned to device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
Block YYzkzo assigned to device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
Grouped blocks into 1 devices
  - Device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0 has 3 blocks
Block KojGQk has prev_id RrLwZa
Block RrLwZa has no prev_id
Block YYzkzo has prev_id KojGQk
Built prev->next map with 2 entries
  - KojGQk has 1 next blocks: ["YYzkzo"]
  - RrLwZa has 1 next blocks: ["KojGQk"]
Device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0 has 1 root blocks: ["RrLwZa"]
Processing devices in order: ["6224c675-6598-4bc4-a7d1-e72a22b4b9b0"]

Processing device: 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
Sorted roots for device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0: ["RrLwZa"]
Starting chain from root: RrLwZa
  Adding block RrLwZa to sorted list
    Pushing KojGQk onto stack
  Adding block KojGQk to sorted list
    Pushing YYzkzo onto stack
  Adding block YYzkzo to sorted list
  No next blocks for YYzkzo
No remaining blocks for device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
No globally remaining blocks
Final sorted order for parent BZ7CfX: ["RrLwZa", "KojGQk", "YYzkzo"]

----- Sorting children of parent: RrLwZa -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent RrLwZa: []
====== COMPLETED BLOCK SORTING ======
Final sorted children map has 6 parents
extract_document_state: Extracted 6 blocks and 6 parent-child relationships
get_document_state: Finished for doc_id: xxxx
flutter: {
flutter:   "docId": "xxxx",
flutter:   "blocks": {
flutter:     "mzJEMA": {
flutter:       "id": "mzJEMA",
flutter:       "ty": "paragraph",
flutter:       "attributes": {
flutter:         "device": "6224c675-6598-4bc4-a7d1-e72a22b4b9b0",
flutter:         "timestamp": "2025-04-24T19:08:41.328847",
flutter:         "delta": "[]"
flutter:       },
flutter:       "delta": "[{\"insert\":\"111\"}]",
flutter:       "parentId": "KojGQk",
flutter:       "prevId": null,
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "RrLwZa": {
flutter:       "id": "RrLwZa",
flutter:       "ty": "paragraph",
flutter:       "attributes": {
flutter:         "delta": "[]",
flutter:         "device": "6224c675-6598-4bc4-a7d1-e72a22b4b9b0",
flutter:         "timestamp": "2025-04-24T19:05:18.074153"
flutter:       },
flutter:       "delta": "[{\"insert\":\"aaa\"}]",
flutter:       "parentId": "BZ7CfX",
flutter:       "prevId": null,
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "KojGQk": {
flutter:       "id": "KojGQk",
flutter:       "ty": "paragraph",
flutter:       "attributes": {
flutter:         "timestamp": "2025-04-24T19:08:40.012573",
flutter:         "delta": "[]",
flutter:         "device": "6224c675-6598-4bc4-a7d1-e72a22b4b9b0"
flutter:       },
flutter:       "delta": "[{\"insert\":\"bbb\"}]",
flutter:       "parentId": "BZ7CfX",
flutter:       "prevId": "RrLwZa",
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "YYzkzo": {
flutter:       "id": "YYzkzo",
flutter:       "ty": "paragraph",
flutter:       "attributes": {
flutter:         "delta": "[]",
flutter:         "device": "6224c675-6598-4bc4-a7d1-e72a22b4b9b0",
flutter:         "timestamp": "2025-04-24T19:08:45.035941"
flutter:       },
flutter:       "delta": "[{\"insert\":\"ccc\"}]",
flutter:       "parentId": "BZ7CfX",
flutter:       "prevId": "KojGQk",
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "au9YTd": {
flutter:       "id": "au9YTd",
flutter:       "ty": "paragraph",
flutter:       "attributes": {
flutter:         "delta": "[]",
flutter:         "timestamp": "2025-04-24T19:08:42.723015",
flutter:         "device": "6224c675-6598-4bc4-a7d1-e72a22b4b9b0"
flutter:       },
flutter:       "delta": "[{\"insert\":\"222\"}]",
flutter:       "parentId": "mzJEMA",
flutter:       "prevId": null,
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "BZ7CfX": {
flutter:       "id": "BZ7CfX",
flutter:       "ty": "page",
flutter:       "attributes": {
flutter:         "device": "6224c675-6598-4bc4-a7d1-e72a22b4b9b0",
flutter:         "timestamp": "2025-04-24T19:05:18.070279"
flutter:       },
flutter:       "delta": null,
flutter:       "parentId": null,
flutter:       "prevId": null,
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     }
flutter:   },
flutter:   "childrenMap": {
flutter:     "au9YTd": [],
flutter:     "mzJEMA": [
flutter:       "au9YTd"
flutter:     ],
flutter:     "KojGQk": [
flutter:       "mzJEMA"
flutter:     ],
flutter:     "RrLwZa": [],
flutter:     "YYzkzo": [],
flutter:     "BZ7CfX": [
flutter:       "RrLwZa",
flutter:       "KojGQk",
flutter:       "YYzkzo"
flutter:     ]
flutter:   },
flutter:   "rootId": "BZ7CfX"
flutter: }
flutter: onDragStarted
flutter: the drag offset is inside the block, dragOffset(Offset(190.3, 217.5)), globalBlockRect(Rect.fromLTRB(120.0, 208.0, 680.0, 246.0))
flutter: the drag offset is inside the block, dragOffset(Offset(196.8, 231.3)), globalBlockRect(Rect.fromLTRB(120.0, 208.0, 680.0, 246.0))
flutter: the drag offset is inside the block, dragOffset(Offset(198.5, 237.5)), globalBlockRect(Rect.fromLTRB(120.0, 208.0, 680.0, 246.0))
flutter: the drag offset is inside the block, dragOffset(Offset(200.7, 244.7)), globalBlockRect(Rect.fromLTRB(120.0, 208.0, 680.0, 246.0))
flutter: the drag offset is not inside the block, dragOffset(Offset(201.4, 248.8)), globalBlockRect(Rect.fromLTRB(120.0, 208.0, 680.0, 246.0))
flutter: the drag offset is not inside the block, dragOffset(Offset(201.4, 250.0)), globalBlockRect(Rect.fromLTRB(120.0, 208.0, 680.0, 246.0))
flutter: the drag offset is not inside the block, dragOffset(Offset(201.4, 252.2)), globalBlockRect(Rect.fromLTRB(120.0, 208.0, 680.0, 246.0))
flutter: the drag offset is not inside the block, dragOffset(Offset(201.7, 252.7)), globalBlockRect(Rect.fromLTRB(120.0, 208.0, 680.0, 246.0))
flutter: the drag offset is not inside the block, dragOffset(Offset(201.4, 252.7)), globalBlockRect(Rect.fromLTRB(120.0, 208.0, 680.0, 246.0))
flutter: the drag offset is not inside the block, dragOffset(Offset(200.6, 252.4)), globalBlockRect(Rect.fromLTRB(120.0, 208.0, 680.0, 246.0))
flutter: the drag offset is not inside the block, dragOffset(Offset(199.9, 251.7)), globalBlockRect(Rect.fromLTRB(120.0, 208.0, 680.0, 246.0))
flutter: the drag offset is not inside the block, dragOffset(Offset(199.6, 251.2)), globalBlockRect(Rect.fromLTRB(120.0, 208.0, 680.0, 246.0))
flutter: the drag offset is not inside the block, dragOffset(Offset(198.4, 249.5)), globalBlockRect(Rect.fromLTRB(120.0, 208.0, 680.0, 246.0))
flutter: the drag offset is not inside the block, dragOffset(Offset(197.7, 247.9)), globalBlockRect(Rect.fromLTRB(120.0, 208.0, 680.0, 246.0))
flutter: the drag offset is not inside the block, dragOffset(Offset(197.3, 246.8)), globalBlockRect(Rect.fromLTRB(120.0, 208.0, 680.0, 246.0))
flutter: the drag offset is inside the block, dragOffset(Offset(195.6, 243.9)), globalBlockRect(Rect.fromLTRB(120.0, 208.0, 680.0, 246.0))
flutter: the drag offset is inside the block, dragOffset(Offset(195.6, 241.6)), globalBlockRect(Rect.fromLTRB(120.0, 208.0, 680.0, 246.0))
flutter: the drag offset is inside the block, dragOffset(Offset(195.1, 241.1)), globalBlockRect(Rect.fromLTRB(120.0, 208.0, 680.0, 246.0))
flutter: the drag offset is inside the block, dragOffset(Offset(194.8, 240.1)), globalBlockRect(Rect.fromLTRB(120.0, 208.0, 680.0, 246.0))
flutter: the drag offset is inside the block, dragOffset(Offset(194.5, 239.1)), globalBlockRect(Rect.fromLTRB(120.0, 208.0, 680.0, 246.0))
flutter: onDragEnd, acceptedPath([3])
flutter: the drag offset is inside the block, dragOffset(Offset(194.5, 239.1)), globalBlockRect(Rect.fromLTRB(120.0, 208.0, 680.0, 246.0))
flutter: Moving node(Node(id: mzJEMA, type: paragraph, attributes: {delta: [{insert: 111}], timestamp: 2025-04-24T19:08:41.328847, device: 6224c675-6598-4bc4-a7d1-e72a22b4b9b0}, children: [Node(id: au9YTd, type: paragraph, attributes: {delta: [{insert: 222}], device: 6224c675-6598-4bc4-a7d1-e72a22b4b9b0, timestamp: 2025-04-24T19:08:42.723015}, children: [])]), [1, 0]) to path([2])
flutter: Transaction done
apply_action: Starting with 1 actions for doc_id: xxxx
move_block: Moving block_id: mzJEMA from parent: KojGQk to parent: YYzkzo
remove_block_from_prev_id_chain: Removing block mzJEMA from chain
  Finding blocks that reference mzJEMA as their prev_id
find_block_referencing_prev_id: Searching for blocks with prev_id = mzJEMA
  Found 6 total blocks to check
  Checking block: RrLwZa
    Block does not have prev_id
  Checking block: mzJEMA
    Block does not have prev_id
  Checking block: BZ7CfX
    Block does not have prev_id
  Checking block: KojGQk
    Block has prev_id: RrLwZa, matches target: false
  Checking block: YYzkzo
    Block has prev_id: KojGQk, matches target: false
  Checking block: au9YTd
    Block does not have prev_id
find_block_referencing_prev_id: Found 0 blocks with prev_id = mzJEMA: []
  Found 0 next blocks: []
remove_block_from_prev_id_chain: Completed
handle_following_connection: block_id=mzJEMA, next_id=None, prev_id=None
  No prev_id or next_id provided, nothing to handle
handle_following_connection: Completed
move_block: Moved block between parents
apply_action: Encoding state for doc_id: xxxx
apply_updates: Starting with 12 updates for doc_id: xxxx
apply_updates: Starting with 12 updates for doc_id: xxxx
apply_updates: Applying update for doc_id: xxxx
apply_updates: Finished for doc_id: xxxx
apply_updates: Successfully applied updates for doc_id: xxxx
get_document_state: Starting for doc_id: xxxx
extract_document_state: Starting for doc_id: xxxx
extract_document_state: Processing 6 blocks
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
====== STARTING BLOCK SORTING ======
Input children_map has 6 parent nodes

----- Sorting children of parent: YYzkzo -----
Parent has 1 children to sort
Mapped 1 valid blocks by ID
Block mzJEMA assigned to device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
Grouped blocks into 1 devices
  - Device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0 has 1 blocks
Block mzJEMA has no prev_id
Built prev->next map with 0 entries
Device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0 has 1 root blocks: ["mzJEMA"]
Processing devices in order: ["6224c675-6598-4bc4-a7d1-e72a22b4b9b0"]

Processing device: 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
Sorted roots for device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0: ["mzJEMA"]
Starting chain from root: mzJEMA
  Adding block mzJEMA to sorted list
  No next blocks for mzJEMA
No remaining blocks for device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
No globally remaining blocks
Final sorted order for parent YYzkzo: ["mzJEMA"]

----- Sorting children of parent: KojGQk -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent KojGQk: []

----- Sorting children of parent: mzJEMA -----
Parent has 1 children to sort
Mapped 1 valid blocks by ID
Block au9YTd assigned to device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
Grouped blocks into 1 devices
  - Device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0 has 1 blocks
Block au9YTd has no prev_id
Built prev->next map with 0 entries
Device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0 has 1 root blocks: ["au9YTd"]
Processing devices in order: ["6224c675-6598-4bc4-a7d1-e72a22b4b9b0"]

Processing device: 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
Sorted roots for device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0: ["au9YTd"]
Starting chain from root: au9YTd
  Adding block au9YTd to sorted list
  No next blocks for au9YTd
No remaining blocks for device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
No globally remaining blocks
Final sorted order for parent mzJEMA: ["au9YTd"]

----- Sorting children of parent: BZ7CfX -----
Parent has 3 children to sort
Mapped 3 valid blocks by ID
Block KojGQk assigned to device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
Block RrLwZa assigned to device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
Block YYzkzo assigned to device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
Grouped blocks into 1 devices
  - Device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0 has 3 blocks
Block KojGQk has prev_id RrLwZa
Block RrLwZa has no prev_id
Block YYzkzo has prev_id KojGQk
Built prev->next map with 2 entries
  - RrLwZa has 1 next blocks: ["KojGQk"]
  - KojGQk has 1 next blocks: ["YYzkzo"]
Device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0 has 1 root blocks: ["RrLwZa"]
Processing devices in order: ["6224c675-6598-4bc4-a7d1-e72a22b4b9b0"]

Processing device: 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
Sorted roots for device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0: ["RrLwZa"]
Starting chain from root: RrLwZa
  Adding block RrLwZa to sorted list
    Pushing KojGQk onto stack
  Adding block KojGQk to sorted list
    Pushing YYzkzo onto stack
  Adding block YYzkzo to sorted list
  No next blocks for YYzkzo
No remaining blocks for device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
No globally remaining blocks
Final sorted order for parent BZ7CfX: ["RrLwZa", "KojGQk", "YYzkzo"]

----- Sorting children of parent: au9YTd -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent au9YTd: []

----- Sorting children of parent: RrLwZa -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent RrLwZa: []
====== COMPLETED BLOCK SORTING ======
Final sorted children map has 6 parents
extract_document_state: Extracted 6 blocks and 6 parent-child relationships
get_document_state: Finished for doc_id: xxxx
flutter: {
flutter:   "docId": "xxxx",
flutter:   "blocks": {
flutter:     "BZ7CfX": {
flutter:       "id": "BZ7CfX",
flutter:       "ty": "page",
flutter:       "attributes": {
flutter:         "timestamp": "2025-04-24T19:05:18.070279",
flutter:         "device": "6224c675-6598-4bc4-a7d1-e72a22b4b9b0"
flutter:       },
flutter:       "delta": null,
flutter:       "parentId": null,
flutter:       "prevId": null,
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "au9YTd": {
flutter:       "id": "au9YTd",
flutter:       "ty": "paragraph",
flutter:       "attributes": {
flutter:         "timestamp": "2025-04-24T19:08:42.723015",
flutter:         "device": "6224c675-6598-4bc4-a7d1-e72a22b4b9b0",
flutter:         "delta": "[]"
flutter:       },
flutter:       "delta": "[{\"insert\":\"222\"}]",
flutter:       "parentId": "mzJEMA",
flutter:       "prevId": null,
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "YYzkzo": {
flutter:       "id": "YYzkzo",
flutter:       "ty": "paragraph",
flutter:       "attributes": {
flutter:         "device": "6224c675-6598-4bc4-a7d1-e72a22b4b9b0",
flutter:         "delta": "[]",
flutter:         "timestamp": "2025-04-24T19:08:45.035941"
flutter:       },
flutter:       "delta": "[{\"insert\":\"ccc\"}]",
flutter:       "parentId": "BZ7CfX",
flutter:       "prevId": "KojGQk",
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "KojGQk": {
flutter:       "id": "KojGQk",
flutter:       "ty": "paragraph",
flutter:       "attributes": {
flutter:         "device": "6224c675-6598-4bc4-a7d1-e72a22b4b9b0",
flutter:         "timestamp": "2025-04-24T19:08:40.012573",
flutter:         "delta": "[]"
flutter:       },
flutter:       "delta": "[{\"insert\":\"bbb\"}]",
flutter:       "parentId": "BZ7CfX",
flutter:       "prevId": "RrLwZa",
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "RrLwZa": {
flutter:       "id": "RrLwZa",
flutter:       "ty": "paragraph",
flutter:       "attributes": {
flutter:         "timestamp": "2025-04-24T19:05:18.074153",
flutter:         "device": "6224c675-6598-4bc4-a7d1-e72a22b4b9b0",
flutter:         "delta": "[]"
flutter:       },
flutter:       "delta": "[{\"insert\":\"aaa\"}]",
flutter:       "parentId": "BZ7CfX",
flutter:       "prevId": null,
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "mzJEMA": {
flutter:       "id": "mzJEMA",
flutter:       "ty": "paragraph",
flutter:       "attributes": {
flutter:         "timestamp": "2025-04-24T19:08:41.328847",
flutter:         "device": "6224c675-6598-4bc4-a7d1-e72a22b4b9b0",
flutter:         "delta": "[]"
flutter:       },
flutter:       "delta": "[{\"insert\":\"111\"}]",
flutter:       "parentId": "YYzkzo",
flutter:       "prevId": null,
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     }
flutter:   },
flutter:   "childrenMap": {
flutter:     "YYzkzo": [
flutter:       "mzJEMA"
flutter:     ],
flutter:     "KojGQk": [],
flutter:     "mzJEMA": [
flutter:       "au9YTd"
flutter:     ],
flutter:     "au9YTd": [],
flutter:     "BZ7CfX": [
flutter:       "RrLwZa",
flutter:       "KojGQk",
flutter:       "YYzkzo"
flutter:     ],
flutter:     "RrLwZa": []
flutter:   },
flutter:   "rootId": "BZ7CfX"
flutter: }
merge_updates: Merging 1 updates
merge_updates: Successfully merged updates
apply_updates: Starting with 13 updates for doc_id: xxxx
apply_updates: Starting with 13 updates for doc_id: xxxx
apply_updates: Applying update for doc_id: xxxx
apply_updates: Finished for doc_id: xxxx
apply_updates: Successfully applied updates for doc_id: xxxx
get_document_state: Starting for doc_id: xxxx
extract_document_state: Starting for doc_id: xxxx
extract_document_state: Processing 6 blocks
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
====== STARTING BLOCK SORTING ======
Input children_map has 6 parent nodes

----- Sorting children of parent: KojGQk -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent KojGQk: []

----- Sorting children of parent: mzJEMA -----
Parent has 1 children to sort
Mapped 1 valid blocks by ID
Block au9YTd assigned to device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
Grouped blocks into 1 devices
  - Device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0 has 1 blocks
Block au9YTd has no prev_id
Built prev->next map with 0 entries
Device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0 has 1 root blocks: ["au9YTd"]
Processing devices in order: ["6224c675-6598-4bc4-a7d1-e72a22b4b9b0"]

Processing device: 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
Sorted roots for device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0: ["au9YTd"]
Starting chain from root: au9YTd
  Adding block au9YTd to sorted list
  No next blocks for au9YTd
No remaining blocks for device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
No globally remaining blocks
Final sorted order for parent mzJEMA: ["au9YTd"]

----- Sorting children of parent: YYzkzo -----
Parent has 1 children to sort
Mapped 1 valid blocks by ID
Block mzJEMA assigned to device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
Grouped blocks into 1 devices
  - Device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0 has 1 blocks
Block mzJEMA has no prev_id
Built prev->next map with 0 entries
Device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0 has 1 root blocks: ["mzJEMA"]
Processing devices in order: ["6224c675-6598-4bc4-a7d1-e72a22b4b9b0"]

Processing device: 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
Sorted roots for device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0: ["mzJEMA"]
Starting chain from root: mzJEMA
  Adding block mzJEMA to sorted list
  No next blocks for mzJEMA
No remaining blocks for device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
No globally remaining blocks
Final sorted order for parent YYzkzo: ["mzJEMA"]

----- Sorting children of parent: BZ7CfX -----
Parent has 3 children to sort
Mapped 3 valid blocks by ID
Block KojGQk assigned to device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
Block YYzkzo assigned to device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
Block RrLwZa assigned to device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
Grouped blocks into 1 devices
  - Device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0 has 3 blocks
Block KojGQk has prev_id RrLwZa
Block YYzkzo has prev_id KojGQk
Block RrLwZa has no prev_id
Built prev->next map with 2 entries
  - KojGQk has 1 next blocks: ["YYzkzo"]
  - RrLwZa has 1 next blocks: ["KojGQk"]
Device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0 has 1 root blocks: ["RrLwZa"]
Processing devices in order: ["6224c675-6598-4bc4-a7d1-e72a22b4b9b0"]

Processing device: 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
Sorted roots for device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0: ["RrLwZa"]
Starting chain from root: RrLwZa
  Adding block RrLwZa to sorted list
    Pushing KojGQk onto stack
  Adding block KojGQk to sorted list
    Pushing YYzkzo onto stack
  Adding block YYzkzo to sorted list
  No next blocks for YYzkzo
No remaining blocks for device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
No globally remaining blocks
Final sorted order for parent BZ7CfX: ["RrLwZa", "KojGQk", "YYzkzo"]

----- Sorting children of parent: RrLwZa -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent RrLwZa: []

----- Sorting children of parent: au9YTd -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent au9YTd: []
====== COMPLETED BLOCK SORTING ======
Final sorted children map has 6 parents
extract_document_state: Extracted 6 blocks and 6 parent-child relationships
get_document_state: Finished for doc_id: xxxx
flutter: {
flutter:   "docId": "xxxx",
flutter:   "blocks": {
flutter:     "KojGQk": {
flutter:       "id": "KojGQk",
flutter:       "ty": "paragraph",
flutter:       "attributes": {
flutter:         "device": "6224c675-6598-4bc4-a7d1-e72a22b4b9b0",
flutter:         "delta": "[]",
flutter:         "timestamp": "2025-04-24T19:08:40.012573"
flutter:       },
flutter:       "delta": "[{\"insert\":\"bbb\"}]",
flutter:       "parentId": "BZ7CfX",
flutter:       "prevId": "RrLwZa",
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "YYzkzo": {
flutter:       "id": "YYzkzo",
flutter:       "ty": "paragraph",
flutter:       "attributes": {
flutter:         "timestamp": "2025-04-24T19:08:45.035941",
flutter:         "delta": "[]",
flutter:         "device": "6224c675-6598-4bc4-a7d1-e72a22b4b9b0"
flutter:       },
flutter:       "delta": "[{\"insert\":\"ccc\"}]",
flutter:       "parentId": "BZ7CfX",
flutter:       "prevId": "KojGQk",
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "au9YTd": {
flutter:       "id": "au9YTd",
flutter:       "ty": "paragraph",
flutter:       "attributes": {
flutter:         "timestamp": "2025-04-24T19:08:42.723015",
flutter:         "delta": "[]",
flutter:         "device": "6224c675-6598-4bc4-a7d1-e72a22b4b9b0"
flutter:       },
flutter:       "delta": "[{\"insert\":\"222\"}]",
flutter:       "parentId": "mzJEMA",
flutter:       "prevId": null,
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "RrLwZa": {
flutter:       "id": "RrLwZa",
flutter:       "ty": "paragraph",
flutter:       "attributes": {
flutter:         "device": "6224c675-6598-4bc4-a7d1-e72a22b4b9b0",
flutter:         "delta": "[]",
flutter:         "timestamp": "2025-04-24T19:05:18.074153"
flutter:       },
flutter:       "delta": "[{\"insert\":\"aaa\"}]",
flutter:       "parentId": "BZ7CfX",
flutter:       "prevId": null,
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "BZ7CfX": {
flutter:       "id": "BZ7CfX",
flutter:       "ty": "page",
flutter:       "attributes": {
flutter:         "timestamp": "2025-04-24T19:05:18.070279",
flutter:         "device": "6224c675-6598-4bc4-a7d1-e72a22b4b9b0"
flutter:       },
flutter:       "delta": null,
flutter:       "parentId": null,
flutter:       "prevId": null,
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "mzJEMA": {
flutter:       "id": "mzJEMA",
flutter:       "ty": "paragraph",
flutter:       "attributes": {
flutter:         "delta": "[]",
flutter:         "timestamp": "2025-04-24T19:08:41.328847",
flutter:         "device": "6224c675-6598-4bc4-a7d1-e72a22b4b9b0"
flutter:       },
flutter:       "delta": "[{\"insert\":\"111\"}]",
flutter:       "parentId": "YYzkzo",
flutter:       "prevId": null,
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     }
flutter:   },
flutter:   "childrenMap": {
flutter:     "au9YTd": [],
flutter:     "RrLwZa": [],
flutter:     "YYzkzo": [
flutter:       "mzJEMA"
flutter:     ],
flutter:     "mzJEMA": [
flutter:       "au9YTd"
flutter:     ],
flutter:     "KojGQk": [],
flutter:     "BZ7CfX": [
flutter:       "RrLwZa",
flutter:       "KojGQk",
flutter:       "YYzkzo"
flutter:     ]
flutter:   },
flutter:   "rootId": "BZ7CfX"
flutter: }
flutter: onDragStarted
flutter: the drag offset is inside the block, dragOffset(Offset(138.7, 168.8)), globalBlockRect(Rect.fromLTRB(120.0, 132.0, 680.0, 246.0))
flutter: the drag offset is inside the block, dragOffset(Offset(138.2, 168.3)), globalBlockRect(Rect.fromLTRB(120.0, 132.0, 680.0, 246.0))
flutter: the drag offset is inside the block, dragOffset(Offset(137.4, 167.5)), globalBlockRect(Rect.fromLTRB(120.0, 132.0, 680.0, 246.0))
flutter: the drag offset is inside the block, dragOffset(Offset(136.5, 165.9)), globalBlockRect(Rect.fromLTRB(120.0, 132.0, 680.0, 246.0))
flutter: the drag offset is inside the block, dragOffset(Offset(136.0, 165.3)), globalBlockRect(Rect.fromLTRB(120.0, 132.0, 680.0, 246.0))
flutter: the drag offset is inside the block, dragOffset(Offset(135.5, 164.3)), globalBlockRect(Rect.fromLTRB(120.0, 132.0, 680.0, 246.0))
flutter: the drag offset is inside the block, dragOffset(Offset(134.7, 163.3)), globalBlockRect(Rect.fromLTRB(120.0, 132.0, 680.0, 246.0))
flutter: the drag offset is inside the block, dragOffset(Offset(134.2, 162.8)), globalBlockRect(Rect.fromLTRB(120.0, 132.0, 680.0, 246.0))
flutter: the drag offset is inside the block, dragOffset(Offset(134.0, 162.5)), globalBlockRect(Rect.fromLTRB(120.0, 132.0, 680.0, 246.0))
flutter: the drag offset is inside the block, dragOffset(Offset(133.6, 161.1)), globalBlockRect(Rect.fromLTRB(120.0, 132.0, 680.0, 246.0))
flutter: the drag offset is inside the block, dragOffset(Offset(133.3, 160.9)), globalBlockRect(Rect.fromLTRB(120.0, 132.0, 680.0, 246.0))
flutter: the drag offset is inside the block, dragOffset(Offset(133.1, 160.6)), globalBlockRect(Rect.fromLTRB(120.0, 132.0, 680.0, 246.0))
flutter: the drag offset is inside the block, dragOffset(Offset(132.8, 160.1)), globalBlockRect(Rect.fromLTRB(120.0, 132.0, 680.0, 246.0))
flutter: the drag offset is inside the block, dragOffset(Offset(132.6, 159.9)), globalBlockRect(Rect.fromLTRB(120.0, 132.0, 680.0, 246.0))
flutter: the drag offset is inside the block, dragOffset(Offset(132.6, 159.6)), globalBlockRect(Rect.fromLTRB(120.0, 132.0, 680.0, 246.0))
flutter: the drag offset is inside the block, dragOffset(Offset(132.6, 158.8)), globalBlockRect(Rect.fromLTRB(120.0, 132.0, 680.0, 246.0))
flutter: the drag offset is inside the block, dragOffset(Offset(132.6, 158.3)), globalBlockRect(Rect.fromLTRB(120.0, 132.0, 680.0, 246.0))
flutter: the drag offset is inside the block, dragOffset(Offset(132.6, 158.1)), globalBlockRect(Rect.fromLTRB(120.0, 132.0, 680.0, 246.0))
flutter: the drag offset is inside the block, dragOffset(Offset(132.6, 157.5)), globalBlockRect(Rect.fromLTRB(120.0, 132.0, 680.0, 246.0))
flutter: the drag offset is inside the block, dragOffset(Offset(132.3, 157.3)), globalBlockRect(Rect.fromLTRB(120.0, 132.0, 680.0, 246.0))
flutter: onDragEnd, acceptedPath([2])
flutter: the drag offset is inside the block, dragOffset(Offset(132.3, 157.3)), globalBlockRect(Rect.fromLTRB(120.0, 132.0, 680.0, 246.0))
flutter: Moving node(Node(id: mzJEMA, type: paragraph, attributes: {delta: [{insert: 111}], timestamp: 2025-04-24T19:08:41.328847, device: 6224c675-6598-4bc4-a7d1-e72a22b4b9b0}, children: [Node(id: au9YTd, type: paragraph, attributes: {delta: [{insert: 222}], device: 6224c675-6598-4bc4-a7d1-e72a22b4b9b0, timestamp: 2025-04-24T19:08:42.723015}, children: [])]), [2, 0]) to path([2])
flutter: Transaction done
apply_action: Starting with 1 actions for doc_id: xxxx
move_block: Moving block_id: mzJEMA from parent: YYzkzo to parent: BZ7CfX
remove_block_from_prev_id_chain: Removing block mzJEMA from chain
  Finding blocks that reference mzJEMA as their prev_id
find_block_referencing_prev_id: Searching for blocks with prev_id = mzJEMA
  Found 6 total blocks to check
  Checking block: KojGQk
    Block has prev_id: RrLwZa, matches target: false
  Checking block: YYzkzo
    Block has prev_id: KojGQk, matches target: false
  Checking block: RrLwZa
    Block does not have prev_id
  Checking block: mzJEMA
    Block does not have prev_id
  Checking block: BZ7CfX
    Block does not have prev_id
  Checking block: au9YTd
    Block does not have prev_id
find_block_referencing_prev_id: Found 0 blocks with prev_id = mzJEMA: []
  Found 0 next blocks: []
remove_block_from_prev_id_chain: Completed
handle_following_connection: block_id=mzJEMA, next_id=Some("YYzkzo"), prev_id=Some("KojGQk")
  Using prev_id strategy (prev_id=KojGQk)
find_block_referencing_prev_id: Searching for blocks with prev_id = KojGQk
  Found 6 total blocks to check
  Checking block: KojGQk
    Block has prev_id: RrLwZa, matches target: false
  Checking block: YYzkzo
    Block has prev_id: KojGQk, matches target: true
  Checking block: RrLwZa
    Block does not have prev_id
  Checking block: mzJEMA
    Block does not have prev_id
  Checking block: BZ7CfX
    Block does not have prev_id
  Checking block: au9YTd
    Block does not have prev_id
find_block_referencing_prev_id: Found 1 blocks with prev_id = KojGQk: ["YYzkzo"]
  Found 1 nodes that reference prev_id KojGQk: ["YYzkzo"]
  Updating block YYzkzo to point to mzJEMA
  Finished prev_id strategy
move_block: Moved block between parents
apply_action: Encoding state for doc_id: xxxx
apply_updates: Starting with 13 updates for doc_id: xxxx
apply_updates: Starting with 13 updates for doc_id: xxxx
apply_updates: Applying update for doc_id: xxxx
apply_updates: Finished for doc_id: xxxx
apply_updates: Successfully applied updates for doc_id: xxxx
get_document_state: Starting for doc_id: xxxx
extract_document_state: Starting for doc_id: xxxx
extract_document_state: Processing 6 blocks
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
====== STARTING BLOCK SORTING ======
Input children_map has 6 parent nodes

----- Sorting children of parent: mzJEMA -----
Parent has 1 children to sort
Mapped 1 valid blocks by ID
Block au9YTd assigned to device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
Grouped blocks into 1 devices
  - Device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0 has 1 blocks
Block au9YTd has no prev_id
Built prev->next map with 0 entries
Device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0 has 1 root blocks: ["au9YTd"]
Processing devices in order: ["6224c675-6598-4bc4-a7d1-e72a22b4b9b0"]

Processing device: 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
Sorted roots for device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0: ["au9YTd"]
Starting chain from root: au9YTd
  Adding block au9YTd to sorted list
  No next blocks for au9YTd
No remaining blocks for device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
No globally remaining blocks
Final sorted order for parent mzJEMA: ["au9YTd"]

----- Sorting children of parent: KojGQk -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent KojGQk: []

----- Sorting children of parent: BZ7CfX -----
Parent has 4 children to sort
Mapped 4 valid blocks by ID
Block KojGQk assigned to device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
Block YYzkzo assigned to device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
Block RrLwZa assigned to device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
Block mzJEMA assigned to device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
Grouped blocks into 1 devices
  - Device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0 has 4 blocks
Block KojGQk has prev_id RrLwZa
Block YYzkzo has prev_id mzJEMA
Block RrLwZa has no prev_id
Block mzJEMA has prev_id KojGQk
Built prev->next map with 3 entries
  - mzJEMA has 1 next blocks: ["YYzkzo"]
  - KojGQk has 1 next blocks: ["mzJEMA"]
  - RrLwZa has 1 next blocks: ["KojGQk"]
Device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0 has 1 root blocks: ["RrLwZa"]
Processing devices in order: ["6224c675-6598-4bc4-a7d1-e72a22b4b9b0"]

Processing device: 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
Sorted roots for device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0: ["RrLwZa"]
Starting chain from root: RrLwZa
  Adding block RrLwZa to sorted list
    Pushing KojGQk onto stack
  Adding block KojGQk to sorted list
    Pushing mzJEMA onto stack
  Adding block mzJEMA to sorted list
    Pushing YYzkzo onto stack
  Adding block YYzkzo to sorted list
  No next blocks for YYzkzo
No remaining blocks for device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
No globally remaining blocks
Final sorted order for parent BZ7CfX: ["RrLwZa", "KojGQk", "mzJEMA", "YYzkzo"]

----- Sorting children of parent: YYzkzo -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent YYzkzo: []

----- Sorting children of parent: RrLwZa -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent RrLwZa: []

----- Sorting children of parent: au9YTd -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent au9YTd: []
====== COMPLETED BLOCK SORTING ======
Final sorted children map has 6 parents
extract_document_state: Extracted 6 blocks and 6 parent-child relationships
get_document_state: Finished for doc_id: xxxx
flutter: {
flutter:   "docId": "xxxx",
flutter:   "blocks": {
flutter:     "mzJEMA": {
flutter:       "id": "mzJEMA",
flutter:       "ty": "paragraph",
flutter:       "attributes": {
flutter:         "delta": "[]",
flutter:         "device": "6224c675-6598-4bc4-a7d1-e72a22b4b9b0",
flutter:         "timestamp": "2025-04-24T19:08:41.328847"
flutter:       },
flutter:       "delta": "[{\"insert\":\"111\"}]",
flutter:       "parentId": "BZ7CfX",
flutter:       "prevId": "KojGQk",
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "YYzkzo": {
flutter:       "id": "YYzkzo",
flutter:       "ty": "paragraph",
flutter:       "attributes": {
flutter:         "delta": "[]",
flutter:         "timestamp": "2025-04-24T19:08:45.035941",
flutter:         "device": "6224c675-6598-4bc4-a7d1-e72a22b4b9b0"
flutter:       },
flutter:       "delta": "[{\"insert\":\"ccc\"}]",
flutter:       "parentId": "BZ7CfX",
flutter:       "prevId": "mzJEMA",
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "RrLwZa": {
flutter:       "id": "RrLwZa",
flutter:       "ty": "paragraph",
flutter:       "attributes": {
flutter:         "timestamp": "2025-04-24T19:05:18.074153",
flutter:         "device": "6224c675-6598-4bc4-a7d1-e72a22b4b9b0",
flutter:         "delta": "[]"
flutter:       },
flutter:       "delta": "[{\"insert\":\"aaa\"}]",
flutter:       "parentId": "BZ7CfX",
flutter:       "prevId": null,
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "BZ7CfX": {
flutter:       "id": "BZ7CfX",
flutter:       "ty": "page",
flutter:       "attributes": {
flutter:         "timestamp": "2025-04-24T19:05:18.070279",
flutter:         "device": "6224c675-6598-4bc4-a7d1-e72a22b4b9b0"
flutter:       },
flutter:       "delta": null,
flutter:       "parentId": null,
flutter:       "prevId": null,
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "au9YTd": {
flutter:       "id": "au9YTd",
flutter:       "ty": "paragraph",
flutter:       "attributes": {
flutter:         "delta": "[]",
flutter:         "device": "6224c675-6598-4bc4-a7d1-e72a22b4b9b0",
flutter:         "timestamp": "2025-04-24T19:08:42.723015"
flutter:       },
flutter:       "delta": "[{\"insert\":\"222\"}]",
flutter:       "parentId": "mzJEMA",
flutter:       "prevId": null,
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "KojGQk": {
flutter:       "id": "KojGQk",
flutter:       "ty": "paragraph",
flutter:       "attributes": {
flutter:         "timestamp": "2025-04-24T19:08:40.012573",
flutter:         "device": "6224c675-6598-4bc4-a7d1-e72a22b4b9b0",
flutter:         "delta": "[]"
flutter:       },
flutter:       "delta": "[{\"insert\":\"bbb\"}]",
flutter:       "parentId": "BZ7CfX",
flutter:       "prevId": "RrLwZa",
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     }
flutter:   },
flutter:   "childrenMap": {
flutter:     "KojGQk": [],
flutter:     "YYzkzo": [],
flutter:     "RrLwZa": [],
flutter:     "au9YTd": [],
flutter:     "mzJEMA": [
flutter:       "au9YTd"
flutter:     ],
flutter:     "BZ7CfX": [
flutter:       "RrLwZa",
flutter:       "KojGQk",
flutter:       "mzJEMA",
flutter:       "YYzkzo"
flutter:     ]
flutter:   },
flutter:   "rootId": "BZ7CfX"
flutter: }
merge_updates: Merging 1 updates
merge_updates: Successfully merged updates
apply_updates: Starting with 14 updates for doc_id: xxxx
apply_updates: Starting with 14 updates for doc_id: xxxx
apply_updates: Applying update for doc_id: xxxx
apply_updates: Finished for doc_id: xxxx
apply_updates: Successfully applied updates for doc_id: xxxx
get_document_state: Starting for doc_id: xxxx
extract_document_state: Starting for doc_id: xxxx
extract_document_state: Processing 6 blocks
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
====== STARTING BLOCK SORTING ======
Input children_map has 6 parent nodes

----- Sorting children of parent: mzJEMA -----
Parent has 1 children to sort
Mapped 1 valid blocks by ID
Block au9YTd assigned to device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
Grouped blocks into 1 devices
  - Device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0 has 1 blocks
Block au9YTd has no prev_id
Built prev->next map with 0 entries
Device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0 has 1 root blocks: ["au9YTd"]
Processing devices in order: ["6224c675-6598-4bc4-a7d1-e72a22b4b9b0"]

Processing device: 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
Sorted roots for device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0: ["au9YTd"]
Starting chain from root: au9YTd
  Adding block au9YTd to sorted list
  No next blocks for au9YTd
No remaining blocks for device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
No globally remaining blocks
Final sorted order for parent mzJEMA: ["au9YTd"]

----- Sorting children of parent: au9YTd -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent au9YTd: []

----- Sorting children of parent: RrLwZa -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent RrLwZa: []

----- Sorting children of parent: YYzkzo -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent YYzkzo: []

----- Sorting children of parent: BZ7CfX -----
Parent has 4 children to sort
Mapped 4 valid blocks by ID
Block YYzkzo assigned to device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
Block KojGQk assigned to device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
Block RrLwZa assigned to device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
Block mzJEMA assigned to device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
Grouped blocks into 1 devices
  - Device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0 has 4 blocks
Block YYzkzo has prev_id mzJEMA
Block KojGQk has prev_id RrLwZa
Block RrLwZa has no prev_id
Block mzJEMA has prev_id KojGQk
Built prev->next map with 3 entries
  - KojGQk has 1 next blocks: ["mzJEMA"]
  - mzJEMA has 1 next blocks: ["YYzkzo"]
  - RrLwZa has 1 next blocks: ["KojGQk"]
Device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0 has 1 root blocks: ["RrLwZa"]
Processing devices in order: ["6224c675-6598-4bc4-a7d1-e72a22b4b9b0"]

Processing device: 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
Sorted roots for device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0: ["RrLwZa"]
Starting chain from root: RrLwZa
  Adding block RrLwZa to sorted list
    Pushing KojGQk onto stack
  Adding block KojGQk to sorted list
    Pushing mzJEMA onto stack
  Adding block mzJEMA to sorted list
    Pushing YYzkzo onto stack
  Adding block YYzkzo to sorted list
  No next blocks for YYzkzo
No remaining blocks for device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
No globally remaining blocks
Final sorted order for parent BZ7CfX: ["RrLwZa", "KojGQk", "mzJEMA", "YYzkzo"]

----- Sorting children of parent: KojGQk -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent KojGQk: []
====== COMPLETED BLOCK SORTING ======
Final sorted children map has 6 parents
extract_document_state: Extracted 6 blocks and 6 parent-child relationships
get_document_state: Finished for doc_id: xxxx
flutter: {
flutter:   "docId": "xxxx",
flutter:   "blocks": {
flutter:     "KojGQk": {
flutter:       "id": "KojGQk",
flutter:       "ty": "paragraph",
flutter:       "attributes": {
flutter:         "timestamp": "2025-04-24T19:08:40.012573",
flutter:         "device": "6224c675-6598-4bc4-a7d1-e72a22b4b9b0",
flutter:         "delta": "[]"
flutter:       },
flutter:       "delta": "[{\"insert\":\"bbb\"}]",
flutter:       "parentId": "BZ7CfX",
flutter:       "prevId": "RrLwZa",
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "YYzkzo": {
flutter:       "id": "YYzkzo",
flutter:       "ty": "paragraph",
flutter:       "attributes": {
flutter:         "delta": "[]",
flutter:         "timestamp": "2025-04-24T19:08:45.035941",
flutter:         "device": "6224c675-6598-4bc4-a7d1-e72a22b4b9b0"
flutter:       },
flutter:       "delta": "[{\"insert\":\"ccc\"}]",
flutter:       "parentId": "BZ7CfX",
flutter:       "prevId": "mzJEMA",
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "BZ7CfX": {
flutter:       "id": "BZ7CfX",
flutter:       "ty": "page",
flutter:       "attributes": {
flutter:         "device": "6224c675-6598-4bc4-a7d1-e72a22b4b9b0",
flutter:         "timestamp": "2025-04-24T19:05:18.070279"
flutter:       },
flutter:       "delta": null,
flutter:       "parentId": null,
flutter:       "prevId": null,
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "au9YTd": {
flutter:       "id": "au9YTd",
flutter:       "ty": "paragraph",
flutter:       "attributes": {
flutter:         "timestamp": "2025-04-24T19:08:42.723015",
flutter:         "device": "6224c675-6598-4bc4-a7d1-e72a22b4b9b0",
flutter:         "delta": "[]"
flutter:       },
flutter:       "delta": "[{\"insert\":\"222\"}]",
flutter:       "parentId": "mzJEMA",
flutter:       "prevId": null,
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "RrLwZa": {
flutter:       "id": "RrLwZa",
flutter:       "ty": "paragraph",
flutter:       "attributes": {
flutter:         "delta": "[]",
flutter:         "device": "6224c675-6598-4bc4-a7d1-e72a22b4b9b0",
flutter:         "timestamp": "2025-04-24T19:05:18.074153"
flutter:       },
flutter:       "delta": "[{\"insert\":\"aaa\"}]",
flutter:       "parentId": "BZ7CfX",
flutter:       "prevId": null,
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "mzJEMA": {
flutter:       "id": "mzJEMA",
flutter:       "ty": "paragraph",
flutter:       "attributes": {
flutter:         "timestamp": "2025-04-24T19:08:41.328847",
flutter:         "device": "6224c675-6598-4bc4-a7d1-e72a22b4b9b0",
flutter:         "delta": "[]"
flutter:       },
flutter:       "delta": "[{\"insert\":\"111\"}]",
flutter:       "parentId": "BZ7CfX",
flutter:       "prevId": "KojGQk",
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     }
flutter:   },
flutter:   "childrenMap": {
flutter:     "mzJEMA": [
flutter:       "au9YTd"
flutter:     ],
flutter:     "BZ7CfX": [
flutter:       "RrLwZa",
flutter:       "KojGQk",
flutter:       "mzJEMA",
flutter:       "YYzkzo"
flutter:     ],
flutter:     "YYzkzo": [],
flutter:     "au9YTd": [],
flutter:     "KojGQk": [],
flutter:     "RrLwZa": []
flutter:   },
flutter:   "rootId": "BZ7CfX"
flutter: }
flutter: onDragStarted
flutter: the drag offset is inside the block, dragOffset(Offset(131.8, 234.3)), globalBlockRect(Rect.fromLTRB(120.0, 208.0, 680.0, 246.0))
flutter: the drag offset is not inside the block, dragOffset(Offset(129.7, 249.2)), globalBlockRect(Rect.fromLTRB(120.0, 208.0, 680.0, 246.0))
flutter: the drag offset is not inside the block, dragOffset(Offset(129.7, 262.7)), globalBlockRect(Rect.fromLTRB(120.0, 208.0, 680.0, 246.0))
flutter: the drag offset is not inside the block, dragOffset(Offset(129.7, 263.8)), globalBlockRect(Rect.fromLTRB(120.0, 208.0, 680.0, 246.0))
flutter: the drag offset is not inside the block, dragOffset(Offset(129.7, 264.1)), globalBlockRect(Rect.fromLTRB(120.0, 208.0, 680.0, 246.0))
flutter: the drag offset is not inside the block, dragOffset(Offset(129.9, 264.3)), globalBlockRect(Rect.fromLTRB(120.0, 208.0, 680.0, 246.0))
flutter: the drag offset is not inside the block, dragOffset(Offset(129.9, 262.0)), globalBlockRect(Rect.fromLTRB(120.0, 208.0, 680.0, 246.0))
flutter: the drag offset is not inside the block, dragOffset(Offset(132.5, 257.9)), globalBlockRect(Rect.fromLTRB(120.0, 208.0, 680.0, 246.0))
flutter: the drag offset is not inside the block, dragOffset(Offset(132.5, 257.4)), globalBlockRect(Rect.fromLTRB(120.0, 208.0, 680.0, 246.0))
flutter: the drag offset is not inside the block, dragOffset(Offset(133.9, 254.5)), globalBlockRect(Rect.fromLTRB(120.0, 208.0, 680.0, 246.0))
flutter: the drag offset is not inside the block, dragOffset(Offset(136.1, 250.7)), globalBlockRect(Rect.fromLTRB(120.0, 208.0, 680.0, 246.0))
flutter: the drag offset is not inside the block, dragOffset(Offset(137.9, 248.9)), globalBlockRect(Rect.fromLTRB(120.0, 208.0, 680.0, 246.0))
flutter: the drag offset is not inside the block, dragOffset(Offset(137.9, 247.2)), globalBlockRect(Rect.fromLTRB(120.0, 208.0, 680.0, 246.0))
flutter: the drag offset is not inside the block, dragOffset(Offset(138.4, 246.7)), globalBlockRect(Rect.fromLTRB(120.0, 208.0, 680.0, 246.0))
flutter: the drag offset is not inside the block, dragOffset(Offset(138.6, 246.5)), globalBlockRect(Rect.fromLTRB(120.0, 208.0, 680.0, 246.0))
flutter: the drag offset is not inside the block, dragOffset(Offset(138.6, 246.2)), globalBlockRect(Rect.fromLTRB(120.0, 208.0, 680.0, 246.0))
flutter: the drag offset is inside the block, dragOffset(Offset(138.6, 245.7)), globalBlockRect(Rect.fromLTRB(120.0, 208.0, 680.0, 246.0))
flutter: the drag offset is inside the block, dragOffset(Offset(138.6, 245.4)), globalBlockRect(Rect.fromLTRB(120.0, 208.0, 680.0, 246.0))
flutter: the drag offset is inside the block, dragOffset(Offset(138.6, 243.8)), globalBlockRect(Rect.fromLTRB(120.0, 208.0, 680.0, 246.0))
flutter: the drag offset is inside the block, dragOffset(Offset(139.4, 242.7)), globalBlockRect(Rect.fromLTRB(120.0, 208.0, 680.0, 246.0))
flutter: the drag offset is inside the block, dragOffset(Offset(139.4, 241.3)), globalBlockRect(Rect.fromLTRB(120.0, 208.0, 680.0, 246.0))
flutter: the drag offset is inside the block, dragOffset(Offset(139.6, 240.3)), globalBlockRect(Rect.fromLTRB(120.0, 208.0, 680.0, 246.0))
flutter: onDragEnd, acceptedPath([4])
flutter: the drag offset is inside the block, dragOffset(Offset(139.6, 240.3)), globalBlockRect(Rect.fromLTRB(120.0, 208.0, 680.0, 246.0))
flutter: Moving node(Node(id: mzJEMA, type: paragraph, attributes: {delta: [{insert: 111}], timestamp: 2025-04-24T19:08:41.328847, device: 6224c675-6598-4bc4-a7d1-e72a22b4b9b0}, children: [Node(id: au9YTd, type: paragraph, attributes: {delta: [{insert: 222}], device: 6224c675-6598-4bc4-a7d1-e72a22b4b9b0, timestamp: 2025-04-24T19:08:42.723015}, children: [])]), [2]) to path([3])
flutter: Transaction done
apply_action: Starting with 1 actions for doc_id: xxxx
move_block: Moving block_id: mzJEMA from parent: BZ7CfX to parent: BZ7CfX
remove_block_from_prev_id_chain: Removing block mzJEMA from chain
  Block mzJEMA has prev_id: KojGQk
  Finding blocks that reference mzJEMA as their prev_id
find_block_referencing_prev_id: Searching for blocks with prev_id = mzJEMA
  Found 6 total blocks to check
  Checking block: KojGQk
    Block has prev_id: RrLwZa, matches target: false
  Checking block: YYzkzo
    Block has prev_id: mzJEMA, matches target: true
  Checking block: BZ7CfX
    Block does not have prev_id
  Checking block: au9YTd
    Block does not have prev_id
  Checking block: RrLwZa
    Block does not have prev_id
  Checking block: mzJEMA
    Block has prev_id: KojGQk, matches target: false
find_block_referencing_prev_id: Found 1 blocks with prev_id = mzJEMA: ["YYzkzo"]
  Found 1 next blocks: ["YYzkzo"]
  Updating next block YYzkzo to point to KojGQk (was pointing to mzJEMA)
remove_block_from_prev_id_chain: Completed
handle_following_connection: block_id=mzJEMA, next_id=None, prev_id=Some("YYzkzo")
  Using prev_id strategy (prev_id=YYzkzo)
find_block_referencing_prev_id: Searching for blocks with prev_id = YYzkzo
  Found 6 total blocks to check
  Checking block: KojGQk
    Block has prev_id: RrLwZa, matches target: false
  Checking block: YYzkzo
    Block has prev_id: KojGQk, matches target: false
  Checking block: BZ7CfX
    Block does not have prev_id
  Checking block: au9YTd
    Block does not have prev_id
  Checking block: RrLwZa
    Block does not have prev_id
  Checking block: mzJEMA
    Block has prev_id: KojGQk, matches target: false
find_block_referencing_prev_id: Found 0 blocks with prev_id = YYzkzo: []
  Found 0 nodes that reference prev_id YYzkzo: []
  Finished prev_id strategy
move_block: Moved block within same parent
apply_action: Encoding state for doc_id: xxxx
apply_updates: Starting with 15 updates for doc_id: xxxx
apply_updates: Starting with 15 updates for doc_id: xxxx
apply_updates: Applying update for doc_id: xxxx
apply_updates: Finished for doc_id: xxxx
apply_updates: Successfully applied updates for doc_id: xxxx
get_document_state: Starting for doc_id: xxxx
extract_document_state: Starting for doc_id: xxxx
extract_document_state: Processing 6 blocks
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
====== STARTING BLOCK SORTING ======
Input children_map has 6 parent nodes

----- Sorting children of parent: mzJEMA -----
Parent has 1 children to sort
Mapped 1 valid blocks by ID
Block au9YTd assigned to device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
Grouped blocks into 1 devices
  - Device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0 has 1 blocks
Block au9YTd has no prev_id
Built prev->next map with 0 entries
Device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0 has 1 root blocks: ["au9YTd"]
Processing devices in order: ["6224c675-6598-4bc4-a7d1-e72a22b4b9b0"]

Processing device: 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
Sorted roots for device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0: ["au9YTd"]
Starting chain from root: au9YTd
  Adding block au9YTd to sorted list
  No next blocks for au9YTd
No remaining blocks for device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
No globally remaining blocks
Final sorted order for parent mzJEMA: ["au9YTd"]

----- Sorting children of parent: YYzkzo -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent YYzkzo: []

----- Sorting children of parent: KojGQk -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent KojGQk: []

----- Sorting children of parent: au9YTd -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent au9YTd: []

----- Sorting children of parent: RrLwZa -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent RrLwZa: []

----- Sorting children of parent: BZ7CfX -----
Parent has 4 children to sort
Mapped 4 valid blocks by ID
Block mzJEMA assigned to device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
Block RrLwZa assigned to device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
Block KojGQk assigned to device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
Block YYzkzo assigned to device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
Grouped blocks into 1 devices
  - Device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0 has 4 blocks
Block mzJEMA has prev_id YYzkzo
Block RrLwZa has no prev_id
Block KojGQk has prev_id RrLwZa
Block YYzkzo has prev_id KojGQk
Built prev->next map with 3 entries
  - RrLwZa has 1 next blocks: ["KojGQk"]
  - KojGQk has 1 next blocks: ["YYzkzo"]
  - YYzkzo has 1 next blocks: ["mzJEMA"]
Device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0 has 1 root blocks: ["RrLwZa"]
Processing devices in order: ["6224c675-6598-4bc4-a7d1-e72a22b4b9b0"]

Processing device: 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
Sorted roots for device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0: ["RrLwZa"]
Starting chain from root: RrLwZa
  Adding block RrLwZa to sorted list
    Pushing KojGQk onto stack
  Adding block KojGQk to sorted list
    Pushing YYzkzo onto stack
  Adding block YYzkzo to sorted list
    Pushing mzJEMA onto stack
  Adding block mzJEMA to sorted list
  No next blocks for mzJEMA
No remaining blocks for device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
No globally remaining blocks
Final sorted order for parent BZ7CfX: ["RrLwZa", "KojGQk", "YYzkzo", "mzJEMA"]
====== COMPLETED BLOCK SORTING ======
Final sorted children map has 6 parents
extract_document_state: Extracted 6 blocks and 6 parent-child relationships
get_document_state: Finished for doc_id: xxxx
flutter: {
flutter:   "docId": "xxxx",
flutter:   "blocks": {
flutter:     "KojGQk": {
flutter:       "id": "KojGQk",
flutter:       "ty": "paragraph",
flutter:       "attributes": {
flutter:         "timestamp": "2025-04-24T19:08:40.012573",
flutter:         "delta": "[]",
flutter:         "device": "6224c675-6598-4bc4-a7d1-e72a22b4b9b0"
flutter:       },
flutter:       "delta": "[{\"insert\":\"bbb\"}]",
flutter:       "parentId": "BZ7CfX",
flutter:       "prevId": "RrLwZa",
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "RrLwZa": {
flutter:       "id": "RrLwZa",
flutter:       "ty": "paragraph",
flutter:       "attributes": {
flutter:         "timestamp": "2025-04-24T19:05:18.074153",
flutter:         "device": "6224c675-6598-4bc4-a7d1-e72a22b4b9b0",
flutter:         "delta": "[]"
flutter:       },
flutter:       "delta": "[{\"insert\":\"aaa\"}]",
flutter:       "parentId": "BZ7CfX",
flutter:       "prevId": null,
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "BZ7CfX": {
flutter:       "id": "BZ7CfX",
flutter:       "ty": "page",
flutter:       "attributes": {
flutter:         "timestamp": "2025-04-24T19:05:18.070279",
flutter:         "device": "6224c675-6598-4bc4-a7d1-e72a22b4b9b0"
flutter:       },
flutter:       "delta": null,
flutter:       "parentId": null,
flutter:       "prevId": null,
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "au9YTd": {
flutter:       "id": "au9YTd",
flutter:       "ty": "paragraph",
flutter:       "attributes": {
flutter:         "delta": "[]",
flutter:         "device": "6224c675-6598-4bc4-a7d1-e72a22b4b9b0",
flutter:         "timestamp": "2025-04-24T19:08:42.723015"
flutter:       },
flutter:       "delta": "[{\"insert\":\"222\"}]",
flutter:       "parentId": "mzJEMA",
flutter:       "prevId": null,
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "mzJEMA": {
flutter:       "id": "mzJEMA",
flutter:       "ty": "paragraph",
flutter:       "attributes": {
flutter:         "device": "6224c675-6598-4bc4-a7d1-e72a22b4b9b0",
flutter:         "delta": "[]",
flutter:         "timestamp": "2025-04-24T19:08:41.328847"
flutter:       },
flutter:       "delta": "[{\"insert\":\"111\"}]",
flutter:       "parentId": "BZ7CfX",
flutter:       "prevId": "YYzkzo",
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "YYzkzo": {
flutter:       "id": "YYzkzo",
flutter:       "ty": "paragraph",
flutter:       "attributes": {
flutter:         "delta": "[]",
flutter:         "timestamp": "2025-04-24T19:08:45.035941",
flutter:         "device": "6224c675-6598-4bc4-a7d1-e72a22b4b9b0"
flutter:       },
flutter:       "delta": "[{\"insert\":\"ccc\"}]",
flutter:       "parentId": "BZ7CfX",
flutter:       "prevId": "KojGQk",
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     }
flutter:   },
flutter:   "childrenMap": {
flutter:     "KojGQk": [],
flutter:     "RrLwZa": [],
flutter:     "BZ7CfX": [
flutter:       "RrLwZa",
flutter:       "KojGQk",
flutter:       "YYzkzo",
flutter:       "mzJEMA"
flutter:     ],
flutter:     "YYzkzo": [],
flutter:     "mzJEMA": [
flutter:       "au9YTd"
flutter:     ],
flutter:     "au9YTd": []
flutter:   },
flutter:   "rootId": "BZ7CfX"
flutter: }
merge_updates: Merging 1 updates
merge_updates: Successfully merged updates
apply_updates: Starting with 16 updates for doc_id: xxxx
apply_updates: Starting with 16 updates for doc_id: xxxx
apply_updates: Applying update for doc_id: xxxx
apply_updates: Finished for doc_id: xxxx
apply_updates: Successfully applied updates for doc_id: xxxx
get_document_state: Starting for doc_id: xxxx
extract_document_state: Starting for doc_id: xxxx
extract_document_state: Processing 6 blocks
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
====== STARTING BLOCK SORTING ======
Input children_map has 6 parent nodes

----- Sorting children of parent: mzJEMA -----
Parent has 1 children to sort
Mapped 1 valid blocks by ID
Block au9YTd assigned to device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
Grouped blocks into 1 devices
  - Device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0 has 1 blocks
Block au9YTd has no prev_id
Built prev->next map with 0 entries
Device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0 has 1 root blocks: ["au9YTd"]
Processing devices in order: ["6224c675-6598-4bc4-a7d1-e72a22b4b9b0"]

Processing device: 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
Sorted roots for device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0: ["au9YTd"]
Starting chain from root: au9YTd
  Adding block au9YTd to sorted list
  No next blocks for au9YTd
No remaining blocks for device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
No globally remaining blocks
Final sorted order for parent mzJEMA: ["au9YTd"]

----- Sorting children of parent: KojGQk -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent KojGQk: []

----- Sorting children of parent: au9YTd -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent au9YTd: []

----- Sorting children of parent: YYzkzo -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent YYzkzo: []

----- Sorting children of parent: RrLwZa -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent RrLwZa: []

----- Sorting children of parent: BZ7CfX -----
Parent has 4 children to sort
Mapped 4 valid blocks by ID
Block YYzkzo assigned to device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
Block RrLwZa assigned to device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
Block mzJEMA assigned to device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
Block KojGQk assigned to device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
Grouped blocks into 1 devices
  - Device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0 has 4 blocks
Block YYzkzo has prev_id KojGQk
Block RrLwZa has no prev_id
Block mzJEMA has prev_id YYzkzo
Block KojGQk has prev_id RrLwZa
Built prev->next map with 3 entries
  - RrLwZa has 1 next blocks: ["KojGQk"]
  - YYzkzo has 1 next blocks: ["mzJEMA"]
  - KojGQk has 1 next blocks: ["YYzkzo"]
Device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0 has 1 root blocks: ["RrLwZa"]
Processing devices in order: ["6224c675-6598-4bc4-a7d1-e72a22b4b9b0"]

Processing device: 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
Sorted roots for device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0: ["RrLwZa"]
Starting chain from root: RrLwZa
  Adding block RrLwZa to sorted list
    Pushing KojGQk onto stack
  Adding block KojGQk to sorted list
    Pushing YYzkzo onto stack
  Adding block YYzkzo to sorted list
    Pushing mzJEMA onto stack
  Adding block mzJEMA to sorted list
  No next blocks for mzJEMA
No remaining blocks for device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
No globally remaining blocks
Final sorted order for parent BZ7CfX: ["RrLwZa", "KojGQk", "YYzkzo", "mzJEMA"]
====== COMPLETED BLOCK SORTING ======
Final sorted children map has 6 parents
extract_document_state: Extracted 6 blocks and 6 parent-child relationships
get_document_state: Finished for doc_id: xxxx
flutter: {
flutter:   "docId": "xxxx",
flutter:   "blocks": {
flutter:     "RrLwZa": {
flutter:       "id": "RrLwZa",
flutter:       "ty": "paragraph",
flutter:       "attributes": {
flutter:         "device": "6224c675-6598-4bc4-a7d1-e72a22b4b9b0",
flutter:         "timestamp": "2025-04-24T19:05:18.074153",
flutter:         "delta": "[]"
flutter:       },
flutter:       "delta": "[{\"insert\":\"aaa\"}]",
flutter:       "parentId": "BZ7CfX",
flutter:       "prevId": null,
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "BZ7CfX": {
flutter:       "id": "BZ7CfX",
flutter:       "ty": "page",
flutter:       "attributes": {
flutter:         "timestamp": "2025-04-24T19:05:18.070279",
flutter:         "device": "6224c675-6598-4bc4-a7d1-e72a22b4b9b0"
flutter:       },
flutter:       "delta": null,
flutter:       "parentId": null,
flutter:       "prevId": null,
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "YYzkzo": {
flutter:       "id": "YYzkzo",
flutter:       "ty": "paragraph",
flutter:       "attributes": {
flutter:         "timestamp": "2025-04-24T19:08:45.035941",
flutter:         "device": "6224c675-6598-4bc4-a7d1-e72a22b4b9b0",
flutter:         "delta": "[]"
flutter:       },
flutter:       "delta": "[{\"insert\":\"ccc\"}]",
flutter:       "parentId": "BZ7CfX",
flutter:       "prevId": "KojGQk",
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "au9YTd": {
flutter:       "id": "au9YTd",
flutter:       "ty": "paragraph",
flutter:       "attributes": {
flutter:         "device": "6224c675-6598-4bc4-a7d1-e72a22b4b9b0",
flutter:         "timestamp": "2025-04-24T19:08:42.723015",
flutter:         "delta": "[]"
flutter:       },
flutter:       "delta": "[{\"insert\":\"222\"}]",
flutter:       "parentId": "mzJEMA",
flutter:       "prevId": null,
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "KojGQk": {
flutter:       "id": "KojGQk",
flutter:       "ty": "paragraph",
flutter:       "attributes": {
flutter:         "delta": "[]",
flutter:         "device": "6224c675-6598-4bc4-a7d1-e72a22b4b9b0",
flutter:         "timestamp": "2025-04-24T19:08:40.012573"
flutter:       },
flutter:       "delta": "[{\"insert\":\"bbb\"}]",
flutter:       "parentId": "BZ7CfX",
flutter:       "prevId": "RrLwZa",
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "mzJEMA": {
flutter:       "id": "mzJEMA",
flutter:       "ty": "paragraph",
flutter:       "attributes": {
flutter:         "timestamp": "2025-04-24T19:08:41.328847",
flutter:         "device": "6224c675-6598-4bc4-a7d1-e72a22b4b9b0",
flutter:         "delta": "[]"
flutter:       },
flutter:       "delta": "[{\"insert\":\"111\"}]",
flutter:       "parentId": "BZ7CfX",
flutter:       "prevId": "YYzkzo",
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     }
flutter:   },
flutter:   "childrenMap": {
flutter:     "RrLwZa": [],
flutter:     "au9YTd": [],
flutter:     "YYzkzo": [],
flutter:     "BZ7CfX": [
flutter:       "RrLwZa",
flutter:       "KojGQk",
flutter:       "YYzkzo",
flutter:       "mzJEMA"
flutter:     ],
flutter:     "KojGQk": [],
flutter:     "mzJEMA": [
flutter:       "au9YTd"
flutter:     ]
flutter:   },
flutter:   "rootId": "BZ7CfX"
flutter: }
flutter: onDragStarted
flutter: the drag offset is inside the block, dragOffset(Offset(138.2, 167.5)), globalBlockRect(Rect.fromLTRB(120.0, 132.0, 680.0, 170.0))
flutter: the drag offset is inside the block, dragOffset(Offset(143.8, 151.5)), globalBlockRect(Rect.fromLTRB(120.0, 132.0, 680.0, 170.0))
flutter: the drag offset is inside the block, dragOffset(Offset(152.8, 131.4)), globalBlockRect(Rect.fromLTRB(120.0, 94.0, 680.0, 132.0))
flutter: the drag offset is inside the block, dragOffset(Offset(156.9, 120.3)), globalBlockRect(Rect.fromLTRB(120.0, 94.0, 680.0, 132.0))
flutter: the drag offset is inside the block, dragOffset(Offset(162.7, 101.8)), globalBlockRect(Rect.fromLTRB(120.0, 94.0, 680.0, 132.0))
flutter: the drag offset is inside the block, dragOffset(Offset(168.1, 88.3)), globalBlockRect(Rect.fromLTRB(120.0, 56.0, 680.0, 94.0))
flutter: the drag offset is inside the block, dragOffset(Offset(172.4, 83.0)), globalBlockRect(Rect.fromLTRB(120.0, 56.0, 680.0, 94.0))
flutter: the drag offset is inside the block, dragOffset(Offset(176.5, 77.7)), globalBlockRect(Rect.fromLTRB(120.0, 56.0, 680.0, 94.0))
flutter: the drag offset is inside the block, dragOffset(Offset(178.3, 75.7)), globalBlockRect(Rect.fromLTRB(120.0, 56.0, 680.0, 94.0))
flutter: the drag offset is inside the block, dragOffset(Offset(178.7, 74.6)), globalBlockRect(Rect.fromLTRB(120.0, 56.0, 680.0, 94.0))
flutter: the drag offset is inside the block, dragOffset(Offset(179.2, 74.1)), globalBlockRect(Rect.fromLTRB(120.0, 56.0, 680.0, 94.0))
flutter: the drag offset is inside the block, dragOffset(Offset(179.4, 73.8)), globalBlockRect(Rect.fromLTRB(120.0, 56.0, 680.0, 94.0))
flutter: the drag offset is inside the block, dragOffset(Offset(179.7, 73.6)), globalBlockRect(Rect.fromLTRB(120.0, 56.0, 680.0, 94.0))
flutter: the drag offset is inside the block, dragOffset(Offset(179.9, 73.6)), globalBlockRect(Rect.fromLTRB(120.0, 56.0, 680.0, 94.0))
flutter: the drag offset is inside the block, dragOffset(Offset(180.7, 73.8)), globalBlockRect(Rect.fromLTRB(120.0, 56.0, 680.0, 94.0))
flutter: the drag offset is inside the block, dragOffset(Offset(181.8, 75.1)), globalBlockRect(Rect.fromLTRB(120.0, 56.0, 680.0, 94.0))
flutter: the drag offset is inside the block, dragOffset(Offset(182.1, 75.6)), globalBlockRect(Rect.fromLTRB(120.0, 56.0, 680.0, 94.0))
flutter: the drag offset is inside the block, dragOffset(Offset(183.9, 77.6)), globalBlockRect(Rect.fromLTRB(120.0, 56.0, 680.0, 94.0))
flutter: the drag offset is inside the block, dragOffset(Offset(184.4, 78.1)), globalBlockRect(Rect.fromLTRB(120.0, 56.0, 680.0, 94.0))
flutter: the drag offset is inside the block, dragOffset(Offset(184.4, 78.4)), globalBlockRect(Rect.fromLTRB(120.0, 56.0, 680.0, 94.0))
flutter: the drag offset is inside the block, dragOffset(Offset(184.6, 78.9)), globalBlockRect(Rect.fromLTRB(120.0, 56.0, 680.0, 94.0))
flutter: the drag offset is inside the block, dragOffset(Offset(184.6, 79.1)), globalBlockRect(Rect.fromLTRB(120.0, 56.0, 680.0, 94.0))
flutter: the drag offset is inside the block, dragOffset(Offset(184.9, 79.4)), globalBlockRect(Rect.fromLTRB(120.0, 56.0, 680.0, 94.0))
flutter: onDragEnd, acceptedPath([1])
flutter: the drag offset is inside the block, dragOffset(Offset(184.9, 79.4)), globalBlockRect(Rect.fromLTRB(120.0, 56.0, 680.0, 94.0))
flutter: Moving node(Node(id: mzJEMA, type: paragraph, attributes: {delta: [{insert: 111}], timestamp: 2025-04-24T19:08:41.328847, device: 6224c675-6598-4bc4-a7d1-e72a22b4b9b0}, children: [Node(id: au9YTd, type: paragraph, attributes: {delta: [{insert: 222}], device: 6224c675-6598-4bc4-a7d1-e72a22b4b9b0, timestamp: 2025-04-24T19:08:42.723015}, children: [])]), [3]) to path([0])
flutter: Transaction done
apply_action: Starting with 1 actions for doc_id: xxxx
move_block: Moving block_id: mzJEMA from parent: BZ7CfX to parent: RrLwZa
remove_block_from_prev_id_chain: Removing block mzJEMA from chain
  Block mzJEMA has prev_id: YYzkzo
  Finding blocks that reference mzJEMA as their prev_id
find_block_referencing_prev_id: Searching for blocks with prev_id = mzJEMA
  Found 6 total blocks to check
  Checking block: YYzkzo
    Block has prev_id: KojGQk, matches target: false
  Checking block: BZ7CfX
    Block does not have prev_id
  Checking block: mzJEMA
    Block has prev_id: YYzkzo, matches target: false
  Checking block: KojGQk
    Block has prev_id: RrLwZa, matches target: false
  Checking block: RrLwZa
    Block does not have prev_id
  Checking block: au9YTd
    Block does not have prev_id
find_block_referencing_prev_id: Found 0 blocks with prev_id = mzJEMA: []
  Found 0 next blocks: []
remove_block_from_prev_id_chain: Completed
handle_following_connection: block_id=mzJEMA, next_id=None, prev_id=None
  No prev_id or next_id provided, nothing to handle
handle_following_connection: Completed
move_block: Moved block between parents
apply_action: Encoding state for doc_id: xxxx
apply_updates: Starting with 16 updates for doc_id: xxxx
apply_updates: Starting with 16 updates for doc_id: xxxx
apply_updates: Applying update for doc_id: xxxx
apply_updates: Finished for doc_id: xxxx
apply_updates: Successfully applied updates for doc_id: xxxx
get_document_state: Starting for doc_id: xxxx
extract_document_state: Starting for doc_id: xxxx
extract_document_state: Processing 6 blocks
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
====== STARTING BLOCK SORTING ======
Input children_map has 6 parent nodes

----- Sorting children of parent: au9YTd -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent au9YTd: []

----- Sorting children of parent: YYzkzo -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent YYzkzo: []

----- Sorting children of parent: KojGQk -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent KojGQk: []

----- Sorting children of parent: mzJEMA -----
Parent has 1 children to sort
Mapped 1 valid blocks by ID
Block au9YTd assigned to device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
Grouped blocks into 1 devices
  - Device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0 has 1 blocks
Block au9YTd has no prev_id
Built prev->next map with 0 entries
Device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0 has 1 root blocks: ["au9YTd"]
Processing devices in order: ["6224c675-6598-4bc4-a7d1-e72a22b4b9b0"]

Processing device: 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
Sorted roots for device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0: ["au9YTd"]
Starting chain from root: au9YTd
  Adding block au9YTd to sorted list
  No next blocks for au9YTd
No remaining blocks for device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
No globally remaining blocks
Final sorted order for parent mzJEMA: ["au9YTd"]

----- Sorting children of parent: RrLwZa -----
Parent has 1 children to sort
Mapped 1 valid blocks by ID
Block mzJEMA assigned to device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
Grouped blocks into 1 devices
  - Device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0 has 1 blocks
Block mzJEMA has no prev_id
Built prev->next map with 0 entries
Device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0 has 1 root blocks: ["mzJEMA"]
Processing devices in order: ["6224c675-6598-4bc4-a7d1-e72a22b4b9b0"]

Processing device: 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
Sorted roots for device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0: ["mzJEMA"]
Starting chain from root: mzJEMA
  Adding block mzJEMA to sorted list
  No next blocks for mzJEMA
No remaining blocks for device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
No globally remaining blocks
Final sorted order for parent RrLwZa: ["mzJEMA"]

----- Sorting children of parent: BZ7CfX -----
Parent has 3 children to sort
Mapped 3 valid blocks by ID
Block RrLwZa assigned to device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
Block mzJEMA assigned to device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
Block KojGQk assigned to device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
Grouped blocks into 1 devices
  - Device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0 has 3 blocks
Block RrLwZa has no prev_id
Block mzJEMA has no prev_id
Block KojGQk has prev_id RrLwZa
Built prev->next map with 1 entries
  - RrLwZa has 1 next blocks: ["KojGQk"]
Device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0 has 2 root blocks: ["RrLwZa", "mzJEMA"]
Processing devices in order: ["6224c675-6598-4bc4-a7d1-e72a22b4b9b0"]

Processing device: 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
Comparing root blocks: mzJEMA (time: 2025-04-24T19:08:41.328847) vs RrLwZa (time: 2025-04-24T19:05:18.074153)
Sorted roots for device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0: ["RrLwZa", "mzJEMA"]
Starting chain from root: RrLwZa
  Adding block RrLwZa to sorted list
    Pushing KojGQk onto stack
  Adding block KojGQk to sorted list
  No next blocks for KojGQk
Starting chain from root: mzJEMA
  Adding block mzJEMA to sorted list
  No next blocks for mzJEMA
No remaining blocks for device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
No globally remaining blocks
Final sorted order for parent BZ7CfX: ["RrLwZa", "KojGQk", "mzJEMA"]
====== COMPLETED BLOCK SORTING ======
Final sorted children map has 6 parents
extract_document_state: Extracted 6 blocks and 6 parent-child relationships
get_document_state: Finished for doc_id: xxxx
flutter: {
flutter:   "docId": "xxxx",
flutter:   "blocks": {
flutter:     "au9YTd": {
flutter:       "id": "au9YTd",
flutter:       "ty": "paragraph",
flutter:       "attributes": {
flutter:         "delta": "[]",
flutter:         "device": "6224c675-6598-4bc4-a7d1-e72a22b4b9b0",
flutter:         "timestamp": "2025-04-24T19:08:42.723015"
flutter:       },
flutter:       "delta": "[{\"insert\":\"222\"}]",
flutter:       "parentId": "mzJEMA",
flutter:       "prevId": null,
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "BZ7CfX": {
flutter:       "id": "BZ7CfX",
flutter:       "ty": "page",
flutter:       "attributes": {
flutter:         "timestamp": "2025-04-24T19:05:18.070279",
flutter:         "device": "6224c675-6598-4bc4-a7d1-e72a22b4b9b0"
flutter:       },
flutter:       "delta": null,
flutter:       "parentId": null,
flutter:       "prevId": null,
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "RrLwZa": {
flutter:       "id": "RrLwZa",
flutter:       "ty": "paragraph",
flutter:       "attributes": {
flutter:         "delta": "[]",
flutter:         "device": "6224c675-6598-4bc4-a7d1-e72a22b4b9b0",
flutter:         "timestamp": "2025-04-24T19:05:18.074153"
flutter:       },
flutter:       "delta": "[{\"insert\":\"aaa\"}]",
flutter:       "parentId": "BZ7CfX",
flutter:       "prevId": null,
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "KojGQk": {
flutter:       "id": "KojGQk",
flutter:       "ty": "paragraph",
flutter:       "attributes": {
flutter:         "device": "6224c675-6598-4bc4-a7d1-e72a22b4b9b0",
flutter:         "delta": "[]",
flutter:         "timestamp": "2025-04-24T19:08:40.012573"
flutter:       },
flutter:       "delta": "[{\"insert\":\"bbb\"}]",
flutter:       "parentId": "BZ7CfX",
flutter:       "prevId": "RrLwZa",
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "mzJEMA": {
flutter:       "id": "mzJEMA",
flutter:       "ty": "paragraph",
flutter:       "attributes": {
flutter:         "timestamp": "2025-04-24T19:08:41.328847",
flutter:         "device": "6224c675-6598-4bc4-a7d1-e72a22b4b9b0",
flutter:         "delta": "[]"
flutter:       },
flutter:       "delta": "[{\"insert\":\"111\"}]",
flutter:       "parentId": "RrLwZa",
flutter:       "prevId": null,
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "YYzkzo": {
flutter:       "id": "YYzkzo",
flutter:       "ty": "paragraph",
flutter:       "attributes": {
flutter:         "timestamp": "2025-04-24T19:08:45.035941",
flutter:         "device": "6224c675-6598-4bc4-a7d1-e72a22b4b9b0",
flutter:         "delta": "[]"
flutter:       },
flutter:       "delta": "[{\"insert\":\"ccc\"}]",
flutter:       "parentId": "BZ7CfX",
flutter:       "prevId": "KojGQk",
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     }
flutter:   },
flutter:   "childrenMap": {
flutter:     "mzJEMA": [
flutter:       "au9YTd"
flutter:     ],
flutter:     "YYzkzo": [],
flutter:     "RrLwZa": [
flutter:       "mzJEMA"
flutter:     ],
flutter:     "BZ7CfX": [
flutter:       "RrLwZa",
flutter:       "KojGQk",
flutter:       "mzJEMA"
flutter:     ],
flutter:     "au9YTd": [],
flutter:     "KojGQk": []
flutter:   },
flutter:   "rootId": "BZ7CfX"
flutter: }
flutter: Applied 2 operations to the editor state
merge_updates: Merging 1 updates
merge_updates: Successfully merged updates
apply_updates: Starting with 17 updates for doc_id: xxxx
apply_updates: Starting with 17 updates for doc_id: xxxx
apply_updates: Applying update for doc_id: xxxx
apply_updates: Finished for doc_id: xxxx
apply_updates: Successfully applied updates for doc_id: xxxx
get_document_state: Starting for doc_id: xxxx
extract_document_state: Starting for doc_id: xxxx
extract_document_state: Processing 6 blocks
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
deltas_to_json: Converting 1 deltas
====== STARTING BLOCK SORTING ======
Input children_map has 6 parent nodes

----- Sorting children of parent: KojGQk -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent KojGQk: []

----- Sorting children of parent: mzJEMA -----
Parent has 1 children to sort
Mapped 1 valid blocks by ID
Block au9YTd assigned to device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
Grouped blocks into 1 devices
  - Device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0 has 1 blocks
Block au9YTd has no prev_id
Built prev->next map with 0 entries
Device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0 has 1 root blocks: ["au9YTd"]
Processing devices in order: ["6224c675-6598-4bc4-a7d1-e72a22b4b9b0"]

Processing device: 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
Sorted roots for device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0: ["au9YTd"]
Starting chain from root: au9YTd
  Adding block au9YTd to sorted list
  No next blocks for au9YTd
No remaining blocks for device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
No globally remaining blocks
Final sorted order for parent mzJEMA: ["au9YTd"]

----- Sorting children of parent: YYzkzo -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent YYzkzo: []

----- Sorting children of parent: au9YTd -----
Parent has 0 children to sort
Mapped 0 valid blocks by ID
Grouped blocks into 0 devices
Built prev->next map with 0 entries
Processing devices in order: []
No globally remaining blocks
Final sorted order for parent au9YTd: []

----- Sorting children of parent: RrLwZa -----
Parent has 1 children to sort
Mapped 1 valid blocks by ID
Block mzJEMA assigned to device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
Grouped blocks into 1 devices
  - Device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0 has 1 blocks
Block mzJEMA has no prev_id
Built prev->next map with 0 entries
Device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0 has 1 root blocks: ["mzJEMA"]
Processing devices in order: ["6224c675-6598-4bc4-a7d1-e72a22b4b9b0"]

Processing device: 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
Sorted roots for device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0: ["mzJEMA"]
Starting chain from root: mzJEMA
  Adding block mzJEMA to sorted list
  No next blocks for mzJEMA
No remaining blocks for device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
No globally remaining blocks
Final sorted order for parent RrLwZa: ["mzJEMA"]

----- Sorting children of parent: BZ7CfX -----
Parent has 3 children to sort
Mapped 3 valid blocks by ID
Block KojGQk assigned to device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
Block RrLwZa assigned to device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
Block mzJEMA assigned to device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
Grouped blocks into 1 devices
  - Device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0 has 3 blocks
Block KojGQk has prev_id RrLwZa
Block RrLwZa has no prev_id
Block mzJEMA has no prev_id
Built prev->next map with 1 entries
  - RrLwZa has 1 next blocks: ["KojGQk"]
Device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0 has 2 root blocks: ["RrLwZa", "mzJEMA"]
Processing devices in order: ["6224c675-6598-4bc4-a7d1-e72a22b4b9b0"]

Processing device: 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
Comparing root blocks: mzJEMA (time: 2025-04-24T19:08:41.328847) vs RrLwZa (time: 2025-04-24T19:05:18.074153)
Sorted roots for device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0: ["RrLwZa", "mzJEMA"]
Starting chain from root: RrLwZa
  Adding block RrLwZa to sorted list
    Pushing KojGQk onto stack
  Adding block KojGQk to sorted list
  No next blocks for KojGQk
Starting chain from root: mzJEMA
  Adding block mzJEMA to sorted list
  No next blocks for mzJEMA
No remaining blocks for device 6224c675-6598-4bc4-a7d1-e72a22b4b9b0
No globally remaining blocks
Final sorted order for parent BZ7CfX: ["RrLwZa", "KojGQk", "mzJEMA"]
====== COMPLETED BLOCK SORTING ======
Final sorted children map has 6 parents
extract_document_state: Extracted 6 blocks and 6 parent-child relationships
get_document_state: Finished for doc_id: xxxx
flutter: {
flutter:   "docId": "xxxx",
flutter:   "blocks": {
flutter:     "RrLwZa": {
flutter:       "id": "RrLwZa",
flutter:       "ty": "paragraph",
flutter:       "attributes": {
flutter:         "delta": "[]",
flutter:         "timestamp": "2025-04-24T19:05:18.074153",
flutter:         "device": "6224c675-6598-4bc4-a7d1-e72a22b4b9b0"
flutter:       },
flutter:       "delta": "[{\"insert\":\"aaa\"}]",
flutter:       "parentId": "BZ7CfX",
flutter:       "prevId": null,
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "mzJEMA": {
flutter:       "id": "mzJEMA",
flutter:       "ty": "paragraph",
flutter:       "attributes": {
flutter:         "timestamp": "2025-04-24T19:08:41.328847",
flutter:         "device": "6224c675-6598-4bc4-a7d1-e72a22b4b9b0",
flutter:         "delta": "[]"
flutter:       },
flutter:       "delta": "[{\"insert\":\"111\"}]",
flutter:       "parentId": "RrLwZa",
flutter:       "prevId": null,
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "YYzkzo": {
flutter:       "id": "YYzkzo",
flutter:       "ty": "paragraph",
flutter:       "attributes": {
flutter:         "device": "6224c675-6598-4bc4-a7d1-e72a22b4b9b0",
flutter:         "delta": "[]",
flutter:         "timestamp": "2025-04-24T19:08:45.035941"
flutter:       },
flutter:       "delta": "[{\"insert\":\"ccc\"}]",
flutter:       "parentId": "BZ7CfX",
flutter:       "prevId": "KojGQk",
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "BZ7CfX": {
flutter:       "id": "BZ7CfX",
flutter:       "ty": "page",
flutter:       "attributes": {
flutter:         "timestamp": "2025-04-24T19:05:18.070279",
flutter:         "device": "6224c675-6598-4bc4-a7d1-e72a22b4b9b0"
flutter:       },
flutter:       "delta": null,
flutter:       "parentId": null,
flutter:       "prevId": null,
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "au9YTd": {
flutter:       "id": "au9YTd",
flutter:       "ty": "paragraph",
flutter:       "attributes": {
flutter:         "device": "6224c675-6598-4bc4-a7d1-e72a22b4b9b0",
flutter:         "timestamp": "2025-04-24T19:08:42.723015",
flutter:         "delta": "[]"
flutter:       },
flutter:       "delta": "[{\"insert\":\"222\"}]",
flutter:       "parentId": "mzJEMA",
flutter:       "prevId": null,
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     },
flutter:     "KojGQk": {
flutter:       "id": "KojGQk",
flutter:       "ty": "paragraph",
flutter:       "attributes": {
flutter:         "timestamp": "2025-04-24T19:08:40.012573",
flutter:         "device": "6224c675-6598-4bc4-a7d1-e72a22b4b9b0",
flutter:         "delta": "[]"
flutter:       },
flutter:       "delta": "[{\"insert\":\"bbb\"}]",
flutter:       "parentId": "BZ7CfX",
flutter:       "prevId": "RrLwZa",
flutter:       "nextId": null,
flutter:       "oldParentId": null
flutter:     }
flutter:   },
flutter:   "childrenMap": {
flutter:     "YYzkzo": [],
flutter:     "mzJEMA": [
flutter:       "au9YTd"
flutter:     ],
flutter:     "KojGQk": [],
flutter:     "RrLwZa": [
flutter:       "mzJEMA"
flutter:     ],
flutter:     "au9YTd": [],
flutter:     "BZ7CfX": [
flutter:       "RrLwZa",
flutter:       "KojGQk",
flutter:       "mzJEMA"
flutter:     ]
flutter:   },
flutter:   "rootId": "BZ7CfX"
flutter: }
flutter: onDragStarted
flutter: the drag offset is inside the block, dragOffset(Offset(188.6, 171.3)), globalBlockRect(Rect.fromLTRB(120.0, 170.0, 680.0, 208.0))
flutter: the drag offset is inside the block, dragOffset(Offset(188.6, 173.6)), globalBlockRect(Rect.fromLTRB(120.0, 170.0, 680.0, 208.0))
flutter: the drag offset is inside the block, dragOffset(Offset(188.9, 174.1)), globalBlockRect(Rect.fromLTRB(120.0, 170.0, 680.0, 208.0))
flutter: the drag offset is inside the block, dragOffset(Offset(188.9, 174.6)), globalBlockRect(Rect.fromLTRB(120.0, 170.0, 680.0, 208.0))
flutter: the drag offset is inside the block, dragOffset(Offset(189.4, 175.3)), globalBlockRect(Rect.fromLTRB(120.0, 170.0, 680.0, 208.0))
flutter: the drag offset is inside the block, dragOffset(Offset(189.4, 175.6)), globalBlockRect(Rect.fromLTRB(120.0, 170.0, 680.0, 208.0))
flutter: the drag offset is inside the block, dragOffset(Offset(189.7, 176.3)), globalBlockRect(Rect.fromLTRB(120.0, 170.0, 680.0, 208.0))
flutter: the drag offset is inside the block, dragOffset(Offset(190.4, 177.5)), globalBlockRect(Rect.fromLTRB(120.0, 170.0, 680.0, 208.0))
flutter: the drag offset is inside the block, dragOffset(Offset(192.0, 181.2)), globalBlockRect(Rect.fromLTRB(120.0, 170.0, 680.0, 208.0))
flutter: the drag offset is inside the block, dragOffset(Offset(192.2, 182.0)), globalBlockRect(Rect.fromLTRB(120.0, 170.0, 680.0, 208.0))
flutter: the drag offset is inside the block, dragOffset(Offset(192.2, 182.2)), globalBlockRect(Rect.fromLTRB(120.0, 170.0, 680.0, 208.0))
flutter: the drag offset is inside the block, dragOffset(Offset(192.5, 182.7)), globalBlockRect(Rect.fromLTRB(120.0, 170.0, 680.0, 208.0))
flutter: the drag offset is inside the block, dragOffset(Offset(192.7, 183.0)), globalBlockRect(Rect.fromLTRB(120.0, 170.0, 680.0, 208.0))
flutter: the drag offset is inside the block, dragOffset(Offset(193.0, 183.5)), globalBlockRect(Rect.fromLTRB(120.0, 170.0, 680.0, 208.0))
flutter: the drag offset is inside the block, dragOffset(Offset(192.7, 183.5)), globalBlockRect(Rect.fromLTRB(120.0, 170.0, 680.0, 208.0))
flutter: the drag offset is inside the block, dragOffset(Offset(192.2, 183.5)), globalBlockRect(Rect.fromLTRB(120.0, 170.0, 680.0, 208.0))
flutter: the drag offset is inside the block, dragOffset(Offset(191.7, 183.0)), globalBlockRect(Rect.fromLTRB(120.0, 170.0, 680.0, 208.0))
flutter: the drag offset is inside the block, dragOffset(Offset(191.2, 182.7)), globalBlockRect(Rect.fromLTRB(120.0, 170.0, 680.0, 208.0))
flutter: the drag offset is inside the block, dragOffset(Offset(190.9, 182.2)), globalBlockRect(Rect.fromLTRB(120.0, 170.0, 680.0, 208.0))
flutter: the drag offset is inside the block, dragOffset(Offset(190.7, 181.4)), globalBlockRect(Rect.fromLTRB(120.0, 170.0, 680.0, 208.0))
flutter: the drag offset is inside the block, dragOffset(Offset(190.2, 180.9)), globalBlockRect(Rect.fromLTRB(120.0, 170.0, 680.0, 208.0))
flutter: the drag offset is inside the block, dragOffset(Offset(189.6, 180.4)), globalBlockRect(Rect.fromLTRB(120.0, 170.0, 680.0, 208.0))
flutter: the drag offset is inside the block, dragOffset(Offset(189.1, 179.9)), globalBlockRect(Rect.fromLTRB(120.0, 170.0, 680.0, 208.0))
flutter: the drag offset is inside the block, dragOffset(Offset(188.6, 179.4)), globalBlockRect(Rect.fromLTRB(120.0, 170.0, 680.0, 208.0))
flutter: the drag offset is inside the block, dragOffset(Offset(188.1, 178.9)), globalBlockRect(Rect.fromLTRB(120.0, 170.0, 680.0, 208.0))
flutter: the drag offset is inside the block, dragOffset(Offset(187.3, 178.1)), globalBlockRect(Rect.fromLTRB(120.0, 170.0, 680.0, 208.0))
flutter: the drag offset is inside the block, dragOffset(Offset(186.6, 177.3)), globalBlockRect(Rect.fromLTRB(120.0, 170.0, 680.0, 208.0))
flutter: the drag offset is inside the block, dragOffset(Offset(186.0, 176.8)), globalBlockRect(Rect.fromLTRB(120.0, 170.0, 680.0, 208.0))
flutter: the drag offset is inside the block, dragOffset(Offset(184.9, 176.1)), globalBlockRect(Rect.fromLTRB(120.0, 170.0, 680.0, 208.0))
flutter: the drag offset is inside the block, dragOffset(Offset(183.9, 175.6)), globalBlockRect(Rect.fromLTRB(120.0, 170.0, 680.0, 208.0))
flutter: the drag offset is inside the block, dragOffset(Offset(183.4, 175.1)), globalBlockRect(Rect.fromLTRB(120.0, 170.0, 680.0, 208.0))
flutter: the drag offset is inside the block, dragOffset(Offset(181.8, 174.0)), globalBlockRect(Rect.fromLTRB(120.0, 170.0, 680.0, 208.0))
flutter: the drag offset is inside the block, dragOffset(Offset(178.3, 173.3)), globalBlockRect(Rect.fromLTRB(120.0, 170.0, 680.0, 208.0))
flutter: the drag offset is inside the block, dragOffset(Offset(177.1, 172.9)), globalBlockRect(Rect.fromLTRB(120.0, 170.0, 680.0, 208.0))
flutter: the drag offset is inside the block, dragOffset(Offset(173.0, 172.2)), globalBlockRect(Rect.fromLTRB(120.0, 170.0, 680.0, 208.0))
flutter: the drag offset is inside the block, dragOffset(Offset(172.7, 171.7)), globalBlockRect(Rect.fromLTRB(120.0, 170.0, 680.0, 208.0))
flutter: the drag offset is inside the block, dragOffset(Offset(170.4, 170.5)), globalBlockRect(Rect.fromLTRB(120.0, 170.0, 680.0, 208.0))
flutter: onDragEnd, acceptedPath([0, 0])
flutter: the drag offset is not inside the block, dragOffset(Offset(-140.4, 115.2)), globalBlockRect(Rect.fromLTRB(144.0, 94.0, 680.0, 170.0))
